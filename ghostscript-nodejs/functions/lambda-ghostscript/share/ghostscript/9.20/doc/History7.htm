<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=us-ascii">
<title>History of Ghostscript versions 7.n</title>
<!--
	WARNING: do not use Pete Kaiser's emacs function "gs-toc" alone to
	re-create the table of contents here, because it will replace the
	hand-edited TOC subheads with a separate subhead for each H2 in
	the body of the file.  Or if you do, first look at the original
	TOC to see how to edit it for visual conciseness.
-->
<link rel="stylesheet" type="text/css" href="gs.css" title="Ghostscript Style">
</head>

<body>
<!-- [1.0 begin visible header] ============================================ -->

<!-- [1.1 begin headline] ================================================== -->

<table width="100%" border="0">
<tr><th align="center" bgcolor="#CCCC00"><font size=6>History of Ghostscript versions 7.xx</font>
</table>

<!-- [1.1 end headline] ==================================================== -->

<!-- [1.2 begin table of contents] ========================================= -->

<h2>Table of contents</h2>

<blockquote><ul>
<li><a href="#Version7.33">Version 7.33 (2002-11-18)</a>
<ul>
<li><a href="#7.33_Incompatible_changes">Incompatible changes</a>,
    <a href="#7.33-Documentation">Documentation</a>,
    <a href="#7.33-Procedures">Procedures</a>,
    <a href="#7.33-Utilities">Utilities</a>,
    <a href="#7.33-Drivers">Drivers</a>,
    <a href="#7.33-PDF_writer">PDF writer</a>,
    <a href="#7.33-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#7.33-Interpreter">Interpreter</a>,
    <a href="#7.33-Streams">Streams</a>,
    <a href="#7.33-Library">Library</a>,
    <a href="#7.33-Other">Other</a>
</ul>
<li><a href="#Version7.32">Version 7.32 (2002-11-02)</a>
<ul>
<li><a href="#7.32_Incompatible_changes">Incompatible changes</a>,
    <a href="#7.32-Documentation">Documentation</a>,
    <a href="#7.32-Procedures">Procedures</a>,
    <a href="#7.32-Utilities">Utilities</a>,
    <a href="#7.32-Drivers">Drivers</a>,
    <a href="#7.32-PDF_writer">PDF writer</a>,
    <a href="#7.32-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#7.32-Interpreter">Interpreter</a>,
    <a href="#7.32-Streams">Streams</a>,
    <a href="#7.32-Library">Library</a>,
    <a href="#7.32-Other">Other</a>
</ul>
<li><a href="#Version7.31">Version 7.31 (2002-10-17)</a>
<ul>
<li><a href="#7.31_Incompatible_changes">Incompatible changes</a>,
    <a href="#7.31-Documentation">Documentation</a>,
    <a href="#7.31-Procedures">Procedures</a>,
    <a href="#7.31-Utilities">Utilities</a>,
    <a href="#7.31-Drivers">Drivers</a>,
    <a href="#7.31-PDF_writer">PDF writer</a>,
    <a href="#7.31-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#7.31-Interpreter">Interpreter</a>,
    <a href="#7.31-Streams">Streams</a>,
    <a href="#7.31-Library">Library</a>,
    <a href="#7.31-Other">Other</a>
</ul>
<li><a href="#Version7.30">Version 7.30 (2002-09-07)</a>
<ul>
<li><a href="#7.30_Incompatible_changes">Incompatible changes</a>,
    <a href="#7.30-Documentation">Documentation</a>,
    <a href="#7.30-Procedures">Procedures</a>,
    <a href="#7.30-Utilities">Utilities</a>,
    <a href="#7.30-Drivers">Drivers</a>,
    <a href="#7.30-PDF_writer">PDF writer</a>,
    <a href="#7.30-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#7.30-Interpreter">Interpreter</a>,
    <a href="#7.30-Streams">Streams</a>,
    <a href="#7.30-Library">Library</a>,
    <a href="#7.30-Other">Other</a>,
    <a href="#7.30-DeviceN_Source">DeviceN Source (meerkat)</a>,
    <a href="#7.30-DeviceN_Library">DeviceN Library (meerkat)</a>
</ul>
<li><a href="#Version7.22">Version 7.22 (2002-08-06)</a>
<ul>
<li><a href="#7.22_Incompatible_changes">Incompatible changes</a>,
    <a href="#7.22-Documentation">Documentation</a>,
    <a href="#7.22-Procedures">Procedures</a>,
    <a href="#7.22-Utilities">Utilities</a>,
    <a href="#7.22-Drivers">Drivers</a>,
    <a href="#7.22-PDF_writer">PDF writer</a>,
    <a href="#7.22-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#7.22-Interpreter">Interpreter</a>,
    <a href="#7.22-Library">Library</a>
</ul>
<li><a href="#Version7.21">Version 7.21 (2002-07-08)</a>
<ul>
<li><a href="#7.21_Incompatible_changes">Incompatible changes</a>,
    <a href="#7.21-Documentation">Documentation</a>,
    <a href="#7.21-Procedures">Procedures</a>,
    <a href="#7.21-Utilities">Utilities</a>,
    <a href="#7.21-Drivers">Drivers</a>,
    <a href="#7.21-PDF_writer">PDF writer</a>,
    <a href="#7.21-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#7.21-Interpreter">Interpreter</a>,
    <a href="#7.21-Streams">Streams</a>,
    <a href="#7.21-Library">Library</a>,
    <a href="#7.21-Other">Other</a>
</ul>
<li><a href="#Version7.20">Version 7.20 (2002-04-03)</a>
<ul>
<li><a href="#7.20_Incompatible_changes">Incompatible changes</a>,
    <a href="#7.20-Documentation">Documentation</a>,
    <a href="#7.20-Procedures">Procedures</a>,
    <a href="#7.20-Utilities">Utilities</a>,
    <a href="#7.20-Drivers">Drivers</a>,
    <a href="#7.20-PDF_writer">PDF writer</a>,
    <a href="#7.20-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#7.20-Interpreter">Interpreter</a>,
    <a href="#7.20-Streams">Streams</a>,
    <a href="#7.20-Library">Library</a>,
    <a href="#7.20-Other">Other</a>
</ul>
<li><a href="#Version7.03">Version 7.03 (2001-10-20)</a>
<ul>
<li><a href="#7.03_Incompatible_changes">Incompatible changes</a>,
    <a href="#7.03-Documentation">Documentation</a>,
    <a href="#7.03-Procedures">Procedures</a>,
    <a href="#7.03-Utilities">Utilities</a>,
    <a href="#7.03-Drivers">Drivers</a>,
    <a href="#7.03-PDF_writer">PDF writer</a>,
    <a href="#7.03-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#7.03-Interpreter">Interpreter</a>,
    <a href="#7.03-Streams">Streams</a>,
    <a href="#7.03-Library">Library</a>,
    <a href="#7.03-Other">Other</a>
</ul>
<li><a href="#Version7.02">Version 7.02 (2001-09-22)</a>
<ul>
<li><a href="#7.02_Incompatible_changes">Incompatible changes</a>,
    <a href="#7.02-Documentation">Documentation</a>,
    <a href="#7.02-Procedures">Procedures</a>,
    <a href="#7.02-Utilities">Utilities</a>,
    <a href="#7.02-Drivers">Drivers</a>,
    <a href="#7.02-PDF_writer">PDF writer</a>,
    <a href="#7.02-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#7.02-Interpreter">Interpreter</a>,
    <a href="#7.02-Streams">Streams</a>,
    <a href="#7.02-Library">Library</a>,
    <a href="#7.02-Other">Other</a>
</ul>
<li><a href="#Version7.00">Version 7.00 (2001-04-08)</a>
<ul>
<li><a href="#7.00_Incompatible_changes">Incompatible changes</a>,
    <a href="#7.00-Documentation">Documentation</a>,
    <a href="#7.00-Procedures">Procedures</a>,
    <a href="#7.00-Utilities">Utilities</a>,
    <a href="#7.00-PDF_writer">PDF writer</a>,
    <a href="#7.00-Interpreter">Interpreter</a>,
    <a href="#7.00-Library">Library</a>
</ul>
</ul></blockquote>

<!-- [1.2 end table of contents] =========================================== -->

<!-- [1.3 begin hint] ====================================================== -->

<p>
This document is a record of changes in Ghostscript releases numbered 7.xx.
For earlier versions, see the the history documents:

<blockquote>
<a href="History6.htm">History of Ghostscript versions 6.n</a><br>
<a href="History5.htm">History of Ghostscript versions 5.n</a><br>
<a href="History4.htm">History of Ghostscript versions 4.n</a><br>
<a href="History3.htm">History of Ghostscript versions 3.n</a><br>
<a href="History2.htm">History of Ghostscript versions 2.n</a><br>
<a href="History1.htm">History of Ghostscript versions 1.n</a>
</blockquote>

<p>For other information, see the <a href="Readme.htm">Ghostscript
overview</a>.

<!-- [1.3 end hint] ======================================================== -->

<hr>

<!-- [1.0 end visible header] ============================================== -->

<!-- [2.0 begin contents] ================================================== -->

<p>
Within each release, news appears in the following order: Incompatible
changes, Documentation, Procedures, Utilities, Drivers, Platforms, Fonts,
PDF writer (included under Drivers through fileset 5.88), Interpreter,
Streams (included under Interpreter through release 2.9.9), Library.
Changes marked with a * were made available as patches to a previous
release.

<hr>

<h1><a name="Version7.33"></a>Version 7.33 (2002-11-18)</h1>

<p>
The 7.33 release is the third, and hopefully final, beta in the series
leading up to 8.0. This version contains a fix to the filename permissions
logic.

<p>
The following SourceForge bug numbers were open at the time of this release:
405342,
407342,
414947,
414985,
446344,
458261,
458775,
458780,
459647,
465936,
484752,
484753,
487953,
493348,
505429,
510808,
526099,
526491,
530011,
535366,
535752,
535836,
538033,
539239,
546823,
554076,
558151,
558435,
563287,
569573,
570772,
573744,
578838,
578865,
584990,
592160,
592837,
592841,
592925,
592930,
595760,
596009,
598014,
600288,
601255,
601336,
601694,
602995,
603934,
605830,
607425,
607850,
610356,
610478,
610727,
611694,
611701,
611727,
611898,
612801,
614298,
615165,
616970,
616976,
617077,
617523,
621243,
621246,
623122,
623292,
623989,
624515,
625085,
626059,
626295,
626358,
626419,
2002-1,
626464,
627545,
628110,
629335,
631974,
633299,
634036,
634080,
634358,
634514,
636210,
637424,
637954,
638850,
640159.

<h3><a name="7.33_Incompatible_changes"></a>Incompatible changes</h3>

<p>No incompatible changes in this release.

<pre>
</pre>


<h2><a name="7.33-Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- we don't actually include unicode cmaps. Thanks to Jack for
noticing this. (doc/Fonts.htm [1.33]: 2002/11/12 22:32:35 giles)
	- Change gp_file_name_is_absolute to gp_pathstring_not_bare in the
doc's. (doc/Make.htm [1.60]: 2002/11/17 22:52:57 ray)

Correct the documented paper sizes in Use.htm to match gs_statd.ps after fix
for SF bug # 536877. Change cm units to the more common mm.
(doc/Use.htm [1.69]: 2002/11/04 22:49:27 ghostgum)

Post-release cleanup for 7.32: increment version number to 7.33.
(doc/News.htm [1.119]: 2002/11/05 08:31:56 raph)

Some manpage cleanup and simplification. (man/gs.1 [1.21]: 2002/11/11
16:31:22 giles)

First commit of 7.33 beta release: update dates and version numbers, edits
to News.htm. (doc/API.htm [1.28], doc/Bug-form.htm [1.32],
doc/Bug-info.htm [1.31], doc/C-style.htm [1.38], doc/Commprod.htm [1.25],
doc/Copying.htm [1.24], doc/DLL.htm [1.26], doc/Deprecated.htm [1.5],
doc/Develop.htm [1.100], doc/Devices.htm [1.57], doc/Drivers.htm [1.36],
doc/Fonts.htm [1.34], doc/Helpers.htm [1.28], doc/History1.htm [1.24],
doc/History2.htm [1.24], doc/History3.htm [1.24], doc/History4.htm [1.24],
doc/History5.htm [1.26], doc/History6.htm [1.41], doc/History7.htm [1.27],
doc/Htmstyle.htm [1.29], doc/Install.htm [1.38], doc/Issues.htm [1.32],
doc/Language.htm [1.57], doc/Lib.htm [1.26], doc/Maintain.htm [1.35],
doc/Make.htm [1.61], doc/New-user.htm [1.43], doc/News.htm [1.120],
doc/Projects.htm [1.48], doc/Ps-style.htm [1.22], doc/Ps2epsi.htm [1.26],
doc/Ps2pdf.htm [1.48], doc/Psfiles.htm [1.39], doc/Readme.htm [1.46],
doc/Release.htm [1.73], doc/Source.htm [1.24], doc/Tester.htm [1.23],
doc/Testing.htm [1.13], doc/Unix-lpr.htm [1.24], doc/Use.htm [1.70],
doc/Xfonts.htm [1.24], doc/gs-vms.hlp [1.23], man/dvipdf.1 [1.21],
man/font2c.1 [1.21], man/gs.1 [1.22], man/gslp.1 [1.21], man/gsnd.1 [1.21],
man/pdf2dsc.1 [1.20], man/pdf2ps.1 [1.22], man/pdfopt.1 [1.20],
man/pf2afm.1 [1.21], man/pfbtopfa.1 [1.22], man/printafm.1 [1.21],
man/ps2ascii.1 [1.20], man/ps2epsi.1 [1.19], man/ps2pdf.1 [1.26],
man/ps2pdfwr.1 [1.25], man/ps2ps.1 [1.28], man/wftopfa.1 [1.21]: 2002/11/18
21:41:49 raph)

</pre><h2><a name="7.33-Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- The '-r' option works differently between Info-Zip ans Winzip
"wzzip" Removal of this option allows wzzip to be used as well.
(winint.mak [1.17]: 2002/11/04 22:54:47 ray)

Post-release cleanup for 7.32: increment version number to 7.33.
(version.mak [1.56]: 2002/11/05 08:31:56 raph)

Add a revision 'id' line to the drawafm script. (toolbin/drawafm.ps [1.2]:
2002/11/05 16:59:55 giles)

Add a simple script for comparing font metric files. Currently it's only
useful for sorting the font info and character metric data.
(toolbin/afmutil.py [1.1]: 2002/11/07 14:10:13 giles)

Skip blank lines in parsing afm files. (toolbin/afmutil.py [1.2]: 2002/11/14
17:01:38 giles)

First commit of 7.33 beta release: update dates and version numbers, edits
to News.htm. (version.mak [1.57]: 2002/11/18 21:41:51 raph)

</pre><h2><a name="7.33-Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- Fix (FAPI) : Improving terminology in header comment to
lib/xlatmap . (lib/xlatmap [1.7]: 2002/11/02 18:03:06 igor)
	- remove the unused SYSTIME_H from the mac headers. Prefer "time_.h"
to &lt;sys/time.h&gt;. Although the Metroworks Standard Library doesn't have
a sys/time.h, keep the definition of HAVE_SYS_TIME_H for now to avoid a
multiple definition problem with struct timeval. (gp_mac.c [1.10]:
2002/11/14 16:55:21 giles)
	- correct an unitialized variable in the mac stream process.
(gp_macio.c [1.9]: 2002/11/14 17:12:53 giles)
	- Replace the previous gp_file_name_is_absolute with
gp_patshtring_not_bare which generally has the same sense, but is more
consistently implemented on platforms and indicates whether or not a
pathstring can be prefixed by a directory and the path_separator string.
Also, fix check_file_permissions to handle the 'bare' pathstring case when
the current directory is one of the permitted paths. Fixes SourceForge bug
#637751. (gp_iwatc.c [1.11], gp_macio.c [1.10], gp_mswin.c [1.14],
gp_ntfs.c [1.11], gp_os2.c [1.16], gp_vms.c [1.14]: 2002/11/17 22:50:32 ray)

</pre><h2><a name="7.33-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- Make gdev_t4693d_map_color_rgb a functinal routine. Previously it
returned a constant maximum color value. This would cause problems with
overprint and anti-aliasing. (gdev4693.c [1.8]: 2002/11/13 19:34:56 dan)
	- Update the encode/decode color procedures when the device is
openned. This is required since the device can modify its model settings
inside the open procedure. (gdevstc.c [1.8]: 2002/11/13 19:39:12 dan)
	- Converted from old map_rgb and map_cmyk to new encode_color
routines. (gdevbit.c [1.6]: 2002/11/13 20:24:12 dan)
	- Define a decode_color proc for the cmyk devices.
(gdevcdj.c [1.13]: 2002/11/13 23:33:05 dan)
	- Convert old map_color_rgb routines to decode_color routines for
the stcolor device. Change required due to device API change.
(gdevstc.c [1.9]: 2002/11/14 20:48:47 dan)

Correct some display device map_color_rgb functions, needed for
anti-aliasing. (gdevdsp.c [1.13]: 2002/11/13 07:05:43 ghostgum)

Recorrect display device 4-bit native mode after a correction was reversed
by DeviceN. (gdevdsp.c [1.14]: 2002/11/13 07:24:03 ghostgum)

Remove duplicate call to GlobalLock in Windows printer device.
(gdevwpr2.c [1.14]: 2002/11/16 22:16:49 ghostgum)

</pre><h2><a name="7.33-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- Fix (pdfwrite) : Implement a special check for CMaps which appear
to be identity, and replace them with a standard CMap name. Source Forge bug
"[ 615994 ] CMAP is corrupted". (gdevpdtc.c [1.11]: 2002/11/02 19:16:44
igor)
	- Fix (pdfwrite) : Removing gx_device_pdf_s::random_offset because
it is not longer in use. (gdevpdfx.h [1.55], gdevpdtb.c [1.10]: 2002/11/17
22:18:15 igor)
	- Fix (pdfwrite) : Removing gx_device_pdf_s::random_offset because
it is not longer in use. (gdevpdf.c [1.56]: 2002/11/17 22:27:53 igor)
	- Fix (pdfwrite) : Improving the condition about skipping paths
outside the clipping path. SourceForge bug "[ 628542 ] (pdfwrite) wrong
gs5.98-dragon.pdf". (gdevpdfd.c [1.21]: 2002/11/18 02:53:44 igor)
	- Fix (pdfwrite) : (1) FontMatrix.ty was ignored while computing
glyph positions. (2) Working around AR4,5 bug which ignores FontMatrix.ty .
SourceForge bug "[ 629961 ] (PDF interpeter) 'Ghost' text appears again".
(gdevpdtb.c [1.11], gdevpdtt.c [1.23]: 2002/11/18 03:05:22 igor)
	- Fix (pdfwrite) : Skipping text outside clip path. SourceForge bug
"[ 608520 ] PDFWrite failed for PS File". (gdevpdfd.c [1.22],
gdevpdte.c [1.20]: 2002/11/18 14:29:54 igor)

</pre><h2><a name="7.33-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- Fix for #609488 Problems in DeviceN test file. This resolves
problems that can occur if the transfer function are dependent upon the
halftone. (Which is true for the default hi res transfer function.) We were
getting variable (unpredictable) results due to the undefined ordering in
enumerating graphic state dictionaries via the 'forall' operator.
(lib/pdf_draw.ps [1.62]: 2002/11/05 00:48:01 dan)
	- resourcefont procedure didn't handle correctly font descriptor
without font stream. Bug #633714 (lib/pdf_font.ps [1.51]: 2002/11/14
21:22:22 alexcher)

Move code from pdfshowpage to pdfshowpage_finish for the benefit of GSview
which calls pdfshowpage_init and pdfshowpage_finish, but not
pdfshowpage_setpage. (lib/pdf_main.ps [1.63]: 2002/11/05 20:56:02 ghostgum)

</pre><h2><a name="7.33-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- Eliminate possible negative discontinuity in default hi resolution
transfer function. (lib/gs_init.ps [1.71]: 2002/11/05 00:30:59 dan)
	- The 'bind def' was dropped from the previous commit: Fix:
Eliminate possible negative discontinuity in default hi resolution transfer
function. (lib/gs_init.ps [1.72]: 2002/11/05 08:02:17 dan)
	- When processing an EPS file, remove any left over items on the
operand and dictionary stacks. (lib/gs_epsf.ps [1.8]: 2002/11/12 20:31:30
ghostgum)
	- Use immediate evaluation for forcesetcolorspace operator because
its definition goes out of scope when bind is delayed or disabled. Bug
#635747 (lib/gs_devn.ps [1.3], lib/gs_indxd.ps [1.2], lib/gs_patrn.ps [1.2],
lib/gs_sepr.ps [1.2]: 2002/11/13 20:23:10 alexcher)
	- Skip /ColorValues processing for devices where it is not defined
(typically grayscale devices). Fixes SF bug #636213. (lib/gs_dps.ps [1.8]:
2002/11/14 17:24:00 raph)
	- Restore silent clip of sethsbcolor values to range [0..1].
(lib/gs_cspace.ps [1.4]: 2002/11/15 18:10:24 raph)
	- Replace the previous gp_file_name_is_absolute with
gp_patshtring_not_bare which generally has the same sense, but is more
consistently implemented on platforms and indicates whether or not a
pathstring can be prefixed by a directory and the path_separator string.
Also, fix check_file_permissions to handle the 'bare' pathstring case when
the current directory is one of the permitted paths. Fixes SourceForge bug
#637751. (lib/gs_fapi.ps [1.17], zfile.c [1.23]: 2002/11/17 22:50:32 ray)
	- check_file_permissions did not handle the case where no path
separator is needed after the current_directory_name. PostScript code in
.locksafe (in gs_init.ps) was already correct. Problem would happen on Mac
&amp; VMS. (zfile.c [1.24]: 2002/11/18 17:17:20 ray)
	- Correcting mixed DOS/UNIX line ends introduced in the previous
version. (zcolor.c [1.14]: 2002/11/18 19:14:57 alexcher)
	- FrameMaker produces PS file that assumes that the presence of
/pdfmark in systemdict implies availability of /currentdistillerparams. The
fix hides /pdfmark for all devices except pdfwrite following
set/currentdistillerparams pattern. Bug #638982 (lib/gs_pdfwr.ps [1.21]:
2002/11/18 19:36:57 alexcher)

Modified the setdevice procedure to reset the current halftone (if possible)
when changing devices. This is necessary in the DeviceN code because the
number of device halftone components must be the same as the number of
device color model components. It is also generally a good idea.
(lib/gs_init.ps [1.70]: 2002/11/05 00:10:37 dan)

Post-release cleanup for 7.32: increment version number to 7.33.
(lib/gs_init.ps [1.73]: 2002/11/05 08:31:56 raph)

Correct -dEPSFitPage when the device has non-zero margins.
(lib/gs_epsf.ps [1.7]: 2002/11/07 07:14:28 ghostgum)

Correct some display device map_color_rgb functions, needed for
anti-aliasing. (gdevdsp.h [1.6]: 2002/11/13 07:05:43 ghostgum)

Prevent access to .forceput and friends. Patch by Alex Cherepanov and
Russell Lang. (lib/gs_diskn.ps [1.4], lib/gs_epsf.ps [1.9],
lib/gs_fonts.ps [1.23], lib/gs_res.ps [1.26], lib/gs_resmp.ps [1.6],
lib/gs_type1.ps [1.13]: 2002/11/18 20:23:18 ghostgum)

</pre><h2><a name="7.33-Streams"></a>Streams</h2><pre>

Fixes problems:
	- Make init method for ASCII85Encode return 0. Fixes SF #634519.
(sa85x.h [1.6]: 2002/11/13 08:23:13 raph)

</pre><h2><a name="7.33-Library"></a>Library</h2><pre>

Fixes problems:
	- param_check_string now checks is_valid before trying to calculate
the length of the string in question. We now handle a null
color_info.cm_name in all cases. (gsdparam.c [1.12]: 2002/11/02 17:22:29
giles)
	- Fix (pdfwrite) : Implement a special check for CMaps which appear
to be identity, and replace them with a standard CMap name. Source Forge bug
"[ 615994 ] CMAP is corrupted". (gdevpsf.h [1.21], gdevpsfm.c [1.11]:
2002/11/02 19:16:44 igor)
	- Fixing the "members" logic in gs_type1_glyph_info. Arithmetic
operations were erroneously used instead logic ones, sometimes causing a
request of undefined features. Source Forge bug "[ 629116 ] Bad font in
re-distilled PDF". (gxtype1.c [1.20]: 2002/11/02 20:07:46 igor)
	- These are a set of fixes required to make the 2 bit memory device
functional. They are being lumped together since they are all required. The
fix in gdevm2.c was found by customer #760 and is reported as bug #600281
mem_mapped2_copy_mono() incorrect. (gdevm2.c [1.5], gxcht.c [1.11]:
2002/11/05 01:03:14 dan)
	- Make some debug warning messages only occur for DEBUG build. The
most common offender seen was "No encode_color proc defined for device."
(gxcmap.c [1.12]: 2002/11/05 19:13:52 dan)
	- Define color encode/decode procedures for the nullpage and null
devices. This eliminates a "No encode color proc defined" message for these
devices. (gdevnfwd.c [1.8]: 2002/11/13 06:00:29 dan)
	- Change the substitution logic for the decode_color procedure. This
change gives preference to the map_color_rgb proc (if it exists) and the
device is an RGB device. The previous logic gave preference to
gx_default_decode_color if the device was linear and separable.
(gdevdflt.c [1.10]: 2002/11/13 19:31:28 dan)
	- Fix uninitialized memory read; gx_set_device_color_1(pgs) depends
on the value of pg-&gt;in_cachedevice, so move up initialization of the
latter. (gsstate.c [1.19]: 2002/11/13 21:51:34 raph)
	- Replace the previous gp_file_name_is_absolute with
gp_patshtring_not_bare which generally has the same sense, but is more
consistently implemented on platforms and indicates whether or not a
pathstring can be prefixed by a directory and the path_separator string.
Also, fix check_file_permissions to handle the 'bare' pathstring case when
the current directory is one of the permitted paths. Fixes SourceForge bug
#637751. (gp.h [1.13], gp_dosfs.c [1.6], gp_unifn.c [1.6],
gp_unifs.c [1.10]: 2002/11/17 22:50:32 ray)

Post-release cleanup for 7.32: increment version number to 7.33.
(gscdef.c [1.30]: 2002/11/05 08:31:56 raph)

Suppress the "No encode color proc" warning for the "null" device (a
forwarding device) where it is expected and acceptable. (gxcmap.c [1.13]:
2002/11/06 23:11:17 ray)

First commit of 7.33 beta release: update dates and version numbers, edits
to News.htm. (gscdef.c [1.31]: 2002/11/18 21:41:51 raph)

</pre><h2><a name="7.33-Other"></a>Other</h2><pre>

Fixes problems:
	- remove the unused SYSTIME_H from the mac headers. Prefer "time_.h"
to &lt;sys/time.h&gt;. Although the Metroworks Standard Library doesn't have
a sys/time.h, keep the definition of HAVE_SYS_TIME_H for now to avoid a
multiple definition problem with struct timeval. (macsystypes.h [1.5]:
2002/11/14 16:55:21 giles)

Turn on 64 bit color indexes in the MacOS build. (macsystypes.h [1.6]:
2002/11/14 17:36:21 giles)

</pre>
<hr>

<h1><a name="Version7.32"></a>Version 7.32 (2002-11-02)</h1>

<p>
This is the second beta release in preparation for 8.0. The most
notable new feature is Well Tempered Screening, which now works for
angles of 0 and 45 degrees as well.

<p>
To test WTS, set the UseWTS user parameter:

<blockquote><pre>
&lt;&lt; /UseWTS true &gt;&gt; setuserparams
</pre></blockquote>

<p>
Also make sure you're not in a banding mode (setting
<code>-dMaxBitmap=500000000</code> should work), and that your halftone
dictionaries set /AccurateScreens.

<p>
A fair number of bugfixes have also made it into this release,
including a fix for the slow rendering of PDF's in GhostView-derived
viewers.

<p>
The following SourceForge bug numbers were open at the time of this release:
405342,
407342,
414947,
414985,
446344,
458261,
458775,
458780,
459647,
465936,
484752,
484753,
487953,
493348,
505429,
510808,
526099,
526491,
530011,
535366,
535752,
535836,
538033,
539239,
546823,
554076,
558151,
558435,
563287,
569573,
570772,
573744,
578838,
578865,
584990,
592160,
592837,
592841,
592925,
592930,
595760,
596009,
598014,
600281,
600288,
601255,
601336,
601694,
602995,
603934,
605830,
607425,
607850,
608520,
609488,
610356,
610478,
610727,
611694,
611701,
611727,
611898,
612801,
614298,
615165,
615994,
616970,
616976,
617077,
617523,
621243,
621246,
623122,
623292,
623989,
624515,
625085,
626059,
626295,
626358,
626419,
626464,
627545,
628110,
628542,
628557,
629116,
629335,
629961,
631180,
631974.


<h3><a name="7.32_Incompatible_changes"></a>Incompatible changes</h3>

<p>
The UseWTS user parameter has been added.

<pre>
</pre>


<h2><a name="7.32-Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- removes an extra parenthesis (doc/API.htm [1.26]: 2002/10/19
14:50:28 giles)
	- Language level 3 is added to the list of supported language levels
in pswrite and epswrite devices. Currently it generates the same code as 2.
Bug #626497 (doc/Devices.htm [1.55]: 2002/10/24 20:28:43 alexcher)

Removes the unmaintained 'current release' information. The News and Changes
files provide a reasonable summary. (doc/Readme.htm [1.43],
doc/Release.htm [1.70]: 2002/10/20 15:28:27 giles)

Removes the 'PageSize cannot use packedarray' issue description. Ghostscript
no longer fails as described. (doc/Issues.htm [1.27]: 2002/10/20 15:54:42
giles)

Clean up html. Properly escape dictionary delimiters and blockquote code
examples. Add Peter's update on SourceForge bug #224134.
(doc/Issues.htm [1.28]: 2002/10/20 17:14:53 giles)

Updates the usage documentation. The first section is re-written to be
easier and quicker for new users. The rest has been re-arranged for clarity.
Moves the bbox documentation to Devices.htm. Adds descriptions of the
*AlphaBits driver parameters. Removes mention of some obsolete options
(-sOUTPUTFILE, -_, -sOutputFile=|) from the introduction; they're still
documented elsewhere. (doc/Deprecated.htm [1.3], doc/Devices.htm [1.54],
doc/Use.htm [1.60]: 2002/10/21 20:54:01 giles)

Removes the documentation on the no-longer-supported MS-DOS platform.
(doc/Use.htm [1.61]: 2002/10/21 20:58:10 giles)

Remove pdfwrite testing module zfctest and associated source.
(doc/Develop.htm [1.96]: 2002/10/22 18:42:24 giles)

Update code policy documentation. (doc/Maintain.htm [1.33]: 2002/10/23
22:06:49 giles)

additional documentation cleanup related to the new usage sections
(doc/Commprod.htm [1.23], doc/Readme.htm [1.44]: 2002/10/23 22:09:07 giles)

Adds a documentation stub for the -dUseCIEColor option. (doc/Use.htm [1.62]:
2002/10/23 22:42:23 giles)

Clarify description of -dUseCIEColor. (doc/Use.htm [1.63]: 2002/10/24
11:31:59 giles)

Clarify that DOS is not the same as the windows command prompt.
(doc/Use.htm [1.64]: 2002/10/24 12:47:43 giles)

Update the release documentation now that 'make dist-clean' works reliably.
(doc/Release.htm [1.71]: 2002/10/24 13:06:10 giles)

Clarify options accepted by ps2ps, and document the current low-level output
of pswrite. Inspired by SourceForge bug #620865. (man/ps2ps.1 [1.26]:
2002/10/24 14:21:22 giles)

Clean up build documenation. Correct markup, remove obsolete or irrelevent
sections, further encourage the use of the autoconf makefile. Resolves
SourceForge bug #468762. (doc/Make.htm [1.56]: 2002/10/24 15:25:20 giles)

Rename the makefile variable UFST_CFLAG to the more conventional
UFST_CFLAGS. (doc/Make.htm [1.57]: 2002/10/24 16:07:20 giles)

Document pdfwrite generating truetype font data with incorrect checksums as
an issue. SourceForge bug #615620. (doc/Issues.htm [1.29]: 2002/10/25
11:58:19 giles)

Document 'save' 'restore' not working from the interactive prompt as an
issue. SourceForge bug #603689. (doc/Issues.htm [1.30]: 2002/10/25 12:07:11
giles)

Removes the alpha storage device. This code is obsolete and has been unused
for some time. Closes SourceForge bug #592164. (doc/Develop.htm [1.97]:
2002/10/25 12:14:54 giles)

Bump version after the 7.31 release. (doc/News.htm [1.117]: 2002/10/28
20:11:08 giles)

Remove documentation for the old watc.mak which is not longer in the
distribution. (doc/Develop.htm [1.98], doc/Make.htm [1.58]: 2002/10/30
23:34:57 giles)

Encapsulate EPS files to make sure that at least one page is printed. Add
command line options -dNOEPS, -dEPSCrop and -dEPSFitPage for customizing
handling of EPS files. Warn if EPS bounding box does not fit in clipping
box. Enable EPS and DOS EPS processing for several platforms.
(doc/Use.htm [1.65]: 2002/10/31 09:22:13 ghostgum)

When ghostscript is given a PDF file on standard input, copy it to a
temporary file before processing. Prior to version 7, ghostscript could read
PDF from standard input redirected from a file, but not from a pipe.
Standard input was changed in version 7 to use callouts, which prevented PDF
reading from standard input. Fixes SourceForge bug #583413, /ioerror with gs
- &lt; file.pdf vers 7.xx (doc/Use.htm [1.66]: 2002/10/31 10:23:08 ghostgum)

Minor wording corrections to Russell Lang's recent updates.
(doc/Use.htm [1.67]: 2002/10/31 15:07:45 giles)

First commit for 7.32 release: update version numbers and dates, News.htm.
(doc/API.htm [1.27], doc/Bug-form.htm [1.31], doc/Bug-info.htm [1.30],
doc/C-style.htm [1.37], doc/Commprod.htm [1.24], doc/Copying.htm [1.23],
doc/DLL.htm [1.25], doc/Deprecated.htm [1.4], doc/Develop.htm [1.99],
doc/Devices.htm [1.56], doc/Drivers.htm [1.35], doc/Fonts.htm [1.32],
doc/Helpers.htm [1.27], doc/History1.htm [1.23], doc/History2.htm [1.23],
doc/History3.htm [1.23], doc/History4.htm [1.23], doc/History5.htm [1.25],
doc/History6.htm [1.40], doc/History7.htm [1.25], doc/Htmstyle.htm [1.28],
doc/Install.htm [1.37], doc/Issues.htm [1.31], doc/Language.htm [1.56],
doc/Lib.htm [1.25], doc/Maintain.htm [1.34], doc/Make.htm [1.59],
doc/New-user.htm [1.42], doc/News.htm [1.118], doc/Projects.htm [1.47],
doc/Ps-style.htm [1.21], doc/Ps2epsi.htm [1.25], doc/Ps2pdf.htm [1.47],
doc/Psfiles.htm [1.38], doc/Readme.htm [1.45], doc/Release.htm [1.72],
doc/Source.htm [1.23], doc/Tester.htm [1.22], doc/Testing.htm [1.12],
doc/Unix-lpr.htm [1.23], doc/Use.htm [1.68], doc/Xfonts.htm [1.23],
doc/gs-vms.hlp [1.22], man/dvipdf.1 [1.20], man/font2c.1 [1.20],
man/gs.1 [1.20], man/gslp.1 [1.20], man/gsnd.1 [1.20], man/pdf2dsc.1 [1.19],
man/pdf2ps.1 [1.21], man/pdfopt.1 [1.19], man/pf2afm.1 [1.20],
man/pfbtopfa.1 [1.21], man/printafm.1 [1.20], man/ps2ascii.1 [1.19],
man/ps2epsi.1 [1.18], man/ps2pdf.1 [1.25], man/ps2pdfwr.1 [1.24],
man/ps2ps.1 [1.27], man/wftopfa.1 [1.20]: 2002/11/02 08:11:07 raph)

</pre><h2><a name="7.32-Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- adds a missing header to gxshade for indexed color routines.
(lib.mak [1.103]: 2002/10/22 13:31:37 giles)
	- update the ECHOGS_MAK dependency to ECHOGS_XE. (devs.mak [1.80],
int.mak [1.86], lib.mak [1.105]: 2002/10/22 18:38:00 giles)
	- correct some dependencies against the include lists in the
relevent C files. Also reorder them to facilitate easer checking next time.
Closes SourceForge bug #607819. (int.mak [1.89], lib.mak [1.108]: 2002/10/28
19:17:19 giles)
	- install cidfmap on unix. (unixinst.mak [1.27]: 2002/10/28 19:27:06
giles)
	- install the example FAPI configuration files by default. Ideally
this would be dependent of enabling the fapi feature in the build.
(unixinst.mak [1.28]: 2002/10/28 19:43:42 giles)
	- provided a meaningful error message when an immediately evaluated
name can not be found. Fixes SourceForge bug #543185, Confusing diagnostics
for //undefined. (int.mak [1.91]: 2002/10/29 09:57:53 ghostgum)
	- also install the character translation FAPI config file.
(unixinst.mak [1.29]: 2002/10/31 16:01:12 giles)
	- Fiddles with makefile parameter quoting so that "make pg" runs
again. (unix-end.mak [1.5]: 2002/11/02 05:51:00 raph)

Remove the gcc version check from the macosx makefile. That platform is
unlikely to be running the version in question. (macosx.mak [1.14]:
2002/10/18 13:17:07 giles)

Use 'gcc2' as the C compiler with the macosx makefile, working around a bug
in Apple's gcc3 (the default cc). This won't work on pre-10.2 developer
tools, but users are less likely to encounter that now. (macosx.mak [1.15]:
2002/10/18 15:48:26 giles)

Corrects various include dependency problems. Closes SourceForge Bug
#604884. (devs.mak [1.79], int.mak [1.85], lib.mak [1.104]: 2002/10/22
16:47:30 giles)

Remove pdfwrite testing module zfctest and associated source.
(int.mak [1.87]: 2002/10/22 18:42:32 giles)

Add real 'make distclean' and 'make maintainer-clean' targets. These are no
longer general no-ops but are the responsibility of the platform-specific
makefiles. The autoconf build now removes its generated files from the
top-level directory when requested. (gs.mak [1.18], unix-gcc.mak [1.38],
unixansi.mak [1.26]: 2002/10/24 12:57:57 giles)

Rename the makefile variable UFST_CFLAG to the more conventional
UFST_CFLAGS. (int.mak [1.88], lib.mak [1.106], msvc32.mak [1.35]: 2002/10/24
16:07:20 giles)

Removes the alpha storage device. This code is obsolete and has been unused
for some time. Closes SourceForge bug #592164. (lib.mak [1.107]: 2002/10/25
12:14:54 giles)

Bump version after the 7.31 release. (version.mak [1.54]: 2002/10/28
20:11:08 giles)

Remove some interpreter references from the graphics library. Partial fix
for SourceForge bug #542848, "library #includes interpreter headers".
(lib.mak [1.109], msvclib.mak [1.21], msvctail.mak [1.9], pcwin.mak [1.5]:
2002/10/29 09:22:29 ghostgum)

Changes to Windows and OS/2 files to allow ghostscript to compile with the
graphics library and interpreter in separate source directories. Partial fix
for SourceForge bug #542848, "library #includes interpreter headers".
(bcwin32.mak [1.22], int.mak [1.90], msvc32.mak [1.36], os2.mak [1.28],
watcw32.mak [1.19], winint.mak [1.16]: 2002/10/29 09:44:40 ghostgum)

Encapsulate EPS files to make sure that at least one page is printed. Add
command line options -dNOEPS, -dEPSCrop and -dEPSFitPage for customizing
handling of EPS files. Warn if EPS bounding box does not fit in clipping
box. Enable EPS and DOS EPS processing for several platforms.
(bcwin32.mak [1.23], dvx-gcc.mak [1.21], msvc32.mak [1.37],
openvms.mak [1.27], os2.mak [1.29], unixansi.mak [1.27], watcw32.mak [1.20]:
2002/10/31 09:22:13 ghostgum)

Remove the obsolete mswindll and mswinprn devices from the standard Windows
build. (bcwin32.mak [1.24], msvc32.mak [1.38], watcw32.mak [1.21]:
2002/10/31 10:11:03 ghostgum)

Reinstate the mswindll device because removing it also requires modifying
the exports in gsdll32.def. (bcwin32.mak [1.25], msvc32.mak [1.39],
watcw32.mak [1.22]: 2002/10/31 10:51:29 ghostgum)

Add a utility that draws glyphs on top of the character box defined in the
given AFM. Goes throuh each glyph in the AFM. (toolbin/drawafm.ps [1.1]:
2002/10/31 18:08:49 ray)

Module gslib removed from the library archive. Further fix for [ 538311 ]
files missing from library archive. (ugcclib.mak [1.22]: 2002/11/02 04:28:15
ghostgum)

First commit for 7.32 release: update version numbers and dates, News.htm.
(version.mak [1.55]: 2002/11/02 08:11:09 raph)

</pre><h2><a name="7.32-Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- Several problems have been fixed in pf2afm.ps (1) security code is
updated to use the new interface (2) PFM encoding is considered during the
kerning pair table generation (3) string overflow during PFA header printing
is fixed Bug #567421 (lib/pf2afm.ps [1.7]: 2002/10/25 02:30:04 alexcher)

Add a usage example to make better connection between the script options and
ghostscript. Closes SourceForge bug #620865. (lib/ps2ps [1.6],
lib/ps2ps.bat [1.7]: 2002/10/24 14:23:15 giles)

Improve the wording and correct typos in the the comment header.
(lib/xlatmap [1.6]: 2002/10/31 16:01:58 giles)

</pre><h2><a name="7.32-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- Language level 3 is added to the list of supported language levels
in pswrite and epswrite devices. Currently it generates the same code as 2.
Bug #626497 (gdevps.c [1.31]: 2002/10/24 20:28:43 alexcher)
	- This is the change to the permute device to include the
SeparationColorNames if we are permuting the color components.
(gdevperm.c [1.3]: 2002/10/25 23:04:16 dan)
	- correctly initializes the color_info structure when opening the
ijs device. Closes SourceForge Bug #630542. (gdevijs.c [1.6]: 2002/10/30
12:35:11 giles)
	- Propagate error codes from gs_distance_transform_inverse. Patch
from Forrest Cahoon, improved. (gdevpsdi.c [1.23]: 2002/10/31 09:00:28 igor)

Removed some warning errors. (gdevpsd.c [1.3]: 2002/10/23 19:59:26 jeong)

Remove some interpreter references from the graphics library. Partial fix
for SourceForge bug #542848, "library #includes interpreter headers".
(gdevmswn.c [1.9]: 2002/10/29 09:22:29 ghostgum)

OS/2 updates for the DeviceN changes. (gdevos2p.c [1.7], gdevpm.c [1.8]:
2002/10/29 09:51:33 ghostgum)

Windows updates for the DeviceN changes. (gdevmswn.c [1.10],
gdevwpr2.c [1.13], gdevwprn.c [1.8]: 2002/10/31 10:06:01 ghostgum)

</pre><h2><a name="7.32-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- Fix (pdfwrite) : Encoding was ignored with standard fonts. Source
Forge bug #624082 "(pdfwrite) Wrong encoding with std fonts".
(gdevpdtt.c [1.20], gdevpdtw.c [1.9]: 2002/10/18 14:06:27 igor)
	- Fix (pdfwrite) : Don't write StandardEncoding name, which is
default one. (gdevpdtw.c [1.10]: 2002/10/18 14:39:58 igor)
	- Fix (pdfwrite) : Don't fill paths outside the clipping path.
Source Forge bug "[ 624168 ] poor performance on patterns".
(gdevpdfd.c [1.20]: 2002/10/18 17:41:51 igor)
	- Fix (pdfwrite) : Enhancing font_orig_scale with upside-down font
matrices. Source Forge bug "[ 620968 ] text inverted in pdf".
(gdevpdtt.c [1.21]: 2002/10/21 17:06:37 igor)
	- Fix (pdfwrite) : Account Tc and Tw values while computing TJ
offsets. Source Forge bugs "[ 627036 ] (pdfwrite) wrong spacing
000040cf.000_60", (gdevpdte.c [1.19], gdevpdts.c [1.19]: 2002/10/25 10:53:33
igor)
	- Fix (pdfwrite) : Wrong allocator was used for pdfmark objects.
Source Forge bug "[ 611463 ] Crash on Adobe Photoshop 7 EPS". Also cleaning
up other modules dealing with PDF memory. (gdevpdfm.c [1.27],
gdevpdfu.c [1.33], gdevpdtt.c [1.22]: 2002/10/25 15:42:39 igor)
	- Propagate error codes from gs_distance_transform_inverse. Patch
from Forrest Cahoon, improved. (gdevpdts.c [1.20]: 2002/10/31 09:00:28 igor)

</pre><h2><a name="7.32-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- Fix to PDF interpreter : Report error and stop on unsupported
halftone type. (lib/pdf_draw.ps [1.56]: 2002/10/18 11:32:38 igor)
	- Fix to PDF interpreter : Cache original fonts to prevent
adjustfont to accumulate changes. Source Forge bug #621293 "(PDF
interpreter)Possibly wrong encoding". (lib/pdf_font.ps [1.49]: 2002/10/23
05:08:50 igor)
	- GS didn't restore graphic state after execution of Form XObject
leaking PDF graphic state changes out of the form procedure. Bug #626507
from customer #1. Fix developed by Alex Cherepanov. (lib/pdf_draw.ps [1.57]:
2002/10/23 15:15:30 ray)
	- Pop useless widget /AP dictionary if missing all of /N, /R, and /D
keys to keep opstack from collecting extra elements leading to error during
restore. Fixes SF bug #538428 for customer #440. (lib/pdf_draw.ps [1.58]:
2002/10/23 23:16:20 ray)
	- Scale factor for Stamp Annotations was incorrect. The
calcstampscale function was quite wrong. Fixes SourceForge bug #628440 for
customer #531. (lib/pdf_draw.ps [1.60]: 2002/10/25 04:47:23 ray)
	- Optional /Name in Type 3 font is generated from current file
position when missing. This is a temporary fix till while are not accessed
by PDF resource names. Bug #573744 from lpd (lib/pdf_font.ps [1.50]:
2002/10/31 23:41:09 alexcher)
	- Apply SubFileDecode filter during stream resolution to unfiltered
streams (except inline images) to prevent merging of the last token of the
stream with endstream operator. (jointly with Ray Johnston) Bug #628097 from
customer #1 (lib/pdf_base.ps [1.30], lib/pdf_draw.ps [1.61]: 2002/11/01
20:00:12 alexcher)

Moved the redefinition of the DefaultGray, DefaultRGB, and DefaultCMYK
instances of the ColorSpace resource category to the pdfopen procedure, as
opposed to the runpdf procedure. This avoids unintended color space
substitution when using utilities such as gv, gsview, etc., which do not
invoke the runpdf procedure. Thanks to both Raph Levien and Russell Lang for
suggesting this modification. (lib/pdf_main.ps [1.58]: 2002/10/17 21:33:03
dan)

Moved the invocation of pdfshowpage_setcspacesub from pdfshowpage to
pdfshowpage_finish. This is done to accommodate gsview, which does not
invoke pdfshowpage. Thanks to Russell Lang for pointing this out.
(lib/pdf_main.ps [1.59]: 2002/10/18 17:31:26 dan)

This is a fix to handle the "slow rendering for PDF files with color space
substitution" ("-dUseCIEColor") problem. The code for the patches is the
same as in yesterday's message; some comments have been added, and some of
the earlier comments made more clear (we hope). Modified Files:
lib/gs_cspace.ps Modified the _setcolorspace procedure to ignore redundant
settings of the current color space for PDF files, even if color space
substitution is in effect. lib/pdf_main.ps Modified pdfshowpage_setcspacesub
to "transition" the current color space if color space substitution is in
effect and the current color space is a device-dependent color space.
(lib/pdf_main.ps [1.60]: 2002/10/24 04:13:50 dan)

Change some pdfformaterror messages to "Warning" to avoid user confusion and
alleviate concern. Also this should help bug reports to be less misleading.
(lib/pdf_base.ps [1.29], lib/pdf_draw.ps [1.59], lib/pdf_main.ps [1.61]:
2002/10/24 18:29:34 ray)

When ghostscript is given a PDF file on standard input, copy it to a
temporary file before processing. Prior to version 7, ghostscript could read
PDF from standard input redirected from a file, but not from a pipe.
Standard input was changed in version 7 to use callouts, which prevented PDF
reading from standard input. Fixes SourceForge bug #583413, /ioerror with gs
- &lt; file.pdf vers 7.xx (lib/pdf_main.ps [1.62]: 2002/10/31 10:23:08
ghostgum)

</pre><h2><a name="7.32-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- A typo in .locksafe procedure left 2 boolean parameters on the
stack causing PS errors in some files produced by "dvips(k) 5.86" that
depend on empty initial operand stack. Bug #626437 (lib/gs_init.ps [1.67]:
2002/10/24 20:37:29 alexcher)
	- currentcolorspace didn't check whether the current device is a
cache device and always returned the value set by setcolorspace in the
current graphic state. The fix returns [/DeviceGray] as the current color
space in cache device. Bug #627169 (zcolor.c [1.13]: 2002/10/24 22:48:41
alexcher)
	- provided a meaningful error message when an immediately evaluated
name can not be found. Fixes SourceForge bug #543185, Confusing diagnostics
for //undefined. (interp.c [1.13], ziodev.c [1.11]: 2002/10/29 09:57:53
ghostgum)
	- Temporarily disable processing of DSC comments while a font is
being loaded. Fixes SourceForge bug #605830, DSC parser shouldn't parse
fonts. (lib/gs_fonts.ps [1.22], lib/gs_lev2.ps [1.22]: 2002/10/31 10:26:00
ghostgum)
	- Restore ps2ascii operation (1) use .bind instead of bind in
operator redefinition to support GS operation in NOBIND mode. (2) increase
the size of operator procedure tables. Bug #628820 from Ryan Pinto
(iinit.c [1.8], lib/gs_cspace.ps [1.3], lib/gs_pdfwr.ps [1.20]: 2002/10/31
15:53:32 alexcher)
	- Adobe interpreters accept numbers as values of /C0 or /C1
parameters of Type 2 function contrary to PLRM. Adobe has also published
smooth shading examples that use this feature. So GS has to follow. Bug
#595375. (ifunc.h [1.10], zfunc.c [1.13], zfunc3.c [1.6]: 2002/10/31
18:34:25 alexcher)
	- Accept any objects as Font, CIDFont, and CMap resource keys, not
just strings or names. Ignore keys other than strings or names in
&lt;CIDFontName&gt;- -&lt;CMapName&gt; pair construction because it is
defined only for strings. Bug #602739 (lib/gs_cidcm.ps [1.10]: 2002/10/31
20:37:50 alexcher)
	- Immediate evaluation of //null. //true, //false prevents PS errors
when these names are redefined in the user's program. Bug #539239
(lib/gs_setpd.ps [1.17]: 2002/11/01 04:04:10 alexcher)
	- Redefine .runstdin with one bound to EPSF 'run' operator so that
EPS files are handled correctly from %stdin. Code for skipping DOS EPS
header now uses the EPS encapsulating run, instead of directly calling
.runexec. (lib/gs_epsf.ps [1.6]: 2002/11/01 23:41:18 ghostgum)
	- Provide a meaningful error message when an immediately evaluated
name in a procedure can not be found. Additional fix for SourceForge bug
#543185, Confusing diagnostics for //undefined. (iscan.c [1.13],
ziodev.c [1.12]: 2002/11/01 23:43:09 ghostgum)

Corrects some typos in a comment. (zcolor.c [1.12]: 2002/10/23 22:44:31
giles)

This is a fix to handle the "slow rendering for PDF files with color space
substitution" ("-dUseCIEColor") problem. The code for the patches is the
same as in yesterday's message; some comments have been added, and some of
the earlier comments made more clear (we hope). Modified Files:
lib/gs_cspace.ps Modified the _setcolorspace procedure to ignore redundant
settings of the current color space for PDF files, even if color space
substitution is in effect. lib/pdf_main.ps Modified pdfshowpage_setcspacesub
to "transition" the current color space if color space substitution is in
effect and the current color space is a device-dependent color space.
(lib/gs_cspace.ps [1.2]: 2002/10/24 04:13:50 dan)

Bump version after the 7.31 release. (lib/gs_init.ps [1.68]: 2002/10/28
20:11:08 giles)

Changes to Windows and OS/2 files to allow ghostscript to compile with the
graphics library and interpreter in separate source directories. Partial fix
for SourceForge bug #542848, "library #includes interpreter headers".
(dwmain.c [1.12]: 2002/10/29 09:44:40 ghostgum)

Encapsulate EPS files to make sure that at least one page is printed. Add
command line options -dNOEPS, -dEPSCrop and -dEPSFitPage for customizing
handling of EPS files. Warn if EPS bounding box does not fit in clipping
box. Enable EPS and DOS EPS processing for several platforms.
(lib/gs_epsf.ps [1.5], lib/gs_init.ps [1.69]: 2002/10/31 09:22:13 ghostgum)

Proposed log message: According to PLRM 3rd ed, p. 264 "indexed color space
is not allowed in any shading whose color values are generated by a
function; this applies to any shading dictionary that contains a Function
entry." Adobe interpreters follow PLRM in this respect and we follow them.
Bug #591768 (zshade.c [1.14]: 2002/10/31 16:19:48 alexcher)

Adds UseWTS user parameter to enable WTS, rather than a compile-time #define
USE_WTS as before. Also, WTS is now only enabled when AccurateScreens is
selected. (zusparam.c [1.8]: 2002/11/02 07:33:48 raph)

</pre><h2><a name="7.32-Streams"></a>Streams</h2><pre>

Remove some interpreter references from the graphics library. Partial fix
for SourceForge bug #542848, "library #includes interpreter headers".
(sarc4.c [1.8]: 2002/10/29 09:22:29 ghostgum)

</pre><h2><a name="7.32-Library"></a>Library</h2><pre>

Fixes problems:
	- adds a missing header to gxshade for indexed color routines.
(gxshade.c [1.15]: 2002/10/22 13:31:37 giles)
	- On gcc 2.95.4 for Alpha all structures are padded to 8 byte
boundary but sizeof(bool) == 4. First member of the subclass is restored
because it is overwritten by padding data. Bug #613909 (gximage3.c [1.11]:
2002/10/25 00:27:10 alexcher)
	- correct some dependencies against the include lists in the
relevent C files. Also reorder them to facilitate easer checking next time.
Closes SourceForge bug #607819. (gscolor2.c [1.14], gxclrast.c [1.26]:
2002/10/28 19:17:19 giles)
	- For Type9 fonts (CIDFontType 0 with Type 1 or Type 2 leaf fonts),
the leaf's FontMatrix was being ignored. Catch the change of leaf font index
in select_descendant_font, and for Type9 (ft_CID_encrypted) concatenate the
leaf's FontMatrix in show_state_setup. Fixes SourceForge bug #576591 for
Artifex customer #1110 [footnotes rendered too large: badcharsize.pdf]
(gschar0.c [1.8], gsfcid.c [1.11], gxchar.c [1.17], gxfcid.h [1.13]:
2002/10/31 08:34:51 ray)
	- Propagate error codes from gs_distance_transform_inverse. Patch
from Forrest Cahoon, improved. (gxstroke.c [1.7]: 2002/10/31 09:00:28 igor)
	- Fix incorrect calculation of the clipping path around the pattern
tile. Old code used bounding box of the tile in device coordinate system as
a clippin path. When the tile was not aligned with device coordinates the
box extended beyond the tile parallelogram causing incorrect rendering of a
pattern depending on clipping path. New code draws correct clipping path by
taking advantage of high level functions. Also gs_bbox_transform() was moved
out of compute_inst_matrix() to improve readability. Bug #595378
(gsptype1.c [1.13]: 2002/10/31 16:34:01 alexcher)
	- Default allocator added to the stable allocator because it is used
in s_zlib_alloc() when the clist is stored in memory. According to
doc/Develop.htm: "Every allocator has an associated stable allocator, which
tags pointers with the same VM space number but which is not subject to save
and restore. System VM is intrinsically stable (its associated stable
allocator is the same allocator)" Bug #530588 (gsmalloc.c [1.11]: 2002/10/31
16:52:18 alexcher)

Bump version after the 7.31 release. (gscdef.c [1.28]: 2002/10/28 20:11:08
giles)

Remove some interpreter references from the graphics library. Partial fix
for SourceForge bug #542848, "library #includes interpreter headers".
(gsargs.c [1.8]: 2002/10/29 09:22:29 ghostgum)

Revert previous 1.13 patch since it fails on several Genoa tests including
012-09.ps (gsptype1.c [1.14]: 2002/11/02 00:23:06 ray)

Adds WTS cases for 0 and 45 degree angles, called "Screen H" in the code.
(gswts.c [1.4], gswts.h [1.2], gxwts.c [1.5], gxwts.h [1.2]: 2002/11/02
07:31:45 raph)

Adds UseWTS user parameter to enable WTS, rather than a compile-time #define
USE_WTS as before. Also, WTS is now only enabled when AccurateScreens is
selected. (gsht1.c [1.13], gshtscr.c [1.11], gxht.h [1.8]: 2002/11/02
07:33:48 raph)

First commit for 7.32 release: update version numbers and dates, News.htm.
(gscdef.c [1.29]: 2002/11/02 08:11:09 raph)

</pre><h2><a name="7.32-Other"></a>Other</h2><pre>

Add real 'make distclean' and 'make maintainer-clean' targets. These are no
longer general no-ops but are the responsibility of the platform-specific
makefiles. The autoconf build now removes its generated files from the
top-level directory when requested. (Makefile.in [1.18]: 2002/10/24 12:57:57
giles)

Remove configure.ac only on maintainer-clean. It's more transparent to
distribute this file as well along with configure. (Makefile.in [1.19]:
2002/10/24 13:25:01 giles)

</pre>
<hr>

<h1><a name="Version7.31"></a>Version 7.31 (2002-10-17)</h1>

<p>
This is the first beta release in preparation for 8.0. A great many
bugs have been fixed since the 7.30 alpha release, and it should be
stable for most users. Two features planned for 8.0 are not yet fully
functional, however: subpixel positioning of antialiased text, and
Well Tempered Screening (the latter can be enabled for experimentation,
but does not work for 0 and 45 degree angles).

<p>
The following SourceForge bug numbers were open at the time of the last release:
405342,
407342,
414947,
414985,
434277,
446344,
446672,
458261,
458775,
458780,
459647,
465720,
465936,
468762,
484752,
484753,
485510,
487953,
493348,
505429,
508081,
509646,
510808,
513905,
517349,
526099,
526491,
528647,
530011,
530588,
535366,
535752,
535836,
538033,
538428,
539239,
542848,
543185,
546823,
552989,
554076,
558151,
558435,
563287,
567421,
567773,
569573,
570772,
572119,
573744,
576591,
576591,
578838,
578865,
583413,
584990,
591768,
592160,
592164,
592837,
592841,
592925,
592930,
594582,
595375,
595378,
595760,
596009,
598014,
600281,
600288,
601255,
601336,
601694,
602739,
602995,
603577,
603689,
603934,
604884,
604886,
605830,
607425,
607819,
607850,
608520,
609488,
609494,
609809,
610040,
610356,
610359,
610478,
610727,
611463,
611694,
611701,
611727,
611898,
612801,
613165,
613909,
613909,
614298,
614299,
615165,
615620,
615994,
616970,
616976,
617077,
617523,
620420,
620865,
620968,
621243,
621246,
621293,
623122,
623292,
623989,
624082,
624168,
624493,
624515.

<p>
A few regressions remain. See the <a
href="http://www.ghostscript.com/pipermail/gs-regression/2002-October/thread.html">archives</a>
of the regression report for more details. Another known issue is slow
rendering of PDF's from GSView and Ghostview family viewers.

<h3><a name="7.31_Incompatible_changes"></a>Incompatible changes</h3>

<p>
The <code>-dDOPS</code> flag (to enable DoPS processing) is now
disabled by default, as it is a more reasonable default. Thus, any
files which depend on DoPS will now break unless this flag is set.

<pre>
</pre>


<h2><a name="7.31-Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- Mentions the autoconf build method in the installation
documentation. Inspired by a user report of having looked there first rather
than at Make.htm; an understandible choice based on linux packaging
conventions. (doc/Install.htm [1.35]: 2002/09/16 21:15:39 giles)
	- Keep pagedevice and device views of .LockSafetyParams correct even
after a 'restore' is used to unlock. The dictionary fed to the setpagedevice
operator is allocated in the same VM space as currentpagedevice to avoid
invalidaccess problems. Fixed SF #580029 and does not revert to the
incorrect behaviour of bug #516379. (doc/Language.htm [1.53]: 2002/09/18
16:58:01 ray)

German man page translation updates from Thomas Hoffmann.
(man/de/ansi2knr.1 [1.2], man/de/dvipdf.1 [1.3], man/de/font2c.1 [1.3],
man/de/gsnd.1 [1.4], man/de/pdf2dsc.1 [1.3], man/de/pdf2ps.1 [1.3],
man/de/pdfopt.1 [1.2], man/de/printafm.1 [1.3], man/de/ps2ascii.1 [1.2],
man/de/ps2pdf.1 [1.4], man/de/ps2ps.1 [1.3], man/de/wftopfa.1 [1.3]:
2002/09/09 08:11:44 ghostgum)

Update documentation to remove some confusion between Borland C++ 5 and
Borland C++Builder 5. (doc/Make.htm [1.54]: 2002/09/09 12:05:59 ghostgum)

Bump version numbers after 7.30 release. (doc/News.htm [1.113]: 2002/09/12
09:52:19 giles)

Update the device API documentation to include the changes made for support
of various DeviceN related features. (doc/Drivers.htm [1.32]: 2002/09/12
18:10:54 dan)

For Windows printers, change documentation to use the preferred output file
name %printer%xyz, not the old confusing \\spool\xyz.
(doc/Devices.htm [1.49]: 2002/09/16 20:56:19 ghostgum)

For Windows printers, change documentation to use the preferred output file
name %printer%xyz, not the old confusing \\spool\xyz.
(doc/Devices.htm [1.50]: 2002/09/16 20:58:52 ghostgum)

Add documentation to the .setsafe operator that was added to .locksafe
operator that says that .setsafe uses setpagedevice, thus it will erase the
page. Related to SourceForge bug #580029. (doc/Language.htm [1.54]:
2002/09/23 06:18:51 ray)

Adds -dDONTPS command line option to disable processing of DoPS directives
in PDF files. Works around problem rendering S2_Digitalproof-Forum_x3k.pdf.
(doc/Use.htm [1.57]: 2002/09/29 17:38:43 raph)

document the new testdiff command (doc/Testing.htm [1.10]: 2002/09/29
23:11:28 giles)

More documentation for: 1. Color_info fields related to "linear and
separable": comp_shift, comp_bits, and comp_mask. 2. Macros for color_info
structure definitions. 3. What to do if the any changes are made to the
color_info fields. (doc/Drivers.htm [1.33]: 2002/10/09 07:44:47 dan)

Removes references to the no longer supported ansi2knr.c.
(doc/Develop.htm [1.91], doc/Release.htm [1.68]: 2002/10/09 23:41:13 giles)

Add zht2.h to the file listing in Develop.htm. (doc/Develop.htm [1.92]:
2002/10/10 00:39:26 giles)

Add zht2.h to the correct section of the file listings. Corrects a
cut-and-paste error in the previous commit. (doc/Develop.htm [1.93]:
2002/10/10 00:42:22 giles)

Adds PhotoShop (psdcmyk and psdrgb) devices. (doc/Develop.htm [1.94]:
2002/10/12 12:02:40 jeong)

Cleans up output device documentation. Old printer drivers (replaced by
hpijs and/or gimpprintijs) are moved to a new file, Deprecated.htm. Stub
documentation for file output devices and general re-organization.
(doc/Deprecated.htm [1.1], doc/Devices.htm [1.51], doc/Readme.htm [1.41]:
2002/10/15 15:13:35 giles)

Corrects formatting errors and updates the table of contents for the devices
documentation. (doc/Devices.htm [1.52]: 2002/10/15 15:31:17 giles)

First documentation commit for 7.31 release: edits to News.htm, version and
date updates, minor patches to Develop.htm and Deprecated.htm.
(doc/API.htm [1.25], doc/Bug-form.htm [1.30], doc/Bug-info.htm [1.29],
doc/C-style.htm [1.36], doc/Commprod.htm [1.22], doc/Copying.htm [1.22],
doc/Current.htm [1.22], doc/DLL.htm [1.24], doc/Deprecated.htm [1.2],
doc/Develop.htm [1.95], doc/Devices.htm [1.53], doc/Drivers.htm [1.34],
doc/Fonts.htm [1.31], doc/Helpers.htm [1.26], doc/History1.htm [1.22],
doc/History2.htm [1.22], doc/History3.htm [1.22], doc/History4.htm [1.22],
doc/History5.htm [1.24], doc/History6.htm [1.39], doc/History7.htm [1.22],
doc/Htmstyle.htm [1.27], doc/Install.htm [1.36], doc/Issues.htm [1.26],
doc/Language.htm [1.55], doc/Lib.htm [1.24], doc/Maintain.htm [1.32],
doc/Make.htm [1.55], doc/New-user.htm [1.41], doc/News.htm [1.114],
doc/Projects.htm [1.46], doc/Ps-style.htm [1.20], doc/Ps2epsi.htm [1.24],
doc/Ps2pdf.htm [1.46], doc/Psfiles.htm [1.37], doc/Readme.htm [1.42],
doc/Release.htm [1.69], doc/Source.htm [1.22], doc/Tester.htm [1.21],
doc/Testing.htm [1.11], doc/Unix-lpr.htm [1.22], doc/Use.htm [1.58],
doc/Xfonts.htm [1.22], doc/gs-vms.hlp [1.21], man/dvipdf.1 [1.19],
man/font2c.1 [1.19], man/gs.1 [1.19], man/gslp.1 [1.19], man/gsnd.1 [1.19],
man/pdf2dsc.1 [1.18], man/pdf2ps.1 [1.20], man/pdfopt.1 [1.18],
man/pf2afm.1 [1.19], man/pfbtopfa.1 [1.20], man/printafm.1 [1.19],
man/ps2ascii.1 [1.18], man/ps2epsi.1 [1.17], man/ps2pdf.1 [1.24],
man/ps2pdfwr.1 [1.23], man/ps2ps.1 [1.25], man/wftopfa.1 [1.19]: 2002/10/17
06:37:28 raph)

Second documentation commit for 7.31 release: Changes.htm generated from
cvs2hist (then hand-edited because the logs for Jan's commits are not
compatible with the script), History7.htm autogenerated, minor edits to News
and Use. (doc/Changes.htm [1.38], doc/History7.htm [1.23],
doc/News.htm [1.115], doc/Use.htm [1.59]: 2002/10/17 07:37:32 raph)

update the open bug list (doc/News.htm [1.116]: 2002/10/17 10:13:38 giles)

</pre><h2><a name="7.31-Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- Fix (pdfwrite): Virtual function same_font cannot work properly if
arguments have different representation (particularly for comparing an
original font with its stable copy). Due to it pdf_font_resource_t::Widths
mixed widths taken from fonts variations with different metrics. Entirely
changing the logics of creating font resources with new function
gs_copied_can_copy_glyphs. Source Forge bugs : #596394 (pdfwrite) Wrong
glyph width (093-01.ps), #567604 missing characters with -c save pop #596284
font spacing/ragged edge on text column (devs.mak [1.73], lib.mak [1.96]:
2002/09/08 20:20:12 igor)
	- Fix (pdfwrite) : Completely removing the generation of "space
chars", because they can overflow Encoding. (devs.mak [1.74]: 2002/09/15
13:21:09 igor)
	- Fix (pdfwrite) : Completely removing the old PDF text code.
(devs.mak [1.75]: 2002/09/15 14:11:51 igor)
	- On case-insensitive file systems, sometimes PDF file detection
wasn't working. (toolbin/tests/gstestgs.py [1.14]: 2002/09/18 19:17:40 jack)
	- Typo in run_nightly. (toolbin/tests/run_nightly [1.7]: 2002/09/19
19:51:20 jack)
	- In dots mode, the DIFFER result had a spurious newline.
(toolbin/tests/gstestutils.py [1.5]: 2002/09/23 15:56:31 jack)
	- Fix : Providing a virtual path interface for computing glyph bbox
without allocating path segments. SourceForge bug "[ 605200 ] pdf_close
generates many path segments". (lib.mak [1.100]: 2002/09/23 16:38:28 igor)
	- Fix previous commit (marginal python skills)
(toolbin/tests/run_nightly [1.9]: 2002/09/26 16:28:15 ray)
	- Fix syntax errors and use actual paths for run_regression and
testdiff (toolbin/tests/run_nightly [1.11]: 2002/09/29 22:33:17 ray)
	- removes duplicate definition of gscspace_h. (lib.mak [1.102]:
2002/10/10 20:21:38 giles)
	- Remove psdrgb.dev and psdcmyk.dev from the MSVC makefile (these
crept in by mistake). (msvc32.mak [1.33]: 2002/10/11 15:39:35 ray)
	- remove the remainder of the gcc version check hack through the aux
dependency. This was missed in initial commit of that changed and prevented
normal running of the mcp-generation makefile. (macos-mcp.mak [1.10]:
2002/10/17 16:12:36 giles)

Update documentation to remove some confusion between Borland C++ 5 and
Borland C++Builder 5. (bcwin32.mak [1.21]: 2002/09/09 12:05:59 ghostgum)

  src/int.mak
  src/lib.mak
    Updated various dependency lists.
(int.mak [1.83], lib.mak [1.97]: 2002/09/10 22:16:07 dan; checkin for Jan)

Bump version numbers after 7.30 release. (version.mak [1.52]: 2002/09/12
09:52:20 giles)

  src/lib.mak
    Updated the dependency list for gxclrast.&#36;(OBJ).
(lib.mak [1.98]: 2002/09/13 22:21:22 dan; checkin for Jan)

Implements daily results databases for regression results as well as a new
tool 'testdiff' to view the difference between two such databases. Also
updates the nightly report output to include a new section of just that
day's new regressions. (toolbin/tests/gscheck_pdfwrite.py [1.5],
toolbin/tests/gsconf.py [1.8], toolbin/tests/gssum.py [1.4],
toolbin/tests/gstestgs.py [1.13], toolbin/tests/gstestutils.py [1.4],
toolbin/tests/run_nightly [1.6], toolbin/tests/run_regression [1.7],
toolbin/tests/testdiff [1.1]: 2002/09/18 19:15:30 jack)

  src/lib.mak
    Updated the dependency list for gsbitops.c.
(lib.mak [1.99]: 2002/09/21 00:26:04 dan; checkin for Jan)

Revive the fuzzy pdfwrite compare test.
(toolbin/tests/gscheck_fuzzypdf.py [1.1]: 2002/09/23 16:26:15 jack)

Put in log files for the preparation steps: cvs update, make and install.
The cvs logs are cumulative (they can be truncated manually if desired).
These changes were in the actual running scripts until 9/18 when an update
overwrote these changes that were being tested, but were never committed.
(toolbin/tests/run_nightly [1.8]: 2002/09/26 16:18:42 ray)

The last fixup -- more bad python. (toolbin/tests/run_nightly [1.10]:
2002/09/26 16:33:01 ray)

Move the callback routine, which is used to translate a gs_separation_name
into a string pointer and a length, from the graphics state into the device
color structure. This is being done to make it available to the pdfwrite
device when handling DeviceN or Separation color spaces. (int.mak [1.84]:
2002/10/04 23:43:38 dan)

  src/devs.mak
    Updated dependency list for gdevscf.&#36;(OBJ).
  src/lib.mak
    Updated various dependency lists.
(devs.mak [1.76], lib.mak [1.101]: 2002/10/08 00:49:48 dan; checkin
for Jan)

Prune the dead 'begin' makefile target. This was supposedly removed in
release 5.20. (gs.mak [1.16]: 2002/10/09 22:13:17 giles)

Remove remaining references to ansi2knr.c. We no longer support building
ghostscript with it, but the remaining dead code causes confusion for some
users. Inspired by Sourceforge bug #618048. Removes references to the no
longer supported ansi2knr.c. (dvx-gcc.mak [1.20], dvx-tail.mak [1.8],
gs.mak [1.17], macos-mcp.mak [1.9], macosx.mak [1.13], openvms.mak [1.26],
openvms.mmk [1.19], os2.mak [1.27], ugcclib.mak [1.21], unix-aux.mak [1.9],
unix-gcc.mak [1.36], unixansi.mak [1.25], wccommon.mak [1.6],
winlib.mak [1.18]: 2002/10/09 23:43:58 giles)

Change the default on the MSVC build to use 64 bit gx_color_index values.
(msvc32.mak [1.32]: 2002/10/11 00:14:23 dan)

Adds PhotoShop (psdcmyk and psdrgb) devices. (devs.mak [1.77],
msvc32.mak [1.34], unix-gcc.mak [1.37]: 2002/10/12 11:47:11 jeong)

This is some clean up on the DeviceN devices: XCF, PSD, and spot devices. 1.
Ensuring that the process color model name is correct. 2. removing support
of SeparationColorNames from additive devices. 3. Finish removal of variable
bits per components (GrayValues) from the devices. None of them had any form
of correct support for this feature. (devs.mak [1.78]: 2002/10/16 07:43:46
dan)

Removes the obsolete 'hpijs' driver. This has been superceeded by the ijs
driver interface both in Ghostscript and the hpijs collection of printer
drivers. (contrib.mak [1.28]: 2002/10/16 23:26:33 giles)

First documentation commit for 7.31 release: edits to News.htm, version and
date updates, minor patches to Develop.htm and Deprecated.htm.
(version.mak [1.53]: 2002/10/17 06:37:29 raph)

</pre><h2><a name="7.31-Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- code cleanup in macos platform specific routines. (gp_mac.c [1.9]:
2002/09/17 00:09:26 giles)
	- the console stubs are no longer necessary for the macos build.
(macgenmcpxml.sh [1.4]: 2002/09/17 00:57:38 giles)
	- remove some compiler options that generated spurious warnings.
(macgenmcpxml.sh [1.5]: 2002/09/26 19:50:12 giles)

Apply casts to remove lots of warnings from MSVC 6. Update some Windows
color mapping functions for DeviceN. Change order of arguments for the
gs_pdf14_device_filter_push function and the calls to the device filter push
procedure to match the prototype. (gp_mswin.c [1.13], gp_ntfs.c [1.10],
gp_win32.c [1.5]: 2002/10/07 08:28:56 ghostgum)

</pre><h2><a name="7.31-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- Introduces "backwards compatible" encode_color routine for
grayscale devices which supply map_rgb_color but not encode_color. Fixes
gray modes in pdfwrite and ijs devices, among others. (gdevbmpc.c [1.7],
gdevijs.c [1.5]: 2002/10/17 06:09:33 raph)

Change bmpgray device to use 8-bit 1 component instead of instead of 8-bit 3
components. (gdevbmp.c [1.7]: 2002/09/16 20:35:07 ghostgum)

Apply casts to remove lots of warnings from MSVC 6. Update some Windows
color mapping functions for DeviceN. Change order of arguments for the
gs_pdf14_device_filter_push function and the calls to the device filter push
procedure to match the prototype. (gdev4693.c [1.7], gdevbj10.c [1.8],
gdevbjc.h [1.5], gdevbmp.c [1.8], gdevcdj.c [1.12], gdevdcrd.c [1.5],
gdevdjet.c [1.10], gdevdljm.c [1.8], gdevdm24.c [1.7], gdevepsc.c [1.8],
gdevepsn.c [1.7], gdevescp.c [1.6], gdevjpeg.c [1.6], gdevlbp8.c [1.6],
gdevmswn.c [1.8], gdevmswn.h [1.6], gdevmsxf.c [1.7], gdevpbm.c [1.9],
gdevps.c [1.30], gdevpx.c [1.11], gdevpxut.c [1.5], gdevstc.c [1.7],
gdevstc2.c [1.5], gdevtifs.c [1.7], gdevupd.c [1.10], gdevwdib.c [1.7],
gdevwpr2.c [1.12], gdevwprn.c [1.7]: 2002/10/07 08:28:56 ghostgum)

Attached is a updated version of our code release of 4 October, 2002. As
before, the primary purpose of this release is to modify the manner in which
overprint information is passed to the overprint compositor device. This
resolves some difficulties seen when overprinting is used with the command
list device. This update incorporates the changes checked in by Dan on
October 4th. Since Dan's changes to gxcldev.h and gxclrast.c were identical
to ours, we have removed those two files from this release. Jan Modified
Files lib/gs_init.ps lib/pdf_draw.ps Change "DONTPS" flag to "DOPS", with
the logically inverted function: only if DOPS is defined will "PS" XObjects
be rendered. We believe this is the more appropriate default. lib/gs_dps.ps
lib/gs_img.ps src/gsdparams.c Modified the deviceinfo and image code to work
around a potentially improperly set ColorValues parameter. src/devs.mak
Updated dependency list for gdevscf.&#36;(OBJ). src/gdevdflt.c 1. Added
initialization of the new color_info.opmode field to
gx_device_fill_in_procs. 2. In get_decode_color, added special case handling
for canonical 1-bit CMYK devices (e.g.: pkmraw). Previously the decode_color
method for this devices would default to gx_default_cmyk_decode_color, which
performed an CMYK ==&gt; RGB ==&gt; CMYK conversion. This conversion would
defeat overprinting if gray object was placed on top of a colored region.
src/gscdevn.c src/gscolor.c src/gscolor2.c src/gscpixel.c src/gscsepr.c
src/gscspace.c src/gsovrc.c src/gxovrc.h src/gspcolor.c src/gsptype1.c
src/gsptype2.c src/gsstate.c src/gsstate.h src/gxcmap.c src/gxcspace.h
src/zcolor.c Modified the overprint code to, when necessary, pass overprint
mode information when setting the device color. This is necessary to
properly handle overprint mode when using the command list device. NB: This
change alters the meaning of the "effective_overprint_mode" field in the
imager state. src/gxdevcli.h Added the opmode and process_comps fields to
the gx_device_color_info structure. These are required by the new code that
passes overprint mode information when the device color is set.
src/gsdfilt.h Changed the prototype for the push method in the
gs_device_filter structure to match the actual implementation and usage of
this method (the third and fourth operands were reversed). src/gsimage.c
Modified gx_image_cleanup to check if penum-&gt;info field is null before
calling gx_image_end. This avoids a crash associated that can occur if an
image has zero height or width, as the image enumeration data structure will
have been released in such cases before gs_image_cleanup is called.
src/lib.mak Updated various dependency lists. src/gdevdevn.c src/gdevnfwd.c
src/gdevpdte.c src/gdevxcf.c src/gscrdp.c src/gsdfilt.c src/gsht.c
src/gsht1.c src/gswts.c src/gzht.h src/ialloc.c src/imain.c src/iscanbin.c
zfapi.c Installed some minor changes to quiet compiler warnings.
(gdevdevn.c [1.2], gdevxcf.c [1.3]: 2002/10/08 00:49:48 dan)

Adds DeviceCMY (-dMode=1) process color model to permute device.
(gdevperm.c [1.2]: 2002/10/08 16:49:59 raph)

Add a setup the shift and mask bits in ppm_open. This finishes initializing
the device as being "linear and separable". This is needed since the various
pxm devices are using the default color encode routine which needs the
linear and separable information. (gdevpbm.c [1.10]: 2002/10/09 02:34:11
dan)

PhotoShop PSD Driver. (gdevpsd.c [1.1]: 2002/10/12 11:43:21 jeong)

Removed logic for setting variable number of bits per component. This is not
supported on the xcf, spotrgb, or spotcmyk devices. (gdevdevn.c [1.3],
gdevxcf.c [1.4]: 2002/10/15 00:36:57 dan)

This is some clean up on the DeviceN devices: XCF, PSD, and spot devices. 1.
Ensuring that the process color model name is correct. 2. removing support
of SeparationColorNames from additive devices. 3. Finish removal of variable
bits per components (GrayValues) from the devices. None of them had any form
of correct support for this feature. (gdevdevn.c [1.4], gdevpsd.c [1.2],
gdevxcf.c [1.5]: 2002/10/16 07:43:46 dan)

</pre><h2><a name="7.31-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- Fix (pdfwrite): Virtual function same_font cannot work properly if
arguments have different representation (particularly for comparing an
original font with its stable copy). Due to it pdf_font_resource_t::Widths
mixed widths taken from fonts variations with different metrics. Entirely
changing the logics of creating font resources with new function
gs_copied_can_copy_glyphs. Source Forge bugs : #596394 (pdfwrite) Wrong
glyph width (093-01.ps), #567604 missing characters with -c save pop #596284
font spacing/ragged edge on text column (gdevpdfx.h [1.50],
gdevpdtb.c [1.9], gdevpdtb.h [1.4], gdevpdtc.c [1.9], gdevpdtd.c [1.5],
gdevpdte.c [1.11], gdevpdtf.c [1.15], gdevpdtf.h [1.6], gdevpdti.c [1.6],
gdevpdtt.c [1.9], gdevpdtt.h [1.6]: 2002/09/08 20:20:12 igor)
	- Fixing C style for pdf_font_cache_elem_t definition.
(gdevpdfx.h [1.51]: 2002/09/08 20:42:13 igor)
	- Correct duplicate definition of pdf_font_cache_elem_t which
prevented compilation. (gdevpdfx.h [1.52]: 2002/09/09 16:08:19 giles)
	- Fix (pdfwrite) : Completing the logics of the Widths array
generation. Now the contents of Widths is taken from embedded font, but
widths for glyphs placement (Tj) are from original font. (gdevpdte.c [1.12],
gdevpdtt.c [1.10]: 2002/09/11 11:26:13 igor)
	- Fix (pdfwrite) : Improving the logics of merging same fonts, and
fixing a bug in gs_copied_can_copy_glyphs. (gdevpdtt.c [1.11]: 2002/09/11
15:10:23 igor)
	- Fix (pdfwrite) : (1) gs_glyph_info_t::v was uninitialized if glyph
metrics is taken from the outline (thanks to Erik Strik for spotting it).
(2) Improving glyph placement. (3) A minor optimization and improving some
comments about glyph placament. (gdevpdte.c [1.13], gdevpdtt.c [1.12]:
2002/09/13 23:43:07 igor)
	- Fix (pdfwrite) : (1) The previous fix wrongly processed Metrics.
(2) TJ arguments were computed with accounting Tc taken from a desincronized
text state. (3) Type 42 missed side bearing. (4) An optimization reduces
calls to gs_default_glyph_info. Debugged with 0.pdf . (gdevpdts.c [1.13],
gdevpdtt.c [1.13]: 2002/09/14 02:07:33 igor)
	- Fix (pdfwrite) : (1) Unwinding the previous change for Tj
(gdevpdts.c). (2) sync_text_state now checks the ending position of the text
against the starting position of the text continuation (gdevpdts.c); (3)
font_orig_scale was erroneusely exchenged for original and copied fonts; (4)
Enhancing the hack in font_orig_scale with upside_down FontMatrix, (Source
Forge bug "[ 607480 ] 'Ghost' text appears"). (5) Enhancing
same_type1_hinting with fonts with nulls in Subrs (gxfcopy.c, test file of
#607480). Debugged with 0.pdf and 020-01.ps. (gdevpdts.c [1.14],
gdevpdtt.c [1.14]: 2002/09/14 19:29:30 igor)
	- Fix (pdfwrite) : Skipping Tj breaks being equal to Tc.
(gdevpdts.c [1.15]: 2002/09/14 20:27:07 igor)
	- Fix (pdfwrite) : (1) For better precision changing the internal
representation of Widths to double, and skipping small noise while writing
Tj. (2) Widths for Type 3 fonts were not computed (020-01.ps, 031-01.ps).
(gdevpdfx.h [1.53], gdevpdtc.c [1.10], gdevpdte.c [1.14], gdevpdtf.c [1.16],
gdevpdtf.h [1.7], gdevpdti.c [1.7], gdevpdts.c [1.16], gdevpdtt.c [1.15],
gdevpdtt.h [1.7], gdevpdtw.c [1.8]: 2002/09/15 12:23:07 igor)
	- Fix (pdfwrite) : Completely removing the generation of "space
chars", because they can overflow Encoding. (gdevpdtf.h [1.8],
gdevpdti.c [1.8], gdevpdti.h [1.2], gdevpdts.c [1.17]: 2002/09/15 13:21:09
igor)
	- Fix (pdfwrite) : Completely removing the old PDF text code.
(gdevpdfx.h [1.54]: 2002/09/15 14:11:51 igor)
	- Fix (pdfwrite) : Text process fallback now restarts the text from
the beginning. (gdevpdtt.c [1.16]: 2002/09/16 05:42:23 igor)
	- Fix (pdfwrite) : Text process fallback now restarts the text from
the beginning depending on font type. (gdevpdte.c [1.15], gdevpdtt.c [1.17]:
2002/09/16 06:28:08 igor)
	- Fix (pdfwrite) : /notdef characters caused font conversion to
bitmap font; (gdevpdte.c [1.16], gdevpdtt.c [1.18]: 2002/09/16 07:01:43
igor)
	- Fix : Providing a virtual path interface for computing glyph bbox
without allocating path segments. SourceForge bug "[ 605200 ] pdf_close
generates many path segments". (gdevpdte.c [1.17]: 2002/09/23 16:38:28 igor)
	- Fix (pdfwrite) : The font scale was applied twice to MissingWidth.
SourceForge bug "[ 613217 ] Misplaced characters after ps2pdf".
(gdevpdtt.c [1.19]: 2002/10/02 12:10:11 igor)
	- Fix (pdfwrite) : Implementing colorant names after DeviceN merge.
(gdevpdfc.c [1.29], gdevpdfg.h [1.18]: 2002/10/07 10:59:09 igor)
	- Fix (pdfwrite) : Completing the ProcessColorModel implementation
after DeviceN merge. Also fixes SourceForge bug "[ 614705 ] Inverted colos
in CMYK PDF writer". Thanks to Alex and Jan for participation.
(gdevpdf.c [1.53], gdevpdfp.c [1.30]: 2002/10/07 12:54:12 igor)
	- Fix (pdfwrite) : Removing a call to the deprecated map_cmyk_color.
Thanks to Daniel Coby for the suggested algorithm. (gdevpdf.c [1.54]:
2002/10/07 13:56:41 igor)
	- Fix (pdfwrite) : Making the text matrix synchronization condition
stronger. Also removing some obsolete comments. Source Forge bug "[ 617643 ]
math symbol skewed". Thanks to Alex Cherepanov for preliminary analysis.
(gdevpdts.c [1.18]: 2002/10/09 13:03:44 igor)
	- Fix (pdfwrite) : Skipping zero height images because AR cannot
handle them. Patch from Jan Stockenius, improved. (gdevpdfi.c [1.43]:
2002/10/10 15:24:23 igor)
	- Fix : Providing multiple halftone component names for pdfwrite.
They were missed with DeviceN merge. (gdevpdfc.c [1.30], gdevpdfg.c [1.25],
gdevpdfg.h [1.19]: 2002/10/11 19:01:10 igor)
	- Fix : Providing spot halftone params for pdfwrite. They were
missed with DeviceN merge. (gdevpdfg.c [1.26]: 2002/10/16 08:46:39 igor)
	- Introduces "backwards compatible" encode_color routine for
grayscale devices which supply map_rgb_color but not encode_color. Fixes
gray modes in pdfwrite and ijs devices, among others. (gdevpdf.c [1.55]:
2002/10/17 06:09:34 raph)
	- We were incorrectly replicating fill color for overprint rectangle
fill. This resulted in erroneous color is HeiseiMinStd.pdf with pkmraw
device. This regression appeared on 10-9-02. (gxoprect.c [1.4]: 2002/10/17
07:25:42 dan)

Apply casts to remove lots of warnings from MSVC 6. Update some Windows
color mapping functions for DeviceN. Change order of arguments for the
gs_pdf14_device_filter_push function and the calls to the device filter push
procedure to match the prototype. (gdevpdfc.c [1.28], gdevpdfj.c [1.23],
gdevpdfk.c [1.7], gdevpdfp.c [1.29], gdevpdfu.c [1.32], gdevpdfv.c [1.19],
gdevpdtd.c [1.6]: 2002/10/07 08:28:56 ghostgum)

  src/gdevpdte.c
(gdevpdte.c [1.18]: 2002/10/08 00:49:49 dan; checkin for Jan)
</pre><h2><a name="7.31-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- Resolve Function parameters (optional as well as required) when
creating the PostScript Function dictionary for shadings. Fixes SourceForge
bug #609486. Fixes based on analysis and preliminary fix by Dan Coby.
(lib/pdf_draw.ps [1.52]: 2002/09/15 20:40:54 ray)
	- If the CIDCount for a font exceeded 32767, building the
CIDToGIDMap would exceed the maximum string length. Create an array of two
strings for this case. Also issue a warning if the CIDToGIDMap stream did
not contain enough characters for the CIDCount. SourceForge bug #611099 for
Artifex Customer #350. (lib/pdf_font.ps [1.45]: 2002/09/19 18:10:00 ray)
	- Insure that individual color name references are resolved in PDF
DeviceN colorspaces. (lib/pdf_draw.ps [1.53]: 2002/09/26 05:26:32 dan)
	- Fix to PDF interpreter : 1. Changing the logics of the True Type
cmap choice to comply with PDF spec. 2. Making the embedded font parser to
create a PS font independently on font resource options, so that the font
can associate with the font descriptor. 3. Avoiding the redundant parsing of
embedded fonts with removing the hack for SF bug "533467 Missing char on
test2a.pdf (regression)". 4. Removing the hack from buildTrueType because it
has no effect. 5. Widths and Encoding were ignored for embedded True Type
fonts. 6. Adding few warnings about PDF spec violations.
(lib/pdf_font.ps [1.46]: 2002/10/03 19:40:27 igor)
	- Ignore non-zero wy values to the d1 CharProcs operator in Type3
fonts. This is what Adobe Acrobat Readers do, and apparently Adobe Distiller
will write fonts with non-zero wy values even though the spec says "wy must
be zero". Fixes SourceForge bug #616692 for Artifex customer #561.
(lib/pdf_font.ps [1.47]: 2002/10/08 06:08:37 ray)
	- Fix to PDF interpreter : Don't rename fonts. Source Forge bug
"600855 Distilling a PDF enlarges FontName". (lib/pdf_font.ps [1.48]:
2002/10/10 09:37:39 igor)
	- Fix to PDF interpreter : improve the error message handler.
(lib/pdf_main.ps [1.57]: 2002/10/10 09:38:56 igor)
	- Fix to PDF interpreter : Properly set up the data stream for
shadings which may share PDF streams. Patch from Alex Cherepanov, improved.
(lib/pdf_ops.ps [1.25]: 2002/10/10 18:14:33 igor)
	- Fixing a spelling in comment. (lib/pdf_ops.ps [1.26]: 2002/10/10
18:17:59 igor)

Adds -dDONTPS command line option to disable processing of DoPS directives
in PDF files. Works around problem rendering S2_Digitalproof-Forum_x3k.pdf.
(lib/pdf_draw.ps [1.54]: 2002/09/29 17:38:43 raph)

  lib/pdf_draw.ps
    Change "DONTPS" flag to "DOPS", with the logically inverted function:
    only if DOPS is defined will "PS" XObjects be rendered. We believe this
    is the more appropriate default.
(lib/pdf_draw.ps [1.55]: 2002/10/08 00:49:48 dan; checkin for Dan)

</pre><h2><a name="7.31-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- Fix (pdfwrite) : PDFSETTINGS=screen should embed fonts.
SourceForge bug "[ 592833 ] Bad image and font appearance".
(lib/gs_pdfwr.ps [1.19]: 2002/09/11 11:18:39 igor)
	- removes to unused variables (zcontrol.c [1.10]: 2002/09/16
17:11:15 giles)
	- Keep pagedevice and device views of .LockSafetyParams correct even
after a 'restore' is used to unlock. The dictionary fed to the setpagedevice
operator is allocated in the same VM space as currentpagedevice to avoid
invalidaccess problems. Fixed SF #580029 and does not revert to the
incorrect behaviour of bug #516379. (lib/gs_init.ps [1.64]: 2002/09/18
16:58:01 ray)
	- Fix : Overlapping format 4 CMap ranges, while arguably buggy, are
commonly found in quite a few popular CJK TrueType fonts. Patch from Anthony
Fok Tung-Ling. (lib/gs_ttf.ps [1.18]: 2002/09/20 15:36:53 igor)
	- Fix : Unwinding the patch from Anthony Fok Tung-Ling, because it
caused regression with comparefiles/fonts.pdf . (lib/gs_ttf.ps [1.19]:
2002/09/22 12:41:26 igor)
	- Fix : (1) Providing cmap format 2 in True Type font reader; (2)
Accomodating cmap format 4 for CJK fonts. Code from Hideyuki Suzuki and
Taiji Yamada with minor changes. (lib/gs_ttf.ps [1.20]: 2002/09/24 10:43:40
igor)
	- Fix to PDF interpreter : 1. Changing the logics of the True Type
cmap choice to comply with PDF spec. 2. Making the embedded font parser to
create a PS font independently on font resource options, so that the font
can associate with the font descriptor. 3. Avoiding the redundant parsing of
embedded fonts with removing the hack for SF bug "533467 Missing char on
test2a.pdf (regression)". 4. Removing the hack from buildTrueType because it
has no effect. 5. Widths and Encoding were ignored for embedded True Type
fonts. 6. Adding few warnings about PDF spec violations.
(lib/gs_ttf.ps [1.21]: 2002/10/03 19:40:27 igor)
	- .pagetypenames was broken for a long time since the executable
array contained the "STRICT { ... } if" logic. Changed to make this a
regular array. (lib/gs_statd.ps [1.10]: 2002/10/10 16:30:01 ray)
	- Finish changes to make old statusdict stuff actually work.
Previous commit was incomplete, causing invalidaccess during initialization.
(lib/gs_statd.ps [1.11]: 2002/10/10 17:29:39 ray)
	- Fix : Providing multiple halftone component names for pdfwrite.
They were missed with DeviceN merge. (zht2.c [1.9]: 2002/10/11 19:01:10
igor)
	- Adds /Colors /BitsPerPixel and /ColorValues to .dynamicppkeys
because they can change dynamically when adding separation colors.
(lib/gs_setpd.ps [1.16]: 2002/10/17 06:08:00 raph)

The attached code release addresses a number of issues:

  1. Most of the code changes are required to turn off overprint mode when
     processing images, smooth shading fills (shfill operator), or
     when using PatternType 2 (smooth shading) patterns.
[...]

  lib/gs_img.ps
    Added code to turn off overprint mode for images.

  lib/gs_ll3.ps
    Added code to turn off overprint mode for shfill.

  src/zcolor.c
    Added code to disable overprint mode for PatternType 2 patterns.
(lib/gs_img.ps [1.2], lib/gs_ll3.ps [1.17], zcolor.c [1.10]:
2002/09/10 22:16:05 dan; checkin for Jan)

Bump version numbers after 7.30 release. (lib/gs_init.ps [1.63]: 2002/09/12
09:52:20 giles)


  lib/gs_devn.ps
    Modified the cs_install procedure for DeviceN color spaces to
    support the component name array "[ All ]". The documentation
    indicates that this is not legal ("PDF Reference", 3rd. ed.,
    p. 206), but beginning with Acrobat 5, DeviceN color spaces with
    this component name array are handled in the same manner as
    Separation color spaces with the component name All. The modified
    code detects this component array and converts the operand color
    space to a Separation color space.
(lib/gs_devn.ps [1.2]: 2002/09/23 01:21:02 dan; checkin for Jan)

The attached code release fixes a variety of memory handling problems
discovered by Dan's test with the memory validation enabled.

  2. Several problems noted with files 119-01.ps (panel 119-07) and
     119-28.ps (panel 119-31) were caused by a problem with the memory
     allocator used for the jpeg_compress_data structure used with the
     DCTEncode (JPEG) filter. This filter is used by the PDFwriter, the
     JPEG device drive, and as a filter accessible from PostScript.
     In the first two cases the jpeg_compress_data structure is allocated
     using the normal, gs_ref_memory_t structure. When used from
     PostScript, however, this structure is allocated using the
     gs_memory_default allocator (presumably because the jpeg library
     code is not set up to deal with save/restore).

     The gs_memory_default allocator is not a gs_ref_memory_t allocator,
     so it does not create the hidden obj_header_t structures preceding
     each allocated region. The garbage collector is dependent on these
     headers, hence the pointer enumeration routines in structure
     descriptors must not enumerate any pointers to memory allocated
     by non-gs_ref_memory_t headers.

     This creates a difficult problem for the pointer enumeration
     routine of the stream_DCT_state structure, whose data.compress field
     points to a jpeg_compress_data structure. This routine would have
     to determine which allocator was used for this structure before
     deciding whether or not to "enumerate" the data.compress pointer.
     In principle it has enough information to do this (the jpeg_memory
     field of the structure), but this seems like a overly complicated
     solution. Use of a stable gs_ref_memory_t allocator in place of
     the gs_memory_default allocator seems like a simpler solution.

  src/zfdcte.c
    Modified zDCTE to place the jpeg_compress_data structure into stable
    memory rather than use the gs_memory_default allocator.
(zfdcte.c [1.8]: 2002/09/26 18:45:02 dan; checkin for Jan)

Adds -dDONTPS command line option to disable processing of DoPS directives
in PDF files. Works around problem rendering S2_Digitalproof-Forum_x3k.pdf.
(lib/gs_init.ps [1.65]: 2002/09/29 17:38:43 raph)

Move the callback routine, which is used to translate a gs_separation_name
into a string pointer and a length, from the graphics state into the device
color structure. This is being done to make it available to the pdfwrite
device when handling DeviceN or Separation color spaces. (zcsdevn.c [1.11],
zcssepr.c [1.13], zht2.c [1.7], zht2.h [1.1]: 2002/10/04 23:43:38 dan)

THis file was missed in the previous commit. Move the callback routine,
which is used to translate a gs_separation_name into a string pointer and a
length, from the graphics state into the device color structure. This is
being done to make it available to the pdfwrite device when handling DeviceN
or Separation color spaces. (zgstate.c [1.7]: 2002/10/04 23:48:01 dan)

Another change due to the earlier commit. Move the callback routine, which
is used to translate a gs_separation_name into a string pointer and a
length, from the graphics state into the device color structure. This is
being done to make it available to the pdfwrite device when handling DeviceN
or Separation color spaces. (zht2.c [1.8]: 2002/10/05 05:52:00 dan)

Correct the includsion protestion. (zht2.h [1.2]: 2002/10/05 06:19:45 dan)

Apply casts to remove lots of warnings from MSVC 6. Update some Windows
color mapping functions for DeviceN. Change order of arguments for the
gs_pdf14_device_filter_push function and the calls to the device filter push
procedure to match the prototype. (idparam.c [1.7], igc.c [1.9],
iutil.c [1.8], zcharx.c [1.6], zpacked.c [1.5], ztype.c [1.7]: 2002/10/07
08:28:56 ghostgum)


Attached is a updated version of our code release of 4 October, 2002.

As before, the primary purpose of this release is to modify the manner
in which overprint information is passed to the overprint compositor
device.  This resolves some difficulties seen when overprinting is
used with the command list device.

This update incorporates the changes checked in by Dan on October 4th.
Since Dan's changes to gxcldev.h and gxclrast.c were identical to ours,
we have removed those two files from this release.

                                                       Jan


Modified Files

  lib/gs_init.ps
  lib/pdf_draw.ps
    Change "DONTPS" flag to "DOPS", with the logically inverted function:
    only if DOPS is defined will "PS" XObjects be rendered. We believe this
    is the more appropriate default.

  lib/gs_dps.ps
  lib/gs_img.ps
  src/gsdparams.c
    Modified the deviceinfo and image code to work around a potentially
    improperly set ColorValues parameter.

  src/devs.mak
    Updated dependency list for gdevscf.&#36;(OBJ).

  src/gdevdflt.c
    1. Added initialization of the new color_info.opmode field to
       gx_device_fill_in_procs.
    2. In get_decode_color, added special case handling for canonical 1-bit
       CMYK devices (e.g.: pkmraw). Previously the decode_color method for
       this devices would default to gx_default_cmyk_decode_color, which
       performed an CMYK ==&gt; RGB ==&gt; CMYK conversion. This conversion would
       defeat overprinting if gray object was placed on top of a colored
       region.

  src/zcolor.c
    Modified the overprint code to, when necessary, pass overprint mode
    information when setting the device color. This is necessary to properly
    handle overprint mode when using the command list device.

    NB: This change alters the meaning of the "effective_overprint_mode" field
        in the imager state.

  src/ialloc.c
  src/imain.c
  src/iscanbin.c
  zfapi.c
    Installed some minor changes to quiet compiler warnings.
(ialloc.c [1.5], imain.c [1.27], iscanbin.c [1.12], lib/gs_dps.ps [1.7],
lib/gs_img.ps [1.3], lib/gs_init.ps [1.66], zcolor.c [1.11], zfapi.c [1.28]:
2002/10/08 00:49:48 dan; checkin for Jan)

</pre><h2><a name="7.31-Streams"></a>Streams</h2><pre>

Apply casts to remove lots of warnings from MSVC 6. Update some Windows
color mapping functions for DeviceN. Change order of arguments for the
gs_pdf14_device_filter_push function and the calls to the device filter push
procedure to match the prototype. (stdio_.h [1.8]: 2002/10/07 08:28:56
ghostgum)

</pre><h2><a name="7.31-Library"></a>Library</h2><pre>

Fixes problems:
	- Fix (pdfwrite): Virtual function same_font cannot work properly if
arguments have different representation (particularly for comparing an
original font with its stable copy). Due to it pdf_font_resource_t::Widths
mixed widths taken from fonts variations with different metrics. Entirely
changing the logics of creating font resources with new function
gs_copied_can_copy_glyphs. Source Forge bugs : #596394 (pdfwrite) Wrong
glyph width (093-01.ps), #567604 missing characters with -c save pop #596284
font spacing/ragged edge on text column (gsfcid.c [1.10], gxfcid.h [1.12],
gxfcopy.c [1.15], gxfcopy.h [1.7]: 2002/09/08 20:20:12 igor)
	- Fix : Propagating possible error in type0_from_cidfont_cmap.
(gsfont0c.c [1.4]: 2002/09/08 20:29:07 igor)
	- temporary workaround for uninitialized reads in 045-01.ps.
(gxcmap.c [1.7]: 2002/09/09 07:29:07 henrys)
	- Fix (pdfwrite) : Improving the logics of merging same fonts, and
fixing a bug in gs_copied_can_copy_glyphs. (gxfcopy.c [1.16]: 2002/09/11
15:10:23 igor)
	- Fix (pdfwrite) : (1) gs_glyph_info_t::v was uninitialized if glyph
metrics is taken from the outline (thanks to Erik Strik for spotting it).
(2) Improving glyph placement. (3) A minor optimization and improving some
comments about glyph placament. (gxtype1.c [1.16]: 2002/09/13 23:43:07 igor)
	- Fix (pdfwrite) : (1) The previous fix wrongly processed Metrics.
(2) TJ arguments were computed with accounting Tc taken from a desincronized
text state. (3) Type 42 missed side bearing. (4) An optimization reduces
calls to gs_default_glyph_info. Debugged with 0.pdf . (gstype42.c [1.23],
gxtype1.c [1.17]: 2002/09/14 02:07:33 igor)
	- Fix (pdfwrite) : (1) Unwinding the previous change for Tj
(gdevpdts.c). (2) sync_text_state now checks the ending position of the text
against the starting position of the text continuation (gdevpdts.c); (3)
font_orig_scale was erroneusely exchenged for original and copied fonts; (4)
Enhancing the hack in font_orig_scale with upside_down FontMatrix, (Source
Forge bug "[ 607480 ] 'Ghost' text appears"). (5) Enhancing
same_type1_hinting with fonts with nulls in Subrs (gxfcopy.c, test file of
#607480). Debugged with 0.pdf and 020-01.ps. (gxfcopy.c [1.17]: 2002/09/14
19:29:30 igor)
	- removes unused variables to avoid warnings. (gximono.c [1.9]:
2002/09/16 23:23:16 giles)
	- removes an unused variable to clear a warning. (vdtrace.c [1.6]:
2002/09/16 23:45:02 giles)
	- Part 1 of 2 of a fix for 601694. Remove check for color space ids
which was producing erroneous messages. Replace it with code for verifying
that DeviceN and Separation info in imager state matches the color space
being used. (gscdevn.c [1.11], gscolor2.c [1.12], gscpixel.c [1.7],
gscsepr.c [1.18], gxistate.h [1.14]: 2002/09/17 22:09:21 dan)
	- Adobe Illustrator 8, 9 and 10 create stitched functions with
Bounds arrays that are illegal according to the PLRM 3rd edition, and the
PDF 1.4 reference. Adobe Acrobat handles these, so we do as well. Bounds
that set zero size ranges are now allowed (Bounds elements equal, or equal
to one of the Domain values). SourceForge bug 609024, 594291.
(gsfunc3.c [1.12]: 2002/09/19 17:55:20 ray)
	- Fix : Providing a virtual path interface for computing glyph bbox
without allocating path segments. SourceForge bug "[ 605200 ] pdf_close
generates many path segments". (gsfont.c [1.13], gstype1.c [1.12],
gstype2.c [1.19], gxhint3.c [1.7], gxpath.c [1.7], gxpath.h [1.7],
gxtype1.c [1.18], gzpath.h [1.8]: 2002/09/23 16:38:28 igor)
	- 'state.width' could hold negative value and this caused wrong
rendering of radial gradient. Now fixed. SF#610359, Wrong rendering of
radial gradient (gxshade1.c [1.17]: 2002/09/25 11:51:47 jeong)
	- We were incorrectly checking the DeviceN component names due to a
misplaced line of code. The result was using the DeviceN colorspace when the
alternate should have been used. (gscdevn.c [1.12]: 2002/09/26 19:03:07 dan)
	- make use of the return value of gs_forward_map_rgb_color() in a
color mapping function. Found through an unused variable warning. Patch from
Henry Stiles. (gdevabuf.c [1.7]: 2002/09/28 18:29:40 giles)
	- Set uncomputed truetype table checksums to zero. Corrects an
undefined variable access and produces deterministic (if still off spec)
output. (gdevpsft.c [1.22]: 2002/09/28 19:05:29 giles)
	- address both color values in gx_dc_ht_binary_get_nonzero_comps().
(gxht.c [1.14]: 2002/09/29 23:35:06 giles)
	- Fix (pdfwrite) : Font type 2 case was missed in compare_glyphs
causing an 'unregistered' error. Debugged with 86554321.pdf .
(gxfcopy.c [1.18]: 2002/10/01 16:10:12 igor)
	- Fix (pdfwrite) : compare_glyphs was not implemented for composite
True Type glyphs. Debugged with test_multipage_prob.pdf . (gxfcopy.c [1.19]:
2002/10/02 12:46:48 igor)
	- Bug #615957 undefined variable in gxclrast.c. This removes
obsolete cmd_map_ht_transfer command and its related code.
(gxcldev.h [1.12], gxclrast.c [1.25]: 2002/10/04 23:31:13 dan)
	- Fix : Added code in gs_image_next_planes to increment the
penum-&gt;y parameter. This parameter is used when penum-&gt;dev is zero,
which occurs when an image or imagemask is rendered as part of the execution
of the charpath operator. Failing to increment this value can result in an
infinite loop. Patch from Jan Stockenius. (gsimage.c [1.11]: 2002/10/10
14:42:50 igor)
	- corrects an uninitialized variable warning. (gsfcid2.c [1.4]:
2002/10/10 19:04:03 giles)
	- Fix : Providing multiple halftone component names for pdfwrite.
They were missed with DeviceN merge. (gxht.h [1.7]: 2002/10/11 19:01:10
igor)
	- Place the under color removal and black generation functions into
the clist for all images. This corrects a problem found with the permute
device, Permute = 1, banding and the RealCities.pdf or foo.pdf test files.
The functions were needed but were not present in the imager state.
(gxclimag.c [1.10]: 2002/10/16 00:29:39 dan)
	- Fix : Providing spot halftone params for pdfwrite. They were
missed with DeviceN merge. (gsht.c [1.16]: 2002/10/16 08:46:39 igor)
	- Introduces "backwards compatible" encode_color routine for
grayscale devices which supply map_rgb_color but not encode_color. Fixes
gray modes in pdfwrite and ijs devices, among others. (gdevdflt.c [1.9],
gxcmap.c [1.11], gxcmap.h [1.7]: 2002/10/17 06:09:34 raph)


The attached code release addresses a number of issues:

  1. Most of the code changes are required to turn off overprint mode when
     processing images, smooth shading fills (shfill operator), or
     when using PatternType 2 (smooth shading) patterns.

  2. A few other changes were required to correct improper updating of the
     overprint compositor information.

  3. The code has been modified to avoid the crash that was observed for
     the file 86554321.pdf on MSWindows XP systems.

  4. The command list playback code has been modified to handle filling of
     thin lines in a manner consistent with the noband case. This allows
     files such as mspro.pdf to be rendered consistently in the banded and
     noband case.

                                                                Jan


Modified Files:

  src/gscolor2.c
    1. Modified gs_setcolorspace to call gs_do_set_overprint rather than
       invoking the color space's set_overprint routine directly. This
       allows pattern color spaces to be handled (somewhat more) correctly.
    2. Modified gs_setcolor to update overprint information. This is
       necessary for pattern color spaces, where the color space to be used
       for overprint purposes may be part of the color.

  src/gscspace.c
    Modified gx_set_overprint_DeviceCMYK to use the effective_overprint_mode
    parameter in the image state (rather than the overprint_mode parameter
    itself). This is part of the change necessary to allow overprint mode to
    be turned off when a PatternType2 pattern is used as the current color.

  src/gsdevice.c
    Modified gs_set_device_no_init to call gs_do_set_overprint rather than
    invoking the color space's set_overprint routine directly.

  src/gsdps1.c
    Modified rectfill to use the effective_overprint_mode parameter in the
    imager state (rather than the overprint_mode parameter).

  src/gsovrc.c
    1. Fixed a bug in overprint_draw_thin_line: the third and fourth
       operands in the call to gx_default_draw_thin_line (the y coordinate
       of the first point and the x-coordinate of the second) were
       in reverse order. This caused random lines to appear on various
       overprint mode tests (e.g.: BEST99-00-Path.fh7.pdf,
       Testform.v1.0.2.pdf).
    2. Fixed typo in comment.
    3. Modified the fill_in_procs procedure to initialize the device color
       model information for the temporary device used in this routine.
       Though the color model information does not affect the output of
       the routine, reasonable values must be provided to avoid problems
       when gx_device_forward_fill_in_procs calls gx_device_fill_in_procs.
       This would cause certain systems to crash with files that involved
       overprint/overprint mode (e.g.: 86554321.pdf on MSWinXP/MSVC systems).
    4. Modified several checks that treated the separable_and_linear flag
       in the device color model information as a boolean to handle this
       parameter as an enumeration instead (since it is an enumeration).

  src/gsptype1.c
    Added gs_pattern1_set_color, the set_color method appropriate for
    PatternType 1 patterns. This method performs overprint updating at
    setcolor time, a requirement for patterns as the "colorspace" to be
    used for overprint purposes is determined (in part) by the current
    "color" (pattern).

  src/gsptype2.c
    Added gs_pattern2_set_color, the set_color method appropriate for
    PatternType 2 patterns.

  src/gsstate.c
    1. Changed the criterion used in gs_grestore_only to determine if the
       overprint compositor must be updated. Restoring the graphic state
       may change the current color, which in the case of patterns may
       change the "colorspace" to be used for overprint purposes. The code
       now properly handles this possibility.
    2. Added the gs_do_set_overprint routine, and modified various other
       routines that directly call the current color space's
       set_overprint method to call this procedure instead. The procedure
       implements the special handling required for pattern color spaces,
       where the current color may need to be considered when determining
       which color model components must be retained.
    3. Added code to initialize the effective_overprint_mode parameter in
       the imager state, and provided two external routines to manipulate
       this parameter. The first routine, gs_disable_effective_overprint_mode,
       sets the effective_overprint_mode parameter to false, irrespective
       of the setting of the overprint_mode parameter. The second,
       gs_reset_effective_overprint_mode, sets the effective_overprint_mode
       parameter to have the same value as the overprint_mode parameter.
       The effective_overprint_mode parameter is used to turn off
       overprint_mode when a PatternType 2 pattern is being used.

  src/gsstate.h
    Added prototypes for gs_do_set_overprint,
    gs_disable_effective_overprint_mode, and
    gs_reset_effective_overprint_mode.

  src/gxccache.c
    Modified gx_image_cached_char to invoke gx_set_dev_color before calling
    (non-standard) device fill_mask methods. This handles several
    situations in which a device color is not set when a cached character
    is to be imaged, in particular for the command list device.

  src/gxclpath.c
    Added a comment to indicate that, though the overprint and
    overprint_mode parameters are passed through the command list, they
    usually have no effect, as overprint is controlled by the compositor
    information that is (also) passed through the command list.

  src/gxclrast.c
    1. Added a comment to indicate that the overprint and overprint mode
       parameters passed through the command list usually have no effect.
    2. Added code to initialize the effective_parameter_mode field in the
       imager state (though this field is usually in-effective).
    3. Initialized the fill_zero_width field of the fill_params structure
       in clist_playback_band to have the same value as in the noband case.
       This parameter was previously always set to false, which led to
       dropped lines for some files (e.g.: mspro.pdf).

  src/gxistate.h
    Added the effective_overprint_mode parameter.

  src/gxpcolor.h
    Added a set_color method to the pattern method vector. This method
    performs any PatternType-specific actions necessary at setcolor
    time. For now, this just updates the overprint compositor as required.
(gscolor2.c [1.11], gscspace.c [1.8], gsdevice.c [1.16], gsdps1.c
[1.7], gsovrc.c [1.2], gsptype1.c [1.10], gsptype2.c [1.10], gsstate.c
[1.17], gsstate.h [1.7], gxccache.c [1.11], gxclpath.c [1.16],
gxclrast.c [1.21], gxistate.h [1.13], gxpcolor.h [1.7]: 2002/09/10
22:16:07 dan; checkin for Jan)

The last code change for the this file was incorrect and should be replaced
with this entry. The previous log message is still applicable.
(gxcmap.c [1.8]: 2002/09/10 23:28:48 henrys)

Bump version numbers after 7.30 release. (gscdef.c [1.26]: 2002/09/12
09:52:20 giles)


  src/gxccache.c
    1. Fixed numerous problems with compress_alpha_bits and its invocation in
       gx_image_cached_char. The former procedure is called only if anti-
       aliasing (text alpha bits &gt; 1) is called for a color that requires
       halftoning or for a device, such as pbmraw, that does not support the
       copy_alpha method. This happens infrequently, and the code was
       apparently never used.
    2. Moved the invocation of gs_set_dev_color to an earlier location in
       gx_image_cached_char, so that the device color will be set before
       any check is made to see if it is a pure color.

  src/gxclimag.c
    1. Added code in clist_fill_mask to return an error if the mask to be
       filled has depth &gt; 1 and clist_disable_copy_alpha flag is set in the
       disable_mask field. The latter will be the case if the target device
       does not support copy alpha. The command list translates fill_mask
       calls into copy_alpha calls, which drives this requirement. By
       returning an error, the fall-back mechanism included in
       gx_image_cached_char (gxccache.c), which is the only client of the
       fill_mask method, can function properly.
    2. Also modified clist_fill_mask to check that the drawing color is
       pure if depth &gt; 1 and use the default fill_mask method if this is
       not the case. (The copy_alpha call to which the command list code will
       translate the fill_mask works only for pure colors.) In addition, if
       the color is pure, the clist_fill_mask routine will now send commands
       to set color1 as well as transmit the device color; the code in
       clist_playback_band (gxclrast.c) assumes that all "copy_mono" and
       "copy_alpha" commands have set color1.

  src/gxclist.c
    Added code in clist_init_data to set the clist_disable_copy_alpha bit
    in the disable_mask field if the target device does not support the
    copy_alpha method. This must be done in this rather unintuitive location
    because it is impossible to tell if the target device supports copy_alpha
    until it has been made into a memory device (via the create_buf_device
    buffer device method).

  src/gxclist.h
    Defined the clist_disable_copy_alpha bit, which is used in the
    disable_mask field to indicate that the target device does not support
    the copy_alpha method.

  src/gxclrast.c
    Added include of gzht.h, to silence some compiler complaints.

  src/gxclrect.c
    Modified clist_copy_alpha to return an error if clist_disable_copy_alpha
    bit is set in the disable_mask field. This bit indicates that the target
    device does not support the copy_alpha method, so we might as well
    return an error now, while there is a chance the client might be able to
    do something about it.
(gxccache.c [1.12], gxclimag.c [1.9], gxclist.c [1.9], gxclist.h
[1.6], gxclrast.c [1.22], gxclrect.c [1.5]: 2002/09/13 22:21:22 dan;
checkin for Jan)

Add a macro to eliminate compiler warnings if size of gx_color_index is only
4 bytes. We are defining a table with entry sizes up to 8 bytes.
(gxclutil.c [1.9]: 2002/09/13 22:25:07 dan)

Add two casts to eliminate warning messages about differing pointer types.
(gdevmem.c [1.6]: 2002/09/16 22:04:43 dan)

Remove old code inadvertently left within a comment. (gsfunc3.c [1.13]:
2002/09/19 18:00:01 ray)


The modification changes the way tile depth is encoded in the command
list as part of the cmd_opv_set_tile_size command.

Modified files:

  gxcldev.h
    Added the macros cmd_depth_to_code and cmd_code_to_depth. These allow
    encoding/decoding of the color model depth parameter (bits/pixel) in
    such a manner as to support depths up to 120 bits (depths &gt; 15 bits
    must be a multiple of 8).

  gxclbits.c
    Modified cmd_store_tile_params to use the cmd_depth_to_code macro.

  gxclrast.c
    Modified read_set_tile_size to use the cmd_code_to_depth macro.
(gxclbits.c [1.8], gxcldev.h [1.11], gxclrast.c [1.23]: 2002/09/19
18:36:03 dan; checkin for Jan)


The attached code generalizes the sample_load_* and sample_store_* macros
in gsbitops.h to handle depths up to 64 bits. In addition to providing
64 bit versions of these macros, we also added the macros sample_load_any,
sample_load_next_any, and sample_store_next_any. These macros are intended
to be used in situations in which any supported depth may be used. All of
the invocations of the sample_load32, sample_load_next32, etc. macros have
been changed to invoke the *_any version of these macros instead. In
addition, a few minor changes have been made to silence compiler warning
messages.

Modified files:

  src/gdevalph.c
    Changed invocations of the sample_{load|store}_next32 macro to be
    invocations of sample_{load|store}_next_any instead. Also made various
    changes to allow the code to be compiled with the DeviceN system (the
    file has apparently not been compiled for some time).

  src/gdevdbit.c
    Made a couple of minor changes to silence compiler warning messages.

  src/gdevdgbr.c
    Changed invocations of the sample_{load|store}_next32 macro to be
    invocations of sample_{load|store}_next_any instead.

  src/gdevmpla.c
    Changed invocations of the sample_{load|store}_next32 macro to be
    invocations of sample_{load|store}_next_any instead.

  src/gsbitops.c
    Changed invocations of the sample_{load|store}_next32 macro to be
    invocations of sample_{load|store}_next_any instead. Also made the
    value being read/written be of type gx_color_index rather than
    type bits32.

  src/gsbitops.h
    Added 64-bit versions of the sample_load* and sample_store* macros.
    Also added *_any versions of these macros, to be used in situations
    where any supported color depth may be encountered.

  src/gxcindex.h
    Changed an invocation of the sample_store_next32 macro to be an
    invocation of sample_store_next_any instead. Also updated a comment.
(gdevalph.c [1.6], gdevdbit.c [1.8], gdevdgbr.c [1.8], gdevmpla.c
[1.5], gsbitops.c [1.7], gsbitops.h [1.7], gxcindex.h [1.6]:
2002/09/21 00:26:04 dan; checkin for Jan)

src/gsht.c 1. Fixed a memory handling problem in gx_imager_dev_ht_install,
which could result in objects being freed multiple times. 2. Removed a
temporary hack in gx_imager_dev_ht_install that ensured that the halftone
cache always had at least one tile per level. This hack is no longer
necessary, as binary halftone device colors are now handled correctly.
(gsht.c [1.11]: 2002/09/21 07:08:27 dan)


Modified Files:

  src/gsmisc.c
    Fixed an apparently long-standing bug in ilog2. Due to a typo, this
    procedure returned 0 for any power of 16.

  src/gxoprect.c
    Fixed an uninitialized variable problem in
    gx_overprint_sep_fill_rectangle_1 and gx_overprint_sep_fill_rectangle_2.
(gsmisc.c [1.15], gxoprect.c [1.2]: 2002/09/23 01:21:02 dan; checkin for Jan)

Modified Files: src/gsht.c Modified the invocation of
gx_device_halftone_release in gx_ht_install to use the memory allocator
pointer stored in the device halftone, rather than the one stored in the
graphic state. src/gsimage.c Removed what appears to have been an errant
optimization in gx_image_cleanup. This procedure will now always invoke
gx_image_end, even if the image was not rendered (penum-&gt;dev == 0).
(gsht.c [1.12], gsimage.c [1.9]: 2002/09/23 21:36:31 dan)


The attached code release fixes a variety of memory handling problems
discovered by Dan's test with the memory validation enabled.

  1. Most of the problems with the FTS were accounted for by a relatively
     harmless dangling pointer problem for paths. In order to support the
     charpath operator, paths are normally constructed in stable memory
     (not subject to save/restore). However, clipping paths were
     constructed in normal memory. If the clippath operator was used to
     make the clipping path the current path, the top-level
     gx_path_segments would be in stable memory, while the rest of the
     path would be in normal memory. A restore operation could then
     leave dangling pointers.

     This is not normally a problem, because the grestore operation
     associated with the restore would clear the gx_path_segments
     structure. This only works on the graphic state stack, however;
     graphic state objects stored in VM would not be reset.

     This is harmful only in a very obscure case when the charpath operator
     is used on a user-defined font whose BuildGlyph procedure contains
     internal save/restore operators and which builds part of its
     output with the clippath operator. As far as we know, this has
     never occurred in practice.

  2. [...zDCTE stable memory...]

  3. If an overprint compositor was used with a banding device, the code
     in clist_playback_band was not cleaning up this compositor before
     exiting. This caused difficulty with the p2b-100.pdf file. This
     code has been modified to close the target device if this device
     does not match the original target device with which the routine
     was invoked.

  4. For historical reasons, the link between a halftone order and its
     tile cache is a bit peculiar. The order includes a pointer to the
     tile cache, and the tile cache keeps a copy of the order, which
     points to the same levels/bit data structure of the original order.
     Because of these two-way points, the order and its tile cache must
     use the same memory allocator to avoid dangling pointer problems.
     The code patch modifies gx_imager_dev_ht_install (gsht.c) to
     preserve this invariant. The change fixes another problem noted for
     p2b-100.pdf.

With these changes, we are able to run both the PS3 FTS and the full set
of pdf regression files using the '-Z@&#36;?' switch with no reported problems.


                                                       Jan

Modified files:

  src/gspaint.c
  src/gspath.c
    In gs_strokepath and gs_clippath, cause the newly constructed path to
    use the memory allocator of the current path, rather than the memory
    of the current graphic state. This is no longer strictly necessary
    due to other changes that place path substructure completely in
    stable memory (see gxpath.c below).

  src/gxpath.c
    Modify path_allocs_segments, rc_free_path_segments_local,
    gx_path_add_lines_notes, and the path_alloc_segment macro to place
    the entire path substructure (from the gx_path_segments structure
    down) in stable memory. This is necessary to avoid dangling
    pointers, as a list of path segments may be attached to another path,
    parts of which were constructed with a different allocator.

  src/gsht1.c
    Removed obsolete code.

  src/gxclrast.c
    In clist_playback_band, close and discard the target device on
    completion of a band if it is not the same as the target device on
    entry.  This is necessary to remove an overprint compositor that
    may have been created in the course of the band.

  src/gsht.c
    In gx_imager_dev_ht_install, copy any halftone orders that were not
    allocated using the same allocator as used by the graphic state. This
    must be done to avoid dangling forward/back pointer between halftone
    orders and the associated tile caches.
(gsht.c [1.13], gsht1.c [1.11], gspaint.c [1.5], gspath.c [1.7],
gxclrast.c [1.24], gxpath.c [1.8]: 2002/09/26 18:45:02 dan; checkin
for Jan)

Move the callback routine, which is used to translate a gs_separation_name
into a string pointer and a length, from the graphics state into the device
color structure. This is being done to make it available to the pdfwrite
device when handling DeviceN or Separation color spaces. (gscdevn.c [1.13],
gscsepr.c [1.19], gscspace.h [1.13], gsht.c [1.14], gxstate.h [1.7]:
2002/10/04 23:43:38 dan)

This file was missed in the previous commit. Move the callback routine,
which is used to translate a gs_separation_name into a string pointer and a
length, from the graphics state into the device color structure. This is
being done to make it available to the pdfwrite device when handling DeviceN
or Separation color spaces. (gzht.h [1.10]: 2002/10/05 03:41:42 dan)

Apply casts to remove lots of warnings from MSVC 6. Update some Windows
color mapping functions for DeviceN. Change order of arguments for the
gs_pdf14_device_filter_push function and the calls to the device filter push
procedure to match the prototype. (gdevdflt.c [1.7], gdevdgbr.c [1.9],
gdevm1.c [1.6], gdevp14.c [1.14], gdevpsf1.c [1.16], gdevpsf2.c [1.26],
gdevpsft.c [1.23], gdevpsfx.c [1.16], gsbitops.c [1.8], gsciemap.c [1.12],
gscrdp.c [1.5], gsdevice.c [1.17], gsdfilt.c [1.7], gsfont.c [1.14],
gsfunc0.c [1.10], gsfunc4.c [1.13], gsicc.c [1.9], gspaint.c [1.6],
gsparam.c [1.7], gsptype1.c [1.11], gstype2.c [1.20], gstype42.c [1.24],
gsutil.c [1.9], gswts.c [1.2], gxccache.c [1.13], gxclpath.c [1.17],
gxcmap.c [1.9], gxdhtserial.c [1.3], gxifast.c [1.8], gximag3x.c [1.13],
gximage.c [1.6], gximage3.c [1.10], gxipixel.c [1.8], gxistate.h [1.15],
gxline.h [1.6], gxoprect.c [1.3], gxpcopy.c [1.7], gxshade4.c [1.10],
gxtype1.c [1.19], gxwts.c [1.4]: 2002/10/07 08:28:56 ghostgum)


Attached is a updated version of our code release of 4 October, 2002.

As before, the primary purpose of this release is to modify the manner
in which overprint information is passed to the overprint compositor
device.  This resolves some difficulties seen when overprinting is
used with the command list device.

This update incorporates the changes checked in by Dan on October 4th.
Since Dan's changes to gxcldev.h and gxclrast.c were identical to ours,
we have removed those two files from this release.

                                                       Jan


Modified Files

  lib/gs_init.ps
  lib/pdf_draw.ps
    Change "DONTPS" flag to "DOPS", with the logically inverted function:
    only if DOPS is defined will "PS" XObjects be rendered. We believe this
    is the more appropriate default.

  lib/gs_dps.ps
  lib/gs_img.ps
  src/gsdparams.c
    Modified the deviceinfo and image code to work around a potentially
    improperly set ColorValues parameter.

  src/devs.mak
    Updated dependency list for gdevscf.&#36;(OBJ).

  src/gdevdflt.c
    1. Added initialization of the new color_info.opmode field to
       gx_device_fill_in_procs.
    2. In get_decode_color, added special case handling for canonical 1-bit
       CMYK devices (e.g.: pkmraw). Previously the decode_color method for
       this devices would default to gx_default_cmyk_decode_color, which
       performed an CMYK ==&gt; RGB ==&gt; CMYK conversion. This conversion would
       defeat overprinting if gray object was placed on top of a colored
       region.

  src/gscdevn.c
  src/gscolor.c
  src/gscolor2.c
  src/gscpixel.c
  src/gscsepr.c
  src/gscspace.c
  src/gsovrc.c
  src/gxovrc.h
  src/gspcolor.c
  src/gsptype1.c
  src/gsptype2.c
  src/gsstate.c
  src/gsstate.h
  src/gxcmap.c
  src/gxcspace.h
  src/zcolor.c
    Modified the overprint code to, when necessary, pass overprint mode
    information when setting the device color. This is necessary to properly
    handle overprint mode when using the command list device.

    NB: This change alters the meaning of the "effective_overprint_mode" field
        in the imager state.

  src/gxdevcli.h
    Added the opmode and process_comps fields to the gx_device_color_info
    structure. These are required by the new code that passes overprint mode
    information when the device color is set.

  src/gsdfilt.h
    Changed the prototype for the push method in the gs_device_filter
    structure to match the actual implementation and usage of this method
    (the third and fourth operands were reversed).

  src/gsimage.c
    Modified gx_image_cleanup to check if penum-&gt;info field is null before
    calling gx_image_end. This avoids a crash associated that can occur if
    an image has zero height or width, as the image enumeration data structure
    will have been released in such cases before gs_image_cleanup is called.

  src/lib.mak
    Updated various dependency lists.

  src/gdevdevn.c
  src/gdevnfwd.c
  src/gdevpdte.c
  src/gdevxcf.c
  src/gscrdp.c
  src/gsdfilt.c
  src/gsht.c
  src/gsht1.c
  src/gswts.c
  src/gzht.h
  src/ialloc.c
  src/imain.c
  src/iscanbin.c
  zfapi.c
    Installed some minor changes to quiet compiler warnings.

(gdevdflt.c [1.8], gdevnfwd.c [1.7], gscdevn.c [1.14], gscolor.c
[1.10], gscolor2.c [1.13], gscpixel.c [1.8], gscrdp.c [1.6], gscsepr.c
[1.20], gscspace.c [1.9], gsdfilt.h [1.7], gsdparam.c [1.11], gsht.c
[1.15], gsht1.c [1.12], gsimage.c [1.10], gsovrc.h [1.2], gsovrc.c
[1.3], gspcolor.c [1.8], gsptype1.c [1.12], gsptype2.c [1.11],
gsstate.c [1.18], gsstate.h [1.8], gswts.c [1.3], gxcmap.c [1.10],
gxcspace.h [1.9], gxdevcli.h [1.14], gzht.h [1.11]: 2002/10/08
00:49:49 dan; checkin for Jan)

Due to a combination of corrections by Russell Lang and Jan Stoeckenius, we
have corrected a problem - twice. Unfortunately this is an example of two
rights making a wrong. Thanks to Jan for noticing this. (gsdfilt.h [1.8]:
2002/10/08 23:02:31 dan)

Corrects an unitialized variable warning in image_render_color(). The
routine now falls back to landscape scan parameters in the unhandled 'skew'
posture case. (gxicolor.c [1.7]: 2002/10/10 19:30:42 giles)

Correct handling of text when the pixel depth is 56 bits. (gdevm56.c [1.2]:
2002/10/11 05:58:22 dan)

Modified the dci_alpha_values macro to assume that devices with depth &gt;=
16 have a separable and linear color encoding. (gxdevcli.h [1.15]:
2002/10/16 00:47:55 dan)

First documentation commit for 7.31 release: edits to News.htm, version and
date updates, minor patches to Develop.htm and Deprecated.htm.
(gscdef.c [1.27]: 2002/10/17 06:37:29 raph)

</pre><h2><a name="7.31-Other"></a>Other</h2><pre>

Adds sobin and soobj to .cvsignore. (.cvsignore [1.5]: 2002/09/29 17:24:43
giles)

Adds some missing files to the ijs .cvsignore. (ijs/.cvsignore [1.2]:
2002/09/29 17:54:28 giles)

Remove remaining references to ansi2knr.c. We no longer support building
ghostscript with it, but the remaining dead code causes confusion for some
users. Inspired by Sourceforge bug #618048. Removes references to the no
longer supported ansi2knr.c. (Makefile.in [1.17]: 2002/10/09 23:43:58 giles)

</pre>
<hr>

<h1><a name="Version7.30"></a>Version 7.30 (2002-09-07)</h1>

<p>
This is an alpha testing release of the new DeviceN
implementation. In addition, there have been numerous bug fixes and
further cleanup in the pdfwrite device.

<p>
Unfortunately, documentation for the DeviceN changes was not available
in time for this release.

<p>
The following SourceForge bug numbers were open at the time of the last release:
405342,
407342,
414947,
414985,
423838,
434277,
446344,
446672,
458261,
458775,
458780,
459647,
465720,
465936,
468762,
484752,
484753,
485510,
487953,
493348,
495319,
505429,
508081,
509646,
510808,
513905,
517349,
526099,
526491,
528647,
530011,
530588,
533467,
535366,
535752,
535836,
538033,
538428,
542848,
543185,
546823,
552989,
554076,
557177,
558151,
558435,
560508,
562103,
563287,
567421,
567487,
567487,
567604,
567773,
569573,
570772,
572119,
573744,
576591,
578838,
578865,
580029,
582471,
583413,
584990,
590979,
591768,
592160,
592164,
592833,
592837,
592841,
592925,
592930,
594291,
594582,
595375,
595378,
595760,
596009,
596228,
596284,
596394,
598014,
598746,
600281,
600288,
600855,
601255,
601336,
601694,
601704,
602016,
602739,
602995,
603003,
603157,
603577,
603689,
603934,
604884
604886,
605200,
605830.

<p>
In addition, a significant number of regressions remain. See the <a
href="http://www.ghostscript.com/pipermail/gs-regression/2002-September/thread.html">archives</a>
of the regression report for more details.

<h3><a name="7.30_Incompatible_changes"></a>Incompatible changes</h3>

<p>
A number of DeviceN changes can cause incompatibility. They are
summarized below.

<pre>
* gx_color_index may now be 32 or 64 bits, determined at compile time.

* The gx_device_color_info field has been updated to include
  significantly more information about the encoding from colors in the
  process color model to gx_color_index colors. New fields include:
  polarity, gray_index, separable_and_linear, comp_shift, and comp_bits.
  Devices are strongly encouraged to set these new fields correctly.
  See gxdevcli.h for more information.

* Some existing device procedures for color mapping have changed.
  map_rgb_color now takes a cv[] array rather than separate red, green,
  and blue scalar color values, and similarly for map_cmyk_color.

* New device procedures: get_color_mapping_procs, get_color_comp_index,
  encode_color, decode_color. These device procedures are required for
  devices defining additional colorant planes, and may be desirable for
  finer control over color mapping. See gxdevcli.h and gxcmap.c for
  more information.
</pre>


<h2><a name="7.30-Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- byte* filearg should be a char* and copied to the heap. Fixes SF
bug #509646. Also adds byte */char * string convention to C-style.htm.
(doc/C-style.htm [1.34]: 2002/08/28 00:16:14 raph)
	- Fixes incorrect links in the previous commit.
(doc/Develop.htm [1.88]: 2002/09/07 18:05:08 giles)

Third and final commit of 7.22 release: bump version numbers to 7.23.
(doc/News.htm [1.110]: 2002/08/07 06:58:52 raph)

Prefer {} to () for optional commandline arguments. Patch from Eric S.
Raymond. (man/de/ps2pdf.1 [1.3], man/ps2pdf.1 [1.22], man/ps2pdfwr.1 [1.21]:
2002/08/08 12:22:57 giles)

Added description of files added while implementing DeviceN color handling.
(doc/Psfiles.htm [1.35]: 2002/09/04 07:21:26 dan)

Add documentation for new files added during DeviceN support development.
(doc/Develop.htm [1.85]: 2002/09/05 04:18:47 dan)

Delete all temporary files when the interpreter closes.
(doc/Language.htm [1.51]: 2002/09/05 12:20:48 ghostgum)

Include more DeviceN files. Correct a few typos in the previous commit.
(doc/Develop.htm [1.86]: 2002/09/06 05:16:58 dan)

Update versions, news and bug list for 7.30 alpha release.
(doc/News.htm [1.111]: 2002/09/07 17:57:09 giles)

Add the well-tempered screening source files to the developer documentation.
(doc/Develop.htm [1.87]: 2002/09/07 18:03:07 giles)

Update version numbers for 7.30 release. (doc/API.htm [1.24],
doc/Bug-form.htm [1.29], doc/Bug-info.htm [1.28], doc/C-style.htm [1.35],
doc/Commprod.htm [1.21], doc/Copying.htm [1.21], doc/Current.htm [1.21],
doc/DLL.htm [1.23], doc/Develop.htm [1.89], doc/Devices.htm [1.47],
doc/Drivers.htm [1.31], doc/Fonts.htm [1.30], doc/Helpers.htm [1.25],
doc/History1.htm [1.21], doc/History2.htm [1.21], doc/History3.htm [1.21],
doc/History4.htm [1.21], doc/History5.htm [1.23], doc/History6.htm [1.38],
doc/History7.htm [1.20], doc/Htmstyle.htm [1.26], doc/Install.htm [1.34],
doc/Issues.htm [1.25], doc/Language.htm [1.52], doc/Lib.htm [1.23],
doc/Maintain.htm [1.31], doc/Make.htm [1.53], doc/New-user.htm [1.40],
doc/Projects.htm [1.45], doc/Ps-style.htm [1.19], doc/Ps2epsi.htm [1.23],
doc/Ps2pdf.htm [1.45], doc/Psfiles.htm [1.36], doc/Readme.htm [1.40],
doc/Release.htm [1.64], doc/Source.htm [1.21], doc/Tester.htm [1.20],
doc/Testing.htm [1.9], doc/Unix-lpr.htm [1.21], doc/Use.htm [1.56],
doc/Xfonts.htm [1.21], doc/gs-vms.hlp [1.20]: 2002/09/07 18:11:42 giles)

Update version numbers for 7.30 release. (man/dvipdf.1 [1.18],
man/font2c.1 [1.18], man/gs.1 [1.18], man/gslp.1 [1.18], man/gsnd.1 [1.18],
man/pdf2dsc.1 [1.17], man/pdf2ps.1 [1.19], man/pdfopt.1 [1.17],
man/pf2afm.1 [1.18], man/pfbtopfa.1 [1.19], man/printafm.1 [1.18],
man/ps2ascii.1 [1.17], man/ps2epsi.1 [1.16], man/ps2pdf.1 [1.23],
man/ps2pdfwr.1 [1.22], man/ps2ps.1 [1.24], man/wftopfa.1 [1.18]: 2002/09/07
18:11:58 giles)

Update the stress-test buffer size for the smoke test to a value which works
with the devicen code (100k vs 50k). (doc/Release.htm [1.65]: 2002/09/07
19:09:40 giles)

Documentation to accompany gdevperm.c (permute device).
(doc/Develop.htm [1.90], doc/Devices.htm [1.48]: 2002/09/07 20:33:04 raph)

Adds a description of our release numbering scheme and clarifies the
updating process. Based on a patch from L. Peter Deutsch.
(doc/Release.htm [1.66]: 2002/09/07 22:12:27 giles)

Minor tweaking to version numbering language. (doc/Release.htm [1.67]:
2002/09/07 22:45:57 raph)

</pre><h2><a name="7.30-Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- Fixing syntax errors and potentially dangerous warnings with MSVC
after DeviceN merge. (lib.mak [1.91]: 2002/08/22 10:00:48 igor)
	- Logic to invoke banding was confused. Banding gets used when the
bandsize is too small for the full page raster. A bandsize of 10000 causes
banding. (toolbin/tests/gstestgs.py [1.12]: 2002/09/04 23:09:12 ray)
	- Provide an implementation of popen for Windows, to avoid the
broken implementation in MSVC++ 5 and 6. This allows pswrite to output to a
pipe on Windows. Fixes SourceForge bug #482038, pswrite does not write to
pipe. (winlib.mak [1.17]: 2002/09/05 08:34:00 ghostgum)
	- Fix : The "Fix: add missing header for isxdigit()." missed the
dependency update in devs.mak . (devs.mak [1.71]: 2002/09/05 08:50:53 igor)

Third and final commit of 7.22 release: bump version numbers to 7.23.
(version.mak [1.50]: 2002/08/07 06:58:53 raph)

Remove unused defines for the gtk client. (macos-fw.mak [1.6]: 2002/08/07
13:01:18 giles)

DeviceN. (devs.mak [1.70], gs.mak [1.15], int.mak [1.82], lib.mak [1.90],
msvc32.mak [1.30], openvms.mak [1.24], unix-gcc.mak [1.34],
watclib.mak [1.18]: 2002/08/22 07:12:28 henrys)

Modified files:
  src/lib.mak
    Updated varius dependency lists.
(lib.mak [1.92]: 2002/08/26 23:00:07 dan)

Re corrected a problem with an illegal (from the point of view of MSVC)
period in a marcro name. Problem previously fixed by Igor. It came back in
the previous commit which came from ORIMP. (lib.mak [1.93]: 2002/08/26
23:02:24 dan)

Remove gdevht.c and gdevht.h. Also delete outdated references in lib.mak and
a few other files. (lib.mak [1.94]: 2002/09/04 06:36:36 dan)

Changes required for compilation on HPUX and Tru64. Add missing header in
lib.mak after gxdcolor.h added to gscolor3.c. Change dci_std_color_bits
macro to prevent a divide by zero, caused by the compiler not using shortcut
evaluation in an initializer. (lib.mak [1.95]: 2002/09/04 21:44:14 ghostgum)

Update versions, news and bug list for 7.30 alpha release.
(version.mak [1.51]: 2002/09/07 17:57:09 giles)

Update libpng versions to latest release. (all-arch.mak [1.13],
bcwin32.mak [1.20], dvx-gcc.mak [1.19], macos-mcp.mak [1.8],
macosx.mak [1.11], msvc32.mak [1.31], msvclib.mak [1.20],
openvms.mak [1.25], os2.mak [1.26], ugcclib.mak [1.20], unix-gcc.mak [1.35],
unixansi.mak [1.24], watc.mak [1.20], watclib.mak [1.19],
watcw32.mak [1.18]: 2002/09/07 18:28:37 giles)

</pre><h2><a name="7.30-Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- update MacOS build for changes in gs_abort(). (gp_mac.c [1.8]:
2002/08/27 20:27:26 giles)
	- Provide an implementation of popen for Windows, to avoid the
broken implementation in MSVC++ 5 and 6. This allows pswrite to output to a
pipe on Windows. Fixes SourceForge bug #482038, pswrite does not write to
pipe. (gp_mswin.c [1.12]: 2002/09/05 08:34:00 ghostgum)

DeviceN. (genconf.c [1.9]: 2002/08/22 07:12:28 henrys)

Update project file generation script to support Metrowerks CodeWarrior 7.
(macgenmcpxml.sh [1.3]: 2002/09/04 08:57:03 giles)

Code cleanup and warning fixes for macos platform-specific routines.
(gp_macio.c [1.8]: 2002/09/04 10:15:33 giles)

</pre><h2><a name="7.30-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- FILE_IMPLEMENTATION=fd results in mixed use of unbuffered and
buffered output but the rest of the driver always uses buffered output.
Flushing the buffer in several places solves the problem. Fixes bug #427347.
Fix and analysis by Alex Cherepanov. (gdevps.c [1.29], gdevpsu.c [1.12]:
2002/08/28 15:19:12 ray)

DeviceN. (gdev4693.c [1.6], gdevbit.c [1.5], gdevbmpc.c [1.6],
gdevcdj.c [1.11], gdevdevn.c [1.1], gdevdsp.c [1.12], gdevepsc.c [1.7],
gdevpbm.c [1.8], gdevpccm.c [1.5], gdevpcl.c [1.8], gdevps.c [1.28],
gdevpsdf.h [1.18], gdevpsdi.c [1.22], gdevpsdu.c [1.17], gdevstc.c [1.6],
gdevtknk.c [1.6], gdevupd.c [1.9], gdevx.c [1.14], gdevxalt.c [1.8],
gdevxcf.c [1.1], gdevxcmp.c [1.8]: 2002/08/22 07:12:28 henrys)

Removes dead code harking back from the old, broken x11alpha device.
(gdevxalt.c [1.9]: 2002/09/03 17:48:28 raph)

Adds "permute" device for testing consistency between DeviceCMYK and DeviceN
color models. (gdevperm.c [1.1], gdevxcf.c [1.2]: 2002/09/07 20:02:26 raph)

Removes just a bit more dead code from the old x11alpha driver.
(gdevxalt.c [1.10]: 2002/09/07 20:02:54 raph)

</pre><h2><a name="7.30-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- Fix (pdfwrite): Widths for /.notdef was not cached, perhaps
Pscript.dll Version 5.0 generates an Encoding, in which /space is replaced
with /.notdef . Source Forge bug #590979 "Spaces drop out".
(gdevpdtt.c [1.8]: 2002/08/07 11:10:56 igor)
	- Fix (pdfwrite): Widths were missed (written as zeros) for Type 3
fonts. Source Forge bug #591808 "Scrambled spacing, chars superimposed"
(gdevpdti.c [1.5]: 2002/08/07 11:33:58 igor)
	- AR5 fails in image when CTM is singular. Skipping such images.
Source Forge bug #453969. Patch from Alex Cherepanov. (gdevpdfi.c [1.42]:
2002/08/14 15:56:19 igor)
	- Fix (pdfwrite): Widths for different WMode's were mixed in same
cache. Discovered with CompareFiles/093-01.ps . (gdevpdte.c [1.10]:
2002/08/16 15:11:05 igor)
	- Fix (pdfwrite) : When device resolution is reduced to keep numbers
within Acrobat Reader limits, the device closed and re-opened. This
re-opened the output PDF file, dropping all preceding pages. The fix removes
the closing of the device. Source Forge Bug #593124. Patch from Alex
Cherepanov. (gdevpdfp.c [1.28]: 2002/08/26 06:29:15 igor)
	- Fix (pdfwrite): Implementing settransfer after DeviceN merge.
(gdevpdfg.c [1.24]: 2002/08/30 09:30:27 igor)
	- Write named COS objects which go out of scope with the local
namespace. Source Forge bug #600243. Patch from Alex Cherepanov.
(gdevpdfm.c [1.26]: 2002/09/01 01:44:15 igor)
	- Fix (pdfwrite) : 'Td' sometimes was missed due to sync_text_state
wrondly checked text position. Discovered with 129-01.ps .
(gdevpdts.c [1.12]: 2002/09/01 16:02:12 igor)
	- add missing header for isxdigit(). (gdevpdtb.c [1.8]: 2002/09/02
22:01:20 giles)
	- Fix (pdfwrite) : pdf_font_resource_enum_ptrs was buggy since
revision 1.9 . (gdevpdtf.c [1.13]: 2002/09/03 19:45:23 igor)
	- Fix (pdfwrite) : (1) Moving the temporary CID font wrapper from
stable to non-stable memory, because its descendent font is non-stable; (2)
Removing pdf_font_resource::glyphshow_font, because after (1) it points from
stable to non-stable memory. (3) representing the "glyphshow_font"
association with a search through gs_font_dir::orig_fonts by font id.
Introducing a new graphics library function gs_find_font_by_id for (3).
Source Forge bug "[603955] (pdfwrite) wrong memory allocation, segv"
(gdevpdtf.c [1.14], gdevpdtf.h [1.5]: 2002/09/05 09:03:42 igor)
	- Fix (pdfwrite) : (1) Moving the temporary CID font wrapper from
stable to non-stable memory, because its descendent font is non-stable; (2)
Removing pdf_font_resource::glyphshow_font, because after (1) it points from
stable to non-stable memory. (3) representing the "glyphshow_font"
association with a search through gs_font_dir::orig_fonts by font id.
Introducing a new graphics library function gs_find_font_by_id for (3).
Source Forge bug "[603955] (pdfwrite) wrong memory allocation, segv"
(gdevpdtc.c [1.8]: 2002/09/05 09:12:30 igor)
	- Fix : (1) ioerror was missed after opening a stream; (2)
pdfwrite/epswrite missed ioerror writing a CFF. Source Forge bug #601238
"segv due to s_init_filter ignores errors". (gdevpdf.c [1.52]: 2002/09/05
18:07:59 igor)

Skipping 0-size images in pdfwrite because AR5 doesn't support them. Patch
from Alex Cherepanov. (gdevpdfi.c [1.41]: 2002/08/13 10:15:38 igor)

DeviceN. (gdevpdf.c [1.51], gdevpdfc.c [1.27], gdevpdfg.c [1.23]: 2002/08/22
07:12:28 henrys)

Move the module back to the same as rev 1.5 as the basis for future fixes.
Rev 1.6 was reinstated to avoid a spurious tag for 7.22, but the 1.6 version
was flawed and removed by Igor Melichev. (gdevpdtw.c [1.7]: 2002/08/27
06:55:54 ray)

</pre><h2><a name="7.30-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- Dereference indirect objects used as numbers in /Differences array
by pdfTeX-1.0-pdfcrypt. SourceForge bug #580873. Fix by Alex Cherepanov.
(lib/pdf_font.ps [1.42]: 2002/08/13 15:32:51 ray)
	- Extra 'ifelse' in a pdfformaterror case when the Widths array was
smaller than the character range. No SF bug, but fixes George.pdf for
Artifex customer #1 (their support ticket 1-2398). (lib/pdf_font.ps [1.43]:
2002/08/28 07:07:08 ray)
	- Improve accuracy of transparency detection logic. Fixes SF bug
#586595. (lib/pdf_main.ps [1.56]: 2002/08/28 17:34:16 raph)
	- Partial fix to 600855 to allow the pdfwrite (Distiller) to learn
the original font name as well as the unique font name generated by the PDF
interpreter when it copies a font and changes the Metrics and/or Encoding.
The FontName was made unique by appending a series of ? chars until a unique
name was generated. Now the suffix string itself is also defined in the
modified font dictionary with the /FontNameSuffix key. The pdfwrite text
handling needs to be modified to use this information.
(lib/pdf_font.ps [1.44]: 2002/08/29 06:26:22 ray)
	- Initialize graphic state (except CTM) before rendering annotation
appearance stream as stated in 7.4.4 of the PDF reference. Bug #576586,
customer #580. Fix by Alex Cherepanov. (lib/pdf_draw.ps [1.51]: 2002/09/01
23:42:32 ray)
	- Apparently filters that expect EOD throw an ioerror if no data is
received. Just processes without invoking any filter and everything works as
Adobe Acrobat Reader does. SourceForge bug #605236 for customer 561.
(lib/pdf_base.ps [1.28]: 2002/09/05 20:04:27 ray)

DeviceN. (lib/pdf_draw.ps [1.50], lib/pdf_main.ps [1.55]: 2002/08/22
07:12:28 henrys)

</pre><h2><a name="7.30-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- Fix (FAPI): Embedded Type 2 was misidentified as a non-embedded
font. (zfapi.c [1.24]: 2002/08/17 08:04:42 igor)
	- Fix (FAPI): Allowing servers to substitute glyph name for
FAPI_FF_get_glyph callback. (fapiufst.c [1.18], ifapi.h [1.13],
zfapi.c [1.25]: 2002/08/17 09:17:15 igor)
	- Fix (FAPI): Type 1 instruction seac did not work with embedded
fonts. (ifapi.h [1.14], zfapi.c [1.26]: 2002/08/17 10:36:55 igor)
	- Fixing syntax errors and potentially dangerous warnings with MSVC
after DeviceN merge. (dwmain.c [1.11], dwmainc.c [1.14], dwtrace.c [1.3]:
2002/08/22 10:00:48 igor)
	- Fix (FAPI): Improving comments about the 'get_glyph' callback.
(zfapi.c [1.27]: 2002/08/24 09:16:28 igor)
	- Undocumented procedure /setweightvector added to internaldict.
Source Forge bug #593355. Patch from Alex Cherepanov.
(lib/gs_type1.ps [1.12]: 2002/08/26 06:51:01 igor)
	- byte* filearg should be a char* and copied to the heap. Fixes SF
bug #509646. Also adds byte */char * string convention to C-style.htm.
(icstate.h [1.9], imainarg.c [1.22]: 2002/08/28 00:16:14 raph)
	- The technique used to prevent PageSize dimension of 0 silently set
the page size to 6 points whenever the dimension was &lt; 6. Now either
dimension of 0 causes configurationerror from setpagedevice, but small
non-zero values are allowed if the InputAttributes allows it. Fixes
SourceForge bug 521916. Fix mostly by Alex Cherepanov.
(lib/gs_setpd.ps [1.14], zmedia2.c [1.9]: 2002/08/28 14:32:28 ray)
	- Unbound null in the PostScript setup code (gs_init.ps) allowed
redef of /null to cause problems. Replace null with //null immediate name
binding to prevent this. Fixes SF bug #539239. Fix by Alex Cherepanov.
(lib/gs_init.ps [1.61]: 2002/08/28 16:20:19 ray)
	- Fix : z1_glyph_info missed side bearing for WMode 0.
(zchar1.c [1.22]: 2002/08/30 13:40:56 igor)
	- process comment lines when they straddle a buffer boundary, so
that all DSC comments can be processed by the PDF writer. Fixes SourceForge
bug #432040, DSC ignored when reading stdin. (iscan.c [1.11]: 2002/09/05
08:28:48 ghostgum)
	- Corrected the ID line. (Missing &#36; sign at the end.)
(zcolor3.c [1.2]: 2002/09/06 18:42:16 dan)
	- copy comment lines inside a procedure which require a scanner
refill to the operand stack, not the execution stack. Fixes SourceForge bug
#605240, 070-01.ps fails in .parse_dsc_comments. (iscan.c [1.12]: 2002/09/06
20:52:19 ghostgum)

Third and final commit of 7.22 release: bump version numbers to 7.23.
(lib/gs_init.ps [1.59]: 2002/08/07 06:58:53 raph)

As some PostScript files act differently when /currentdistillerparams is
defined, patched 'known' to hide the systemdict version of the
set/currentdistillerparams unless the currentdevice is pdfwrite. The patch
was done by Ray. Fixes SF#584713, Gradient ignores CRD
(lib/gs_pdfwr.ps [1.17]: 2002/08/17 09:16:34 jeong)

DeviceN. (idparam.c [1.6], igstate.h [1.7], iimage.h [1.6], iimage2.h [1.6],
iutil.c [1.7], iutil.h [1.6], lib/gs_ciecs2.ps [1.1],
lib/gs_ciecs3.ps [1.1], lib/gs_devcs.ps [1.1], lib/gs_devn.ps [1.1],
lib/gs_devpxl.ps [1.1], lib/gs_dpnxt.ps [1.5], lib/gs_icc.ps [1.6],
lib/gs_img.ps [1.1], lib/gs_indxd.ps [1.1], lib/gs_init.ps [1.60],
lib/gs_lev2.ps [1.21], lib/gs_ll3.ps [1.16], lib/gs_patrn.ps [1.1],
lib/gs_pdfwr.ps [1.18], lib/gs_res.ps [1.25], lib/gs_sepr.ps [1.1],
lib/gs_setpd.ps [1.13], zcolor.c [1.9], zcolor1.c [1.6], zcolor2.c [1.10],
zcolor3.c [1.1], zcsdevn.c [1.10], zcssepr.c [1.12], zdevice.c [1.7],
zdfilter.c [1.6], zdpnext.c [1.7], zfsample.c [1.8], zgstate.c [1.6],
zht.c [1.6], zht1.c [1.6], zht2.c [1.6], zimage.c [1.10], zimage2.c [1.7],
zimage3.c [1.6], zmisc.c [1.5], zmisc3.c [1.5], zpcolor.c [1.7],
zshade.c [1.13], ztrans.c [1.19]: 2002/08/22 07:12:28 henrys)

This file was left out of the DeviceN checkin. (lib/gs_cspace.ps [1.1]:
2002/08/22 13:37:47 henrys)

This file was evidently dropped from the DeviceN merge. This eliminates a
loop that can occur in non-sepqxd2distiller.pdf. lib/gs_icc.ps Modified the
cs_substitute routine to suppress color space substitution if the resulting
color space cannot be an Alternate color space for an ICCBased color space.
This situation arises with some frequency in PDF files.
(lib/gs_icc.ps [1.7]: 2002/08/23 04:15:00 dan)

Modified files: src/gstext.h src/gstext.c Added the routine
gs_text_update_dev_color, to update the color used for drawing text if this
changes during a text operation (e.g.: due to the action of a kshow or cshow
procedure). src/zchar.c Modified op_show_continue to call
gs_text_update_dev_color in case a cshow or kshow procedure changed the
current color (strictly speaking, this is only a problem with kshow).
(zchar.c [1.9]: 2002/08/26 22:51:53 dan)

Modified files:
  src/gstext.c,
  src/gxtext.h
  src/zchar.c
    These files are identical to the set released on Aug. 23rd (the fix
    for color changes in a kshow procedure). We are releasing them again
    here to make certain the rest of this code is not committed without
    the former change.
(zchar.c [1.10]: 2002/08/26 23:00:07 dan)

Merge page device Policies from the driver and defaults during the device
initialization to avoid duplication of code for default policies in the
driver (no devices yet do this). Previously, the whole /Policies dictionary
was replaced forcing the driver to duplicate code. Improvement developed by
Alex Cherepanov. (lib/gs_setpd.ps [1.15]: 2002/08/29 05:41:30 ray)

Delete all temporary files when the interpreter closes. (imain.c [1.26]:
2002/09/05 10:23:00 ghostgum)

Update version numbers for 7.30 release. (lib/gs_init.ps [1.62]: 2002/09/07
18:11:53 giles)

</pre><h2><a name="7.30-Streams"></a>Streams</h2><pre>

Fixes problems:
	- Don't skip '\f' or '\0' after eexec but still skip \r', '\n',
'\t', ' ' because Adobe interpreters do this. Bug #594741 from a free user.
Fix by Alex Cherepanov. (seexec.c [1.8]: 2002/09/02 22:09:15 ray)
	- Fix : (1) ioerror was missed after opening a stream; (2)
pdfwrite/epswrite missed ioerror writing a CFF. Source Forge bug #601238
"segv due to s_init_filter ignores errors". (stream.c [1.20]: 2002/09/05
18:07:59 igor)

</pre><h2><a name="7.30-Library"></a>Library</h2><pre>

Fixes problems:
	- Increase fineness of subdivision in axial and radial shadings.
Fixes visible banding as reported in SF bug #586178. (gxshade.c [1.12]:
2002/08/07 07:02:27 raph)
	- Radial shading with 2 circles having same origins is not rendered
properly. Now it works correctly. (gxshade1.c [1.16]: 2002/08/09 05:44:56
jeong)
	- Make rectfill of shadings always take gs_fill path, ensuring high
level pdfwrite rendering. (gsdps1.c [1.5]: 2002/08/21 17:41:00 raph)
	- Go back to old max_error precision values for Type 1 (function
based) shadings, as increased precision (still enabled for Types 2 and 3,
axial and radial) caused a performance hit. (gxshade.c [1.13]: 2002/08/21
17:41:21 raph)
	- Fixing syntax errors and potentially dangerous warnings with MSVC
after DeviceN merge. (gsht1.c [1.8]: 2002/08/22 10:00:48 igor)
	- Fix (pdfwrite) : Uninitialized variable in psf_write_type2_font().
(gdevpsf2.c [1.24]: 2002/08/27 13:22:24 igor)
	- Yesterday's commit of the delayed loading of a binary halftone
cache created some memory management problems. Clear b_tile pointer until
the cache is loaded. Modify pointer enum routines to allow for null cache
pointer. (gxht.c [1.13]: 2002/08/30 23:37:12 dan)
	- Fixing an uninitialized pointer in gs_type0_data_s.
(gsfont0c.c [1.2]: 2002/09/02 16:47:37 igor)
	- cleanup the new code for the metrowerks compiler on macos.
(gdevdgbr.c [1.7], gscolor3.c [1.7], gxwts.c [1.3]: 2002/09/02 21:09:29
giles)
	- Detect overflow in gs_point_transform2fixed and return limitcheck
if overflow would occur. Thanks to Jeong Kim for analysis and suggesting a
solution. Final solution uses integer operations. Fixes bug #570181 for
Artifex customer #870. (gsmatrix.c [1.7], gxfixed.h [1.7]: 2002/09/04
06:40:50 ray)
	- Remove trailing comma from enum declaration. Some compilers
complain about this. (gxclpath.h [1.12]: 2002/09/04 19:55:05 giles)
	- Provide an implementation of popen for Windows, to avoid the
broken implementation in MSVC++ 5 and 6. This allows pswrite to output to a
pipe on Windows. Fixes SourceForge bug #482038, pswrite does not write to
pipe. (pipe_.h [1.6]: 2002/09/05 08:34:00 ghostgum)
	- Fix (pdfwrite) : (1) Moving the temporary CID font wrapper from
stable to non-stable memory, because its descendent font is non-stable; (2)
Removing pdf_font_resource::glyphshow_font, because after (1) it points from
stable to non-stable memory. (3) representing the "glyphshow_font"
association with a search through gs_font_dir::orig_fonts by font id.
Introducing a new graphics library function gs_find_font_by_id for (3).
Source Forge bug "[603955] (pdfwrite) wrong memory allocation, segv"
(gsfont.c [1.12], gsfont.h [1.7], gsfont0c.c [1.3]: 2002/09/05 09:03:42
igor)
	- Fix : (1) ioerror was missed after opening a stream; (2)
pdfwrite/epswrite missed ioerror writing a CFF. Source Forge bug #601238
"segv due to s_init_filter ignores errors". (gdevpsf2.c [1.25]: 2002/09/05
18:07:59 igor)

Third and final commit of 7.22 release: bump version numbers to 7.23.
(gscdef.c [1.24]: 2002/08/07 06:58:53 raph)

Regression testing showed a difference when built with gcc 2.95.4 between
-DDEBUG and non DEBUG builds. This showed up as some minor pixel diffs.
Change to 'double' from 'float' for some precision sensitive variables so
that -DDEBUG matches non DEBUG results. (gxstroke.c [1.6]: 2002/08/16
00:32:56 ray)

DeviceN. (gconf.c [1.6], gdevabuf.c [1.6], gdevbbox.c [1.8],
gdevcmap.c [1.5], gdevdbit.c [1.6], gdevdflt.c [1.6], gdevdgbr.c [1.6],
gdevdrop.c [1.7], gdevm1.c [1.5], gdevm16.c [1.5], gdevm40.c [1.1],
gdevm48.c [1.1], gdevm56.c [1.1], gdevm64.c [1.1], gdevmem.c [1.5],
gdevmem.h [1.7], gdevmr1.c [1.5], gdevnfwd.c [1.6], gdevp14.c [1.13],
gdevplnx.c [1.5], gdevprn.c [1.11], gdevprn.h [1.12], gdevrops.c [1.6],
gdevvec.c [1.16], gsalphac.c [1.6], gsbitops.c [1.6], gsbitops.h [1.6],
gsccolor.h [1.5], gscdevn.c [1.10], gscdevn.h [1.7], gscolor.c [1.9],
gscolor1.c [1.8], gscolor2.c [1.10], gscolor2.h [1.7], gscpixel.c [1.6],
gscscie.c [1.7], gscsepr.c [1.17], gscsepr.h [1.8], gscspace.c [1.7],
gscspace.h [1.12], gsdcolor.h [1.8], gsdevice.c [1.15], gsdfilt.c [1.6],
gsdfilt.h [1.6], gsdparam.c [1.10], gsdps1.c [1.6], gsht.c [1.6],
gsht1.c [1.7], gshtscr.c [1.10], gshtx.c [1.5], gshtx.h [1.6],
gsicc.c [1.8], gsimage.c [1.8], gsiparam.h [1.8], gsistate.c [1.7],
gslib.c [1.11], gsovrc.c [1.1], gspcolor.c [1.7], gsptype1.c [1.8],
gsptype2.c [1.8], gsserial.c [1.1], gsserial.h [1.1], gsshade.c [1.8],
gsstate.c [1.16], gsstate.h [1.6], gswts.c [1.1], gswts.h [1.1],
gxacpath.c [1.6], gxbitfmt.h [1.5], gxcdevn.h [1.6], gxcht.c [1.8],
gxcindex.h [1.5], gxclbits.c [1.7], gxcldev.h [1.9], gxclimag.c [1.7],
gxclip.c [1.9], gxclip2.c [1.6], gxclipm.c [1.7], gxclist.c [1.7],
gxclpath.c [1.13], gxclpath.h [1.10], gxclrast.c [1.17], gxclread.c [1.8],
gxclutil.c [1.8], gxcmap.c [1.6], gxcmap.h [1.6], gxcomp.h [1.6],
gxcspace.h [1.8], gxdcconv.c [1.6], gxdcolor.c [1.7], gxdcolor.h [1.7],
gxdevcli.h [1.11], gxdevice.h [1.10], gxdevmem.h [1.6], gxdevndi.c [1.1],
gxdevndi.h [1.1], gxdht.h [1.8], gxdhtserial.c [1.1], gxdhtserial.h [1.1],
gxdither.h [1.6], gxht.c [1.8], gxht.h [1.6], gxicolor.c [1.6],
gximag3x.c [1.12], gximage2.c [1.5], gximono.c [1.7], gxipixel.c [1.7],
gxiscale.c [1.7], gxistate.h [1.12], gxoprect.c [1.1], gxoprect.h [1.1],
gxpcmap.c [1.7], gxpcolor.h [1.6], gxshade.c [1.14], gxstate.h [1.6],
gxwts.c [1.1], gxwts.h [1.1], gzht.h [1.9], gzstate.h [1.8]: 2002/08/22
07:12:28 henrys)

From ORIMP: Modified files: src/gsht.c: In gx_imager_dev_ht_install, the
comp_number field in the entries for the newly allocated components_array
was improperly assigned, due to a typo. Later code checks if the comp_number
value matches the component index and, if not, uses the default halftone
order for this component. This would cause a typical 4-color device to
always use the default halftone component (and leak memory). As part of the
same fix, some redundant code in gx_imager_dev_ht_install has been removed,
and the code that updates the "used_default" variable in this procedure has
been corrected. (gsht.c [1.7]: 2002/08/23 07:43:30 dan)

Modified files: src/gstext.h src/gstext.c Added the routine
gs_text_update_dev_color, to update the color used for drawing text if this
changes during a text operation (e.g.: due to the action of a kshow or cshow
procedure). src/zchar.c Modified op_show_continue to call
gs_text_update_dev_color in case a cshow or kshow procedure changed the
current color (strictly speaking, this is only a problem with kshow).
(gstext.c [1.10], gstext.h [1.7]: 2002/08/26 22:51:53 dan)

Modified files:

  src/gdevdbit.c:
    Changed gx_default_fill_mask to use the fill_masked routine of the
    device color. This avoids an instance in which a possibly
    uninitialized halftone tile is used for drawing. It also makes the
    code considerably cleaner.

  src/gscdefs.h
    Re-installed the definition of extern_gs_find_compositor, which had
    in-advertently been lost in a recent code merge.

  src/gsdcolor.h
    Added the colors.binary.b_level field to the gx_device_color_saved
    structure. Also added a comment explaining why this structure is
    used rather than the gx_device_color structure itself.

  src/gsht.c
    This file should be identical to the version released on Aug. 22nd.
    We are releasing again here just to guard against this code being
    committed without the former change.

  src/gsht1.c
    Modified the check for "binaryness" of a device color model in
    gs_sethalftone_try_wts to handle cases in which not all of the depth
    bits are used.

  src/gstext.c,
  src/gxtext.h
  src/zchar.c
    These files are identical to the set released on Aug. 23rd (the fix
    for color changes in a kshow procedure). We are releasing them again
    here to make certain the rest of this code is not committed without
    the former change.

  src/gxacpath.c
    Modified gx_cpath_accum_end to set the new bbox_accurate field rather
    than the bbox_set field. This avoids overloading the bbox_set field
    in a way that can lead to inconsistent output when the setbbox
    operator is used with a path.

  src/gxcht.c
  src/gxht.c
  src/gxdcolor.c
  src/gxdcolor.h
    Modified the "write" methods for various color spaces so that their
    return value can indicate that the operand and last transmitted
    colors are the same. Also fixed various bugs uncovered when the
    modular device color serialization/de-serialization was first used.
    The changes to gxdcolor.h involve only comments.

  src/gxcldev.h
    1. Added a saved device color (gx_device_color_saved) to the band
       state structure.
    2. Removed the (long since unnecessary) type operand from the
       cmd_put_halftone procedure.
    3. Commented out some now obsolete command codes.

  src/gxclimag.c
    1. Modified clist_fill_mask to work with the new, modular drawing
       color serialization/de-serialization routines.
    2. Rewrote cmd_put_halftone as required by the new mechanism for
       serializing/de-serializing device halftones.
    3. Modified various invocations of cmd_put_halftone to discard the
       the type operand.

    Note: The existing code impose a requirement that image objects that
          used a device color (e.g.: image masks) would only be passed
          through the command list if that color is pure. We do not
          know why this limitation was necessary, and suspect it is no
          longer necessary, but we have left it in place for now.

  src/gxclist.c
    Added gxdcolor.h to the included file list.

  src/gxclpath.c
    1. Rewrote cmd_put_drawing_color to use the new mechanism for
       serialization/de-serialization of device colors.
    2. Removed the device color type information from the stroke/
       fill/polyfill commands.
    3. Modified cmd_put_path so that "moveto closepath" is not
       passed through the command list as just "moveto".

  src/gxclpath.h
    1. Added the cmd_opv_ext_put_ht_seg, to allow device halftones to be
       split across multiple command buffers. Also added the macro
       cbuf_ht_seg_max_size, to indicate the largest halftone segment to
       be put in a single command buffer.
    2. Commented out some now obsolete command codes.
  src/gxclrast.c
    1. Modified the code to read device halftones and device colors to
       use the new serialization/de-serialization methods for these
       structures.
    2. Modified various locations in which partial/temporary device
       colors are used to use the current color for the band.
    3. Removed code for the various stroke/fill/polyfill commands that
       encode device color type as part of the command.
    4. Added code to save the current color when a pure color must be
       set to generate a clip region using the fill procedure.
    5. Modified the clip path reading code to flatten the clip path
       before passing it to the fill operation. This is necessary to
       ensure consistent results between the banded and non-banded
       cases (the non-banded case also flattens a clip path before
       passing it to the fill operation).

  src/gxdhtserial.c
    1. Updated gx_ht_read_tf and gx_ht_read_and_install to properly
       use the reference count in a transfer function.
    2. Fixed various other errors discovered when this code was first
       used.

  src/gxdhtserial.h
    Fixed typo.

  src/gxpath.c
    Initialize the new bbox_accurate field of the gx_path structure to
    false in gx_path_init_contents.

  src/gxpath2.c
    Modified gx_path_bbox to use the bbox_accurate rather than bbox_set
    field to determine if the bounding box of a path needs to be
    explicitly calculated. If bbox_set is true, the bounding box
    in the bbox field will contain the current path, but may be larger
    than necessary. Due to a problem in the clip/fill code, the larger
    bounding box may generate slightly inconsistent results.

  src/gzpath.h
    Added the bbox_accurate field to the gx_path_s structure. This field
    is used by the clip accumulator device, which avoids the need to
    overload the bbox_set field (which is also used by the setbbox
    operator).

  src/lib.mak
    Updated varius dependency lists.
(gdevdbit.c [1.7], gscdefs.h [1.6], gsdcolor.h [1.9], gsht.c [1.8],
gsht1.c [1.9], gstext.c [1.11], gstext.h [1.8], gxacpath.c [1.7],
gxcht.c [1.9], gxcldev.h [1.10], gxclimag.c [1.8], gxclist.c [1.8],
gxclpath.c [1.14], gxclpath.h [1.11], gxclrast.c [1.18], gxdcolor.c
[1.8], gxdcolor.h [1.8], gxdhtserial.h [1.2], gxht.c [1.9], gxpath.c
[1.6], gxpath2.c [1.5], gzpath.h [1.7]: 2002/08/26 23:00:07 dan)

Another fix of a problem that had been previously fixed and lost due to a
commit of files from ORIMP. MSVC will not accept { } for a structure
initializer. Added a zero to keep MSVC happy. Problem previously fixed by
Igor. (gsht1.c [1.10]: 2002/08/26 23:07:00 dan)

We have traced the difficulties with multiple-band processing in the code
we released on Aug. 26 to two problems:

  1. The halftone phase information is not adjusted for bands that
     start at locations other than the top of the page.

  2. The "moveto closepath" style of degenerate path, which our code
     allows to be passed through the band list, is used in the path
     encoding code to indicate that a path lies entirely outside the
     current band (i.e.: all of the path operators between the initial
     moveto and the final closepath have been skipped because they are
     outside of the band). This resulted in the code passing isolated
     "closepath" segments through the command list, which much confused
     the band list renderer.

The attached code release fixes both of these problems, and a couple of
other more minor issues we discovered. With this change, our system has
identical output for the banded and unbanded case for the pkmraw device
at 300 dpi, for all but one FTS file (027-09.ps). In that one case, the
banded and unbanded output are visually identical, so the output difference
may not be significant. We will look into this situation, and test some
of the other devices in the next day or so.

As best we can tell, halftone phase adjustment has never been correctly
implemented for the command list device. The pre-DeviceN code handles
binary halftone colors properly, but does not set the phase for general
colored halftones. General colored halftones are much more common in the
DeviceN code, which probably is the reason Dan first noticed the problem
with FTS file 245-07.ps (and others) with the DeviceN code.

                                                         Jan

Modified Files:

  src/gsht.c
    Modified the code that calculates the lcm_height field of a device
    halftone in gx_imager_dev_ht_install to use the full_height rather
    than the height of a halftone order. This typo was introduced sometime
    during the DeviceN development; the pre-DeviceN code was correct.

  src/gsptype1.c
  src/gsptype2.c
  src/gxwts.c
    Added the "get_phase" method to various gx_device_color_type_t
    instances.
  src/gxcht.c
  src/gxht.c
    Added the "get_phase" method to a pair of gx_device_color_type_t
    instances. Also modified the "write" and "read" methods of these
    structures to ignore halftone phase information. This information
    must be passed to and be directly handled by the command list
    writer code, so that the command list renderer code may correct it
    for the band starting coordinates.

  src/gxclpath.c
    1. Modified cmd_put_drawing_color to directly handle halftone phase
       information, using the new "get_phase" method of device colors.
       The passing of this information must be perfomed at the command
       list level, so that the command list renderer can correct the
       phase for the starting point of the band.
    2. Also in cmd_put_drawing_color, "unset" the saved color information
       if the halftone id does not match the most recently set halftone,
       rather than setting the saved color pointer to 0.
    3. In cmd_put_path, when processing a segment containing a
       moveto followed by a closepath, check if the moveto was to a point
       outside of the current band, and discard the closepath if this
       is the case. This is necessary to avoid inserting isolated
       closepath segments into the command list.

  src/gxclrast.c
    Added code to initialize the dev_color variable to clist_playback_band
    to "no color".

  src/gxdcolor.c
  src/gxdcolor.h
    Added the "get_phase" method to the gx_device_color_type_t structure,
    and installed this method in various instances of the structure. Also
    provided the two canonical implementations of this method.
(gsht.c [1.9], gsptype1.c [1.9], gsptype2.c [1.9], gxcht.c [1.10],
gxclpath.c [1.15], gxclrast.c [1.19], gxdcolor.c [1.9], gxht.c [1.10],
gxwts.c [1.2]: 2002/08/28 23:11:06 dan)

The two files were missed in earlier commits. Missing from the 8-28-02
commit form ORIMP. src/gxdcolor.c Added the "get_phase" method to the
gx_device_color_type_t structure, and installed this method in various
instances of the structure. Also provided the two canonical implementations
of this method. Missing from the 8-26-02 commit from ORIMP.
src/gxdhtserial.c 1. Updated gx_ht_read_tf and gx_ht_read_and_install to
properly use the reference count in a transfer function. 2. Fixed various
other errors discovered when this code was first used. (gxdcolor.h [1.9],
gxdhtserial.c [1.2]: 2002/08/29 00:11:30 dan)

The attached code fixes a minor problem introduced in our release
of August 26th. That release changed the behavior of the gx_path_bbox
procedure (gxpath2.c) so as to make the banding and non-banding cases
consistent. In the process we inadvertently also changed the behavior
of the pathbbox operator. This fix restores the proper behavior of
that operator.

Also included is a modified version of gsht.c for interim use. This is
not intended for final release. The gx_imager_dev_ht_install routine
is modified in this code to ensure that the halftone caches are also
made large enough to provide (at least) one tile per level. Doing so
avoids the cache overwrite bug that Dan has described, which avoids
many spurious differences in the regression test. Once Dan's fix for
the handling of the halftone tile in binary halftone colors is
installed, this version of gsht.c may be discarded.

Modified files:
 src/gspath1.c
    Modified gs_upathbbox to call gx_path_bbox_set rather than
    gx_path_bbox. The former will return the bounding box set via the
    setbbox operator, if that operator has been used for the current
    path; otherwise it will return the actual path bounding box. The
    latter will always return the actual path bounding box.

  src/gxpath.h
  src/gxpath2.c
    Added the gx_path_bbox_set procedure, which will return the
    bounding box set by the setbbox operator if that operator has been
    used for the current path.

Temporary Files:

  src/gsht.c
    Modified the gx_imager_dev_ht_install procedure to always allocate
    caches large enough to provide (at least) one tile per level. This
    is a temporary hack to avoid a bug with the handling of tiles for
    binary halftone colors. It is not intended for the final release.
(gsht.c [1.10], gspath1.c [1.7], gxpath.h [1.6], gxpath2.c [1.6]:
2002/08/30 02:38:24 dan)

This is a repeat of an earlier commit that was backed out. Its back. Split
the binary half tone cache initialization into two pieces. The halftone
cache is now initialized just prior to being used in the various halftone
render routines. This was done to prevent a problem with cache conflicts. If
the half tone cache is not large enough for a separate tile for each level
then there could be a problem if two different device colors used the same
cache entry but with different level values. (gxht.c [1.11],
gximono.c [1.8]: 2002/08/30 04:39:10 dan)

A line was left out of the previous commit. This is part of the splitting of
the load the binary halftone cache until it is ready to be used.
(gxht.c [1.12]: 2002/08/30 06:19:54 dan)

Modified File: src/gxdevndi.c Modified gx_render_device_DeviceN to always
perform the conversion from color component intensity values to halftone
levels in an additive sense, if the gray_colorspace operand is true. This is
necessary for compatibility with the pre-DeviceN code. (gxdevndi.c [1.2]:
2002/09/03 02:58:48 dan)

Remove gdevht.c and gdevht.h. Also delete outdated references in lib.mak and
a few other files. (gxclrast.c [1.20], gxclread.c [1.9]: 2002/09/04 06:36:36
dan)

Changes required for compilation on HPUX and Tru64. Add missing header in
lib.mak after gxdcolor.h added to gscolor3.c. Change dci_std_color_bits
macro to prevent a divide by zero, caused by the compiler not using shortcut
evaluation in an initializer. (gxdevcli.h [1.12]: 2002/09/04 21:44:14
ghostgum)

Add redundant parentheses to dci_std_color_bits macro to work around MSVC 7
internal compiler error. (gxdevcli.h [1.13]: 2002/09/05 21:19:20 ghostgum)

Update versions, news and bug list for 7.30 alpha release. (gscdef.c [1.25]:
2002/09/07 17:57:09 giles)

</pre><h2><a name="7.30-Other"></a>Other</h2><pre>

DeviceN. (gsovrc.h [1.1]: 2002/08/22 07:12:29 henrys)

Adds support for the GX_COLOR_INDEX_TYPE define to the autoconf build. The
script tries a variety of likely candidates for a 64-bit type and passes the
first one found through the GCFLAGS makefile variable. If no such type is
found, it does nothing special, allowing the code in gxcindex.h to fallback
to a 32-bit type. (configure.ac [1.19]: 2002/09/05 08:54:08 giles)

Adds the new devicen-specific devices to the autoconf build.
(Makefile.in [1.16]: 2002/09/06 13:41:37 giles)

</pre><h2><a name="7.30-DeviceN_Source"></a>DeviceN Source (meerkat)</h2><pre>

Wed Aug 21 07:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gdevm1.c [1.5] (+2 -2):
        gx_default_encode_color() improperly called with non separable and
        linear device.  Fixes 045-01.ps regression problems.
        

Wed Aug 21 06:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * zdfilter.c [1.5] (+2 -2), gsdfilt.h [1.4] (+6 -4), gsdfilt.c [1.5] (+7 -3), 
        gdevp14.c [1.7] (+249 -8):
        non-transfer mapped cmap-procs for gdevp14.c.  (Raph)
        
        * gxshade.c [1.5] (+2 -2), gsht.c [1.16] (+9 -2), gdevpdfg.c [1.8] (+5 -5):
        Modified Files:
          src/gdevpdfg.c
            Changed various references to the default order component of a device
            halftone to refer to the order of the initial component instead. This
            avoids use of the (no longer initialized) default order.
        
          src/gsht.c
            Modified gs_currentscreenlevels to use the gray component of the current
            device halftone (if it exists) rather than the default component. If
            the gray component does not exist, the initial component will be used.
        
          src/gxshade.c
            Modified shade_init_fill_state to use the order of the initial component
            of the current device halftone, rather than the default order. This avoids
            use of the (no longer initialized) default order.
        

Mon Aug 19 05:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * lib.mak [1.24] (+3 -3):
        fixes minor merge discrepancy and a typo.
        

Sun Aug 18 08:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * lib.mak [1.23] (+21 -7), gxwts.c [1.2] (+58 -5), gxpcolor.h [1.5] (+8 -1), 
        gxht.c [1.9] (+270 -3), gxdhtserial.h [1.1] (+81 -0), gxdhtserial.c [1.1] (+625 -0), 
        gxdcolor.h [1.7] (+113 -2), gxdcolor.c [1.9] (+301 -5), 
        gxclpath.h [1.7] (+5 -2), gxcht.c [1.18] (+361 -1), gsserial.h [1.1] (+253 -0), 
        gsserial.c [1.1] (+365 -0), gsptype2.c [1.4] (+15 -1), gsptype1.c [1.7] (+88 -4), 
        gsdcolor.h [1.8] (+49 -5):
        Attached is the second installment of the code for modular serialization
        of device color in the command list. This release includes all of the
        necessary support code, but this code has not yet been hooked into the
        command list devices (writer and reader). That should be accomplished in
        a few days.
        
                                                                      Jan
        
        
        Files Added:
        
          gsserial.c        These two files provide a extended and public version
          gsserial.h        of the little-endian integer encoding used by the
                            command list. Since serialization can occur
                            outside of the command list, it is reasonable to have
                            this facility become a general utility. (For now,
                            at least, the command-list specific version of this
                            encoding remains as well.)
        
                            gsserial.c includes a unit-test.
        
        
          gxdhtserial.c     Code to serialize device halftones. These are serialized
          gxdhtserial.h     as a unit, rather than using separate commands for
                            separate pieces.
        
        
        Files Modified:
        
          gsdcolor.h        Removed the no longer used screens field from the wts
                            field of the colors union of the gx_device_color
                            structure.
        
                            Added the gx_device_color_saved structure, which may be
                            used by the command list device to retain information
                            about the last device color placed in a band. Using this
                            information can reduce the size of the newly encoded
                            color.
        
          gxdcolor.h        Added methods to the gx_device_color_type_t method
                            vector to support serialization of device colors. The
                            new methods are:
        
                              save_dc
                                Create a "saved" version of the device color. The
                                saved version contains information about the
                                device color, but does not include any pointers.
                                It can be used to reduce the amount of information
                                encoded with a device color.
        
                              get_dev_halftone
                                Return the device halftone used by a device color
                                (or a null pointer if no device halftone is used).
        
                              write
                                Serialize the device color.
        
                              read
                                Reconstruct the device color from its serial
                                representation.
        
                            Also added prototypes for two utilities to be used
                            when serializing device colors: gx_dc_write_color
                            and gx_dc_read_color. These work on color indices.
        
          gxclpath.h        Added the codes for cmd_opv_ext_put_halftone and
                            cmd_opv_ext_put_drawing_color.
        
          gxpcolor.h        Added prototypes for gx_dc_pattern_save_dc,
                            gx_pattern_dc_write, and gx_dc_pattern_read. Since
                            patterns cannot be passed through the command list,
                            all of these just return errors.
        
          gsptype1.c        Added stubs for the new device color methods. The
          gsptype2.c        get_dev_halftone method is supported to the extent
                            possible; it cannot be supported for color
                            PatternType 1 patterns as their PaintProc procedures
                            may use multiple patterns.
        
          gxcht.c           Added support for the new device color methods for
                            general (colored halftone ) device colors, including
                            full serialization support.
        
          gxht.c            Added support for the new device color methods for
                            binary halftone device colors, including full
                            serialization support.
        
          gxdcolor.c        Added support for the new device color methods for
                            the "no color", transparent, and pure device colors,
                            including serialization support. Also added the two
                            utility routines gx_dc_write_color and
                            gx_dc_read_color, which work on color indices.
        
          gxwts.c           Added stubs to support the new device color methods.
                            Also corrected a few minor compiler complaints.
        
          lib.mak           Added targets for gsserial.&#36;(OBJ) and
                            gxdhtserial.&#36;(OBJ). Also updated some dependency
                            lists.
        
        * zcolor.c [1.8] (+1 -2):
        Modified Files: (jan)
        
          lib/gs_cspace.ps
            Added _setcolorspace_nosub, a variation of the setcolorspace operation that
            avoids color space substitution. This is required for ICCBased color spaces,
            as they may be used to substitute for a device-specific color space, but
            use that same device-specific color space as an alternative space. If the
            alternative space was used (or even if it wasn't, in the prior code), an
            infinite loop would result (the eventual error is execstackoverflow).
        
          lib/gs_icc.ps
            Modified the cs_install routine for ICCBased color spaces to use the new
            _setcolorspace_nosub procedure.
        
          lib/pdf_draw.ps
            Removed the color substitution scheme used by resolvecolorspace. This has
            been superseded by the PostScript-based scheme.
        
          lib/pdf_main.ps
            Implemented color space substitution using PostScript's method. This works
            for all color spaces and, with the above noted modifications to
            gs_cspace.ps and gs_icc.ps, avoids infinite-loop problems. The
            earlier code did not implement color space substitution for
            DeviceCMYK (the code was just missing) and in rare cases could
            suffer from infinite loops.
        
          src/zcolor.c
            Correct a typo: the .setdevcspace operator was included twice in the
            zcolor_op_defs array.
        

Wed Aug 14 04:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * zusparam.c [1.5] (+2 -1), zfdcte.c [1.4] (+2 -2), zfapi.c [1.4] (+35 -22), 
        zcsdevn.c [1.8] (+2 -3), zcolor.c [1.7] (+3 -4), zchar1.c [1.4] (+16 -7), 
        watc.mak [1.3] (+2 -2), version.mak [1.4] (+5 -5), unixinst.mak [1.4] (+5 -5), 
        unixansi.mak [1.4] (+2 -2), os2.mak [1.4] (+2 -1), openvms.mak [1.4] (+2 -2), 
        msvclib.mak [1.3] (+2 -2), msvc32.mak [1.8] (+2 -2), macos-fw.mak [1.3] (+3 -10), 
        libpng.mak [1.4] (+2 -2), gxsync.h [1.4] (+8 -8), gxshade1.c [1.4] (+5 -2), 
        gxfont.h [1.4] (+2 -1), gxdevice.h [1.11] (+7 -6), gsptype1.c [1.6] (+5 -3), 
        gsmisc.c [1.4] (+2 -2), gslib.c [1.7] (+6 -7), gsimage.c [1.6] (+5 -2), 
        gsht1.c [1.10] (+3 -3), gp_macio.c [1.4] (+12 -14), gdevpxat.h [1.4] (+1 -3), 
        gdevpsft.c [1.4] (+6 -6), gdevpsf2.c [1.4] (+21 -13), gdevpsf.h [1.4] (+3 -2), 
        gdevprn.h [1.5] (+16 -16), gdevpdtw.c [1.2] (+20 -5), gdevpdtt.h [1.2] (+2 -1), 
        gdevpdtt.c [1.2] (+4 -6), gdevpdts.c [1.2] (+4 -2), gdevpdti.c [1.2] (+2 -2), 
        gdevpdtf.h [1.2] (+2 -1), gdevpdtf.c [1.2] (+24 -5), gdevpdte.c [1.2] (+67 -1), 
        gdevpdtd.c [1.2] (+3 -2), gdevpdtc.c [1.2] (+3 -3), gdevpdtb.h [1.2] (+3 -2), 
        gdevpdtb.c [1.2] (+72 -5), gdevpdfs.c [1.4] (+3 -3), gdevpdfj.c [1.4] (+4 -4), 
        gdevpdfi.c [1.4] (+26 -24), gdevpdfg.c [1.7] (+6 -4), gdevpdff.c [1.4] (+10 -5), 
        gdevpdfe.c [1.4] (+12 -7), gdevp14.c [1.6] (+8 -4), gdevbmpc.c [1.4] (+3 -3), 
        dwinst.h [1.4] (+2 -2), dwinst.cpp [1.4] (+2 -2), devs.mak [1.14] (+6 -6):
        backward forward merge.
        

Mon Aug 12 20:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gzht.h [1.7] (+4 -6), gxclrast.c [1.19] (+9 -11), gswts.h [1.2] (+7 -1), 
        gswts.c [1.2] (+13 -1), gshtx.c [1.9] (+4 -2), gshtscr.c [1.6] (+5 -2), 
        gsht1.c [1.9] (+31 -14), gsht.c [1.15] (+556 -190):
        
        This is the first part of the code we are providing to allow device
        colors to be passed through the command list in a modular manner. The
        rest of the code should be released within a couple of days. We are
        providing this code first because we need to fix these leaks in order
        for the rest of the code to function correctly, but these fixes are
        otherwise independent of that code.
        
          src/gsht.c:
        
            a. Added a (moderately hack-ish) mechanism to allow halftone
               components to share well-tempered screens. This mechanism uses the
               width field of the halftone component, which is nominally not used
               for well-tempered screens, to indicate which component "owns" the
               screen and can release it.
        
            b. Modified gx_ht_alloc_ht_order and gx_ht_copy_ht_order to handle well-
               tempered screens, which do not have levels or bid_data arrays.
        
            c. Created gx_ht_move_ht_order, an analog to gx_ht_copy_ht_order, that
               assumes ownership of the structure's reference by a source halftone
               order rather than copying them.
        
            d. Modified gx_ht_order_release to handle well-tempered screen
               component orders, and to decrement the transfer function
               referenced by a halftone order (as opposed to blindly releasing
               it).
        
            e. Completely re-wrote gx_imager_dev_ht_install, to fix various memory
               leaks and better handle well-tempered screens. See the comments
               in the procedure for additional information.
        
            f. Modified gx_ht_install to take ownership of all structures referenced
               by the operand device halftone, if it returns successfully. This
               matches the behavior of the pre-DeviceN code and is required by
               various clients to avoid memory leaks. Any referenced structures
               that are not required by the device halftone in the imager state
               will be released (again, only on successful completion).
        
            g. Modified gx_imager_set_effective_xfer to ignore the "default"
               order in a device halftone. This order is not used for device
               halftones installed in the imager state, and
               gx_imager_set_effective_xfer should only be called for device
               halftones installed in the imager state.
        
          src/gsht1.c:
            a. Modified gs_sethalftone_allocated to release any unused parts
               of the device halftone in the event that gx_ht_install returns
               with an error code.
        
            b. Modified gs_sethalftone_prepare to not allocate a cache for
               (traditional) halftone orders.
        
            c. Modified process_transfer to set a reference count of 1 in the
               transfer functions. This is appropriate, as the routine
               sets a reference to these structures (in the halftone component
               order).
        
            d. Simplified the check for bi-level device in gs_sethalftone_try_wts.
        
            e. Used gs_alloc_struct_array in place of malloc for allocating the
               component order array in gs_sethalftone_try_wts.
        
            f. Set the num_bits and num_levels values in well-tempered screening
               halftone orders to 0. This setting is required to allow them to
               be correctly handled by gx_ht_copy_ht_order.
        
            g. Added processing of halftones to gx_sethalftone_try_wts.
        
        
          src/gshtscr.c:
            Modified gs_screen_install to discard any structures referenced by
            a device halftone if gx_ht_install returns an error code.
        
          src/gshtx.c
            Modified gs_ht_install to discard any structures referenced by
            a device halftone if gx_ht_install returns an error code.
        
          src/gswts.c
            Added the procedures gs_wts_free_enum and gs_wts_free_screen, to
            free gs_wts_screen_enum_t and wts_screen_t structures.
        
          src/gswts.h
            Added prototypes for the procedures gs_wts_free_enum and
            gs_wts_free_screen. These are used by the device halftone
            code to free gs_wts_screen_enum_t and wts_screen_t structures.
        
          src/gxclrast.c
            Added code in read_set_ht_data to discard just the allocated
            halftone components array, but not any of the structures
            it references, after gx_imager_dev_ht_install returns. This is
            necessary as gx_imager_dev_ht_install will always copy this
            structure, and cannot release the original.
        
            NB: This is an interim change. The mechanism by which halftones
                are passed through the command list will change shortly.
        
          src/gzht.h
            Modified the prototypes for gx_imager_dev_ht_install and
            gx_ht_install to remove the const qualifier for the device
            halftone operand.
        

Thu Aug  8 17:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * int.mak [1.7] (+8 -3):
        The zcolor3.c module was accidently dropped.  THis module is needed for
        the UseCIEColor feature.
        

Sun Aug  4 05:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gsht.c [1.14] (+2 -1):
        Increment the reference count for the transfer function when a halftone
        is copied.
        

Sat Aug  3 20:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gsht.c [1.13] (+2 -1):
        The halftone transfer function was lost when the "copy halftone" routine
        was created.
        

Fri Aug  2 08:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * zht1.c [1.6] (+1 -2):
        This file was left out of the last commit
        
        * zht.c [1.5] (+1 -2), zcolor.c [1.6] (+4 -5), igstate.h [1.7] (+2 -2), 
        gxistate.h [1.13] (+5 -8), gxclrast.c [1.18] (+3 -6), gxclist.h [1.5] (+2 -2), 
        gxclimag.c [1.9] (+14 -22), gsistate.c [1.8] (+7 -11), gsht.c [1.12] (+5 -10), 
        gscolor1.c [1.8] (+3 -3), gscolor.c [1.7] (+5 -7):
        The data section of the gray transfer component (from the setcolortransfer
        operator) and the 'default_comp' were not both being updated properly.
        This resulted in gray transfer functions not being transfered properly
        through the clist.  The fix involves simply removing the 'default_comp'
        and using the gray component for the default and for the settransfer
        operator.
        

Thu Aug  1 07:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxicolor.c [1.6] (+2 -2):
        A correction to the earlier color image fix.  There was a typo in the
        CMYK processing which was found in the regression testing.
        

Thu Aug  1 05:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxclimag.c [1.8] (+2 -2):
        There was an improper check which was excluding the zeroth component
        (which is valid) when putting transfer functions from a setcolortransfer
        into the clist.
        
        * gximono.c [1.6] (+2 -22), gxicolor.c [1.5] (+35 -9):
        This is the fix for Orimp's image.ps test file.  The image processing
        routine were special casing 1, 3, and 4 components cases and assuming
        that there were Gray, RGB, and CMYK.  This did not work for DeviceN
        colorspaces.  The fix involves using the colorspace remap_color
        routine instead of going directly to the cmap_procs.  This should be
        slightly slower (but will work in all cases).
        

Wed Jul 31 05:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxclrast.c [1.17] (+6 -2):
        The component number for transfer functions was not being set properly
        in the clist.  This was causing an ERROR in dina3_watermark.pdf under
        WIndows and MSVC.
        

Thu Jul 25 08:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gdevpsdu.c [1.4] (+46 -1), gdevpsdf.h [1.4] (+8 -1), gdevps.c [1.4] (+8 -3), 
        gdevpdf.c [1.8] (+4 -4), devs.mak [1.13] (+2 -2):
        (Jan) Implements the overprint and overprint mode features for the
        PostScript and PDF writer devices. These devices have supported the
        overprint feature for some time. The modifications allow them to
        intercept and discard the create_compositor invocation for the
        overprint compositor, as they don't need the compositor and already
        access overprint information from the imager state.
        
        Note: This set of changes is quite simple, but we have no easy way to
              test the result. Hence, while we believe it very unlikely the
              changes will cause discrepancies, we have not actually tested
              them (other than to verify compilation).
        
        Modified files:
        
          src/devs.mak
            Updated dependency list for gdevpsdu.&#36;(OBJ).
        
          src/gdevpdf.c
            Added the methods psdf_get_bits, psdf_get_bits_rectangle, and
            psdf_create_compositor to the method vector initialization of the
            gs_pdfwrite_device.
        
          src/gdevps.c
            Added the methods psdf_get_bits, psdf_get_bits_rectangle, and
            psdf_create_compositor to the method vector initialization of the
            gs_pswrite_device and gs_epswrite_device.
        
          src/gdevpsdf.h
            Added prototypes for the psdf_get_bits, psdf_get_bits_rectangle,
            and psdf_create_compositor procedures.
        
          src/gdevpsdu.c
            Added the psdf_get_bits, psdf_get_bits_rectangle, and
            psdf_create_compositor procedures. The first of these just returns
            an unregistered error. The prior code also generated an error if
            these methods were called, but via a much more obscure and round-
            about route. The psdf_create_compositor procedure recognizes and
            discards invocations of the create_compositor method for the overprint
            compositor. The PostScript and PDF writers do not need this compositor
            to support overprint, and would fail if it were present as it
            requires support for the get_bits/get_bits_rectangle methods.
        

Thu Jul 25 07:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * zht2.c [1.7] (+22 -22), lib.mak [1.22] (+22 -8), gxwts.h [1.1] (+72 -0), 
        gxwts.c [1.1] (+438 -0), gxshade.c [1.4] (+7 -3), gxdht.h [1.7] (+22 -1), 
        gxdevndi.c [1.13] (+52 -4), gswts.h [1.1] (+68 -0), gswts.c [1.1] (+1138 -0), 
        gshtscr.c [1.5] (+72 -55), gsht1.c [1.8] (+121 -2), gsht.c [1.11] (+36 -4), 
        gsdcolor.h [1.7] (+17 -1):
        Raph's well tempered screening code.
        
        * gxdevice.h [1.10] (+3 -1), gxcmap.c [1.27] (+25 -1), gdevdsp.c [1.11] (+8 -5), 
        gdevdbit.c [1.5] (+19 -10):
        Patch from Russel Lang  (gsview@ghostgum.com.au)
        
        Anti-aliasing for CMYK devices did not work because
        gx_default_copy_alpha converted the new and existing pixel
        values to RGB, merged them then remapped the result. This
        patch uses decode_color on the two pixels, merges the pixel
        color values individually, then uses encode_color on the
        result.
        
        To avoid flashes of incorrect colour begin displayed when
        the display device size is changed, the display device
        erases the page to white immediately after bitmap
        allocation. Actually, it was erasing the colour to
        RGB(1.0,1.0.1.0) by calling map_rgb_color, which actually
        calls encode_color which is expecting CMYK as input.  This
        resulted in a black background. This patch changes the code
        to use encode_color with appropriate values for DeviceGray,
        DeviceRGB or DeviceCMYK.
        
        The display device did not work with CMYK anti-aliasing
        because the decode_color procedure was decoding to RGB, not
        CMYK.  This patch adds new cmyk_[18]bit_map_color_cmyk
        functions for decode_color.
        

Sun Jul 21 03:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxcmap.h [1.13] (+7 -0):
        This file was not included in the previous commit.  This file is part of a
        fix for restoring the setting othe cmap_procs in the imager state.
        

Sat Jul 20 23:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxcmap.c [1.26] (+8 -1), gxclrast.c [1.16] (+2 -0), gsstate.c [1.9] (+1 -0), 
        gsdevice.c [1.5] (+6 -1):
        The last commit went too far.  Not only did it delete the setup of the
        cm_color_map_procs, it also deleted the setup of cmap_procs.
        This commit corrects that.
        

Sat Jul 20 08:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxistate.h [1.12] (+1 -5), gxcmap.h [1.12] (+1 -8), gxcmap.c [1.25] (+8 -19), 
        gxclrast.c [1.15] (+1 -3), gsstate.c [1.8] (+1 -2), gsdevice.c [1.4] (+2 -7):
        Remove the cm_color_mapping_procs from the imager state.
        Instead we are getting the mapping procs directly from the
        device as needed.
        

Sat Jul 20 07:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gdevx.c [1.5] (+5 -1):
            Fixed a problem in x_copy_image. If the image passed to this routine
            contains more than one pixel, the colors_and and colors_or fields were
            not updated. Because these fields are only used for optimization, and
            properly updating them in this situation is potentially expensive,
            they are now just set to safe values (colors_and = 0;
            colors_or = (x_pixel)(-1)).
        

Thu Jul 18 06:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * msvc32.mak [1.7] (+14 -7):
        Add a conditional to enable 64 bit gx_color_index values.
        

Thu Jul 18 04:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxcmap.c [1.24] (+12 -4):
        The previous changes for Seprations color spaces and additive process color
        models where only applied to contone devices.  This extends it to half tone
        devices.
        

Thu Jul 18 01:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gscsepr.c [1.14] (+10 -1), gscdevn.c [1.15] (+9 -1):
        Always use the alternate tint transform logic if the device color space
        is additive.  This seem to match both the specification and the action of
        Adobe Acrobat.
        

Wed Jul 17 22:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gsdll32.rc [1.3] (+3 -3), dwsetup.rc [1.3] (+2 -2), dwmain.rc [1.3] (+3 -3):
        Added a couple of changes that Henry missed from the CVS head merge. These
        are required so that the MSVC version will build.
        

Wed Jul 17 06:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gdevdsp.c [1.10] (+0 -44):
        Removed a pair of routines that were not used and caused compile errors
        under MSVC.
        

Tue Jul 16 18:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gsdps1.c [1.3] (+3 -2):
        The following should be prominently posted in full view of all
        software engineers:
        
          ***Do not use caches to hold unreplaceable data***
        
        Failure to follow that rule of good programming is the heart of the
        problem with FTS panel 245-04 (file 245-01.ps).
        
        The immediate cause of the problem is the optimization put in the
        setcolorspace code to avoid repeatedly setting the same color space.
        The steps that lead to the error are the following:
        
          1. The job sets a CIEBasedABC color space as the current color
             space. The white and black point information from the color
             space dictionary is combined with the white and black point
             information in the color rendering dictionary to sample the
             TransformPQR procedures in that dictionary. The resulting
             data is placed in the joint CIE cache. All of this activity
             ends with an execution of the internal operator cie_tpqr_finish
             (zcrd.c). This operator has two side-effects:
        
                 The TransformPQR data structure in the cie_render structure
                 of the current state is set to TransformPQR_from_cache, which
                 indicates that the PQR phase of the CIE color mapping (the
                 white point point adjustment) is to be done via the joint CIE
                 cache.
        
                 The gs_cie_cs_complete procedure is invoked with the "init"
                 argument set to false, indicating that no further
                 initialization is required for the joint CIE caches. This
                 causes the status flag in those caches to be set to
                 CIE_JC_STATUS_INITED, indicating that the caches are ready
                 to use.
        
          2. The job calls gsave. Since the joint CIE caches can be shared by
             multiple graphic states, the cache reference count is incremented.
        
          3. The job sets a pattern color space, whose base color space is the
             current (CIEBasedABC) color space.
        
             The PostScript interpreter in Ghostscript uses the convention that
             a base or alternative color space will always be set as the current
             color space immediately before the enclosing color space is set.
             The cs_install procedure for the pattern color space
             (lib/gs_patrn.ps) invokes setcolorspace on the base space. Because
             this is already the current color space, nothing happens.
        
          4. Immediately afterwards, the cs_install procedure invokes the
             .setpatternspace operator on the enclosing pattern color space.
             Through a couple of layers, this will invoke the "install_cspace"
             method for pattern color spaces, the gx_install_Pattern
             (gspcolor.c). This will in turn invoke the "install_cspace" method
             for the base color space, in this case gx_install_CIE.
        
          5. Through a few additional layers, gx_install_CIE will also call
             gs_cie_cs_complete (see (1) above), but this time the "init"
             variable will be set to true, indicating that additional
             initialization is required.
        
             gs_cie_cs_complete will invoke gx_currentciecaches, whose purpose
             is to make sure that new copies of the joint CIE cache is created
             when necessary. Since the reference count on the existing cache is
             larger than 1 (see (2) above), a unique copy of the cache is created
             and is marked as invalid.
        
          6. Subsequently, when drawing is attempted in the base color (the
             pattern has PaintType 2), the code will note that the cache is
             not yet valid and invoke cie_joint_caches_init (gscie.c). This
             routine can do nothing, however, because the TransformPQR structure
             for the cie_render structure in the graphic state is set to
             TransformPQR_from_cache, indicating that the only data available
             for the TransformPQR procedure is in the (now invalidated) cache.
        
             As a fall-back, the CIE color is mapped to RGB by setting all
             components to 0, which yields the black output.
        
        The proper fix for this problem is re-designing both the CIE color space
        and the color rendering structures so that they retain enough information
        to regenerate the joint CIE cache when necessary. Since that is a big
        change, the attached modifications take the more modest approach of adding
        a "forcesetcolorspace" operator, which will set a color space even if it
        is identical to the current color space.
        
        Also included in the set of changes is a minor modification to gs_rectfill
        (gsdps1.c) that suppresses direct access to the device's fill_rectangle
        procedure if both overprint and overprint mode are true. Since
        overprintmode must be applied prior to halftoning, the code must be forced
        through one of the higher-level methods which include the pre-halftoned
        device color information.
        
        Modified files:
        
          lib/gs_cspace.ps
            Added the _setcolorspace procedure, which accepts both a boolean and
            a color space dictionary. If the boolean is true, the color space
            will not be set if it is the same as the current color space (via a
            conservative evaluation).
        
            The setcolorspace pseudo-operator now invokes _setcolorspace with the
            boolean operand set to true. A new operator, forcesetcolorspace,
            invokes _setcolorspace with boolean set to false.
        
          lib/gs_devn.ps
          lib/gs_icc.ps
          lib/gs_indxd.ps
          lib/gs_patrn.ps
          lib/gs_sepr.ps
            Replaced setcolorspace with forcesetcolorspace when setting a base or
            alternative color space. This is necessary due to some problems in the
            handling of the the joint CIE cache in the graphic library.
        
          src/gsdps1.c
            Modify gs_rectfill to suppress direct access of a device's
            fill_rectangle method if both overprint and overprint mode are set
            to true. This is required to make sure the overprint compositor has
            access to pre-halftoned device color information with which to
            implement overprint mode.
        

Tue Jul 16 07:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxcmap.c [1.23] (+5 -5):
        Transfer functions were not be correctly applied when the source colorspace
        was CMYK and we were halftoning.
        

Tue Jul 16 04:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * zvmem2.c [1.3] (+3 -3), zvmem.c [1.3] (+4 -4), zusparam.c [1.4] (+10 -10), 
        zupath.c [1.3] (+25 -16), ztype.c [1.3] (+3 -3), ztrans.c [1.4] (+38 -9), 
        ztoken.c [1.3] (+8 -7), zshade.c [1.4] (+52 -36), zrelbit.c [1.3] (+2 -2), 
        zpcolor.c [1.5] (+5 -5), zpath1.c [1.3] (+8 -8), zpath.c [1.3] (+7 -7), 
        zmisc2.c [1.3] (+5 -5), zmisc1.c [1.3] (+11 -6), zmedia2.c [1.3] (+22 -18), 
        zmatrix.c [1.3] (+6 -6), zlib.mak [1.3] (+8 -7), ziodevs.c [1.3] (+3 -3), 
        ziodev2.c [1.3] (+2 -2), ziodev.c [1.3] (+2 -1), zimage.c [1.4] (+17 -12), 
        zht2.c [1.6] (+9 -10), zht1.c [1.5] (+3 -3), zht.c [1.4] (+6 -6), 
        zgstate.c [1.7] (+7 -7), zgeneric.c [1.3] (+9 -9), zfunc4.c [1.3] (+2 -2), 
        zfunc.c [1.3] (+74 -37), zfsample.c [1.3] (+3 -3), zfrsd.c [1.3] (+17 -10), 
        zfproc.c [1.3] (+3 -3), zfont42.c [1.3] (+31 -24), zfont0.c [1.3] (+4 -4), 
        zfont.c [1.3] (+3 -3), zfilter.c [1.3] (+2 -2), zfileio.c [1.3] (+12 -12), 
        zfile.c [1.3] (+91 -46), zfctest.c [1.1] (+105 -0), zfcmap.c [1.4] (+44 -95), 
        zfcid1.c [1.3] (+24 -7), zfcid0.c [1.4] (+7 -45), zfapi.c [1.3] (+8 -15), 
        zdscpars.c [1.3] (+3 -3), zdps1.c [1.3] (+4 -4), zdps.c [1.3] (+2 -2), 
        zdpnext.c [1.5] (+6 -6), zdouble.c [1.3] (+8 -8), zdfilter.c [1.4] (+2 -23), 
        zdevice2.c [1.3] (+3 -3), zcsindex.c [1.3] (+2 -2), zcrd.c [1.4] (+72 -11), 
        zcontrol.c [1.3] (+64 -40), zcontext.c [1.3] (+28 -28), 
        zcolor.c [1.5] (+40 -47), zcie.c [1.3] (+28 -40), zcidtest.c [1.1] (+145 -0), 
        zcharout.c [1.3] (+17 -4), zchar42.c [1.3] (+7 -6), zchar1.c [1.3] (+91 -63), 
        zchar.c [1.3] (+13 -8), zcfont.c [1.3] (+23 -3), zbfont.c [1.3] (+53 -86), 
        winlib.mak [1.5] (+1 -7), winint.mak [1.3] (+22 -20), watcw32.mak [1.3] (+2 -2), 
        watclib.mak [1.4] (+2 -2), version.mak [1.3] (+4 -4), vdtrace.h [1.3] (+31 -31), 
        vdtrace.c [1.3] (+2 -5), unixlink.mak [1.3] (+10 -18), unixinst.mak [1.3] (+23 -23), 
        unixansi.mak [1.3] (+8 -12), unix-gcc.mak [1.9] (+10 -14), 
        unix-dll.mak [1.3] (+12 -12), unix-aux.mak [1.3] (+2 -1), 
        unistd_.h [1.3] (+2 -2), ugcclib.mak [1.3] (+24 -5), szlibxx.h [1.3] (+5 -5), 
        strimpl.h [1.3] (+3 -3), stream.h [1.3] (+47 -47), stream.c [1.3] (+14 -14), 
        stdpre.h [1.3] (+15 -29), stdpn.h [1.1] (+51 -0), stdio_.h [1.3] (+2 -2), 
        std.h [1.3] (+15 -17), srdline.h [1.3] (+5 -5), spsdf.h [1.3] (+10 -12), 
        spprint.h [1.3] (+27 -27), slzwx.h [1.3] (+3 -3), sjpegc.c [1.3] (+46 -2), 
        sjpeg.h [1.3] (+26 -30), siscale.c [1.3] (+2 -2), siinterp.c [1.3] (+2 -2), 
        shcgen.h [1.3] (+9 -9), shc.h [1.3] (+3 -3), sfxstdio.c [1.3] (+12 -12), 
        sfxfd.c [1.3] (+15 -15), seexec.c [1.3] (+16 -4), sdct.h [1.3] (+2 -2), 
        sdcparam.h [1.3] (+19 -19), scommon.h [1.3] (+19 -11), scfetab.c [1.3] (+2 -2), 
        scfe.c [1.3] (+6 -6), scfdtab.c [1.2] (+3 -3), scfdgen.c [1.3] (+11 -17), 
        scfd.c [1.3] (+5 -5), sbwbs.c [1.3] (+2 -2), sbcp.h [1.3] (+3 -3), 
        sa85d.c [1.3] (+2 -2), pipe_.h [1.3] (+3 -3), os2.mak [1.3] (+7 -8), 
        opextern.h [1.3] (+86 -86), oper.h [1.3] (+2 -2), openvms.mmk [1.3] (+14 -2), 
        openvms.mak [1.3] (+7 -6), opdef.h [1.3] (+3 -3), opcheck.h [1.3] (+2 -2), 
        oparc.h [1.3] (+4 -4), msvc32.mak [1.6] (+32 -19), memory_.h [1.3] (+14 -8), 
        md5main.c [1.1] (+139 -0), md5.h [1.2] (+18 -21), md5.c [1.3] (+73 -108), 
        math_.h [1.3] (+2 -2), malloc_.h [1.3] (+2 -2), main.h [1.3] (+2 -2), 
        macosx.mak [1.2] (+8 -13), macos-mcp.mak [1.3] (+2 -2), 
        macos-fw.mak [1.2] (+7 -2), libpng.mak [1.3] (+2 -2), lib.mak [1.21] (+124 -63), 
        jpeg.mak [1.3] (+2 -2), ivmem2.h [1.3] (+3 -3), iutil2.h [1.3] (+6 -6), 
        iutil.h [1.4] (+29 -29), iutil.c [1.6] (+2 -2), itoken.h [1.3] (+7 -7), 
        istruct.h [1.3] (+2 -2), istream.h [1.3] (+7 -7), istack.h [1.3] (+27 -28), 
        istack.c [1.3] (+4 -4), iscannum.h [1.3] (+3 -3), iscannum.c [1.3] (+28 -4), 
        iscanbin.h [1.3] (+3 -3), iscanbin.c [1.3] (+11 -7), iscan.h [1.3] (+16 -13), 
        iscan.c [1.3] (+7 -5), isave.h [1.3] (+16 -16), isave.c [1.3] (+14 -14), 
        iref.h [1.3] (+189 -108), ireclaim.c [1.3] (+4 -4), iplugin.h [1.3] (+7 -7), 
        ipcolor.h [1.3] (+3 -3), iparray.h [1.3] (+3 -3), iparam.h [1.3] (+18 -18), 
        iparam.c [1.3] (+18 -18), interp.h [1.3] (+15 -15), interp.c [1.3] (+15 -14), 
        int.mak [1.6] (+112 -59), inames.h [1.3] (+17 -17), inamedef.h [1.3] (+4 -4), 
        iname.c [1.3] (+4 -4), imemory.h [1.3] (+12 -12), imainarg.h [1.3] (+3 -4), 
        imainarg.c [1.3] (+21 -21), imain.h [1.3] (+47 -50), imain.c [1.3] (+11 -15), 
        ilocate.c [1.3] (+5 -4), iinit.h [1.3] (+5 -5), iinit.c [1.3] (+6 -4), 
        iimage2.h [1.4] (+4 -4), iimage.h [1.4] (+10 -10), iht.h [1.3] (+5 -5), 
        igstate.h [1.6] (+2 -2), igcstr.h [1.3] (+7 -7), igcstr.c [1.3] (+2 -2), 
        igc.h [1.3] (+11 -11), igc.c [1.3] (+14 -14), ifwpred.h [1.3] (+4 -4), 
        ifunc.h [1.3] (+12 -16), ifrpred.h [1.3] (+4 -4), ifont42.h [1.3] (+8 -8), 
        ifont2.h [1.3] (+3 -3), ifont1.h [1.3] (+12 -12), ifont.h [1.3] (+4 -13), 
        ifilter2.h [1.3] (+5 -5), ifilter.h [1.3] (+18 -18), ifcid.h [1.3] (+5 -5), 
        ifapi.h [1.3] (+1 -2), idstack.h [1.3] (+3 -3), idstack.c [1.3] (+2 -2), 
        idparam.h [1.3] (+37 -37), idosave.h [1.3] (+5 -5), idict.h [1.3] (+23 -23), 
        idict.c [1.3] (+3 -3), idebug.h [1.3] (+9 -9), idebug.c [1.3] (+5 -5), 
        iddstack.h [1.3] (+3 -3), icsmap.h [1.3] (+5 -5), icontext.h [1.3] (+8 -8), 
        icontext.c [1.3] (+2 -1), icolor.h [1.3] (+7 -7), icie.h [1.3] (+31 -31), 
        icid.h [1.3] (+2 -2), icharout.h [1.3] (+15 -15), ichar1.h [1.3] (+5 -5), 
        ichar.h [1.3] (+14 -14), icclib.mak [1.3] (+2 -2), iccfont.c [1.3] (+9 -4), 
        ibnum.h [1.3] (+9 -9), iapi.h [1.3] (+45 -75), iapi.c [1.3] (+3 -3), 
        ialloc.h [1.3] (+8 -8), gzpath.h [1.3] (+11 -11), gzline.h [1.3] (+2 -2), 
        gzht.h [1.6] (+47 -47), gzacpath.h [1.3] (+7 -7), gxxfont.h [1.3] (+19 -21), 
        gxtype1.h [1.3] (+22 -22), gxtype1.c [1.3] (+41 -26), gxttf.h [1.3] (+2 -2), 
        gxtmap.h [1.3] (+5 -5), gxtext.h [1.3] (+20 -20), gxsync.h [1.3] (+13 -13), 
        gxstroke.c [1.3] (+18 -18), gxstate.h [1.4] (+14 -14), gxshade6.c [1.3] (+3 -3), 
        gxshade4.h [1.3] (+10 -10), gxshade4.c [1.3] (+2 -3), gxshade1.c [1.3] (+242 -22), 
        gxshade.h [1.3] (+30 -22), gxshade.c [1.3] (+31 -15), gxsample.h [1.3] (+3 -3), 
        gxrplane.h [1.3] (+3 -3), gxropc.h [1.3] (+3 -3), gxpdash.c [1.3] (+4 -4), 
        gxpcopy.c [1.3] (+4 -4), gxpcolor.h [1.4] (+23 -23), gxpcmap.c [1.5] (+3 -3), 
        gxpcache.h [1.3] (+2 -2), gxpath.h [1.3] (+82 -83), gxpath.c [1.3] (+4 -4), 
        gxpaint.h [1.3] (+15 -15), gxpageq.h [1.3] (+24 -24), gxpageq.c [1.3] (+4 -4), 
        gxp1impl.h [1.3] (+3 -3), gxp1fill.c [1.3] (+3 -3), gxop1.h [1.3] (+5 -5), 
        gxmclip.h [1.3] (+5 -5), gxmatrix.h [1.3] (+7 -7), gxline.h [1.3] (+4 -5), 
        gxistate.h [1.11] (+54 -40), gxipixel.c [1.4] (+9 -9), gxiparam.h [1.3] (+26 -26), 
        gxiodev.h [1.3] (+42 -27), gximage3.h [1.3] (+25 -25), gximage3.c [1.3] (+2 -2), 
        gximage.h [1.3] (+12 -12), gximage.c [1.3] (+3 -3), gximag3x.h [1.3] (+27 -27), 
        gximag3x.c [1.4] (+8 -8), gxifast.c [1.3] (+2 -2), gxidata.c [1.3] (+7 -7), 
        gxiclass.h [1.3] (+4 -4), gxht.h [1.5] (+11 -11), gxht.c [1.8] (+3 -3), 
        gxhint3.c [1.3] (+4 -4), gxhint2.c [1.3] (+4 -4), gxhint1.c [1.3] (+7 -7), 
        gxgetbit.h [1.3] (+9 -9), gxfunc.h [1.3] (+30 -8), gxfont42.h [1.3] (+36 -16), 
        gxfont1.h [1.3] (+18 -10), gxfont0c.h [1.1] (+59 -0), gxfont0.h [1.3] (+8 -3), 
        gxfont.h [1.3] (+62 -40), gxfmap.h [1.3] (+5 -5), gxfixed.h [1.3] (+8 -8), 
        gxfill.c [1.3] (+20 -20), gxfcopy.h [1.1] (+142 -0), gxfcopy.c [1.1] (+1618 -0), 
        gxfcmap1.h [1.1] (+119 -0), gxfcmap.h [1.3] (+231 -94), 
        gxfcid.h [1.3] (+9 -7), gxfcache.h [1.3] (+17 -12), gxfarith.h [1.3] (+5 -5), 
        gxfapi.h [1.3] (+5 -5), gxfapi.c [1.3] (+4 -4), gxdither.h [1.6] (+2 -2), 
        gxdhtres.h [1.3] (+2 -2), gxdht.h [1.6] (+9 -10), gxdevmem.h [1.6] (+29 -29), 
        gxdevice.h [1.9] (+32 -32), gxdevcli.h [1.11] (+114 -114), 
        gxdevbuf.h [1.3] (+11 -11), gxdcolor.h [1.6] (+14 -14), 
        gxdcconv.h [1.3] (+9 -9), gxctable.h [1.3] (+5 -5), gxcspace.h [1.6] (+23 -23), 
        gxcpath.h [1.3] (+9 -9), gxcpath.c [1.3] (+4 -4), gxcoord.h [1.3] (+4 -4), 
        gxcomp.h [1.4] (+7 -8), gxcolor2.h [1.3] (+6 -6), gxcmap.h [1.11] (+16 -16), 
        gxclread.c [1.3] (+12 -12), gxclrast.c [1.14] (+47 -47), 
        gxclpath.h [1.6] (+13 -13), gxclpath.c [1.4] (+5 -5), gxclpage.h [1.3] (+5 -5), 
        gxclmem.h [1.3] (+3 -3), gxclmem.c [1.3] (+3 -3), gxclist.h [1.4] (+11 -11), 
        gxclist.c [1.4] (+2 -2), gxclipm.c [1.4] (+2 -2), gxclip2.h [1.3] (+6 -6), 
        gxclip.h [1.3] (+15 -15), gxclip.c [1.4] (+6 -5), gxclio.h [1.3] (+15 -17), 
        gxclimag.c [1.7] (+25 -28), gxcldev.h [1.6] (+56 -59), gxcie.h [1.3] (+13 -13), 
        gxcid.h [1.3] (+9 -5), gxcht.c [1.17] (+5 -5), gxchrout.h [1.3] (+2 -2), 
        gxchar.h [1.3] (+16 -16), gxchar.c [1.3] (+44 -23), gxcdevn.h [1.5] (+5 -5), 
        gxccman.c [1.3] (+7 -7), gxccache.c [1.4] (+24 -19), gxbcache.h [1.3] (+8 -8), 
        gxarith.h [1.3] (+5 -5), gxalloc.h [1.3] (+19 -17), gswin386.rc [1.2] (+2 -2), 
        gswin32.rc [1.2] (+2 -2), gswin16.icx [1.1] (+34 -0), gswin.rc [1.3] (+3 -3), 
        gswin.icx [1.1] (+787 -0), gsutil.h [1.3] (+9 -9), gsutil.c [1.4] (+24 -13), 
        gsuid.h [1.3] (+5 -3), gstypes.h [1.3] (+10 -1), gstype42.c [1.5] (+51 -25), 
        gstype2.c [1.3] (+5 -8), gstype1.h [1.3] (+9 -9), gstrap.h [1.3] (+2 -2), 
        gstrap.c [1.3] (+2 -2), gstrans.h [1.3] (+25 -25), gstrans.c [1.3] (+11 -11), 
        gstparam.h [1.3] (+2 -2), gstext.h [1.3] (+53 -53), gstext.c [1.3] (+33 -4), 
        gsstype.h [1.3] (+8 -8), gsstruct.h [1.3] (+23 -10), gsstate.h [1.4] (+24 -26), 
        gsstate.c [1.7] (+8 -8), gsshade.h [1.3] (+34 -34), gsshade.c [1.3] (+8 -18), 
        gsropt.h [1.3] (+2 -2), gsropc.h [1.3] (+4 -4), gsrop.h [1.3] (+9 -9), 
        gsrefct.h [1.3] (+7 -7), gsrect.h [1.3] (+3 -3), gsptype2.h [1.3] (+2 -3), 
        gsptype1.h [1.3] (+31 -31), gsptype1.c [1.5] (+6 -6), gspcolor.h [1.3] (+7 -7), 
        gspath2.h [1.3] (+6 -6), gspath1.c [1.3] (+2 -2), gspath.h [1.3] (+32 -33), 
        gspath.c [1.3] (+3 -3), gsparamx.h [1.3] (+11 -11), gsparams.h [1.3] (+5 -5), 
        gsparams.c [1.3] (+11 -11), gsparam2.c [1.3] (+12 -6), gsparam.h [1.3] (+66 -66), 
        gspaint.h [1.3] (+7 -7), gsnotify.h [1.3] (+12 -12), gsnotify.c [1.3] (+2 -2), 
        gsnogc.c [1.3] (+2 -2), gsmemret.h [1.3] (+11 -11), gsmemraw.h [1.3] (+10 -10), 
        gsmemory.h [1.3] (+32 -32), gsmemlok.h [1.3] (+7 -7), gsmdebug.h [1.3] (+2 -2), 
        gsmatrix.h [1.3] (+20 -19), gsmatrix.c [1.3] (+9 -9), gsmalloc.h [1.3] (+7 -7), 
        gsmalloc.c [1.4] (+2 -12), gsline.h [1.3] (+31 -31), gslib.h [1.3] (+5 -5), 
        gslib.c [1.6] (+15 -16), gsiparm4.h [1.3] (+2 -2), gsiparm3.h [1.3] (+3 -3), 
        gsiparm2.h [1.3] (+2 -2), gsiparam.h [1.4] (+21 -20), gsipar3x.h [1.3] (+2 -3), 
        gsiodisk.c [1.1] (+886 -0), gsiodevs.c [1.3] (+2 -2), gsimpath.c [1.3] (+4 -4), 
        gsimage.h [1.3] (+20 -21), gsimage.c [1.5] (+2 -2), gsicc.h [1.3] (+4 -4), 
        gshtx.h [1.6] (+6 -6), gshtscr.c [1.4] (+3 -3), gsht1.h [1.3] (+6 -6), 
        gsht1.c [1.7] (+10 -11), gsht.h [1.3] (+10 -11), gsht.c [1.10] (+2 -2), 
        gshsb.h [1.3] (+3 -3), gshsb.c [1.3] (+3 -3), gsgc.h [1.3] (+2 -2), 
        gsfuncv.h [1.3] (+6 -6), gsfunc4.h [1.3] (+6 -6), gsfunc4.c [1.3] (+67 -3), 
        gsfunc3.h [1.3] (+16 -16), gsfunc3.c [1.3] (+195 -4), gsfunc0.h [1.3] (+6 -6), 
        gsfunc0.c [1.3] (+36 -3), gsfunc.h [1.3] (+40 -14), gsfunc.c [1.3] (+98 -2), 
        gsfont0c.c [1.1] (+130 -0), gsfont.h [1.3] (+27 -23), gsfont.c [1.3] (+41 -27), 
        gsfname.h [1.3] (+7 -7), gsflip.h [1.3] (+4 -4), gsflip.c [1.3] (+3 -3), 
        gsfcmap1.c [1.1] (+670 -0), gsfcmap.h [1.3] (+20 -7), gsfcmap.c [1.3] (+268 -502), 
        gsfcid2.c [1.1] (+325 -0), gsfcid.c [1.3] (+8 -1), gsexit.h [1.3] (+18 -6), 
        gserver.c [1.3] (+14 -14), gserror.h [1.3] (+2 -2), gsdsrc.h [1.3] (+3 -3), 
        gsdps.h [1.3] (+5 -5), gsdps.c [1.3] (+2 -2), gsdparam.c [1.5] (+9 -10), 
        gsdfilt.h [1.3] (+1 -8), gsdevice.h [1.3] (+34 -34), gsdcolor.h [1.6] (+5 -5), 
        gscssub.h [1.3] (+8 -8), gscspace.h [1.10] (+27 -20), gscsepr.h [1.6] (+11 -11), 
        gscsepr.c [1.13] (+10 -10), gscrypt1.h [1.3] (+5 -5), gscrdp.h [1.3] (+13 -13), 
        gscrd.h [1.3] (+30 -30), gscpixel.h [1.3] (+2 -2), gscoord.h [1.3] (+19 -12), 
        gscoord.c [1.3] (+3 -3), gscompt.h [1.3] (+2 -2), gscolor3.h [1.3] (+4 -4), 
        gscolor2.h [1.4] (+7 -7), gscolor2.c [1.6] (+2 -2), gscolor1.h [1.4] (+18 -12), 
        gscolor1.c [1.7] (+3 -3), gscolor.h [1.4] (+9 -7), gscolor.c [1.6] (+3 -4), 
        gsclipsr.h [1.3] (+3 -3), gscindex.h [1.3] (+20 -20), gsciemap.c [1.3] (+3 -3), 
        gscie.h [1.3] (+67 -46), gscie.c [1.3] (+110 -78), gschar0.c [1.3] (+35 -4), 
        gschar.h [1.3] (+31 -31), gschar.c [1.3] (+3 -3), gscencs.h [1.1] (+70 -0), 
        gscencs.c [1.1] (+181 -0), gscedata.h [1.1] (+31 -0), gscedata.c [1.1] (+3633 -0), 
        gscdevn.h [1.7] (+12 -12), gscdevn.c [1.14] (+6 -6), gscdefs.h [1.4] (+3 -7), 
        gscdef.c [1.3] (+3 -3), gsccode.h [1.3] (+56 -42), gsbittab.c [1.3] (+2 -2), 
        gsbitops.h [1.5] (+21 -21), gsargs.h [1.3] (+9 -9), gsargs.c [1.3] (+2 -2), 
        gsalphac.h [1.3] (+4 -4), gsalphac.c [1.6] (+5 -5), gsalpha.h [1.3] (+3 -3), 
        gsalloc.h [1.3] (+10 -10), gsalloc.c [1.3] (+17 -24), gs16spl.rc [1.3] (+2 -2), 
        gs.mak [1.7] (+8 -1), gs.c [1.3] (+11 -3), gpsync.h [1.3] (+13 -13), 
        gpmisc.h [1.3] (+3 -3), gpgetenv.h [1.3] (+2 -2), gpcheck.h [1.3] (+3 -3), 
        gp_vms.c [1.3] (+2 -2), gp_unix.c [1.3] (+4 -3), gp_unifs.c [1.3] (+2 -2), 
        gp_strdl.c [1.3] (+2 -2), gp_os9.c [1.3] (+4 -3), gp_os2.c [1.3] (+4 -3), 
        gp_mswin.c [1.3] (+4 -3), gp_msio.c [1.3] (+2 -2), gp_macio.c [1.3] (+10 -10), 
        gp_mac.c [1.3] (+5 -5), gp_iwatc.c [1.3] (+5 -4), gp_getnv.c [1.3] (+2 -2), 
        gp_dvx.c [1.3] (+3 -2), gp.h [1.3] (+29 -29), geninit.c [1.3] (+6 -6), 
        gendev.c [1.3] (+2 -2), genconf.c [1.4] (+15 -15), genarch.c [1.3] (+6 -4), 
        gdevxxf.c [1.3] (+2 -2), gdevxini.c [1.6] (+3 -3), gdevxcmp.c [1.4] (+4 -1), 
        gdevxcf.c [1.8] (+4 -11), gdevxalt.c [1.4] (+4 -4), gdevx.h [1.3] (+10 -10), 
        gdevx.c [1.4] (+12 -16), gdevwprn.c [1.3] (+4 -4), gdevwddb.c [1.3] (+4 -4), 
        gdevvec.h [1.3] (+74 -74), gdevupd.c [1.4] (+42 -42), gdevtifs.h [1.3] (+12 -12), 
        gdevtfax.h [1.3] (+3 -3), gdevtfax.c [1.3] (+3 -3), gdevsvga.h [1.3] (+8 -8), 
        gdevsvga.c [1.3] (+13 -13), gdevstc.h [1.3] (+2 -2), gdevstc.c [1.4] (+7 -7), 
        gdevsco.c [1.3] (+5 -5), gdevs3ga.c [1.3] (+3 -3), gdevpxut.h [1.3] (+23 -23), 
        gdevpx.c [1.3] (+3 -5), gdevpsu.h [1.3] (+13 -13), gdevpsu.c [1.3] (+2 -2), 
        gdevpsim.c [1.3] (+7 -8), gdevpsfx.c [1.3] (+3 -2), gdevpsft.c [1.3] (+257 -122), 
        gdevpsfm.c [1.3] (+68 -42), gdevpsf2.c [1.3] (+94 -39), 
        gdevpsf1.c [1.3] (+15 -13), gdevpsf.h [1.3] (+88 -63), gdevpsdu.c [1.3] (+3 -5), 
        gdevpsds.h [1.3] (+32 -4), gdevpsds.c [1.3] (+232 -1), gdevpsdp.c [1.3] (+68 -68), 
        gdevpsdi.c [1.4] (+45 -16), gdevpsdf.h [1.3] (+57 -48), 
        gdevps.c [1.3] (+128 -66), gdevprna.h [1.3] (+5 -5), gdevprna.c [1.3] (+10 -10), 
        gdevprn.h [1.4] (+49 -49), gdevprn.c [1.5] (+4 -4), gdevppla.h [1.3] (+14 -14), 
        gdevpm.c [1.3] (+1 -2), gdevplnx.h [1.3] (+4 -5), gdevpjet.c [1.3] (+3 -3), 
        gdevpdtx.h [1.1] (+95 -0), gdevpdtw.h [1.1] (+68 -0), gdevpdtw.c [1.1] (+452 -0), 
        gdevpdtt.h [1.1] (+203 -0), gdevpdtt.c [1.1] (+876 -0), 
        gdevpdts.h [1.1] (+142 -0), gdevpdts.c [1.1] (+558 -0), 
        gdevpdti.h [1.1] (+81 -0), gdevpdti.c [1.1] (+360 -0), gdevpdtf.h [1.1] (+364 -0), 
        gdevpdtf.c [1.1] (+751 -0), gdevpdte.c [1.1] (+568 -0), 
        gdevpdtd.h [1.1] (+132 -0), gdevpdtd.c [1.1] (+586 -0), 
        gdevpdtc.c [1.1] (+519 -0), gdevpdtb.h [1.1] (+129 -0), 
        gdevpdtb.c [1.1] (+557 -0), gdevpdt.h [1.1] (+99 -0), gdevpdt.c [1.1] (+57 -0), 
        gdevpdfx.h [1.3] (+206 -167), gdevpdfw.c [1.3] (+30 -39), 
        gdevpdfv.c [1.3] (+176 -86), gdevpdfu.c [1.3] (+168 -103), 
        gdevpdft.h [1.1] (+106 -0), gdevpdft.c [1.3] (+192 -48), 
        gdevpdfs.c [1.3] (+202 -119), gdevpdfr.c [1.3] (+58 -5), 
        gdevpdfp.c [1.3] (+83 -78), gdevpdfo.h [1.3] (+74 -61), 
        gdevpdfo.c [1.3] (+107 -20), gdevpdfm.c [1.3] (+166 -48), 
        gdevpdfk.c [1.2] (+111 -67), gdevpdfj.c [1.3] (+204 -33), 
        gdevpdfi.c [1.3] (+113 -52), gdevpdfg.h [1.3] (+101 -62), 
        gdevpdfg.c [1.6] (+40 -45), gdevpdff.h [1.3] (+53 -63), 
        gdevpdff.c [1.3] (+90 -58), gdevpdfe.c [1.3] (+11 -12), 
        gdevpdfd.c [1.3] (+37 -30), gdevpdfc.h [1.2] (+2 -2), gdevpdfc.c [1.4] (+85 -24), 
        gdevpdfb.c [1.3] (+35 -47), gdevpdf.c [1.7] (+99 -110), 
        gdevpcx.c [1.3] (+3 -3), gdevpcl.h [1.3] (+6 -6), gdevpcfb.h [1.3] (+7 -7), 
        gdevpcfb.c [1.3] (+8 -8), gdevpccm.h [1.3] (+2 -2), gdevpbm.c [1.8] (+60 -5), 
        gdevp14.c [1.5] (+12 -2), gdevokii.c [1.3] (+2 -2), gdevmsxf.c [1.3] (+6 -6), 
        gdevmswn.h [1.3] (+8 -8), gdevmswn.c [1.3] (+2 -2), gdevmrun.h [1.3] (+2 -2), 
        gdevmrop.h [1.3] (+16 -16), gdevmpla.h [1.3] (+3 -3), gdevmgr.c [1.3] (+3 -3), 
        gdevmem.h [1.5] (+2 -2), gdevmeds.h [1.3] (+3 -3), gdevmacxf.c [1.3] (+3 -3), 
        gdevm8.c [1.3] (+7 -7), gdevijs.c [1.2] (+3 -3), gdevifno.c [1.2] (+8 -8), 
        gdevhl7x.c [1.3] (+2 -2), gdevherc.c [1.3] (+3 -3), gdevfax.h [1.3] (+10 -10), 
        gdevepsn.c [1.3] (+2 -2), gdevepsc.c [1.4] (+2 -2), gdevdsp.c [1.9] (+49 -3), 
        gdevdrop.c [1.4] (+2 -2), gdevdm24.c [1.3] (+3 -3), gdevdljm.h [1.2] (+5 -5), 
        gdevdljm.c [1.2] (+4 -1), gdevdjtc.c [1.3] (+3 -3), gdevdjet.c [1.2] (+8 -4), 
        gdevdgbr.c [1.6] (+10 -10), gdevdevn.c [1.10] (+12 -11), 
        gdevdcrd.h [1.3] (+3 -3), gdevdbit.c [1.4] (+2 -2), gdevcmap.h [1.3] (+3 -3), 
        gdevcgml.h [1.3] (+97 -71), gdevcgml.c [1.3] (+15 -15), 
        gdevcdj.c [1.4] (+20 -20), gdevbmpa.c [1.3] (+5 -5), gdevbmp.h [1.3] (+3 -3), 
        gdevbjcl.h [1.3] (+33 -35), gdevbj10.c [1.3] (+44 -4), gdevbbox.h [1.3] (+12 -12), 
        gdevalph.c [1.3] (+2 -2), gdev8bcm.h [1.3] (+6 -6), gdev8510.c [1.3] (+3 -3), 
        gdebug.h [1.3] (+8 -8), files.h [1.3] (+28 -28), fapiufst.c [1.3] (+14 -14), 
        estack.h [1.3] (+2 -2), errors.h [1.3] (+7 -1), echogs.c [1.3] (+5 -5), 
        dxmain.c [1.3] (+105 -47), dwuninst.rc [1.3] (+2 -2), dwtrace.h [1.2] (+6 -3), 
        dwtext.c [1.3] (+26 -53), dwmainc.c [1.3] (+9 -1), dwinst.h [1.3] (+2 -1), 
        dwinst.cpp [1.3] (+10 -1), dwimg.h [1.4] (+2 -1), dwimg.c [1.3] (+10 -6), 
        dvx-gcc.mak [1.3] (+6 -10), dscparse.h [1.3] (+23 -35), 
        dscparse.c [1.3] (+42 -42), dpmain.c [1.3] (+10 -6), devs.mak [1.12] (+215 -64), 
        contrib.mak [1.3] (+5 -3), ccfont.h [1.3] (+16 -18), btoken.h [1.3] (+5 -5), 
        bfont.h [1.3] (+26 -27), bench.c [1.3] (+2 -3), bcwin32.mak [1.3] (+49 -8), 
        bcc32.cfg [1.2] (+1 -1), all-arch.mak [1.3] (+6 -7), Makefile.in [1.1] (+420 -0):
        backward merge of 7.22 to the devicen branch.
        

Sun Jul 14 07:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxcmap.c [1.22] (+8 -8):
        Limit the last commit to only affecting the /All separation.  A /Blue
        separation is set to its component value without inversion.  See the
        MagicEye.pdf test file for an example.
        

Sat Jul 13 07:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxcmap.c [1.21] (+13 -4):
        Invert the sense of Separation component values if the the device is
        using an additive color model.  Separation colors are always subtractive.
        

Fri Jul 12 23:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gximono.c [1.5] (+29 -2), gxht.c [1.7] (+75 -42), gxdcolor.h [1.5] (+0 -2):
        Back out the last commit.  The theory is good and I still have hope for
        the concept.  However it currently creates 532 errors in the regression
        testing.  Thus it is being backed out (for now).
        

Fri Jul 12 07:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gximono.c [1.4] (+3 -30), gxht.c [1.6] (+43 -76), gxdcolor.h [1.4] (+3 -1):
        Split the half tone cache initialization into two pieces.  The halftone
        cache is now initialized just prior to being used in the various
        halftone render routines.  This was doe to prevent a problem with cache
        conflicts.  If the half tone cache is not large enough for a separate
        tile for each level then there could be a problem if two different
        device colors used the same cache entry but with different level values.
        

Tue Jul  9 02:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxicolor.c [1.4] (+13 -25):
        This commit is to remove the change from yesterday.  That commit has
        some serious flaws.  It fixed a small problem by creating some larger ones.
        
        There is still a flaw in the logic of image_render_color.  It is creating
        a pair of device colors.  Unfortunately, the process of creating the second
        one can change a half tone cache used by the first.  This affects the final
        image when the first color is then used to image pixels.
        

Mon Jul  8 20:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gdevxini.c [1.5] (+1 -5):
        (Jan) fixes infinite recursion in x11alpha device.
        

Mon Jul  8 19:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gdevmem.c [1.7] (+3 -1):
        memory devices are now processed thought the "expert system".
        
        * unix-gcc.mak [1.8] (+2 -2):
        adds in the bbox device for testing... not sure why it was ever taken
        out.
        

Mon Jul  8 06:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxicolor.c [1.3] (+27 -15):
        image_render_color creates a pair of device colors and then compares them.
        Unfortunately the process of creating the second device color can alter
        the halftone cache used by the first.  This can occur when the halftone
        cache is small (4096 bytes) and there is not enough room for a cache
        entry for each level.  The fix is to reload the cache by remapping the
        first color before it is used to render a pixel.
        
        Note:  This problem also affects non DeviceN code but is less visible
        since a large cache (100000 bytes) is used for many situations.
        

Wed Jul  3 07:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxht.c [1.5] (+2 -2):
        Change the return code from gx_check_tile_size to indicate that there is
        no imager state half tone cache.
        

Thu Jun 27 22:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxclbits.c [1.4] (+2 -2):
        We were off by one in the map data written into the clist.
        

Tue Jun 25 18:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * lib.mak [1.20] (+6 -4), gxoprect.h [1.2] (+1 -1), gxoprect.c [1.2] (+2 -2), 
        gxcomp.h [1.3] (+30 -2), gxcmap.c [1.20] (+5 -2), gxclutil.c [1.4] (+5 -4), 
        gxclrast.c [1.13] (+91 -12), gxclpath.h [1.5] (+12 -2), 
        gxclimag.c [1.6] (+35 -6), gsstate.c [1.6] (+9 -4), gsovrc.c [1.3] (+40 -18), 
        gscolor.c [1.5] (+3 -1), gscdefs.h [1.3] (+5 -1), gsalphac.c [1.5] (+8 -7), 
        gs.mak [1.6] (+3 -1), genconf.c [1.3] (+17 -2), gdevx.c [1.3] (+5 -1), 
        gdevdgbr.c [1.5] (+6 -2), gconf.c [1.3] (+25 -1):
        Modified Files:
        
          lib/gs_ll3.ps
            Added code to create the setoverprintmode and currentoverprintmode
            operators.
        
          src/gconf.c
            Add the gx_compositor_list array, to list the set of compositor
            types compiled into the system. Also provided the gs_find_compositor
            procedure, to locate a compositor method vector based on its
            type identifier.
        
          src/gdevdgbr.c
            Fixed several bugs in gx_get_bits_copy, for cases in which the
            transfer of output data involves a skew (bit shift) but no color
            conversion (a case that is apparently used only by the overprint
            facility). This case uses the copy_mono method for the 1-bit
            memory device. The invocation of this method had two problems:
        
              1. The temporary device created for the transfer had uninitialized
                 width and height fields. Because copy_mono will invoke the
                 fit_copy macro, these fields must be set to reasonable values.
        
              2. The width passed to copy_mono must be bit-width, as the
                 method for a depth == 1 device is used. Previously, the
                 pixel width was used.
        
          src/gdevx.c
            Fixed a problem in x_copy_image. If the image passed to this routine
            contains more than one pixel, the colors_and and colors_or fields were
            not updated. Because these fields are only used for optimization, and
            properly updating them in this situation is potentially expensive,
            they are now just set to safe values (colors_and = 0;
            colors_or = (x_pixel)(-1)).
        
          src/genconf.c
            Added to "-comp" option to support construction of a list of
            compositors compiled into the system.
        
          src/gs.mak
            Added the SETCOMP and ADDCOMP macros, to provide access to the
            -comp option of genconf.c.
        
          src/gsalphac.c
            Exported the gs_composite_alpha_type structure, and added a compositor
            type identifier to this structure. Also modified the de-serialization
            (read) method for this size so that the data string provided be large
            enough but not necessarily exactly the right size, and to return the
            number of bytes actually read (or an error code).
        
          src/gscdefs.h
            Added a prototye for gs_find_compositor (see gconf.c above).
        
          src/gscolor.c
            Modified gx_set_device_color_1 to turn off overprint (and overprint
            mode).
        
          src/gsovc.c:
            1. Modified the de-serialization method (read) to return the number of
               bytes actually read (or an error code).
            2. Renamed gs_overprint_type to be gs_composite_overprint_type, so as
               to conform to the new convention for compositor names.
            3. For the overprint devices, set the get_xfont_procs, get_xfont_device,
               and text_begin methods to use the corresponding default methods,
               rather than the forwarding methods. Device-supported fonts are
               incompatible with overprint, as the required low-level calls may
               not be made. While the text_begin method is not itself a rendering
               method, it does record an imaging device, and this device must
               be the overprint device rather than the target device. If the
               forwarding text_begin method is used, the recorded imaging device
               would be the target device.
            4. Modified update_overprint_params to avoid use of the overprint
               devices for cases in which overprint is true, but all color
               components are to be drawn. Though the output is not changed, use
               of the non-overprint device improves performance in this case.
            5. Modified the default overprint compositor creation method
               (c_overprint_create_default_compositor) to ignore overprint
               requests if the current color model has only a single component.
               Overprinting can never have an effect in this situation, and
               avoiding these cases also avoids difficulties with mask caching
               devices (such as are used with the character cache).
        
          src/gsstate.c
            Modified gs_state_update_overprint to update the color model mapping
            procedures and unset the device color. Though updating the overprint
            status will never change the color model, the overprint devices
            require a special set of forwarding color model mapping procedures.
        
          src/gxclimag.c
            Implemented the clist_create_compositor procedure (the create_compositor
            method for the command list device).
        
          src/gxclpath.c
            Replaced the cmd_opv_put_params code (0xdf) with cmd_opv_extend. This
            code indicates that the subsequent byte should be read and interpreted
            as a command from the gx_cmd_ext_op enumeration. Currently, this
            enumeration has two elements, cmd_opv_ext_put_params (the put_params
            method) and cmd_opv_ext_create_compositor (the create_compositor
            method).
        
          src/gxclrast.c
            1. Made the code parsing changes required by the new cmp_opv_extend
               code (see gxclpath.h above).
            2. Added the read_create_compositor procedure, to interpret the
               cmd_opv_ext_create_compositor command.
        
          src/gxclutil.c
            Modified cmd_put_params for the new cmp_opv_extend/cmd_opv_ext_put_params
            coding techinque.
        
          src/gxcmap.c
            Modified gx_set_cmap_procs to handle devices that have no
            get_color_mapping_procs method (such as mask caching devices).
        
          src/gxcomp.h
            Added the comp_id field to the gs_composite_type_t structure. Also
            added macros for the alpha and overprint compositors (the only two
            compositors in the current system).
        
          src/gxoprect.c
            Fixed typo in pack_scanline_lt8: the source data pointer was not
            being advanced.
        
          src/gxoprect.h
            Fixed typo in RCS identifier comment.
        
          src/lib.mak
            1. Updated several dependency lists.
            2. Added code to generate the list of compiled compositors.
        

Sat Jun 22 00:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxcmap.c [1.19] (+2 -3):
        Fix an infinite loop in the separation logic.  Bug created in the last
        commit.  I was too carried away with clean up.
        

Fri Jun 21 22:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxcmap.c [1.18] (+9 -5), gscsepr.c [1.12] (+5 -3):
        We still were not correctly setting the separation use_alt_cspace flag for
        the None and All cases.  We also were not correctly setting colorant values
        for the All case.
        

Fri Jun 21 19:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gscsepr.c [1.11] (+22 -1), gscdevn.c [1.13] (+3 -3):
        More clean up on separation color spaces.  Report the alternate color space
        as the concrete space if we are using the alternate space.
        

Fri Jun 21 07:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gscsepr.c [1.10] (+32 -5), gscdevn.c [1.12] (+7 -3):
        Corrected some problems in the Separation color space.  The color cache
        assumed that there was only one component.  We were not correctly using
        the alternate color space in the remap_concrete routine.
        

Thu Jun 20 06:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxdevndi.c [1.12] (+2 -2), gxcmap.c [1.17] (+5 -2):
        One more revision about when to use render_gray versus render_color math.
        

Wed Jun 19 05:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * lib.mak [1.19] (+2 -2), gxcmap.h [1.10] (+8 -1), gxcmap.c [1.16] (+4 -4), 
        gdevnfwd.c [1.8] (+83 -7):
        Changes the forwarding device so that there are forwarding procedures for
        the color space to color model mapping procs.  Corrects a problem found
        by henry with multi4.ps and the spotcmyk device.
        

Tue Jun 18 03:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gzht.h [1.5] (+19 -1), gxistate.h [1.10] (+8 -10), gximono.c [1.3] (+4 -1), 
        gxht.c [1.4] (+14 -3), gxclrast.c [1.12] (+3 -34), gxcht.c [1.16] (+4 -11), 
        gsstate.c [1.5] (+1 -11), gsistate.c [1.7] (+7 -12), gshtscr.c [1.3] (+2 -2), 
        gsht1.c [1.6] (+3 -29), gsht.c [1.9] (+84 -43):
        Removes the half tone cache from the imager state structure.  Changes the
        way that half tones are copied.  Changes where half tone caches are
        allocated.  Previously there were problems with half tone elements being
        released multiple times.  This created havoc with memory management.
        

Tue Jun 11 05:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxdevndi.c [1.11] (+45 -36):
        One more revision of the "joint gray and color math".
        The last version had a problem in that the gray calculation might miss
        the fact that the calculation had produced a solid color (due to rounding
        in the calculation).  Then it would access an array out of bounds.
        

Tue Jun  4 05:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * lib.mak [1.18] (+9 -3), gxoprect.h [1.1] (+76 -0), gxoprect.c [1.1] (+621 -0), 
        gxdcconv.c [1.3] (+3 -3), gsovrc.h [1.2] (+1 -1), gsovrc.c [1.2] (+117 -9), 
        gscdevn.c [1.11] (+2 -1), gsbitops.h [1.4] (+4 -1), gsbitops.c [1.3] (+135 -76), 
        gdevdflt.c [1.10] (+153 -5):
        code set from ORIMP to enable overprint and overprint mode.
        
        New Files:
        
          src/gxoprect.c
          src/gxoprect.h
            These files provide the low-level code for the fill_rectangle method
            of the overprint compositor device. There are three such procedures,
            which are used in different circumstances:
        
              gx_overprint_generic_fill_rectangle is always applicable, but is
                very slow as it must decode and re-encode the color for each pixel.
        
              gx_overprint_sep_fill_rectangle_1 is applicable to separable and
                linear color encodings whose depth is a divisor of
                8 * sizeof(mono_fill_chunk) = 32. This is always the
                case if depth &lt;= 8. The code used in this case is, once past a
                large amount of setup, about as fast as can be achieved while
                using get_bits_rectangle.
        
              gx_overprint_sep_fill_rectangle_2 is applicable to all other
                separable and linear color encodings (all of which will have
                depth % 8 = 0). This uses a byte-wise method which is in principle
                slower than what could be achieved with a chunk-wise method, but
                is much easier to code in the general case (i.e.: for multiple
                possible depths). It will likely be faster in practice.
        
        Modified Files:
        
          lib/gs_init.ps
          lib/gs_setpd.ps
            Modified erasepage (and several other bits of code that erase the
            page) to turn off overprint before filling the page. This is necessary
            to preserve the meaning of erasepage.
        
          src/gsbitops.c
          src/gsbitops.h
            Added the bits_fill_rectangle_masked procedure, a generalization of
            the bits_fill_rectangle procedure that allows for a component mask.
            Also generalized bits_fill_rectangle (and bits_fill_rectangle_masked)
            to support depth &gt; 8, so long as
            (8 * sizeof(mono_fill_chunk)) % depth = 0.
        
            Currently, bits_fill_rectangle_masked is used only by the overprint
            compositor device, but it can also be used by devices that can
            directly implement overprint (such as the memory device).
        
          src/gscdevn.c
            Modified check_DeviceN_component_names to initialize the
            component_map.sep_type field of the imager state to SEP_OTHER.
            Previously this field was not set for DeviceN color spaces, which
            confused some of the overprint code.
        
          src/gsovrc.c
            Implemented the real overprint_fill_rectangle procedures. As part of
            this work, added the local procedure swap_color_index, that swaps
            bytes in a color index as required to work with byte-oriented bitmaps
            on little-endian devices (only if depth &gt; 8).
        
            Also fixed a parity bug in the creation of the retain_mask.
        
          src/gsovrc.h
            Fixed typo (/* &#36;Id&#36; */).
        
          src/gxdcconv.c
            Modified color_rgb_to_cmyk to work if the imager state pointer
            operand is a null pointer. Note that in this case full undercolor
            removal and black generation will be performed, which is consistent
            with other such conversions in the code that do not have access to
            the imager state, but differs from the mapping used if the imager
            state is available but has no blackgeneration or undercolor removal
            map.
        
          src/lib.mak
            Added the gxoprect.&#36;(OBJ) target and included this as a dependency
            in LIB4s. Also updated some other dependency lists.
        
        
        Additional file modified (not for overprint but needed for release):
        
          src/gdevdflt.c
            Added code to select a reasonable default value for the decode_color
            method, as this method is used extensively by the generic overprint
            implementation routines. The modifications are just a first pass to
            allow us to test the overprint code; they are not intended as a
            final solution.
        

Mon Jun  3 06:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxdither.h [1.5] (+5 -2), gxdevndi.c [1.10] (+10 -4), 
        gxcmap.c [1.15] (+7 -7):
        A revised version of the "match the reference version" math for half tone
        level calculations.  This was done to match the regression reference math.
        

Fri May 31 22:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxdevcli.h [1.10] (+2 -2):
        Corrected gx_device_has_color() macro.  It was reporting gray scale devices
        as color devices.
        

Fri May 31 21:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxdevndi.c [1.9] (+8 -11):
        Add a kludge to emulate the different calculations used for gray versus
        color halftone levels.  This is done to minimize regressions during
        regression testing.
        
        * gdevpbm.c [1.7] (+9 -5):
        Correct the pgmraw device.  The encode color routine was using three
        components instead of one for encoding the color.
        

Thu May 30 03:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gxcmap.c [1.14] (+11 -4):
        fix from ORIMP so that gx_default_b_w_map_rgb_color() can be used as
        an encode color procedure with devices of 1 color component.
        

Wed May 29 07:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * lib.mak [1.17] (+3 -3):
        Changed a typo (gsoverc.h vs gsovrc_h).  This prevented building under MSVC.
        

Wed May 29 06:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gsovrc.h [1.1] (+303 -0), gsovrc.c [1.1] (+1041 -0):
        These should have been added in the last checkin.
        
        * zpcolor.c [1.4] (+3 -2), zmisc.c [1.3] (+14 -2), zgstate.c [1.6] (+6 -7), 
        zfdcte.c [1.3] (+2 -2), lib.mak [1.16] (+18 -7), iutil.c [1.5] (+13 -4), 
        gxpcolor.h [1.3] (+7 -1), gxpcmap.c [1.4] (+6 -2), gxipixel.c [1.3] (+3 -6), 
        gxht.c [1.3] (+43 -2), gxdcolor.h [1.3] (+30 -1), gxdcolor.c [1.8] (+39 -4), 
        gxcspace.h [1.5] (+19 -13), gxclrast.c [1.11] (+13 -7), 
        gxcht.c [1.15] (+31 -3), gxccache.c [1.3] (+6 -1), gsstate.h [1.3] (+14 -1), 
        gsstate.c [1.4] (+99 -7), gsptype2.c [1.3] (+3 -2), gsptype1.c [1.4] (+26 -5), 
        gspcolor.c [1.4] (+15 -2), gslib.c [1.5] (+9 -1), gsimage.c [1.4] (+3 -2), 
        gsicc.c [1.3] (+2 -55), gsdevice.c [1.3] (+8 -2), gscspace.h [1.9] (+1 -9), 
        gscspace.c [1.4] (+203 -29), gscsepr.h [1.5] (+1 -7), gscsepr.c [1.9] (+4 -51), 
        gscscie.c [1.4] (+9 -5), gscpixel.c [1.6] (+16 -10), gscolor2.c [1.5] (+16 -33), 
        gscdevn.c [1.10] (+3 -21), gdevp14.c [1.4] (+25 -2):
        checkin for three separate code set releases from ORIMP, release
        notes follow in reverse chronological order.
        
        Notes:
        
         Modified files:
        
          gsstate.c
            Added code to ignore an error return from the create_compositor call
            in gs_state_update_overprint if the call was made to turn off
            overprint. This avoids errors for device configurations that do not
            (yet) support the create_compositor call, when running files that do
            not require overprint support.
        
          gsovrc.h
            Fixed a typo in a commment.
        
          gxclrast.c
            Fixed a re-entrancy problem in read_set_color_space that was introduced
            by the previous modification to this file.
        
          gsimage.c
            Added a comment concerning re-entrancy, and slightly modified another
            comment.
        
          gscspace.c
            Added some comments concerning re-entrancy.
        
        Notes:
        
        Modified Files:
        
          src/gsovrc.c
            Added full compositor device "plumbing". The overprint compositor
            now does all of the required device creation and setup work. The
            only piece still missing are implementations of the low-level
            rendering routines that actually implement overprint.
        
          src/gsptype1.c
          src/gsptype2.c
          src/gxcht.c
          src/gxdcolor.c
          src/gxdcolor.h
          src/gxht.c
          src/gxpcolor.h
            Added the method get_nonzero_comps to the gx_device_color_type_t
            structure (the gx_device_color methods). This method is used by
            the overprint code to determine which color component intensities
            have non-zero value, which must be known to implement overprint
            mode.
        
          src/gsovrc.h
          src/gscspace.c
            Changed the drawn_comps field of the gs_overprint_params_t
            structure from a byte array to a gx_color_index. This is a bit
            ugly, as the value is a bit map rather than an encoded color,
            but allows much simpler processing. (As in device colors, a
            gx_color_index is used because it is known to be large enough.
        
          src/lib.mak
            Updated dependency list for gsovrc.&#36;(OBJ).
        
        Notes:
        
        New Files:
        
          src/gsovrc.c
            Implementation of the overprint compositor. For the moment, this is
            just a stub. This file will grow considerably in the next two releases.
        
        
          src/gsovrc.h
            Interface to the overprint compositor. This is in essentially final
            form, even though only a stub implementation of the compositor is
            available. This file also includes a lengthy comment describing when
            the compositor must be updated.
        
        
        Modified Files:
        
          lib/gs_ciecs2.ps
          lib/gs_ciecs3.ps
          lib/gs_cspace.ps
          lib/gs_devcs.ps
          lib/gs_devn.ps
          lib/gs_devpxl.ps
          lib/gs_icc.ps
          lib/gs_indxd.ps
          lib/gs_patrn.ps
          lib/gs_sepr.ps
            Incorporated an optimization of setcolorspace from the casper head.
            The optimization avoids setting the color space if it is the same as
            the current color space. gs_icc.ps also contains a fix for a bug
            in the handling of DataSources that are streams (rather than strings;
            Dan discovered and analyzed this bug).
        
            Note that this is a fairly complex optimization, and there were many
            problems with the head code that needed to be resolved. Among these
            were:
        
              1. An invocation of setcolorspace should always set the default
                 color for the operand color space, even if that color space is
                 identical to the current color space.
        
              2. If UseCIEColor is true, setcolorspace must be executed if
                 the operand color space involves device-specific color spaces.
                 This is because the Default{Gray,RGB,CMYK} instances of the
                 ColorSpace resource category may have changed.
        
              3. When UseCIEColor is changed from true to false in setpagedevcie,
                 the implicit initgraphics invocation must perform a setcolorspace
                 operation, even if the current color space is DeviceGray. This
                 is necessary to ensure that the un-substituted DeviceGray color
                 space is set as the current color space.
        
        
          lib/gs_init.ps
            In /showpage, replace the sequence "erasepage ... initgraphics" with
            "initgraphics 1 setcolor .fillpage 0 setcolor". This has the desired
            effect, and avoids two unnecessay invocations of setcolorspace.
        
        
          lib/gs_setpd.ps
            1. Modified the currentpagedevice pseudo-operator for cases in which
               the stored page device must be copied. Previously, the new copy
               was allocated in the current VM mode, which could cause
               invalidaccess errors if currentpagedevice was invoked while in
               global VM mode and composite objects stored in the page device
               dictionary were in local VM (this problem is present in the PS3
               FTS). The new code will allocate the copy in the save VM as the
               original dictionary.
        
            2. In setpagedevice, added code to set current color space to
               something other than DeviceGray if modification of the page device
               will set UseCIEColor to false. This is necessary for the
               setcolorspace optimization to function properly (see above).
        
            3. In the .postinstall pseudo-operator, replaced "erasepage initgraphics"
               with "initgraphics 1 setcolor .fillpage 0 setcolor". This avoids
               two unnecessary invocations of setcolorspace.
        
        
          src/gdevp14.c
            Added the pdf14_create_compositor method. This method will check if
            the compositor to be created is the overprint compositor. If so,
            the request to create the compositor will simply be ignored, as
            the gs_pdf14_device and its associated marking device must implement
            overprint directly.
        
        
          src/gscdevn.c
            1. Removed the equality check method.
        
            2. Added the set_overprint method for DeviceN color spaces.
        
        
          src/gscolor2.c
            1. Removed the equality check method.
        
            2. Added the set_overprint method for Indexed color spaces.
        
        
          src/gscpixel.c
            1. Removed the equality check method.
        
            2. Added the set_overprint method for DevicePixel color spaces.
        
        
          src/gscscie.c
            1. Removed the equality check method.
        
            2. Added the set_overprint method for CIEBased color spaces.
        
        
          src/gscsepr.c
            1. Removed the equality check method.
        
            2. Added the set_overprint method for Separation color spaces.
        
            3. Moved the gs_{set|current}overprint[mode] procedures to gsstate.c.
        
        
          src/gscsepr.h
            Moved prototypes for the gs_{set|current}overprint[mode] procedures
            to gsstate.h.
        
        
          src/gscspace.c
            1. Removed the color space equality check methods for the device-
               specific color spaces.
        
            2. Added the basic set_overprint procedures, to provide color-space
               specific setting of the overprint compositor.
        
            3. Modified the gs_cspace_{build|init}_Device{Gray|RGB|CMYK}
               procedures to use the same identifier for all instances of
               the parameterless color spaces (i.e.: all DeviceGray instances
               will have the same id, as will all DeviceRGB instances, but the
               id for any DeviceGray will differ from the id for a DeviceRGB
               instance). This enables an optimization in the gs_setcolorspace
               routine that had been lost in the previous code modification.
        
        
          src/gscspace.h
            Removed prototype for the gs_color_space_equal procedure.
        
        
          src/gsicc.c
            1. Removed the equality check method.
        
            2. Added the set_overprint method for ICCBased color spaces.
        
        
          src/gslib.c
            Modified test9 to explicitly reset the current color space; this
            is no longer done by gs_initgraphics.
        
        
          src/gspcolor.c
            Added set_overprint method for pattern color spaces, removed the
            equality check method.
        
        
          src/gsstate.c
            1. Added code to update the overprint compositor when the current
               color space, current device, overprint, or overprint mode
               settings change. Included in this change is code in gs_grestore_only
               that updates the overprint compositor as part of the grestore
               operation when this is required.
        
            2. Moved the gs_{set|current}overprint[mode] procedures to this file
               from gscsepr.c. This is more convenient for the new code, and
               gscsepr.c was never a particularly appropriate place for these
               routines.
        
            3. Modified gs_initgraphics to not reset the current color space or
               current color. For PostScript this must now be done in the
               PostScript code to properly handle color space substitution.
               Other clients that use this procedure (the XL interpreter is the
               only one (aside from gslib.c)) can easily reset these parameters
               as well.
        
        
          src/gsstate.h
            Moved prototypes for the gs_{set|current}overprint[mode] procedures
            here from gscsepr.h.
        
        
          src/gxccache.c
            Modified gx_image_cached_char to just return if the current color
            is a pure gx_no_color_index (transparent).
        
        
          src/gxcspace.h
            1. Removed the equality check method.
        
            2. Added the set_overprint method.
        
        
          src/gxipixel.c
            Modified the gx_image_enum_begin to allow the Decode array for
            imagemasks to have any two distinct numbers, rather than just 0 and
            1. This matches the behavior of all Adobe systems (though not the
            documentation), and avoids some spurious failures when running the
            FTS.
        
        
          src/gxpcmap.c
            Modified pattern_accum_copy_mono to just return if both the foreground
            and background colors are gx_no_color_index (transparent). If this is
            not done, the mask device's copy_mono procedure may generate an
            error when invoked (this is true for mem_mono_copy_mono).
        
        
          src/iutil.c
            Modified obj_eq to consider two 0-length arrays to be equal,
            irrespective of their type and their pointers (the latter aren't
            meaningful if the array length is 0). This matches the PostScript
            documentation and the behavior of Adobe systems. It also fixes
            some spurious failures in the FTS.
        
        
          src/lib.mak
            Added an entry for gsovrc (the overprint compositor), and updated
            various dependency lists.
        
        
          src/zfdcte.c
            Modified the DCTEncode procedure (zDCTE) to allocate the
            jpeg_compress_data and subsidiary memory structures in current VM.
            Previously these structures were allocated in gs_default_memory,
            which does not support garbage collection. Since the structures
            were subject to garbage collection and relocation, chaos could
            and, in the case of FTS file 119-28.ps, did ensue.
        
            Note that these structure must be allocated immovable, which
            requires a considerable amount of overhead when using VM. A better
            approach would be to allocate them in gs_default_memory, and use
            a more sophisticated structure descriptor for the stream_DCT_state
            structure (st_DCT_state).
        
        
          src/zgstate.c
            Slightly simplified zinitgraphics, and updated a comment in this
            procedure.
        
        
          src/zmisc.c
            Modified realtime operator to set a zero point at boot time. This
            avoids an annoying delay in running FTS panel 211-01 (206-01.ps).
        
        
          zpcolor.c
            Modified the pattern_paint_prepare procedure to use gs_setdevice_no_int
            rather than gx_set_device_only. It is not clear why the latter
            procedure was ever used in this location, and it is now important to
            use the former procedure so the overprint compositor may be properly
            updated.
        

Wed May 29 06:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxclrast.c [1.10] (+13 -3):
        Added comments to cmd_select_map.  Also corrected setting a pointer to
        NULL inside of that routine.  (Fix from ORIMP.)
        

Wed May 29 05:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * zht1.c [1.4] (+3 -2):
        Corrects problem with 050-01.ps.  setcolorscreen was not correctly setting
        the screen procs in the istate.
        

Tue May 28 06:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gsht.c [1.8] (+16 -9):
        Fix for segment fault while setting device half tones.
        

Thu May 23 06:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gsht.c [1.7] (+9 -3):
        Fix from ORIMP for preventing a divide error if the halftone structure has
        not been initialized.
        

Tue May 21 05:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxistate.h [1.9] (+9 -3):
        This file is part of the check color space commit from yesterday.
        I somehow managed to not include this file in that commit.
        

Mon May 20 22:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * lib.mak [1.15] (+2 -2), gscpixel.c [1.5] (+20 -1), gscolor2.c [1.4] (+20 -1), 
        gscdevn.c [1.9] (+27 -1):
        Added checking of color space ID versus ID for color space installed in the
        current imager state. (Requested by ORIMP.  Debug only.)
        

Thu May 16 08:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxcmap.c [1.13] (+13 -13):
        Add casts to reduce various warning messages.
        
        * gdevdevn.c [1.9] (+14 -13), devs.mak [1.11] (+3 -2):
        More fixes for the 1 bit CMYK mode.
        
        * gxdevndi.c [1.8] (+14 -4):
        Correct calculation of component number from plane mask bit position.
        The old calculation only worked for 4 or fewer components.  This was
        causing halftoning to not work with 5 or more components.
        

Mon May 13 21:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * ztrans.c [1.3] (+4 -4), zshade.c [1.3] (+2 -2), zpcolor.c [1.3] (+4 -2), 
        zmisc3.c [1.3] (+1 -22), zimage3.c [1.3] (+5 -5), zimage2.c [1.3] (+3 -132), 
        zimage.c [1.3] (+137 -97), zgstate.c [1.5] (+3 -3), zdpnext.c [1.4] (+6 -10), 
        zcolor3.c [1.1] (+58 -0), zcolor2.c [1.7] (+16 -193), zcolor1.c [1.4] (+1 -45), 
        zcolor.c [1.4] (+335 -132), watclib.mak [1.3] (+2 -2), lib.mak [1.14] (+6 -22), 
        iutil.h [1.3] (+4 -1), iutil.c [1.4] (+29 -1), int.mak [1.5] (+15 -25), 
        iimage2.h [1.3] (+2 -20), iimage.h [1.3] (+22 -13), igstate.h [1.5] (+12 -1), 
        idparam.c [1.3] (+3 -3), gzstate.h [1.3] (+3 -9), gxistate.h [1.8] (+3 -33), 
        gximage2.c [1.3] (+39 -35), gximag3x.c [1.3] (+2 -2), gxclrast.c [1.9] (+11 -5), 
        gsstate.c [1.3] (+2 -47), gsptype1.c [1.3] (+23 -13), gspcolor.c [1.3] (+1 -3), 
        gslib.c [1.4] (+17 -12), gsistate.c [1.6] (+6 -62), gsiparam.h [1.3] (+1 -8), 
        gsimage.c [1.3] (+13 -4), gscspace.h [1.8] (+1 -15), gscspace.c [1.3] (+1 -17), 
        gscsepr.c [1.8] (+0 -0), gscscie.c [1.3] (+10 -5), gscolor2.h [1.3] (+1 -6), 
        gscolor2.c [1.3] (+19 -34), gscolor1.h [1.3] (+2 -2), gscolor1.c [1.6] (+18 -88), 
        gscolor.h [1.3] (+1 -3), gscolor.c [1.4] (+32 -153), gdevpsdi.c [1.3] (+6 -3), 
        gdevp14.c [1.3] (+4 -3), gdevnfwd.c [1.7] (+2 -2):
        Overprint implementation (Jan Stoeckenius)
        
        This is a preliminary code release for the overprint capability. The
        release does not contain the overprint facility itself; it consists
        entirely of modifications so that color space changes will occur in a
        predictable fashion.
        
        Files removed:
        
          src/gshsb.c
          src/gshsb.h
          src/gscssub.c
          src/gscssub.h
          src/zhsb.c
        
        
        Files added:
        
          lib/gs_cspace.ps      PostScript portion of the basic color space handling;
                                see the extensive comment at the head of the file
                                for information. Note that color space substitution
                                and the hue-saturation-brightness (HSB) color space
                                are now fully implemented in the PostScript code;
                                the interpreter and the graphic library are no longer
                                involved in or even aware of these features.
        
          lib/gs_devcs.ps       Implementation of the DeviceGray, DeviceRGB, and
                                DeviceCMYK color spaces.
        
          lib/gs_ciecs2.ps      Implementation of the LangaugeLevel 2 CIEBased color
                                spaces: CIEBasedA and CIEBasedABC.
        
          lib/gs_ciecs3.ps      Implementation of the LanguageLevel 3 CIEBased color
                                spaces: CIEBasedDEF and CIEBasedDEFG
        
          lib/gs_devpxl.ps      Implementation of the DevicePixel color spaces
        
          lib/gs_indxd.ps       Implementation of the Indexed color space.
        
          lib/gs_sepr.ps        Implementaton of the Separation color space.
        
          lib/gs_devn.ps        Implementation of the DeviceN color space.
        
          lib/gs_patrn.ps       Implementation of the Pattern color space.
        
        
          lib/gs_img.ps         Implementation of the traditional (non-dictionary)
                                form of the image and imagemask operators, and the
                                colorimage operator (including the Next alphaimage
                                facility). The interpreter now provides only the
                                dictionary form of the image and imagemask operators,
                                including a variation that provides alpha-channel
                                support.
        
                                Also modified the handling of color spaces for
                                ImageType 2 images. This slightly changes the behavior
                                of these images. If PixelCopy is defined to be true
                                in the image dictionary but such a copy cannot be
                                supported, an error will be generated. This is in
                                agreement with Adobe's documentation, but differs
                                from the earlier behavior.
        
          The code for Indexed, Separation, and DeviceN color spaces
          incorporates code, courtesy of Dan, that will invoke the lookup or
          tint transform procedure in the appropriate context if this is
          appropriate (if there is a lookup procedure for Indexed color spaces
          or the alternate color space is in use for Separation and DeviceN
          color spaces). Currently this is not done recursively (if an Indexed
          color space has a DeviceN base color space, for example), but that
          has not proven necessary in practice. If necessary, it can be added.
        
        
          src/zcolor3.c         Code to implement the .setuseciecolor operator. This
                                operator is used only in the setpagedevice code, and
                                makes certain that the use_cie_color field in the
                                interpreter's graphic state mirrors the setting of
                                the UseCIEColor page device parameter.
        
        
        Files modified:
        
          lib/gs_dpnxt.ps       Added PostScript implementation of the alphaimage
                                operator. This uses the internal .alphaimage
                                operator, which is a variation of the image
                                operator that provide alpha-channel support.
        
          lib/gs_icc.ps         Rewritten to implement the ICCBased color space
                                in the new scheme. See the comments in
                                lib/gs_cspace.ps for information.
        
          lib/gs_init.ps        Modified to include gs_cspace.ps, gs_devcs.ps,
                                and gs_img.ps, and to remove img_util_dict and
                                .cspace_util_dict from userdict at the end of
                                initialization.
        
          lib/gs_lev2.ps        All explicit color spaces removed (with one
                                exception, and replaced by inclusion of gs_devpxl.ps,
                                gs_ciecs2.ps, gs_indxd.ps, gs_sepr.ps, and
                                gs_patrn.ps. The only remaining color space support
                                feature is moving the setcolorspace and setcolor
                                pseudo-operators, and the colorspacedict dictionary,
                                to level2dict. This must be done here, as it is not
                                known that level2dict exists when gs_cspace.ps is
                                first run.
        
                                Also removed all explicit image support. This is
                                now handled by gs_img.ps (see above).
        
          lib/gs_ll3.ps         Removed the old support for color space substitution;
                                this is now handled directly by the color space
                                code (see the comments in gs_cspace.ps for
                                information). Added inclusion of gs_ciecs3.ps and
                                gs_devn.ps.
        
          lib/gs_setpd.ps       Added support for the .getuseciecolor and
                                .setuseciecolor operators. This maintains a
                                "mirror" of the UseCIEColor parameter in the
                                graphic state, to allow fast access.
        
          src/gdevnfwd.c        In gx_forward_get_color_mapping_procs, added a check
                                for the case of a target device which has no
                                get_color_mapping_procs procedure. This led to a
                                segmentation violation crash for FTS file 296-01.ps
                                The fix may not be the correct one, as we are not
                                certain why a device would lack this method.
        
          src/gdevp14.c         Replaced a use of the shared field in the graphic state
                                with a color space allocated on the C-language stack.
        
          src/gdevpsdi.c        Replaced an instance of use of the gs_cspace_DeviceRGB
                                procedure.
        
          src/gscolor.c         Removed gs_currentgray and gs_currentrgbcolor. Modified
                                gs_setgray and gs_setrgbcolor to use gs_setcolorspace
                                and gs_setcolor. This eliminates use of the
                                gs_current_Device*_space routines.
        
          src/gscolor.h         Removed prototypes for gs_currentgray and
                                gs_currentrgbcolor.
        
          src/gscolor1.c        Removed gs_currentcmykcolor. Modified gs_setcmykcolor
                                to use gs_setgray and gs_setcolorspace.
        
          src/gscolor1.h        Removed prototype for gs_currentcmykcolor.
        
          src/gscolor2.c        Removed gs_currentcolorspace_index. Removed the color
                                index tracking used as part of the color space
                                substitution method.
        
          src/gscolor2.h        Removed prototype for gs_currentcolorspace_index.
        
          src/gscscie.c         Eliminated use of the gs_cspace_Device* routines.
        
          src/gscsepr.c         Fixed a pair of typos in revision 1.6 of the code.
                                In gs_cspace_set_sepr_proc and
                                gx_concretize_Separation, the code was still accessing
                                pcspace-&gt;params.device_n when it wanted to access
                                pcspace-&gt;params.separation. This caused a crash in
                                FTS file 245-01.ps.
        
          src/gscspace.c        Removed gs_cspace_Device* procedures.
        
          src/gscspace.h        Removed prototypes for gs_cspace_Device* procedures.
        
          src/gsimage.c         Removed use of the gs_cspace_DeviceGray procedure.
        
          src/gsiparam.h        Removed the gs_image_t_int_{gray, rgb, cmyk} macros.
        
          src/gsistate.c        Updated code to reflect removal of the shared field in
                                the imager state. As part of this, the
                                rc_free_imager_shared and gx_device_color_spaces_free
                                procedures were removed.
        
          src/gslib.c           Removed use of the gs_current_Device*_space and
                                gs_image_t_init_gray procedures.
        
          src/gspcolor.c        Removed reference to the orig_cspace_index field,
                                which is no longer part of the library's graphic
                                state.
        
          src/gsptype1.c        Eliminated use of the gs_cspace_DeviceGray procedure,
                                and insured that a color space is set as the current
                                color space before it is used.
        
          src/gsstate.c         Removed code that maintained the device_color_spaces
                                field (color space substitution), which is no longer
                                in the library's graphic state.
        
          src/gxclrast.c        Removed use of the gs_cspace_Device* procedures.
        
          src/gximage3x.c       Removed use of the gs_image_t_init_gray procedure.
        
          src/gximage2.c        Modified color space handling for ImageType 2 images.
                                Note that there was and still is a problem with the
                                handling of transformations in this code.
        
          src/gxistate.h        Removed the shared field of the imager state, all
                                associated structures and prototypes, and modified
                                the affected GC macros. The gx_device_color_spaces_t
                                structure was previously used in the graphic library's
                                state as well, but that use has been eliminated.
        
          src/gzstate.h         Removed the the device_color_spaces field, and modified
                                the requisite GC macros
        
          src/idparam.c         Modified dict_float_array_check_param to handle
                                packed (short or mixed) arrays.
        
          src/igstate.h         Added the use_cie_color field. This is a mirror for
                                the UseCIEColor parameter of the page device, used
                                because the currentpagedevice operator is potentially
                                expensive.
        
          src/iimage.h          Modified to restrict the interpreter to just the
                                dictionary form of the image and imagemask operator.
                                This removes the zimage_opaque_setup, zimage_data_setup,
                                and zimage_multiple prototypes, and moves the
                                image_params structure and the image1_setup
                                prototypes to this file (from iimage2.h).
        
          src/iimage2.h         Moved everything except the prototype for
                                process_non_source_image to iimage.h.
        
          src/iutil.c           Added process_float_array procedure, to allow packed
                                (short, mixed) arrays of numbers to be handled.
        
          src/iutil.h           Added prototype for the process_float_array procedure.
        
          src/zcolor.c          Removed:
                                  zcurrentgray, zcurrentrgbcolor,
                                  setgray, setrgbcolor
                                Moved (from zcolor2.c):
                                  zcurrentcolor, zcurrentcolorspace,
                                  zsetcolor, zsetcolorspace
                                Added:
                                  zgetuseciecolor   queries the use_cie_color field
                                                    in the interpreter state
                                  zsetdevcspace     sets a DeviceGray, DeviceRGB, or
                                                    DeviceCMYK color space
        
          src/zcolor1.c         Removed zcurrentcmykcolor, zsetcmykcolor, and
                                zcolorimage.
        
          src/zcolor2.c         Removed everything in prior version. Added
                                zusealternate, to test if an alternate color space
                                is being used (for a Separation, DeviceN, or ICCBased
                                color space), or if a base color space is in use
                                (for an Indexed or a Pattern color space that uses
                                a base space).
        
          src/zdpnext.c         Replace the alphaimage operator with .alphaimage,
                                which has the semantics of the dictionary form of
                                the image operator.
        
          src/zgstate.c         Modified the initgraphics operator to set the
                                colorspace.array field to a legitimate color space
                                (previously it was set to a null object). Also
                                inserted code to initialize the use_cie_color field
                                to false.
        
          src/zimage.c          Removed the traditional-form image and imagemask
                                operators (zimage and zimagemask), and moved the
                                dictionary form of these operators to this file
                                from zimage2.c. Also, added the has_alpha parameter
                                to the data_image_params and pixel_image_params
                                procedures, to support the .alphaimage operator.
        
          src/zimage2.c         Moved everything except the process_non_source_image
                                procedure to zimage.c.
        
          src/zimage3.c         Updated calls to data_image_params and
                                pixel_image_params to add has_alpha parameter.
        
          src/zmisc3.c          Removed .setsubstitutecolorspace operator.
        
          src/zpcolor.c         Modified .setpatternspace to handle a packed (short,
                                mixed) array operand.
        
          src/zshade.c          Modified build_mesh_shading to handle a packed (short,
                                mixed) DataSource array operand.
        
          src/ztrans.c          Modified calls to data_image_params and
                                pixel_image_params to add has_alpha operand.
        
          src/watclib.mak       Removed reference to the hsblib.dev, which no longer
                                exists and which, for some unknown reason, was directly
                                included in this makefile. Does anyone still use this
                                file?
        
          src/int.mak           Removed hsb.dev and the zimage2_l2 operators, added
                                zcolor3.c, updated various dependency lists.
        
          src/lib.mak           Removed hsblib.dev and gscssub.[ch], updated various
                                dependency lists. Note that this file has not yet
                                been modified to always compile with Level 3 support.
        

Sun May 12 03:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gscsepr.c [1.7] (+3 -3):
        Changed a couple of references to device_n.params to separation.params.
        

Thu May  9 08:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxcmap.c [1.12] (+3 -3):
        Correction to the last commit
        

Thu May  9 07:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * vdtrace.c [1.2] (+1 -2), lib.mak [1.12] (+2 -2), gslib.c [1.3] (+15 -7):
        Changes required to get the GS lib to build.
        
        * zcssepr.c [1.4] (+22 -40), zcsdevn.c [1.7] (+6 -6), zcolor2.c [1.6] (+1 -28), 
        lib.mak [1.13] (+4 -4), gxistate.h [1.7] (+3 -1), gxcmap.h [1.9] (+5 -5), 
        gxcmap.c [1.11] (+59 -46), gxcht.c [1.14] (+2 -2), gxcdevn.h [1.4] (+2 -3), 
        gscspace.h [1.7] (+7 -2), gscsepr.h [1.4] (+20 -15), gscsepr.c [1.6] (+137 -57), 
        gscdevn.h [1.6] (+19 -14), gscdevn.c [1.8] (+61 -25), gdevpdfc.c [1.3] (+2 -2):
        1. Revised version of the Separation color space implementation.  The /None
        case now works.  The "normal" case is now implemented as part of the separation
        color space instead of using the DeviceN logic.
        2. The Separation and DeviceN color space handler for getting the alternate
        color space now return NULL if the alternate color space is not being used.
        (As pere request from ORIMP.)
        3. The DeviceN color space had a problem with an ICC alternate space. Corrected.
        

Thu Apr 25 06:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * zht2.c [1.5] (+2 -4):
        Removed unused variables.
        
        * gsbitops.h [1.3] (+17 -6):
        Added casts to reduce warning casting warnings.
        

Thu Apr 25 04:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxiscale.c [1.6] (+2 -2):
        The parameters to a call to remap_concrete_color were in the wrong order.
        

Tue Apr 23 16:00:00 2002 GMT        Raph Levine    raph@meerkat

        * gdevxcf.c [1.7] (+65 -22):
        Apply RGB-&gt;device and CMYK-&gt;device profiles only in DeviceN color model;
        in DeviceRGB and DeviceCMYK color models, the mapping is defined by
        the PostScript spec. Also map DeviceGray colorspace to CMYK.
        

Tue Apr 23 08:00:00 2002 GMT        Raph Levine    raph@meerkat

        * gdevxcf.c [1.6] (+117 -8), gdevdflt.c [1.9] (+9 -6):
        Makes xcfcmyk device agile in ProcessColorModel. Changes "expert
        system" logic slightly so that is_like_DeviceRGB is only called
        when filling in the default is needed.
        

Tue Apr 23 06:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * lib.mak [1.11] (+3 -2), int.mak [1.4] (+3 -2):
        These two files should have been included in the previous commit.
        
        * zfsample.c [1.2] (+22 -21), zcssepr.c [1.3] (+79 -94), 
        zcsdevn.c [1.6] (+34 -176), gxdevice.h [1.8] (+6 -1), gxcmap.h [1.8] (+7 -1), 
        gxcmap.c [1.10] (+68 -1), gscspace.h [1.5] (+6 -11), gscsepr.h [1.3] (+32 -40), 
        gscsepr.c [1.5] (+84 -176), gscdevn.h [1.5] (+9 -6), gscdevn.c [1.7] (+25 -19):
        Changed the separation color space to use common logic with the DeviceN
        color space.  This commit also brings the DeviceN code up to date.  This
        includes the function sampling logic in zfsample.c.  This code handles the
        /All case and the normal separation case.  The /None case is not handled
        correctly.  All components are erased (zeroed) when /None is selected.
        
        * gscspace.h [1.6] (+3 -1):
        I was over zealous in cleaning up this file.  Restored defintion of
        gx_indexed_map.
        

Tue Apr 23 04:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gdevdsp.c [1.8] (+235 -148), gdevdflt.c [1.8] (+34 -25), 
        devs.mak [1.10] (+2 -2):
        These changes are required to initialize the "display" device to work
        with the DeviceN code.  This involves setting up the correct color_info
        structure for the device and the DeviceN related procs.
        

Tue Apr 16 07:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gxdevcli.h [1.9] (+3 -12):
        removes duplicate dci_std_color() macro definition.
        

Tue Apr 16 05:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gdevdevn.c [1.8] (+2 -3):
        Some more corrections to the initialization of the spotrgb and spotcmyk
        device structures.  Apologies to Henry.  I misunderstood the results from
        the cvs merge.  Henry did not mangle the bpp, etc. in the previous commit.
        

Tue Apr 16 04:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxdither.h [1.4] (+10 -10):
        Added prototype for function gx_render_device_DeviceN.
        Removed some unused macro definitions.
        
        * lib.mak [1.10] (+2 -2), gxcmap.c [1.9] (+49 -31):
        1.  Added included of string_.h.  This resolves some undefined function
        prototypes.
        2.  Corrected handling of transfer functions and halftoning.  (Transfer
        functions were not being applied if halftoning was being done.)
        3.  Finished the half tone code for DeviceN color model devices.
        4.  Some misc code clean up to remove misc warning messages.
        

Tue Apr 16 03:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gsht1.c [1.5] (+2 -2):
        We were not allocating a half tone cache for the "gray" component.
        
        * gdevdevn.c [1.7] (+22 -15):
        1.  Convert the spotcmyk device back to a half toned (1 bit per pixel per
        component) device.  This had been changed by Henry is the last commit.
        2.  Corrected the gray color space to cmyk color model handler.  This was
        corrupting the cmykspot colors.
        3.  Corrected a couple of problems in the spotcmyk device.  (Garbage data
        in the last half of byte if a line had an odd number of pixels.  Bad bps
        and planes in the pcx header - the cmyk pcx output file is really a 4 bit
        device with a color mapping table.)
        

Tue Apr 16 00:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gstype42.c [1.4] (+4 -2):
        conditional compile (hack) to prevent freeing glyph data when library is
        built with pcl.  This is a long standing issue supported by a thousand
        lines of email and 0 lines of code.
        

Mon Apr 15 23:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gdevdflt.c [1.7] (+1 -2):
        remove a diagnostic message.
        

Mon Apr 15 22:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * zdfilter.c [1.3] (+1 -21), zdevice.c [1.3] (+2 -2), unix-gcc.mak [1.7] (+2 -2), 
        lib.mak [1.9] (+4 -4), gxdevice.h [1.7] (+7 -14), gxdevcli.h [1.8] (+142 -47), 
        gxcmap.h [1.7] (+8 -1), gxcmap.c [1.8] (+173 -12), gxclpath.h [1.4] (+2 -2), 
        gxcindex.h [1.6] (+1 -2), gxbitfmt.h [1.3] (+1 -4), gsutil.c [1.3] (+13 -5), 
        gstype42.c [1.3] (+4 -4), gsmalloc.c [1.3] (+11 -1), gshtx.c [1.8] (+4 -4), 
        gsdfilt.c [1.4] (+1 -83), gsalphac.c [1.4] (+2 -2), gs.mak [1.5] (+1 -2), 
        gdevxcf.c [1.5] (+2 -2), gdevpdf.c [1.6] (+1 -2), gdevnfwd.c [1.6] (+5 -5), 
        gdevmem.c [1.6] (+3 -5), gdevm1.c [1.4] (+3 -2), gdevdgbr.c [1.4] (+61 -38), 
        gdevdflt.c [1.6] (+150 -48), gdevdevn.c [1.6] (+4 -4), gdevcmap.c [1.7] (+132 -131):
        - general cleanup tasks detailed in orimp's message 2/11/02 and 2/17/02.
        - pcl color mapper support.
        - modification for pcl build.
        - color info "expert system".
        

Thu Apr 11 22:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * msvccmd.mak [1.3] (+4 -2):
        Create a separate WARNOPT parameter for specifying the warning message
        level.  This allows the message level to be specified from the command
        line.
        

Thu Apr 11 02:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxcldev.h [1.5] (+2 -2):
        Correct problem in prototype for cmd_put_color_map.  Error created in
        the last commit.
        

Tue Apr  9 00:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxdevndi.c [1.7] (+11 -6):
        Fixed a debug printout which needed to be updated for a variable number of
        components.
        
        * zcolor2.c [1.5] (+2 -5), gxclrast.c [1.8] (+50 -27), gxclist.h [1.3] (+2 -2), 
        gxclimag.c [1.5] (+69 -26), gxcldev.h [1.4] (+3 -3), gxclbits.c [1.3] (+8 -5), 
        gxcht.c [1.13] (+1 -3), gxcdevn.h [1.3] (+4 -1), gscdevn.c [1.6] (+10 -1):
        Updates related to the placing of transfer maps into the clist.
        Also some minor clean ups missing from previous commits.
        

Tue Apr  2 08:00:00 2002 GMT        Raph Levine    raph@meerkat

        * gdevxcf.c [1.4] (+153 -43):
        Adds ICC profile paths to RGB-&gt;Color Model and CMYK-&gt;Color Model
        transforms in xcfcmyk device. Use ProfileRgb (3-&gt;N) and ProfileCmyk
        (4-&gt;N) device parameters to install ICC transforms.
        

Tue Apr  2 05:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxdither.h [1.3] (+2 -31), gxdcolor.c [1.7] (+2 -2), gxclrast.c [1.7] (+39 -30), 
        gxclpath.h [1.3] (+11 -5), gxclpath.c [1.3] (+41 -23), gxclimag.c [1.4] (+10 -19), 
        gxcht.c [1.12] (+19 -13), gsht.c [1.6] (+25 -19), gdevnfwd.c [1.5] (+11 -6):
        Changes to enable the use of the clist device (banding) with the DeviceN
        colorspaces and devices.  This is still missing the clist commands for
        transfer functions and the DeviceN component map.
        

Wed Mar 27 01:00:00 2002 GMT        Raph Levine    raph@meerkat

        * gdevxcf.c [1.3] (+131 -6), devs.mak [1.9] (+6 -3):
        Adds some ICC color profile ability to the xcf device, for testing
        purposes.
        

Tue Mar 26 21:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxdevndi.c [1.6] (+40 -5), gdevplnx.c [1.3] (+3 -3):
        Add definition of fc_color_quo and some other changes that were required
        as part of eliminating the gxdither.c module.
        

Tue Mar 26 05:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gshtx.h [1.5] (+1 -2), gshtx.c [1.7] (+9 -33):
        Removed more references to separation names.
        

Mon Mar 25 23:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * lib.mak [1.8] (+2 -7), gxdither.c [1.6] (+1 -1):
        Removed unused file: gxdither.c  Replaced by gxdevndi.c
        
        * gshtx.h [1.4] (+1 -3):
        Removed sepr_name parameter from function prototypes.  This change
        goes with an earlier change to gshtx.c.
        

Tue Mar 19 19:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gshtx.c [1.6] (+1 -13):
        Changes requested by henry.  The separation name has been removed
        from the calling sequence for gs_ht_set_threshold_comp and
        gs_ht_set_mask_comp.  (These routines are used by PCL.)
        

Mon Mar 18 07:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gdevpdfc.h [1.1] (+62 -0):
        this file was missed in the merge.
        

Mon Mar 18 06:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gdevpxat.h [1.3] (+3 -1), gdevmr1.c [1.3] (+6 -5), gdevdrop.c [1.3] (+18 -13), 
        gdevcmap.c [1.6] (+16 -16):
        operand changes and misc. fixes for compiling pcl.  I used pcl because
        it was not clear how even to compile the gslib target.  With
        implementations for gs_ht_set_mask_comp() and
        gs_ht_set_threshold_comp() it will be possible to build pcl and verify
        the changes to these files from pcl.
        

Mon Mar 18 05:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gdevpdfg.c [1.5] (+4 -3):
        pdf_update_transfer() was not returning a value resulting in the
        previously encountered pdf problems.  It now retuns 0 and prints a
        diagnostic message saying it is not implemented.  Setting the
        /DeviceGray color model does not work properly in pdfwrite.
        

Sat Mar 16 05:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * zusparam.c [1.3] (+26 -5), zcrd.c [1.3] (+3 -3), vms_x_fix.h [1.2] (+3 -3), 
        vdtrace.h [1.2] (+149 -150), unixtrad.mak [1.3] (+1 -1), 
        png_.h [1.3] (+6 -1), lib.mak [1.7] (+22 -8), gxiscale.c [1.5] (+2 -2), 
        gsistate.c [1.5] (+2 -1), gscolor1.c [1.5] (+2 -1), gdevvec.c [1.3] (+1 -2), 
        gdevpdfg.c [1.4] (+5 -4), gdevpdf.c [1.5] (+10 -16), dwreg.h [1.3] (+4 -1), 
        dwimg.h [1.3] (+3 -1), devs.mak [1.8] (+11 -5):
        compile fixes for pdfwrite and miscellaneous post merge problems
        fixed.  Running the interpreter with pdfwrite fails upon the first
        graphics painting operation returning an uninitialized error code, so
        this will need more work.
        

Fri Mar 15 23:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * zvmem2.c [1.2] (+11 -13), zvmem.c [1.2] (+17 -13), zusparam.c [1.2] (+11 -13), 
        zupath.c [1.2] (+11 -13), ztype.c [1.2] (+11 -13), ztrap.c [1.2] (+11 -13), 
        ztrans.c [1.2] (+11 -13), ztoken.c [1.2] (+11 -13), zsysvm.c [1.2] (+11 -13), 
        zstring.c [1.2] (+34 -13), zstack.c [1.2] (+11 -13), zshade.c [1.2] (+37 -36), 
        zrop.c [1.2] (+11 -13), zrelbit.c [1.2] (+11 -13), zpcolor.c [1.2] (+11 -13), 
        zpath1.c [1.2] (+11 -13), zpath.c [1.2] (+11 -13), zpaint.c [1.2] (+11 -13), 
        zpacked.c [1.2] (+11 -13), zmisc3.c [1.2] (+11 -13), zmisc2.c [1.2] (+11 -13), 
        zmisc1.c [1.2] (+11 -13), zmisc.c [1.2] (+11 -13), zmedia2.c [1.2] (+21 -19), 
        zmatrix.c [1.2] (+11 -13), zmath.c [1.2] (+11 -13), zlib.mak [1.2] (+11 -13), 
        ziodevsc.c [1.2] (+11 -16), ziodevs.c [1.2] (+11 -13), ziodev2.c [1.2] (+11 -13), 
        ziodev.c [1.2] (+13 -15), zimage3.c [1.2] (+11 -13), zimage2.c [1.2] (+11 -13), 
        zimage.c [1.2] (+11 -13), zicc.c [1.2] (+12 -13), zht2.c [1.4] (+11 -13), 
        zht1.c [1.3] (+11 -13), zht.c [1.3] (+11 -13), zhsb.c [1.2] (+11 -13), 
        zgstate.c [1.4] (+11 -13), zgeneric.c [1.2] (+11 -13), zfzlib.c [1.2] (+11 -13), 
        zfunc4.c [1.2] (+36 -25), zfunc3.c [1.2] (+14 -16), zfunc0.c [1.2] (+12 -14), 
        zfunc.c [1.2] (+39 -22), zfsample.c [1.1] (+544 -0), zfrsd.c [1.2] (+11 -13), 
        zfproc.c [1.2] (+11 -13), zfont42.c [1.2] (+11 -13), zfont32.c [1.2] (+11 -13), 
        zfont2.c [1.2] (+11 -13), zfont1.c [1.2] (+11 -13), zfont0.c [1.2] (+11 -13), 
        zfont.c [1.2] (+11 -13), zfmd5.c [1.2] (+11 -13), zfilterx.c [1.2] (+11 -13), 
        zfilter2.c [1.2] (+11 -13), zfilter.c [1.2] (+11 -13), zfileio.c [1.2] (+11 -13), 
        zfile.c [1.2] (+161 -32), zfdecode.c [1.2] (+11 -13), zfdcte.c [1.2] (+11 -13), 
        zfdctd.c [1.2] (+11 -13), zfcmap.c [1.3] (+11 -13), zfcid1.c [1.2] (+13 -17), 
        zfcid0.c [1.3] (+14 -15), zfcid.c [1.2] (+11 -13), zfbcp.c [1.2] (+11 -13), 
        zfarc4.c [1.2] (+11 -13), zfapi.c [1.2] (+721 -231), zdscpars.c [1.2] (+11 -13), 
        zdps1.c [1.2] (+11 -13), zdps.c [1.2] (+11 -13), zdpnext.c [1.3] (+12 -13), 
        zdouble.c [1.2] (+11 -13), zdosio.c [1.2] (+11 -13), zdict.c [1.2] (+11 -13), 
        zdfilter.c [1.2] (+11 -13), zdevice2.c [1.2] (+19 -15), 
        zdevice.c [1.2] (+16 -13), zdevcal.c [1.2] (+11 -13), zcssepr.c [1.2] (+11 -13), 
        zcspixel.c [1.2] (+11 -13), zcsindex.c [1.2] (+11 -13), 
        zcsdevn.c [1.5] (+11 -13), zcrd.c [1.2] (+11 -13), zcontrol.c [1.2] (+86 -13), 
        zcontext.c [1.2] (+11 -13), zcolor2.c [1.4] (+12 -13), zcolor1.c [1.3] (+11 -13), 
        zcolor.c [1.3] (+11 -13), zcie.c [1.2] (+12 -14), zcid.c [1.2] (+11 -13), 
        zcharx.c [1.2] (+11 -13), zcharout.c [1.2] (+11 -13), zchar42.c [1.2] (+40 -17), 
        zchar32.c [1.2] (+11 -13), zchar2.c [1.2] (+11 -13), zchar1.c [1.2] (+16 -18), 
        zchar.c [1.2] (+11 -13), zcfont.c [1.2] (+11 -13), zbseq.c [1.2] (+11 -13), 
        zbfont.c [1.2] (+11 -17), zarray.c [1.2] (+11 -13), zarith.c [1.2] (+11 -13), 
        x_.h [1.2] (+11 -13), wmin.mak [1.2] (+11 -13), winplat.mak [1.2] (+11 -13), 
        winlib.mak [1.4] (+12 -13), winint.mak [1.2] (+38 -21), 
        windows_.h [1.2] (+11 -13), wctail.mak [1.2] (+12 -13), 
        wccommon.mak [1.2] (+11 -13), watcw32.mak [1.2] (+18 -13), 
        watclib.mak [1.2] (+20 -13), watc.mak [1.2] (+11 -13), vmsmath.h [1.2] (+11 -13), 
        version.mak [1.2] (+11 -13), vdtrace.h [1.1] (+168 -0), 
        vdtrace.c [1.1] (+168 -0), unixtrad.mak [1.2] (+11 -13), 
        unixlink.mak [1.2] (+11 -13), unixinst.mak [1.2] (+13 -15), 
        unixhead.mak [1.2] (+11 -13), unixansi.mak [1.2] (+19 -13), 
        unix-gcc.mak [1.6] (+20 -14), unix-end.mak [1.2] (+11 -13), 
        unix-dll.mak [1.2] (+11 -13), unix-aux.mak [1.2] (+11 -13), 
        unistd_.h [1.2] (+11 -13), ugcclib.mak [1.2] (+19 -13), 
        time_.h [1.2] (+11 -13), szlibxx.h [1.2] (+11 -13), szlibx.h [1.2] (+11 -13), 
        szlibe.c [1.2] (+11 -13), szlibd.c [1.2] (+11 -13), szlibc.c [1.2] (+11 -13), 
        string_.h [1.2] (+11 -13), strimpl.h [1.2] (+11 -13), stream.h [1.2] (+11 -13), 
        stream.c [1.2] (+22 -24), store.h [1.2] (+11 -13), stdpre.h [1.2] (+36 -54), 
        stdio_.h [1.2] (+11 -13), std.h [1.2] (+21 -13), stat_.h [1.2] (+11 -13), 
        sstring.h [1.2] (+12 -14), sstring.c [1.2] (+11 -13), srlx.h [1.2] (+11 -13), 
        srle.c [1.2] (+11 -13), srld.c [1.2] (+11 -13), srdline.h [1.2] (+11 -13), 
        spsdf.h [1.2] (+11 -13), spsdf.c [1.2] (+11 -13), spprint.h [1.2] (+11 -13), 
        spprint.c [1.2] (+11 -13), spngpx.h [1.2] (+11 -13), spngp.c [1.2] (+11 -13), 
        spdiffx.h [1.2] (+11 -13), spdiff.c [1.2] (+11 -13), smtf.h [1.2] (+11 -13), 
        smtf.c [1.2] (+11 -13), smd5.h [1.2] (+11 -13), smd5.c [1.2] (+11 -13), 
        slzwx.h [1.2] (+11 -13), slzwd.c [1.2] (+11 -13), slzwce.c [1.2] (+11 -13), 
        slzwc.c [1.2] (+11 -13), sjpege.c [1.2] (+11 -13), sjpegd.c [1.2] (+11 -13), 
        sjpegc.c [1.2] (+11 -13), sjpeg.h [1.2] (+11 -13), sisparam.h [1.2] (+11 -13), 
        siscale.h [1.2] (+11 -13), siscale.c [1.2] (+11 -13), siinterp.h [1.2] (+11 -13), 
        siinterp.c [1.2] (+11 -13), shcgen.h [1.2] (+11 -13), shcgen.c [1.2] (+11 -13), 
        shc.h [1.2] (+11 -13), shc.c [1.2] (+11 -13), sfxstdio.c [1.2] (+11 -13), 
        sfxfd.c [1.2] (+11 -13), sfxboth.c [1.2] (+11 -13), sfilter2.c [1.2] (+11 -13), 
        sfilter1.c [1.2] (+11 -13), sfilter.h [1.2] (+11 -13), seexec.c [1.2] (+11 -13), 
        sdeparam.c [1.2] (+11 -13), sddparam.c [1.2] (+11 -13), 
        sdcte.c [1.2] (+25 -13), sdctd.c [1.2] (+11 -13), sdctc.c [1.2] (+11 -13), 
        sdct.h [1.2] (+11 -13), sdcparam.h [1.2] (+11 -13), sdcparam.c [1.2] (+11 -13), 
        scommon.h [1.2] (+13 -15), scfx.h [1.2] (+13 -15), scfparam.c [1.2] (+11 -13), 
        scfetab.c [1.2] (+11 -13), scfe.c [1.2] (+11 -13), scfdgen.c [1.2] (+12 -14), 
        scfd.c [1.2] (+11 -13), scf.h [1.2] (+11 -13), scantab.c [1.2] (+11 -13), 
        scanchar.h [1.2] (+11 -13), sbwbs.h [1.2] (+11 -13), sbwbs.c [1.2] (+11 -13), 
        sbtx.h [1.2] (+11 -13), sbhc.h [1.2] (+11 -13), sbhc.c [1.2] (+11 -13), 
        sbcp.h [1.2] (+11 -13), sbcp.c [1.2] (+11 -13), sarc4.h [1.2] (+11 -13), 
        sarc4.c [1.2] (+11 -13), sa85x.h [1.2] (+11 -13), sa85d.h [1.2] (+11 -13), 
        sa85d.c [1.2] (+11 -13), png_.h [1.2] (+11 -13), pipe_.h [1.2] (+11 -13), 
        pcwin.mak [1.2] (+11 -13), ostack.h [1.2] (+11 -13), os2.mak [1.2] (+22 -13), 
        opextern.h [1.2] (+11 -13), oper.h [1.2] (+11 -13), openvms.mmk [1.2] (+17 -14), 
        openvms.mak [1.2] (+28 -14), opdef.h [1.2] (+11 -13), opcheck.h [1.2] (+11 -13), 
        oparc.h [1.2] (+11 -13), msvctail.mak [1.2] (+11 -13), msvclib.mak [1.2] (+11 -13), 
        msvccmd.mak [1.2] (+20 -14), msvc32.mak [1.5] (+22 -15), 
        memory_.h [1.2] (+11 -13), md5.c [1.2] (+9 -3), math_.h [1.2] (+11 -13), 
        malloc_.h [1.2] (+11 -13), main.h [1.2] (+11 -13), macsystypes.h [1.2] (+11 -13), 
        macsysstat.h [1.2] (+13 -13), macosx.mak [1.1] (+450 -0), 
        macos-mcp.mak [1.2] (+22 -13), macos-fw.mak [1.1] (+168 -0), 
        macgenmcpxml.sh [1.2] (+5 -5), libpng.mak [1.2] (+11 -13), 
        lib.mak [1.6] (+24 -18), jpeg.mak [1.2] (+11 -13), jerror_.h [1.2] (+16 -13), 
        ivmspace.h [1.2] (+11 -13), ivmem2.h [1.2] (+11 -13), iutilasm.asm [1.2] (+11 -13), 
        iutil2.h [1.2] (+12 -14), iutil2.c [1.2] (+17 -14), iutil.h [1.2] (+11 -13), 
        iutil.c [1.3] (+11 -14), itoken.h [1.2] (+11 -13), istruct.h [1.2] (+11 -13), 
        istream.h [1.2] (+11 -13), istkparm.h [1.2] (+11 -13), istack.h [1.2] (+11 -13), 
        istack.c [1.2] (+11 -13), isstate.h [1.2] (+11 -13), isdata.h [1.2] (+11 -13), 
        iscannum.h [1.2] (+11 -13), iscannum.c [1.2] (+11 -13), 
        iscanbin.h [1.2] (+11 -13), iscanbin.c [1.2] (+63 -35), 
        iscan.h [1.2] (+11 -13), iscan.c [1.2] (+11 -13), isave.h [1.2] (+11 -13), 
        isave.c [1.2] (+57 -61), iref.h [1.2] (+11 -13), ireclaim.c [1.2] (+11 -13), 
        iplugin.h [1.2] (+11 -13), iplugin.c [1.2] (+11 -13), ipcolor.h [1.2] (+11 -13), 
        iparray.h [1.2] (+11 -13), iparam.h [1.2] (+11 -13), iparam.c [1.2] (+11 -13), 
        ipacked.h [1.2] (+11 -13), iostack.h [1.2] (+11 -13), iosdata.h [1.2] (+11 -13), 
        interp.h [1.2] (+11 -13), interp.c [1.2] (+11 -13), int.mak [1.3] (+34 -29), 
        inouparm.c [1.2] (+11 -13), inobtokn.c [1.2] (+11 -13), 
        inamestr.h [1.2] (+11 -13), inames.h [1.2] (+11 -13), inameidx.h [1.2] (+11 -13), 
        inamedef.h [1.2] (+11 -13), iname.h [1.2] (+11 -13), iname.c [1.2] (+11 -13), 
        iminst.h [1.2] (+11 -13), imemory.h [1.2] (+11 -13), imainarg.h [1.2] (+11 -13), 
        imainarg.c [1.2] (+40 -26), imain.h [1.2] (+11 -13), imain.c [1.2] (+17 -19), 
        ilocate.c [1.2] (+11 -13), ilevel.h [1.2] (+11 -13), ijs.mak [1.1] (+117 -0), 
        iinit.h [1.2] (+11 -13), iinit.c [1.2] (+11 -13), iimage2.h [1.2] (+11 -13), 
        iimage.h [1.2] (+11 -13), iht.h [1.2] (+11 -13), igstate.h [1.4] (+11 -13), 
        igcstr.h [1.2] (+11 -13), igcstr.c [1.2] (+11 -13), igcref.c [1.2] (+11 -13), 
        igc.h [1.2] (+11 -13), igc.c [1.2] (+11 -13), ifwpred.h [1.2] (+11 -13), 
        ifunc.h [1.2] (+20 -16), ifrpred.h [1.2] (+11 -13), ifont42.h [1.2] (+11 -13), 
        ifont2.h [1.2] (+11 -13), ifont1.h [1.2] (+11 -13), ifont.h [1.2] (+11 -13), 
        ifilter2.h [1.2] (+11 -13), ifilter.h [1.2] (+11 -13), ifcid.h [1.2] (+11 -13), 
        ifapi.h [1.2] (+53 -56), iestack.h [1.2] (+11 -13), iesdata.h [1.2] (+11 -13), 
        idstack.h [1.2] (+11 -13), idstack.c [1.2] (+11 -13), idsdata.h [1.2] (+11 -13), 
        idparam.h [1.2] (+11 -13), idparam.c [1.2] (+11 -13), idosave.h [1.2] (+11 -13), 
        idisp.h [1.2] (+18 -15), idisp.c [1.2] (+13 -14), idictdef.h [1.2] (+11 -13), 
        idict.h [1.2] (+11 -13), idict.c [1.2] (+11 -13), idebug.h [1.2] (+11 -13), 
        idebug.c [1.2] (+11 -13), iddstack.h [1.2] (+11 -13), iddict.h [1.2] (+11 -13), 
        icstate.h [1.2] (+13 -13), icsmap.h [1.2] (+11 -13), icremap.h [1.2] (+11 -13), 
        icontext.h [1.2] (+11 -13), icontext.c [1.2] (+14 -14), 
        iconf.h [1.2] (+11 -13), iconf.c [1.2] (+11 -13), icolor.h [1.2] (+11 -13), 
        icie.h [1.2] (+11 -13), icid.h [1.2] (+11 -13), icharout.h [1.2] (+11 -13), 
        ichar1.h [1.2] (+11 -13), ichar.h [1.2] (+11 -13), icfontab.c [1.2] (+11 -13), 
        icclib.mak [1.2] (+11 -13), iccinit0.c [1.2] (+11 -13), 
        iccfont.c [1.2] (+14 -13), ibnum.h [1.2] (+35 -20), ibnum.c [1.2] (+39 -30), 
        iastruct.h [1.2] (+11 -13), iastate.h [1.2] (+11 -13), iapi.h [1.2] (+29 -13), 
        iapi.c [1.2] (+24 -17), ialloc.h [1.2] (+11 -13), ialloc.c [1.2] (+11 -13), 
        gzstate.h [1.2] (+11 -13), gzpath.h [1.2] (+11 -13), gzline.h [1.2] (+11 -13), 
        gzht.h [1.4] (+14 -13), gzcpath.h [1.2] (+11 -13), gzacpath.h [1.2] (+11 -13), 
        gxxfont.h [1.2] (+11 -13), gxtype1.h [1.2] (+41 -31), gxtype1.c [1.2] (+14 -15), 
        gxttf.h [1.2] (+23 -13), gxtmap.h [1.2] (+11 -13), gxtext.h [1.2] (+11 -13), 
        gxsync.h [1.2] (+11 -13), gxsync.c [1.2] (+11 -13), gxstroke.c [1.2] (+11 -13), 
        gxstdio.h [1.2] (+11 -13), gxstate.h [1.3] (+11 -13), gxshade6.c [1.2] (+11 -13), 
        gxshade4.h [1.2] (+11 -13), gxshade4.c [1.2] (+11 -13), 
        gxshade1.c [1.2] (+11 -13), gxshade.h [1.2] (+11 -13), gxshade.c [1.2] (+11 -13), 
        gxsample.h [1.2] (+11 -13), gxsample.c [1.2] (+11 -13), 
        gxrplane.h [1.2] (+11 -13), gxropc.h [1.2] (+11 -13), gxpflat.c [1.2] (+11 -13), 
        gxpdash.c [1.2] (+11 -13), gxpcopy.c [1.2] (+11 -13), gxpcolor.h [1.2] (+11 -13), 
        gxpcmap.c [1.3] (+11 -13), gxpcache.h [1.2] (+11 -13), gxpath2.c [1.2] (+11 -13), 
        gxpath.h [1.2] (+11 -13), gxpath.c [1.2] (+11 -13), gxpaint.h [1.2] (+11 -13), 
        gxpaint.c [1.2] (+11 -13), gxpageq.h [1.2] (+11 -13), gxpageq.c [1.2] (+11 -13), 
        gxp1impl.h [1.2] (+11 -13), gxp1fill.c [1.2] (+11 -13), 
        gxop1.h [1.2] (+11 -13), gxobj.h [1.2] (+17 -15), gxmclip.h [1.2] (+11 -13), 
        gxmclip.c [1.2] (+11 -13), gxmatrix.h [1.2] (+11 -13), gxlum.h [1.2] (+11 -13), 
        gxline.h [1.2] (+11 -13), gxistate.h [1.6] (+11 -13), gxiscale.c [1.4] (+26 -18), 
        gxipixel.c [1.2] (+32 -28), gxiparam.h [1.2] (+11 -13), 
        gxiodev.h [1.2] (+11 -13), gxino12b.c [1.2] (+11 -13), gximono.c [1.2] (+21 -20), 
        gximage4.c [1.2] (+11 -13), gximage3.h [1.2] (+11 -13), 
        gximage3.c [1.2] (+11 -13), gximage2.c [1.2] (+11 -13), 
        gximage1.c [1.2] (+11 -13), gximage.h [1.2] (+18 -13), gximage.c [1.2] (+11 -13), 
        gximag3x.h [1.2] (+11 -13), gximag3x.c [1.2] (+22 -19), 
        gxifast.c [1.2] (+11 -13), gxidata.c [1.2] (+11 -13), gxicolor.c [1.2] (+11 -13), 
        gxiclass.h [1.2] (+11 -13), gxi12bit.c [1.2] (+11 -13), 
        gxhttype.h [1.2] (+11 -13), gxhttile.h [1.2] (+11 -13), 
        gxhtbit.c [1.2] (+11 -13), gxht.h [1.4] (+11 -13), gxht.c [1.2] (+25 -13), 
        gxhint3.c [1.2] (+11 -13), gxhint2.c [1.2] (+19 -17), gxhint1.c [1.2] (+11 -13), 
        gxgetbit.h [1.2] (+11 -13), gxfunc.h [1.2] (+11 -13), gxftype.h [1.2] (+11 -13), 
        gxfrac.h [1.2] (+11 -13), gxfont42.h [1.2] (+11 -13), gxfont1.h [1.2] (+11 -13), 
        gxfont0.h [1.2] (+11 -13), gxfont.h [1.2] (+21 -14), gxfmap.h [1.2] (+11 -13), 
        gxfixed.h [1.2] (+11 -13), gxfill.c [1.2] (+11 -13), gxfcmap.h [1.2] (+24 -14), 
        gxfcid.h [1.2] (+11 -13), gxfcache.h [1.2] (+12 -13), gxfarith.h [1.2] (+11 -13), 
        gxfapi.h [1.2] (+17 -15), gxfapi.c [1.2] (+28 -29), gxdither.h [1.2] (+11 -13), 
        gxdither.c [1.5] (+11 -13), gxdhtres.h [1.2] (+11 -13), 
        gxdht.h [1.5] (+11 -13), gxdevrop.h [1.2] (+11 -13), gxdevndi.h [1.3] (+11 -13), 
        gxdevndi.c [1.5] (+11 -13), gxdevmem.h [1.5] (+11 -13), 
        gxdevice.h [1.6] (+18 -17), gxdevcli.h [1.7] (+12 -13), 
        gxdevbuf.h [1.2] (+11 -13), gxdda.h [1.2] (+11 -13), gxdcolor.h [1.2] (+11 -13), 
        gxdcolor.c [1.6] (+11 -13), gxdcconv.h [1.2] (+11 -13), 
        gxdcconv.c [1.2] (+11 -13), gxcvalue.h [1.2] (+11 -13), 
        gxctable.h [1.2] (+11 -13), gxctable.c [1.2] (+11 -13), 
        gxcspace.h [1.4] (+11 -13), gxcpath.h [1.2] (+11 -13), gxcpath.c [1.2] (+11 -13), 
        gxcoord.h [1.2] (+11 -13), gxcomp.h [1.2] (+11 -13), gxcolor2.h [1.2] (+11 -13), 
        gxcmap.h [1.6] (+11 -13), gxcmap.c [1.7] (+11 -13), gxclzlib.c [1.2] (+11 -13), 
        gxclutil.c [1.3] (+11 -13), gxclrect.c [1.2] (+11 -13), 
        gxclread.c [1.2] (+11 -13), gxclrast.c [1.6] (+11 -13), 
        gxclpath.h [1.2] (+11 -13), gxclpath.c [1.2] (+11 -13), 
        gxclpage.h [1.2] (+11 -13), gxclpage.c [1.2] (+11 -13), 
        gxclmem.h [1.2] (+11 -13), gxclmem.c [1.2] (+11 -13), gxcllzw.c [1.2] (+11 -13), 
        gxclist.h [1.2] (+11 -13), gxclist.c [1.3] (+11 -13), gxclipsr.h [1.2] (+11 -13), 
        gxclipm.h [1.2] (+11 -13), gxclipm.c [1.3] (+11 -13), gxclip2.h [1.2] (+11 -13), 
        gxclip2.c [1.3] (+11 -13), gxclip.h [1.2] (+11 -13), gxclip.c [1.3] (+11 -13), 
        gxclio.h [1.2] (+11 -13), gxclimag.c [1.3] (+11 -13), gxclfile.c [1.2] (+11 -13), 
        gxcldev.h [1.3] (+11 -13), gxclbits.c [1.2] (+11 -13), gxcindex.h [1.5] (+11 -13), 
        gxcie.h [1.2] (+37 -16), gxcid.h [1.2] (+11 -13), gxcht.c [1.11] (+11 -13), 
        gxchrout.h [1.2] (+11 -13), gxchrout.c [1.2] (+11 -13), 
        gxchar.h [1.2] (+16 -16), gxchar.c [1.2] (+63 -57), gxcdevn.h [1.2] (+11 -13), 
        gxccman.c [1.2] (+11 -13), gxccache.c [1.2] (+11 -13), gxblend.h [1.2] (+11 -13), 
        gxblend.c [1.2] (+11 -13), gxbitops.h [1.2] (+11 -13), gxbitmap.h [1.2] (+33 -17), 
        gxbitfmt.h [1.2] (+11 -13), gxbcache.h [1.2] (+11 -13), 
        gxbcache.c [1.2] (+11 -13), gxband.h [1.2] (+11 -13), gxarith.h [1.2] (+11 -13), 
        gxalpha.h [1.2] (+11 -13), gxalloc.h [1.2] (+11 -13), gxacpath.c [1.3] (+11 -13), 
        gx.h [1.2] (+11 -13), gsxfont.h [1.2] (+11 -13), gswin.rc [1.2] (+11 -13), 
        gsutil.h [1.2] (+12 -13), gsutil.c [1.2] (+15 -15), gsuid.h [1.2] (+11 -13), 
        gstypes.h [1.2] (+11 -13), gstype42.c [1.2] (+25 -36), gstype2.c [1.2] (+33 -25), 
        gstype1.h [1.2] (+11 -13), gstype1.c [1.2] (+24 -24), gstrap.h [1.2] (+11 -13), 
        gstrap.c [1.2] (+11 -13), gstrans.h [1.2] (+11 -13), gstrans.c [1.2] (+11 -13), 
        gstparam.h [1.2] (+11 -13), gstext.h [1.2] (+11 -13), gstext.c [1.2] (+11 -13), 
        gsstype.h [1.2] (+11 -13), gsstruct.h [1.2] (+11 -13), gsstate.h [1.2] (+11 -13), 
        gsstate.c [1.2] (+15 -14), gsshade.h [1.2] (+11 -13), gsshade.c [1.2] (+11 -13), 
        gsroptab.c [1.2] (+11 -13), gsropt.h [1.2] (+11 -13), gsropc.h [1.2] (+11 -13), 
        gsropc.c [1.2] (+11 -13), gsrop.h [1.2] (+11 -13), gsrop.c [1.2] (+11 -13), 
        gsrefct.h [1.2] (+11 -13), gsrect.h [1.2] (+11 -13), gsptype2.h [1.2] (+11 -13), 
        gsptype2.c [1.2] (+11 -13), gsptype1.h [1.2] (+11 -13), 
        gsptype1.c [1.2] (+11 -13), gspmdrv.rc [1.2] (+11 -13), 
        gspmdrv.h [1.2] (+11 -13), gspmdrv.c [1.2] (+11 -13), gspenum.h [1.2] (+11 -13), 
        gspcolor.h [1.2] (+11 -13), gspcolor.c [1.2] (+11 -13), 
        gspath2.h [1.2] (+11 -13), gspath1.c [1.2] (+11 -13), gspath.h [1.2] (+11 -13), 
        gspath.c [1.2] (+12 -14), gsparamx.h [1.2] (+11 -13), gsparamx.c [1.2] (+11 -13), 
        gsparams.h [1.2] (+11 -13), gsparams.c [1.2] (+11 -13), 
        gsparam2.c [1.2] (+11 -13), gsparam.h [1.2] (+11 -13), gsparam.c [1.2] (+11 -13), 
        gspaint.h [1.2] (+11 -13), gspaint.c [1.2] (+11 -13), gsos2.rc [1.2] (+11 -13), 
        gsnotify.h [1.2] (+11 -13), gsnotify.c [1.2] (+11 -13), 
        gsnorop.c [1.2] (+11 -13), gsnogc.h [1.2] (+11 -13), gsnogc.c [1.2] (+11 -13), 
        gsmisc.c [1.3] (+11 -13), gsmemret.h [1.2] (+11 -13), gsmemret.c [1.2] (+11 -13), 
        gsmemraw.h [1.2] (+35 -13), gsmemory.h [1.2] (+18 -13), 
        gsmemory.c [1.2] (+11 -13), gsmemlok.h [1.2] (+11 -13), 
        gsmemlok.c [1.2] (+11 -13), gsmdebug.h [1.2] (+11 -13), 
        gsmatrix.h [1.2] (+11 -13), gsmatrix.c [1.2] (+11 -13), 
        gsmalloc.h [1.2] (+11 -13), gsmalloc.c [1.2] (+21 -17), 
        gslparam.h [1.2] (+11 -13), gsline.h [1.2] (+11 -13), gsline.c [1.2] (+11 -13), 
        gslib.h [1.2] (+11 -13), gslib.c [1.2] (+11 -13), gsjmorec.h [1.2] (+11 -13), 
        gsjconf.h [1.2] (+11 -13), gsistate.c [1.4] (+11 -15), gsiparm4.h [1.2] (+11 -13), 
        gsiparm3.h [1.2] (+11 -13), gsiparm2.h [1.2] (+11 -13), 
        gsiparam.h [1.2] (+11 -13), gsipar3x.h [1.2] (+16 -14), 
        gsiodevs.c [1.2] (+11 -13), gsiodev.c [1.2] (+11 -13), gsio.h [1.2] (+11 -13), 
        gsinit.c [1.2] (+11 -13), gsimpath.c [1.2] (+11 -13), gsimage.h [1.2] (+11 -13), 
        gsimage.c [1.2] (+11 -13), gsicc.h [1.2] (+11 -13), gsicc.c [1.2] (+11 -13), 
        gshtx.h [1.3] (+11 -13), gshtx.c [1.5] (+11 -13), gshtscr.c [1.2] (+11 -13), 
        gsht1.h [1.2] (+11 -13), gsht1.c [1.4] (+11 -13), gsht.h [1.2] (+11 -13), 
        gsht.c [1.5] (+11 -13), gshsb.h [1.2] (+11 -13), gshsb.c [1.2] (+11 -13), 
        gsgdata.h [1.2] (+11 -13), gsgdata.c [1.2] (+11 -13), gsgc.h [1.2] (+11 -13), 
        gsfuncv.h [1.2] (+11 -13), gsfuncv.c [1.2] (+11 -13), gsfunc4.h [1.2] (+11 -13), 
        gsfunc4.c [1.2] (+11 -13), gsfunc3.h [1.2] (+11 -13), gsfunc3.c [1.2] (+11 -13), 
        gsfunc0.h [1.2] (+11 -13), gsfunc0.c [1.2] (+11 -13), gsfunc.h [1.2] (+11 -13), 
        gsfunc.c [1.2] (+11 -13), gsfont0.c [1.2] (+11 -13), gsfont.h [1.2] (+11 -13), 
        gsfont.c [1.2] (+11 -16), gsfname.h [1.2] (+11 -13), gsfname.c [1.2] (+11 -13), 
        gsflip.h [1.2] (+11 -13), gsflip.c [1.2] (+11 -13), gsfemu.c [1.2] (+11 -13), 
        gsfcmap.h [1.2] (+11 -13), gsfcmap.c [1.2] (+12 -14), gsfcid.c [1.2] (+11 -13), 
        gsexit.h [1.2] (+11 -13), gserver.c [1.2] (+18 -18), gserrors.h [1.2] (+11 -13), 
        gserror.h [1.2] (+11 -15), gsdsrc.h [1.2] (+11 -13), gsdsrc.c [1.2] (+11 -13), 
        gsdps1.c [1.2] (+11 -13), gsdps.h [1.2] (+11 -13), gsdps.c [1.2] (+11 -13), 
        gsdpnext.h [1.2] (+11 -13), gsdparam.c [1.4] (+27 -15), 
        gsdllwin.h [1.2] (+11 -13), gsdllos2.h [1.2] (+11 -13), 
        gsdll32.rc [1.2] (+11 -13), gsdll32.def [1.2] (+1 -0), gsdll2.rc [1.2] (+11 -13), 
        gsdll.h [1.2] (+13 -16), gsdll.c [1.2] (+11 -13), gsdfilt.h [1.2] (+16 -13), 
        gsdfilt.c [1.3] (+11 -13), gsdevmem.c [1.2] (+11 -13), gsdevice.h [1.2] (+11 -13), 
        gsdevice.c [1.2] (+11 -15), gsdcolor.h [1.5] (+11 -13), 
        gscssub.h [1.2] (+11 -13), gscssub.c [1.2] (+11 -13), gscspace.h [1.4] (+11 -13), 
        gscspace.c [1.2] (+11 -13), gscsepr.h [1.2] (+11 -13), gscsepr.c [1.4] (+11 -13), 
        gscsel.h [1.2] (+11 -13), gscscie.c [1.2] (+11 -13), gscrypt1.h [1.2] (+11 -13), 
        gscrypt1.c [1.2] (+11 -13), gscrdp.h [1.2] (+11 -13), gscrdp.c [1.2] (+11 -13), 
        gscrd.h [1.2] (+11 -13), gscrd.c [1.2] (+15 -17), gscpm.h [1.2] (+11 -13), 
        gscpixel.h [1.2] (+11 -13), gscpixel.c [1.4] (+11 -13), 
        gscparam.c [1.2] (+11 -13), gscoord.h [1.2] (+11 -13), gscoord.c [1.2] (+11 -13), 
        gscompt.h [1.2] (+11 -13), gscolor3.h [1.2] (+11 -13), gscolor3.c [1.2] (+11 -13), 
        gscolor2.h [1.2] (+11 -13), gscolor2.c [1.2] (+11 -13), 
        gscolor1.h [1.2] (+11 -13), gscolor1.c [1.4] (+11 -14), 
        gscolor.h [1.2] (+11 -13), gscolor.c [1.3] (+11 -13), gsclipsr.h [1.2] (+11 -13), 
        gsclipsr.c [1.2] (+11 -13), gscindex.h [1.2] (+11 -13), 
        gsciemap.c [1.2] (+201 -88), gscie.h [1.2] (+59 -26), gscie.c [1.2] (+302 -77), 
        gschar0.c [1.2] (+11 -13), gschar.h [1.2] (+11 -13), gschar.c [1.2] (+11 -13), 
        gscdevn.h [1.4] (+11 -13), gscdevn.c [1.5] (+11 -13), gscdefs.h [1.2] (+11 -13), 
        gscdef.c [1.2] (+11 -13), gsccolor.h [1.4] (+11 -13), gsccode.h [1.2] (+11 -13), 
        gsbittab.h [1.2] (+11 -13), gsbittab.c [1.2] (+11 -13), 
        gsbitops.h [1.2] (+11 -13), gsbitops.c [1.2] (+11 -13), 
        gsbitmap.h [1.2] (+11 -13), gsbitcom.c [1.2] (+11 -13), 
        gsargs.h [1.2] (+11 -13), gsargs.c [1.2] (+11 -13), gsalphac.h [1.2] (+11 -13), 
        gsalphac.c [1.3] (+11 -13), gsalpha.h [1.2] (+11 -13), gsalpha.c [1.2] (+11 -13), 
        gsalloc.h [1.2] (+11 -13), gsalloc.c [1.2] (+131 -39), gs16spl.rc [1.2] (+11 -13), 
        gs16spl.c [1.2] (+11 -13), gs.mak [1.4] (+23 -18), gs.c [1.2] (+11 -13), 
        gpsync.h [1.2] (+11 -13), gpmisc.h [1.2] (+11 -13), gpmisc.c [1.2] (+11 -13), 
        gpgetenv.h [1.2] (+11 -13), gpcheck.h [1.2] (+11 -13), gp_wsync.c [1.2] (+11 -13), 
        gp_win32.c [1.2] (+11 -13), gp_wgetv.c [1.2] (+11 -13), 
        gp_vms.c [1.2] (+55 -17), gp_unix.c [1.2] (+11 -13), gp_unifs.c [1.2] (+11 -13), 
        gp_unifn.c [1.2] (+43 -17), gp_sysv.c [1.2] (+11 -13), gp_strdl.c [1.2] (+11 -13), 
        gp_stdin.c [1.2] (+11 -13), gp_stdia.c [1.2] (+11 -13), 
        gp_psync.c [1.2] (+11 -13), gp_os9.c [1.2] (+11 -13), gp_os2.c [1.2] (+44 -18), 
        gp_ntfs.c [1.2] (+39 -16), gp_nsync.c [1.2] (+11 -13), gp_mswin.h [1.2] (+11 -13), 
        gp_mswin.c [1.2] (+11 -13), gp_msprn.c [1.2] (+11 -13), 
        gp_mspol.c [1.2] (+11 -13), gp_mslib.c [1.2] (+11 -13), 
        gp_msio.c [1.2] (+11 -13), gp_mshdl.c [1.2] (+11 -13), gp_msdos.c [1.2] (+11 -13), 
        gp_msdll.c [1.2] (+11 -13), gp_mktmp.c [1.2] (+11 -13), 
        gp_macio.c [1.2] (+32 -5), gp_mac.h [1.2] (+12 -13), gp_mac.c [1.2] (+10 -12), 
        gp_iwatc.c [1.2] (+11 -13), gp_getnv.c [1.2] (+11 -13), 
        gp_dvx.c [1.2] (+11 -13), gp_dosfs.c [1.2] (+44 -18), gp_dosfe.c [1.2] (+12 -14), 
        gp.h [1.2] (+19 -16), ghost.h [1.2] (+11 -13), geninit.c [1.2] (+11 -13), 
        genht.c [1.2] (+11 -13), gendev.c [1.2] (+11 -13), genconf.c [1.2] (+11 -13), 
        genarch.c [1.2] (+57 -28), gdevxxf.c [1.2] (+11 -13), gdevxres.c [1.2] (+11 -13), 
        gdevxini.c [1.4] (+11 -13), gdevxcmp.h [1.2] (+11 -13), 
        gdevxcmp.c [1.3] (+11 -13), gdevxcf.c [1.2] (+11 -13), gdevxalt.c [1.3] (+57 -31), 
        gdevx.h [1.2] (+11 -13), gdevx.c [1.2] (+168 -157), gdevwprn.c [1.2] (+11 -13), 
        gdevwpr2.c [1.2] (+11 -13), gdevwdib.c [1.2] (+12 -14), 
        gdevwddb.c [1.2] (+11 -13), gdevvglb.c [1.2] (+11 -13), 
        gdevvec.h [1.2] (+11 -13), gdevvec.c [1.2] (+16 -16), gdevupd.c [1.3] (+12 -14), 
        gdevtrac.c [1.2] (+11 -13), gdevtknk.c [1.3] (+11 -13), 
        gdevtifs.h [1.2] (+11 -13), gdevtifs.c [1.2] (+11 -13), 
        gdevtfnx.c [1.2] (+11 -13), gdevtfax.h [1.2] (+11 -13), 
        gdevtfax.c [1.2] (+11 -13), gdevsvga.h [1.2] (+11 -13), 
        gdevsvga.c [1.2] (+11 -13), gdevsunr.c [1.2] (+11 -13), 
        gdevsun.c [1.2] (+11 -13), gdevstc4.c [1.2] (+11 -13), gdevstc3.c [1.2] (+11 -13), 
        gdevstc2.c [1.2] (+11 -13), gdevstc1.c [1.2] (+11 -13), 
        gdevstc.h [1.2] (+11 -13), gdevstc.c [1.3] (+11 -13), gdevsppr.c [1.2] (+11 -13), 
        gdevsnfb.c [1.2] (+11 -13), gdevsj48.c [1.2] (+11 -13), 
        gdevsco.c [1.2] (+11 -13), gdevs3ga.c [1.2] (+11 -13), gdevrops.c [1.3] (+11 -13), 
        gdevpxut.h [1.2] (+11 -13), gdevpxut.c [1.2] (+11 -13), 
        gdevpxop.h [1.2] (+11 -13), gdevpxen.h [1.2] (+11 -13), 
        gdevpxat.h [1.2] (+11 -13), gdevpx.c [1.2] (+11 -13), gdevpsu.h [1.2] (+11 -13), 
        gdevpsu.c [1.2] (+13 -15), gdevpsim.c [1.2] (+11 -13), gdevpsfx.c [1.2] (+45 -36), 
        gdevpsfu.c [1.2] (+11 -13), gdevpsft.c [1.2] (+112 -42), 
        gdevpsfm.c [1.2] (+23 -20), gdevpsf2.c [1.2] (+11 -13), 
        gdevpsf1.c [1.2] (+11 -13), gdevpsf.h [1.2] (+11 -13), gdevpsdu.c [1.2] (+13 -18), 
        gdevpsds.h [1.2] (+11 -13), gdevpsds.c [1.2] (+11 -13), 
        gdevpsdp.c [1.2] (+12 -14), gdevpsdi.c [1.2] (+11 -17), 
        gdevpsdf.h [1.2] (+11 -13), gdevps.c [1.2] (+17 -14), gdevprna.h [1.2] (+11 -13), 
        gdevprna.c [1.2] (+11 -13), gdevprn.h [1.3] (+11 -13), gdevprn.c [1.4] (+18 -14), 
        gdevppla.h [1.2] (+11 -13), gdevppla.c [1.2] (+11 -13), 
        gdevpnga.c [1.2] (+11 -13), gdevpng.c [1.2] (+11 -13), gdevpm.h [1.2] (+11 -13), 
        gdevpm.c [1.2] (+11 -13), gdevplnx.h [1.2] (+11 -13), gdevplnx.c [1.2] (+11 -13), 
        gdevpjet.c [1.2] (+11 -13), gdevpipe.c [1.2] (+11 -13), 
        gdevphex.c [1.2] (+20 -20), gdevpe.c [1.2] (+11 -13), gdevpdfx.h [1.2] (+20 -16), 
        gdevpdfw.c [1.2] (+11 -13), gdevpdfv.c [1.2] (+11 -13), 
        gdevpdfu.c [1.2] (+27 -26), gdevpdft.c [1.2] (+12 -14), 
        gdevpdfs.c [1.2] (+130 -101), gdevpdfr.c [1.2] (+30 -17), 
        gdevpdfp.c [1.2] (+55 -22), gdevpdfo.h [1.2] (+24 -23), 
        gdevpdfo.c [1.2] (+14 -14), gdevpdfm.c [1.2] (+11 -13), 
        gdevpdfk.c [1.1] (+714 -0), gdevpdfj.c [1.2] (+15 -16), 
        gdevpdfi.c [1.2] (+134 -15), gdevpdfg.h [1.2] (+11 -13), 
        gdevpdfg.c [1.3] (+11 -13), gdevpdff.h [1.2] (+40 -23), 
        gdevpdff.c [1.2] (+70 -45), gdevpdfe.c [1.2] (+84 -58), 
        gdevpdfd.c [1.2] (+11 -13), gdevpdfc.c [1.2] (+382 -394), 
        gdevpdfb.c [1.2] (+11 -13), gdevpdf.c [1.4] (+83 -33), gdevpcx.c [1.2] (+11 -13), 
        gdevpcl.h [1.2] (+11 -13), gdevpcl.c [1.3] (+11 -13), gdevpcfb.h [1.2] (+11 -13), 
        gdevpcfb.c [1.2] (+11 -13), gdevpccm.h [1.2] (+11 -13), 
        gdevpccm.c [1.3] (+11 -13), gdevpbm.c [1.6] (+11 -13), gdevp2up.c [1.2] (+11 -13), 
        gdevp14.h [1.2] (+11 -13), gdevp14.c [1.2] (+26 -134), gdevos2p.c [1.2] (+11 -13), 
        gdevokii.c [1.2] (+11 -13), gdevo182.c [1.2] (+11 -13), 
        gdevnfwd.c [1.4] (+11 -13), gdevn533.c [1.2] (+11 -13), 
        gdevmsxf.c [1.2] (+11 -13), gdevmswn.h [1.2] (+11 -13), 
        gdevmswn.c [1.2] (+11 -13), gdevmrun.h [1.2] (+11 -13), 
        gdevmrun.c [1.2] (+11 -13), gdevmrop.h [1.2] (+11 -13), 
        gdevmr8n.c [1.2] (+11 -13), gdevmr2n.c [1.2] (+11 -13), 
        gdevmr1.c [1.2] (+11 -13), gdevmpla.h [1.2] (+11 -13), gdevmpla.c [1.2] (+11 -13), 
        gdevmiff.c [1.2] (+11 -13), gdevmgr.h [1.2] (+11 -13), gdevmgr.c [1.2] (+11 -13), 
        gdevmem.h [1.4] (+11 -13), gdevmem.c [1.5] (+11 -13), gdevmeds.h [1.2] (+11 -13), 
        gdevmeds.c [1.2] (+11 -13), gdevmacxf.c [1.2] (+12 -13), 
        gdevmacttf.h [1.2] (+6 -0), gdevmacpictop.h [1.2] (+7 -0), 
        gdevmac.h [1.2] (+11 -12), gdevmac.c [1.2] (+9 -1), gdevm8.c [1.2] (+11 -13), 
        gdevm64.c [1.4] (+11 -13), gdevm56.c [1.4] (+11 -13), gdevm48.c [1.5] (+11 -13), 
        gdevm40.c [1.5] (+11 -13), gdevm4.c [1.2] (+11 -13), gdevm32.c [1.2] (+11 -13), 
        gdevm24.c [1.2] (+11 -13), gdevm2.c [1.2] (+11 -13), gdevm16.c [1.3] (+11 -13), 
        gdevm1.c [1.3] (+11 -13), gdevlxm.c [1.2] (+11 -13), gdevlp8k.c [1.2] (+11 -13), 
        gdevlj56.c [1.2] (+11 -13), gdevlbp8.c [1.2] (+11 -13), 
        gdevl31s.c [1.2] (+11 -13), gdevl256.c [1.2] (+11 -13), 
        gdevjpeg.c [1.2] (+11 -13), gdevimgn.c [1.2] (+11 -13), 
        gdevijs.c [1.1] (+1079 -0), gdevht.h [1.2] (+11 -13), gdevht.c [1.4] (+11 -13), 
        gdevhpij.h [1.2] (+1 -0), gdevhpij.c [1.2] (+8 -7), gdevhl7x.c [1.2] (+16 -18), 
        gdevhit.c [1.2] (+11 -13), gdevherc.c [1.2] (+11 -13), gdevfax.h [1.2] (+11 -13), 
        gdevfax.c [1.2] (+11 -13), gdevevga.c [1.2] (+11 -13), gdevescp.c [1.2] (+11 -13), 
        gdevepsn.c [1.2] (+11 -13), gdevepsc.c [1.3] (+11 -13), 
        gdevemap.c [1.2] (+11 -13), gdevegaa.asm [1.2] (+11 -13), 
        gdevdsp2.h [1.2] (+16 -19), gdevdsp.h [1.2] (+17 -18), gdevdsp.c [1.7] (+13 -15), 
        gdevdrop.c [1.2] (+11 -13), gdevdm24.c [1.2] (+11 -13), 
        gdevdjtc.c [1.2] (+11 -13), gdevdgbr.c [1.3] (+11 -13), 
        gdevdflt.c [1.5] (+11 -13), gdevdfax.c [1.2] (+11 -13), 
        gdevdevn.c [1.5] (+11 -13), gdevddrw.c [1.2] (+11 -13), 
        gdevdcrd.h [1.2] (+11 -13), gdevdcrd.c [1.2] (+11 -13), 
        gdevdbit.c [1.3] (+11 -13), gdevcslw.c [1.2] (+11 -13), 
        gdevcp50.c [1.2] (+11 -13), gdevcmap.h [1.2] (+11 -13), 
        gdevcmap.c [1.5] (+11 -13), gdevcljc.c [1.2] (+11 -13), 
        gdevclj.c [1.2] (+11 -13), gdevcif.c [1.2] (+11 -13), gdevcgmx.h [1.2] (+11 -13), 
        gdevcgml.h [1.2] (+11 -13), gdevcgml.c [1.2] (+11 -13), 
        gdevcgm.c [1.2] (+17 -13), gdevcfax.c [1.2] (+11 -13), gdevcdj.c [1.3] (+22 -23), 
        gdevccr.c [1.2] (+11 -13), gdevbmpc.c [1.3] (+11 -13), gdevbmpa.c [1.2] (+11 -13), 
        gdevbmp.h [1.2] (+11 -13), gdevbmp.c [1.2] (+11 -13), gdevbjcl.h [1.2] (+14 -16), 
        gdevbjcl.c [1.2] (+11 -13), gdevbjc.h [1.2] (+11 -13), gdevbj10.c [1.2] (+11 -13), 
        gdevbit.c [1.3] (+11 -13), gdevbbox.h [1.2] (+11 -13), gdevbbox.c [1.3] (+16 -147), 
        gdevalph.c [1.2] (+11 -13), gdevadmp.c [1.2] (+11 -13), 
        gdevabuf.c [1.3] (+11 -13), gdev8bcm.h [1.2] (+11 -13), 
        gdev8bcm.c [1.2] (+11 -13), gdev8510.c [1.2] (+11 -13), 
        gdev4081.c [1.2] (+11 -13), gdev3b1.c [1.2] (+11 -13), gdev3852.c [1.2] (+11 -13), 
        gdebug.h [1.2] (+11 -13), gconf.h [1.2] (+11 -13), gconf.c [1.2] (+11 -13), 
        files.h [1.2] (+11 -13), fcntl_.h [1.2] (+11 -13), fapiufst.c [1.2] (+401 -262), 
        estack.h [1.2] (+73 -33), errors.h [1.2] (+11 -13), errno_.h [1.2] (+11 -13), 
        echogs.c [1.2] (+11 -13), dxmainc.c [1.2] (+11 -14), dxmain.c [1.2] (+11 -13), 
        dwuninst.rc [1.2] (+11 -13), dwuninst.h [1.2] (+17 -13), 
        dwuninst.cpp [1.2] (+11 -13), dwtrace.h [1.1] (+23 -0), 
        dwtrace.c [1.1] (+338 -0), dwtext.h [1.2] (+17 -13), dwtext.c [1.2] (+11 -13), 
        dwsetup.rc [1.2] (+11 -13), dwsetup.h [1.2] (+16 -13), dwsetup.cpp [1.2] (+11 -13), 
        dwreg.h [1.2] (+13 -13), dwreg.c [1.2] (+11 -13), dwnodll.c [1.2] (+11 -12), 
        dwmainc.c [1.2] (+23 -13), dwmain.rc [1.2] (+11 -13), dwmain.h [1.2] (+16 -13), 
        dwmain.c [1.2] (+23 -13), dwinst.h [1.2] (+16 -13), dwinst.cpp [1.2] (+11 -13), 
        dwimg.h [1.2] (+13 -13), dwimg.c [1.2] (+21 -17), dwdll.h [1.2] (+12 -13), 
        dwdll.c [1.2] (+19 -13), dvx-tail.mak [1.2] (+11 -13), dvx-head.mak [1.2] (+11 -13), 
        dvx-gcc.mak [1.2] (+25 -13), dstack.h [1.2] (+11 -13), dscparse.h [1.2] (+16 -13), 
        dscparse.c [1.2] (+12 -14), dpmain.c [1.2] (+11 -13), dos_.h [1.2] (+11 -13), 
        dirent_.h [1.2] (+11 -13), devs.mak [1.7] (+31 -17), ctype_.h [1.2] (+11 -13), 
        contrib.mak [1.2] (+11 -13), cfonts.mak [1.2] (+11 -13), 
        ccgs [1.2] (+1 -1), ccfont.h [1.2] (+11 -13), btoken.h [1.2] (+11 -13), 
        bfont.h [1.2] (+11 -14), bench.c [1.2] (+11 -13), bcwin32.mak [1.2] (+18 -13), 
        all-arch.mak [1.2] (+11 -13), .cvsignore [1.1] (+1 -0):
        merges GS head.  This will not compile because pdf changes have not
        been added.  Please wait until the pdf changes are added before
        updating local trees.
        

Sat Mar  2 05:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxcht.c [1.10] (+9 -5):
        This is an optimization which reduces the number of encode_color calls
        required when halftoning 5 or more components.
        

Thu Feb 28 00:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxcindex.h [1.4] (+12 -10):
        The value of gx_no_color_index was being forced to be a 'long' value
        instead of matching the size of gx_color_index.  Change it to use gx_color_index
        as its type.  (May create a problem on Irix 5.2.)
        

Wed Feb 27 08:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxcht.c [1.9] (+46 -48):
        Now the halftoning will work with almost any number of components.
        

Wed Feb 27 02:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxcht.c [1.8] (+6 -5):
        THis fix corrects the halftone hander which is used to handle more than four
        components.  It ws not correctly handling the mixture of a fully saturated
        component and some halftoned components.  (Worked with zero value components.)
        

Thu Feb 21 07:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxcht.c [1.7] (+13 -6):
        This corrects a problem with some magenta coloring around the muzzle of
        the tiger.eps file when using the pcxcmyk device.
        
        Note:  There is still some stuff to check.  This fix primarily uses
        special code for 1 bit cmyk colors (same as previous versions of GS).
        The non 1 bit routines should produce the same result do not.
        

Thu Feb 21 04:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxcht.c [1.6] (+16 -38):
        Corrected problems in set_ht_colors_le_4 which was preventing it from
        compiling.  This is the halftoner for non single bit 4 or less components.
        

Tue Feb 19 05:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * unix-gcc.mak [1.5] (+3 -8), gdevm48.c [1.4] (+2 -2):
        The pixel size was incorrectly set to 3 instead of six (jan).  Adds
        CPPFLAG define for the long long so it works properly with raph's xcf
        device.
        

Tue Feb 19 05:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxcht.c [1.5] (+13 -14):
        Corrects a problem with an unknown error being returned in 'fill' when
        drawing tiger.ps using the pcxcmyk device.  Some of the color halfoning
        code is disabled because it is not compatible with the devicen device
        color mapping routines.  This fix corrects some of these problems.
        
        
        Note:  There are still more problems in this module related to the DeviceN
        implementation.  There are many places that that assume 3 or 4 colors
        only.
        
        * gdevm40.c [1.4] (+2 -2):
        Matching change to the change in gdevm48.c.  Changed a hard coded value
        of 3 for the pixel size to PIXEL_SIZE.  The 3 was a holdover from code
        copied from gdevm24.c.  Note: gdevm56.c and gdevm64.c are already
        correct.
        

Fri Feb 15 06:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxdevcli.h [1.6] (+1 -13):
        Removed unnecessary and incorrect dci_deviceN macros that had been
        previously inserted.  As per request for Jan. S.
        

Tue Feb 12 18:00:00 2002 GMT        Raph Levine    raph@meerkat

        * gdevxcf.c [1.1] (+1047 -0), devs.mak [1.6] (+12 -1):
        Adds an "xcf" device, which generates Gimp XCF file format, with
        additional channels for DeviceN separations.
        

Tue Feb 12 07:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxdevndi.c [1.4] (+83 -25), gxdcolor.c [1.5] (+7 -40), 
        gxcmap.c [1.6] (+23 -41), gxclrast.c [1.5] (+3 -1), gsdcolor.h [1.4] (+3 -21), 
        gdevdsp.c [1.6] (+2 -1):
        This commit enables halftoning.  Note:  The module gsdevndi.c contains
        the interface for setting up a halftone.
        
        Also corrects a problem with purple tigers caused by changes in gdevdsp.c
        in the last commit.
        

Sat Feb  2 22:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxdht.h [1.4] (+1 -6), gxdevndi.c [1.3] (+2 -2), gxcht.c [1.4] (+10 -10), 
        gsht.c [1.4] (+36 -21), gdevdsp.c [1.5] (+1 -0), devs.mak [1.5] (+2 -2):
        This commit creates a halftone array in the imager state which contains
        one halftone (and transfer function) for each device colorant.
        

Thu Jan 24 06:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * unix-gcc.mak [1.4] (+3 -3), gdevtknk.c [1.2] (+6 -2), 
        gdevstc.c [1.2] (+29 -17), gdev4693.c [1.2] (+5 -3):
        more color operand fixes from the MSVC build as reported by Dan.  This
        snapshot compiles with msvc ver 6.0.
        

Thu Jan 24 01:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * unix-gcc.mak [1.3] (+2 -2), gxdevice.h [1.5] (+2 -1), 
        gdevepsc.c [1.2] (+11 -11), gdevdsp.c [1.4] (+36 -26):
        missed color encoding operand changes.  These devices were not
        dependencies in the unix gcc build.  Adds epson device (back) to gcc
        makefile.  It is unclear why the epson devices were removed.
        

Wed Jan 23 21:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * zfcmap.c [1.2] (+5 -2), zfcid0.c [1.2] (+8 -2), zdpnext.c [1.2] (+26 -16), 
        unix-gcc.mak [1.2] (+10 -4), msvc32.mak [1.4] (+2 -2), gxdevice.h [1.4] (+13 -7), 
        gxdevcli.h [1.5] (+77 -74), gxcmap.h [1.5] (+4 -36), gxcmap.c [1.5] (+63 -253), 
        gxcht.c [1.3] (+10 -9), gsdfilt.c [1.2] (+6 -2), gsalphac.c [1.2] (+3 -4), 
        gdevxcmp.c [1.2] (+5 -3), gdevxalt.c [1.2] (+25 -21), gdevupd.c [1.2] (+25 -17), 
        gdevpcl.c [1.2] (+4 -3), gdevpccm.c [1.2] (+10 -7), gdevpbm.c [1.5] (+13 -15), 
        gdevnfwd.c [1.3] (+9 -12), gdevmem.c [1.4] (+10 -10), gdevm16.c [1.2] (+5 -6), 
        gdevm1.c [1.2] (+5 -10), gdevdgbr.c [1.2] (+2 -2), gdevdflt.c [1.4] (+135 -33), 
        gdevdevn.c [1.4] (+6 -5), gdevdbit.c [1.2] (+2 -3), gdevcdj.c [1.2] (+35 -34), 
        gdevbmpc.c [1.2] (+5 -3), gdevbit.c [1.2] (+14 -16), gdevabuf.c [1.2] (+8 -5), 
        devs.mak [1.4] (+2 -2):
        devs.mak - adds missing dependencies for devicen device.
        gdevabuf.c: - color encoding operand changes.
        gdevbit.c - color encoding operand changes.
        gdevbmp.c - color encoding operand changes.
        gdevcdj.c - color encoding operand changes.
        gdevdbit.c - color encoding operand changes.
        gdevdevn.c - replaces obsolete encoding flags with linear and seperable boolean.
        gdevdflt.c - Initialization with new color mapping defaults and color info
                     structure initialization (orimp spec.)
        
          TODO:
           initialization of component shift, mask, and bits should be moved.
           gx_default_DevCMY_get_color_mapping_procs() and
           gx_default_DevCMY_get_color_comp_index not implemented - currently
           prints a debugging warning.
        
        gdevdgbr.c - color encoding operand changes.
        gdevm1.c  - color encoding operand changes.
        gdevm16.c - color encoding operand changes.
        gdevmem.c - color encoding operand changes.
        gdevnfwd.c - color encoding operand changes.
        gdevpbm.c - color encoding operand changes.
        gdevpccm.c - color encoding operand changes.
        gdevpcl.c - color encoding operand changes.
        gdevupd.c - color encoding operand changes.
        gdevxalt.c - color encoding operand changes.
        gdevcmap.c - color encoding operand changes.
        gsalphac.c - color encoding operand changes.
        gsdfilt.c - color encoding operand changes.
        gxcht.c - color encoding operand changes.
                - removes #ifdef SLOW_CODE nonsense.
                - incomplete needs work.
        
        gxcmap.c - adds gx_default_encode_color() and
                   gx_default_decode_color() from the ORIMP spec. and removes
                   debug mapping procedures.
                 - Many of the color mapping procedures redefined to use the
                   default encode and decode.  Several procedures removed
                   entirely because they are obsolete with other interface
                   changes.
                 - color encoding operand changes.
                 - code cleanup... unused variables removed, etc.
        
        gxcmap.h - removes color mapping debug procedures.
                 - adds prototype for the default encode procedure.
                 - removes default gray, cmyk and rgb encode prototypes.
        
        gdevcli.h - color info modifications from the orimp spec.
                  - removes obsolete encoding flags.
                  - modifies the swarm of macros to support linear and
                  - separable and deprecate encoding flags and initialiazion
                    for component bits shift and mask.
                  - color encoding operand changes.
        
        gxdevice.h - removed obsolete encode and decoding procedure
                     prototypes.  Remaps default rgb_color and color_rgb to new default
                     encode and decode procedures.
        
        msvc32.mak and unix-gcc.mak
                   - removes pdfwrite device for color mapping doesn't work
                     with new color mapping, device not scheduled for first
                     devicen release.  unix-gcc.mak now has the long long hack, like msvc32.mak
                   - -O0 for debug *NOT* -O.
                   - removes -Wtraditional, can't find real warnings in the
                     sea of messages.
                   - adds devicen devices to unix-gcc.mak
        zpdnext.c  - color encoding mapping changes.
        zfcid0.c &amp; zfcmap.c
                   - #ifdefs out profile and debugging code which should not be in
                     this module as it depends on the pdfwrite device.
        

Tue Jan 22 08:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gshtx.c [1.4] (+1 -2):
        Correct a line missed in the previous commit.
        

Tue Jan 22 07:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * zht2.c [1.3] (+91 -57), zgstate.c [1.3] (+2 -2), lib.mak [1.5] (+2 -2), 
        igstate.h [1.3] (+1 -2), gzht.h [1.3] (+28 -3), gxistate.h [1.5] (+9 -6), 
        gxht.h [1.3] (+3 -2), gxdht.h [1.3] (+3 -2), gxclrast.c [1.4] (+2 -3), 
        gshtx.c [1.3] (+3 -4), gsht1.c [1.3] (+9 -20), gsht.c [1.3] (+139 -86), 
        gscolor1.c [1.3] (+13 -3):
        This is a first pass at implementing the transfer functions in the DeviceN
        code.  This version still has the 'color_indices' array.  This should be
        removed shortly.
        

Fri Jan 11 09:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gsmisc.c [1.2] (+2 -2):
        ilog2() had a misplaced parenthesis.  Results that were multiples of
        4, (like ilog2(16) and ilog2(256)) returned 0.  This should get fixed
        in the main gs tree as well.
        

Tue Jan  8 00:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gxistate.h [1.4] (+9 -6), gsistate.c [1.3] (+7 -1):
        
        Correct GC enumeration and relocation for the trans_comp and effectivei
        transfer elements of the graphics state.
        

Fri Jan  4 21:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * gscsepnm.h [1.2] (+1 -1):
        Removed gscsepnm.h.  This file is no longer used.  It was used to describe
        separation names for the standard colors (G, RGB, and CMYK).  The DeviceN
        effort now allows for any color name.
        

Fri Jan  4 08:00:00 2002 GMT        August Daniel Coby    dan@meerkat

        * zht2.c [1.2] (+94 -63), zht1.c [1.2] (+2 -2), zht.c [1.2] (+32 -17), 
        zgstate.c [1.2] (+26 -2), zcsdevn.c [1.4] (+10 -23), zcolor1.c [1.2] (+17 -17), 
        zcolor.c [1.2] (+10 -8), lib.mak [1.4] (+5 -6), iutil.c [1.2] (+2 -1), 
        int.mak [1.2] (+3 -3), igstate.h [1.2] (+5 -7), gzht.h [1.2] (+2 -2), 
        gxstate.h [1.2] (+7 -1), gxistate.h [1.3] (+17 -15), gxht.h [1.2] (+3 -3), 
        gxdither.c [1.4] (+3 -1), gxdht.h [1.2] (+10 -10), gxdevmem.h [1.4] (+5 -1), 
        gxdevice.h [1.3] (+3 -3), gxdevcli.h [1.4] (+17 -7), gxdcolor.c [1.4] (+2 -5), 
        gxcmap.h [1.4] (+6 -6), gxcmap.c [1.4] (+94 -60), gxclrast.c [1.3] (+12 -8), 
        gxclimag.c [1.2] (+7 -1), gxcht.c [1.2] (+12 -1), gsistate.c [1.2] (+26 -23), 
        gshtx.h [1.2] (+11 -11), gshtx.c [1.2] (+13 -1), gsht1.c [1.2] (+21 -11), 
        gsht.c [1.2] (+100 -63), gscolor1.c [1.2] (+4 -4), gscolor.c [1.2] (+15 -12), 
        gscdevn.c [1.4] (+3 -3), gdevpdfg.c [1.2] (+7 -1), gdevpbm.c [1.4] (+2 -2), 
        gdevm64.c [1.3] (+7 -7), gdevm56.c [1.3] (+8 -8), gdevm48.c [1.3] (+5 -5), 
        gdevm40.c [1.3] (+8 -8), gdevht.c [1.3] (+2 -2), gdevdevn.c [1.3] (+2 -2), 
        gdevcmap.c [1.4] (+14 -3):
        1.  Various fixes for the first update based upon comments from Orimp.
        2.  First pass at getting the transfer functions (and some of the half
            tones) based upon the colorant names.  Note:  This still does not
            work but we want to get a first pass into CVS.
        

Sat Dec  8 01:00:00 2001 GMT        August Daniel Coby    dan@meerkat

        * gspcmodl.h [1.2] (+1 -1), gspcmodl.c [1.2] (+1 -1):
        
        These modules are no longer required after the conversion to compliance
        with the Orimp specification.  The code that was in these modules was
        either made obsolete or moved to other modules.
        

Fri Nov 30 00:00:00 2001 GMT        August Daniel Coby    dan@meerkat

        * zcsdevn.c [1.3] (+2 -19), zcolor2.c [1.3] (+4 -1), winlib.mak [1.3] (+1 -1), 
        msvc32.mak [1.3] (+1 -1), lib.mak [1.3] (+7 -16), gxpcmap.c [1.2] (+10 -1), 
        gxistate.h [1.2] (+13 -0), gxiscale.c [1.3] (+2 -2), gxdither.c [1.3] (+7 -1), 
        gxdevndi.h [1.2] (+43 -43), gxdevndi.c [1.2] (+148 -144), 
        gxdevmem.h [1.3] (+1 -1), gxdevice.h [1.2] (+11 -0), gxdevcli.h [1.3] (+265 -54), 
        gxdcolor.c [1.3] (+39 -19), gxcspace.h [1.3] (+2 -2), gxcmap.h [1.3] (+159 -12), 
        gxcmap.c [1.3] (+465 -519), gxclutil.c [1.2] (+152 -91), 
        gxclrast.c [1.2] (+80 -58), gxclist.c [1.2] (+10 -1), gxclipm.c [1.2] (+10 -1), 
        gxclip2.c [1.2] (+10 -1), gxclip.c [1.2] (+10 -1), gxcldev.h [1.2] (+9 -15), 
        gxcindex.h [1.3] (+1 -1), gxacpath.c [1.2] (+10 -1), gsdparam.c [1.3] (+13 -15), 
        gsdcolor.h [1.3] (+12 -7), gscspace.h [1.3] (+1 -9), gscsepr.c [1.3] (+2 -2), 
        gscpixel.c [1.3] (+1 -1), gscdevn.h [1.3] (+2 -2), gscdevn.c [1.3] (+22 -35), 
        gsccolor.h [1.3] (+1 -1), gs.mak [1.3] (+1 -1), gdevxini.c [1.3] (+5 -5), 
        gdevrops.c [1.2] (+10 -1), gdevprn.h [1.2] (+16 -0), gdevprn.c [1.3] (+5 -5), 
        gdevpdf.c [1.3] (+6 -6), gdevpbm.c [1.3] (+3 -3), gdevnfwd.c [1.2] (+60 -2), 
        gdevmem.h [1.3] (+1 -1), gdevmem.c [1.3] (+1 -1), gdevm64.c [1.2] (+430 -430), 
        gdevm56.c [1.2] (+527 -527), gdevm48.c [1.2] (+472 -472), 
        gdevm40.c [1.2] (+503 -503), gdevht.c [1.2] (+10 -1), gdevdsp.c [1.3] (+8 -7), 
        gdevdflt.c [1.3] (+33 -7), gdevdevn.c [1.2] (+1302 -1174), 
        gdevcmap.c [1.3] (+3 -2), gdevbbox.c [1.2] (+14 -2), devs.mak [1.3] (+3 -3):
        Check in of first pass at DeviceN color complaint with Orimp spec.
        

Thu Nov  1 03:00:00 2001 GMT        Henry Stiles    henrys@meerkat

        * zcsdevn.c [1.2] (+40 -3), zcolor2.c [1.2] (+6 -61), winlib.mak [1.2] (+7 -1), 
        msvc32.mak [1.2] (+8 -1), lib.mak [1.2] (+41 -9), gxiscale.c [1.2] (+2 -2), 
        gxdither.c [1.2] (+6 -4), gxdevndi.h [1.1] (+43 -0), gxdevndi.c [1.1] (+144 -0), 
        gxdevmem.h [1.2] (+22 -2), gxdevcli.h [1.2] (+46 -1), gxdcolor.c [1.2] (+16 -1), 
        gxcspace.h [1.2] (+3 -3), gxcmap.h [1.2] (+19 -1), gxcmap.c [1.2] (+338 -40), 
        gxcindex.h [1.2] (+7 -2), gspcmodl.h [1.1] (+160 -0), gspcmodl.c [1.1] (+333 -0), 
        gsdparam.c [1.2] (+20 -16), gsdcolor.h [1.2] (+5 -1), gscspace.h [1.2] (+10 -1), 
        gscsepr.c [1.2] (+2 -2), gscpixel.c [1.2] (+2 -2), gscdevn.h [1.2] (+8 -1), 
        gscdevn.c [1.2] (+141 -47), gsccolor.h [1.2] (+2 -2), gs.mak [1.2] (+6 -3), 
        gdevxini.c [1.2] (+5 -1), gdevprn.c [1.2] (+5 -1), gdevpdf.c [1.2] (+12 -2), 
        gdevpbm.c [1.2] (+3 -3), gdevmem.h [1.2] (+13 -1), gdevmem.c [1.2] (+16 -8), 
        gdevm64.c [1.1] (+430 -0), gdevm56.c [1.1] (+527 -0), gdevm48.c [1.1] (+472 -0), 
        gdevm40.c [1.1] (+503 -0), gdevdsp.c [1.2] (+10 -1), gdevdflt.c [1.2] (+9 -1), 
        gdevdevn.c [1.1] (+1174 -0), gdevcmap.c [1.2] (+2 -2), devs.mak [1.2] (+20 -3):
        merge of devicen development branch - author Dan Coby
        

Wed Oct 31 23:00:00 2001 GMT        Henry Stiles    henrys@meerkat

        * zvmem2.c [1.1] (+156 -0), zvmem.c [1.1] (+400 -0), zusparam.c [1.1] (+653 -0), 
        zupath.c [1.1] (+677 -0), ztype.c [1.1] (+523 -0), ztrap.c [1.1] (+67 -0), 
        ztrans.c [1.1] (+427 -0), ztoken.c [1.1] (+375 -0), zsysvm.c [1.1] (+160 -0), 
        zstring.c [1.1] (+191 -0), zstack.c [1.1] (+301 -0), zshade.c [1.1] (+611 -0), 
        zrop.c [1.1] (+115 -0), zrelbit.c [1.1] (+360 -0), zpcolor.c [1.1] (+260 -0), 
        zpath1.c [1.1] (+281 -0), zpath.c [1.1] (+179 -0), zpaint.c [1.1] (+87 -0), 
        zpacked.c [1.1] (+258 -0), zmisc3.c [1.1] (+148 -0), zmisc2.c [1.1] (+286 -0), 
        zmisc1.c [1.1] (+173 -0), zmisc.c [1.1] (+365 -0), zmedia2.c [1.1] (+468 -0), 
        zmatrix.c [1.1] (+363 -0), zmath.c [1.1] (+281 -0), zlib.mak [1.1] (+151 -0), 
        ziodevsc.c [1.1] (+308 -0), ziodevs.c [1.1] (+257 -0), ziodev2.c [1.1] (+130 -0), 
        ziodev.c [1.1] (+301 -0), zimage3.c [1.1] (+137 -0), zimage2.c [1.1] (+174 -0), 
        zimage.c [1.1] (+521 -0), zicc.c [1.1] (+165 -0), zht2.c [1.1] (+431 -0), 
        zht1.c [1.1] (+151 -0), zht.c [1.1] (+262 -0), zhsb.c [1.1] (+64 -0), 
        zgstate.c [1.1] (+545 -0), zgeneric.c [1.1] (+612 -0), zfzlib.c [1.1] (+106 -0), 
        zfunc4.c [1.1] (+298 -0), zfunc3.c [1.1] (+116 -0), zfunc0.c [1.1] (+97 -0), 
        zfunc.c [1.1] (+263 -0), zfrsd.c [1.1] (+257 -0), zfproc.c [1.1] (+408 -0), 
        zfont42.c [1.1] (+343 -0), zfont32.c [1.1] (+73 -0), zfont2.c [1.1] (+119 -0), 
        zfont1.c [1.1] (+359 -0), zfont0.c [1.1] (+341 -0), zfont.c [1.1] (+552 -0), 
        zfmd5.c [1.1] (+46 -0), zfilterx.c [1.1] (+329 -0), zfilter2.c [1.1] (+161 -0), 
        zfilter.c [1.1] (+435 -0), zfileio.c [1.1] (+1010 -0), zfile.c [1.1] (+1108 -0), 
        zfdecode.c [1.1] (+354 -0), zfdcte.c [1.1] (+144 -0), zfdctd.c [1.1] (+101 -0), 
        zfcmap.c [1.1] (+496 -0), zfcid1.c [1.1] (+262 -0), zfcid0.c [1.1] (+548 -0), 
        zfcid.c [1.1] (+80 -0), zfbcp.c [1.1] (+93 -0), zfarc4.c [1.1] (+93 -0), 
        zfapi.c [1.1] (+992 -0), zdscpars.c [1.1] (+486 -0), zdps1.c [1.1] (+484 -0), 
        zdps.c [1.1] (+280 -0), zdpnext.c [1.1] (+479 -0), zdouble.c [1.1] (+539 -0), 
        zdosio.c [1.1] (+110 -0), zdict.c [1.1] (+504 -0), zdfilter.c [1.1] (+97 -0), 
        zdevice2.c [1.1] (+372 -0), zdevice.c [1.1] (+447 -0), zdevcal.c [1.1] (+73 -0), 
        zcssepr.c [1.1] (+236 -0), zcspixel.c [1.1] (+58 -0), zcsindex.c [1.1] (+203 -0), 
        zcsdevn.c [1.1] (+306 -0), zcrd.c [1.1] (+454 -0), zcontrol.c [1.1] (+955 -0), 
        zcontext.c [1.1] (+1302 -0), zcolor2.c [1.1] (+315 -0), 
        zcolor1.c [1.1] (+218 -0), zcolor.c [1.1] (+262 -0), zcie.c [1.1] (+691 -0), 
        zcid.c [1.1] (+52 -0), zcharx.c [1.1] (+166 -0), zcharout.c [1.1] (+385 -0), 
        zchar42.c [1.1] (+175 -0), zchar32.c [1.1] (+213 -0), zchar2.c [1.1] (+43 -0), 
        zchar1.c [1.1] (+1058 -0), zchar.c [1.1] (+793 -0), zcfont.c [1.1] (+155 -0), 
        zbseq.c [1.1] (+153 -0), zbfont.c [1.1] (+674 -0), zarray.c [1.1] (+129 -0), 
        zarith.c [1.1] (+415 -0), x_.h [1.1] (+175 -0), wmin.mak [1.1] (+61 -0), 
        winplat.mak [1.1] (+51 -0), winlib.mak [1.1] (+191 -0), 
        winint.mak [1.1] (+280 -0), windows_.h [1.1] (+50 -0), wctail.mak [1.1] (+94 -0), 
        wccommon.mak [1.1] (+232 -0), watcw32.mak [1.1] (+501 -0), 
        watclib.mak [1.1] (+174 -0), watc.mak [1.1] (+331 -0), vmsmath.h [1.1] (+43 -0), 
        vms_x_fix.h [1.1] (+889 -0), version.mak [1.1] (+31 -0), 
        unixtrad.mak [1.1] (+395 -0), unixlink.mak [1.1] (+77 -0), 
        unixinst.mak [1.1] (+151 -0), unixhead.mak [1.1] (+87 -0), 
        unixansi.mak [1.1] (+393 -0), unix-gcc.mak [1.1] (+458 -0), 
        unix-end.mak [1.1] (+80 -0), unix-dll.mak [1.1] (+133 -0), 
        unix-aux.mak [1.1] (+95 -0), unistd_.h [1.1] (+48 -0), ugcclib.mak [1.1] (+157 -0), 
        turboc.cfg [1.1] (+5 -0), time_.h [1.1] (+95 -0), szlibxx.h [1.1] (+67 -0), 
        szlibx.h [1.1] (+58 -0), szlibe.c [1.1] (+101 -0), szlibd.c [1.1] (+105 -0), 
        szlibc.c [1.1] (+131 -0), string_.h [1.1] (+45 -0), strimpl.h [1.1] (+168 -0), 
        stream.h [1.1] (+406 -0), stream.c [1.1] (+1214 -0), store.h [1.1] (+264 -0), 
        stdpre.h [1.1] (+470 -0), stdio_.h [1.1] (+73 -0), std.h [1.1] (+319 -0), 
        stat_.h [1.1] (+98 -0), sstring.h [1.1] (+76 -0), sstring.c [1.1] (+458 -0), 
        srlx.h [1.1] (+72 -0), srle.c [1.1] (+197 -0), srld.c [1.1] (+127 -0), 
        srdline.h [1.1] (+50 -0), spsdf.h [1.1] (+87 -0), spsdf.c [1.1] (+268 -0), 
        spprint.h [1.1] (+83 -0), spprint.c [1.1] (+201 -0), spngpx.h [1.1] (+58 -0), 
        spngp.c [1.1] (+386 -0), spdiffx.h [1.1] (+56 -0), spdiff.c [1.1] (+479 -0), 
        smtf.h [1.1] (+44 -0), smtf.c [1.1] (+178 -0), smd5.h [1.1] (+42 -0), 
        smd5.c [1.1] (+65 -0), slzwx.h [1.1] (+79 -0), slzwd.c [1.1] (+406 -0), 
        slzwce.c [1.1] (+161 -0), slzwc.c [1.1] (+44 -0), sjpege.c [1.1] (+118 -0), 
        sjpegd.c [1.1] (+89 -0), sjpegc.c [1.1] (+243 -0), sjpeg.h [1.1] (+75 -0), 
        sisparam.h [1.1] (+75 -0), siscale.h [1.1] (+30 -0), siscale.c [1.1] (+632 -0), 
        siinterp.h [1.1] (+30 -0), siinterp.c [1.1] (+261 -0), shcgen.h [1.1] (+55 -0), 
        shcgen.c [1.1] (+485 -0), shc.h [1.1] (+258 -0), shc.c [1.1] (+68 -0), 
        sfxstdio.c [1.1] (+304 -0), sfxfd.c [1.1] (+384 -0), sfxboth.c [1.1] (+25 -0), 
        sfilter2.c [1.1] (+265 -0), sfilter1.c [1.1] (+310 -0), 
        sfilter.h [1.1] (+108 -0), seexec.c [1.1] (+213 -0), sdeparam.c [1.1] (+314 -0), 
        sddparam.c [1.1] (+72 -0), sdcte.c [1.1] (+207 -0), sdctd.c [1.1] (+292 -0), 
        sdctc.c [1.1] (+47 -0), sdct.h [1.1] (+148 -0), sdcparam.h [1.1] (+51 -0), 
        sdcparam.c [1.1] (+620 -0), scommon.h [1.1] (+170 -0), scfx.h [1.1] (+128 -0), 
        scfparam.c [1.1] (+93 -0), scfetab.c [1.1] (+165 -0), scfe.c [1.1] (+530 -0), 
        scfdtab.c [1.1] (+939 -0), scfdgen.c [1.1] (+225 -0), scfd.c [1.1] (+824 -0), 
        scf.h [1.1] (+210 -0), scantab.c [1.1] (+106 -0), scanchar.h [1.1] (+70 -0), 
        sbwbs.h [1.1] (+73 -0), sbwbs.c [1.1] (+549 -0), sbtx.h [1.1] (+40 -0), 
        sbhc.h [1.1] (+93 -0), sbhc.c [1.1] (+286 -0), sbcp.h [1.1] (+48 -0), 
        sbcp.c [1.1] (+253 -0), sarc4.h [1.1] (+49 -0), sarc4.c [1.1] (+117 -0), 
        sa85x.h [1.1] (+43 -0), sa85d.h [1.1] (+42 -0), sa85d.c [1.1] (+164 -0), 
        rm_one.com [1.1] (+9 -0), rm_all.com [1.1] (+15 -0), rm.cmd [1.1] (+10 -0), 
        rm.bat [1.1] (+10 -0), png_.h [1.1] (+26 -0), pipe_.h [1.1] (+44 -0), 
        pcwin.mak [1.1] (+102 -0), ostack.h [1.1] (+89 -0), os2.mak [1.1] (+699 -0), 
        opextern.h [1.1] (+151 -0), oper.h [1.1] (+109 -0), openvms.mmk [1.1] (+530 -0), 
        openvms.mak [1.1] (+521 -0), opdef.h [1.1] (+145 -0), opcheck.h [1.1] (+81 -0), 
        oparc.h [1.1] (+34 -0), mv.cmd [1.1] (+2 -0), mv.bat [1.1] (+2 -0), 
        msvctail.mak [1.1] (+73 -0), msvclib.mak [1.1] (+499 -0), 
        msvccmd.mak [1.1] (+192 -0), msvc32.mak [1.1] (+623 -0), 
        memory_.h [1.1] (+111 -0), md5.h [1.1] (+94 -0), md5.c [1.1] (+410 -0), 
        math_.h [1.1] (+86 -0), malloc_.h [1.1] (+57 -0), main.h [1.1] (+108 -0), 
        macsystypes.h [1.1] (+42 -0), macsysstat.h [1.1] (+33 -0), 
        macos-mcp.mak [1.1] (+408 -0), macgenmcpxml.sh [1.1] (+395 -0), 
        libpng.mak [1.1] (+137 -0), lib.mak [1.1] (+2430 -0), jpeg.mak [1.1] (+391 -0), 
        jerror_.h [1.1] (+26 -0), ivmspace.h [1.1] (+105 -0), ivmem2.h [1.1] (+29 -0), 
        iutilasm.asm [1.1] (+697 -0), iutil2.h [1.1] (+50 -0), iutil2.c [1.1] (+148 -0), 
        iutil.h [1.1] (+153 -0), iutil.c [1.1] (+868 -0), itoken.h [1.1] (+49 -0), 
        istruct.h [1.1] (+92 -0), istream.h [1.1] (+39 -0), istkparm.h [1.1] (+44 -0), 
        istack.h [1.1] (+198 -0), istack.c [1.1] (+645 -0), isstate.h [1.1] (+41 -0), 
        isdata.h [1.1] (+102 -0), iscannum.h [1.1] (+33 -0), iscannum.c [1.1] (+394 -0), 
        iscanbin.h [1.1] (+37 -0), iscanbin.c [1.1] (+794 -0), iscan.h [1.1] (+171 -0), 
        iscan.c [1.1] (+1168 -0), isave.h [1.1] (+118 -0), isave.c [1.1] (+1120 -0), 
        iref.h [1.1] (+489 -0), ireclaim.c [1.1] (+188 -0), iplugin.h [1.1] (+74 -0), 
        iplugin.c [1.1] (+102 -0), ipcolor.h [1.1] (+42 -0), iparray.h [1.1] (+38 -0), 
        iparam.h [1.1] (+114 -0), iparam.c [1.1] (+1131 -0), ipacked.h [1.1] (+136 -0), 
        iostack.h [1.1] (+32 -0), iosdata.h [1.1] (+40 -0), interp.h [1.1] (+94 -0), 
        interp.c [1.1] (+1774 -0), int.mak [1.1] (+1864 -0), instcopy [1.1] (+44 -0), 
        inouparm.c [1.1] (+28 -0), inobtokn.c [1.1] (+32 -0), inamestr.h [1.1] (+98 -0), 
        inames.h [1.1] (+114 -0), inameidx.h [1.1] (+85 -0), inamedef.h [1.1] (+172 -0), 
        iname.h [1.1] (+97 -0), iname.c [1.1] (+651 -0), iminst.h [1.1] (+109 -0), 
        imemory.h [1.1] (+103 -0), imainarg.h [1.1] (+46 -0), imainarg.c [1.1] (+974 -0), 
        imain.h [1.1] (+270 -0), imain.c [1.1] (+946 -0), ilocate.c [1.1] (+511 -0), 
        ilevel.h [1.1] (+31 -0), iinit.h [1.1] (+40 -0), iinit.c [1.1] (+517 -0), 
        iimage2.h [1.1] (+55 -0), iimage.h [1.1] (+45 -0), iht.h [1.1] (+31 -0), 
        igstate.h [1.1] (+204 -0), igcstr.h [1.1] (+37 -0), igcstr.c [1.1] (+424 -0), 
        igcref.c [1.1] (+733 -0), igc.h [1.1] (+95 -0), igc.c [1.1] (+1336 -0), 
        ifwpred.h [1.1] (+30 -0), ifunc.h [1.1] (+67 -0), ifrpred.h [1.1] (+30 -0), 
        ifont42.h [1.1] (+55 -0), ifont2.h [1.1] (+39 -0), ifont1.h [1.1] (+70 -0), 
        ifont.h [1.1] (+120 -0), ifilter2.h [1.1] (+31 -0), ifilter.h [1.1] (+95 -0), 
        ifcid.h [1.1] (+33 -0), ifapi.h [1.1] (+168 -0), iestack.h [1.1] (+41 -0), 
        iesdata.h [1.1] (+55 -0), idstack.h [1.1] (+65 -0), idstack.c [1.1] (+257 -0), 
        idsdata.h [1.1] (+86 -0), idparam.h [1.1] (+112 -0), idparam.c [1.1] (+398 -0), 
        idosave.h [1.1] (+42 -0), idisp.h [1.1] (+28 -0), idisp.c [1.1] (+106 -0), 
        idictdef.h [1.1] (+122 -0), idict.h [1.1] (+273 -0), idict.c [1.1] (+866 -0), 
        idebug.h [1.1] (+43 -0), idebug.c [1.1] (+319 -0), iddstack.h [1.1] (+40 -0), 
        iddict.h [1.1] (+48 -0), icstate.h [1.1] (+72 -0), icsmap.h [1.1] (+46 -0), 
        icremap.h [1.1] (+45 -0), icontext.h [1.1] (+55 -0), icontext.c [1.1] (+294 -0), 
        iconf.h [1.1] (+34 -0), iconf.c [1.1] (+98 -0), icolor.h [1.1] (+55 -0), 
        icie.h [1.1] (+93 -0), icid.h [1.1] (+28 -0), icharout.h [1.1] (+73 -0), 
        ichar1.h [1.1] (+47 -0), ichar.h [1.1] (+77 -0), icfontab.c [1.1] (+53 -0), 
        icclib.mak [1.1] (+79 -0), iccinit0.c [1.1] (+25 -0), iccfont.c [1.1] (+375 -0), 
        ibnum.h [1.1] (+66 -0), ibnum.c [1.1] (+216 -0), iastruct.h [1.1] (+28 -0), 
        iastate.h [1.1] (+30 -0), iapi.h [1.1] (+308 -0), iapi.c [1.1] (+232 -0), 
        ialloc.h [1.1] (+126 -0), ialloc.c [1.1] (+357 -0), gzstate.h [1.1] (+157 -0), 
        gzpath.h [1.1] (+385 -0), gzline.h [1.1] (+39 -0), gzht.h [1.1] (+212 -0), 
        gzcpath.h [1.1] (+99 -0), gzacpath.h [1.1] (+55 -0), gxxfont.h [1.1] (+174 -0), 
        gxtype1.h [1.1] (+356 -0), gxtype1.c [1.1] (+691 -0), gxttf.h [1.1] (+161 -0), 
        gxtmap.h [1.1] (+52 -0), gxtext.h [1.1] (+307 -0), gxsync.h [1.1] (+75 -0), 
        gxsync.c [1.1] (+139 -0), gxstroke.c [1.1] (+1376 -0), gxstdio.h [1.1] (+41 -0), 
        gxstate.h [1.1] (+80 -0), gxshade6.c [1.1] (+616 -0), gxshade4.h [1.1] (+64 -0), 
        gxshade4.c [1.1] (+421 -0), gxshade1.c [1.1] (+781 -0), 
        gxshade.h [1.1] (+206 -0), gxshade.c [1.1] (+336 -0), gxsample.h [1.1] (+75 -0), 
        gxsample.c [1.1] (+238 -0), gxrplane.h [1.1] (+51 -0), gxropc.h [1.1] (+47 -0), 
        gxpflat.c [1.1] (+449 -0), gxpdash.c [1.1] (+183 -0), gxpcopy.c [1.1] (+895 -0), 
        gxpcolor.h [1.1] (+215 -0), gxpcmap.c [1.1] (+688 -0), gxpcache.h [1.1] (+55 -0), 
        gxpath2.c [1.1] (+519 -0), gxpath.h [1.1] (+326 -0), gxpath.c [1.1] (+834 -0), 
        gxpaint.h [1.1] (+125 -0), gxpaint.c [1.1] (+87 -0), gxpageq.h [1.1] (+275 -0), 
        gxpageq.c [1.1] (+361 -0), gxp1impl.h [1.1] (+43 -0), gxp1fill.c [1.1] (+395 -0), 
        gxop1.h [1.1] (+75 -0), gxobj.h [1.1] (+170 -0), gxmclip.h [1.1] (+105 -0), 
        gxmclip.c [1.1] (+105 -0), gxmatrix.h [1.1] (+87 -0), gxlum.h [1.1] (+31 -0), 
        gxline.h [1.1] (+80 -0), gxistate.h [1.1] (+288 -0), gxiscale.c [1.1] (+332 -0), 
        gxipixel.c [1.1] (+812 -0), gxiparam.h [1.1] (+259 -0), 
        gxiodev.h [1.1] (+185 -0), gxino12b.c [1.1] (+25 -0), gximono.c [1.1] (+611 -0), 
        gximage4.c [1.1] (+160 -0), gximage3.h [1.1] (+80 -0), gximage3.c [1.1] (+739 -0), 
        gximage2.c [1.1] (+317 -0), gximage1.c [1.1] (+208 -0), 
        gximage.h [1.1] (+303 -0), gximage.c [1.1] (+520 -0), gximag3x.h [1.1] (+81 -0), 
        gximag3x.c [1.1] (+860 -0), gxifast.c [1.1] (+756 -0), gxidata.c [1.1] (+441 -0), 
        gxicolor.c [1.1] (+449 -0), gxiclass.h [1.1] (+67 -0), gxi12bit.c [1.1] (+372 -0), 
        gxhttype.h [1.1] (+43 -0), gxhttile.h [1.1] (+48 -0), gxhtbit.c [1.1] (+276 -0), 
        gxht.h [1.1] (+233 -0), gxht.c [1.1] (+530 -0), gxhint3.c [1.1] (+556 -0), 
        gxhint2.c [1.1] (+410 -0), gxhint1.c [1.1] (+269 -0), gxgetbit.h [1.1] (+95 -0), 
        gxfunc.h [1.1] (+57 -0), gxftype.h [1.1] (+51 -0), gxfrac.h [1.1] (+98 -0), 
        gxfont42.h [1.1] (+93 -0), gxfont1.h [1.1] (+159 -0), gxfont0.h [1.1] (+80 -0), 
        gxfont.h [1.1] (+425 -0), gxfmap.h [1.1] (+109 -0), gxfixed.h [1.1] (+260 -0), 
        gxfill.c [1.1] (+2011 -0), gxfcmap.h [1.1] (+165 -0), gxfcid.h [1.1] (+163 -0), 
        gxfcache.h [1.1] (+269 -0), gxfarith.h [1.1] (+145 -0), 
        gxfapi.h [1.1] (+27 -0), gxfapi.c [1.1] (+83 -0), gxdither.h [1.1] (+78 -0), 
        gxdither.c [1.1] (+578 -0), gxdhtres.h [1.1] (+49 -0), gxdht.h [1.1] (+315 -0), 
        gxdevrop.h [1.1] (+29 -0), gxdevmem.h [1.1] (+243 -0), gxdevice.h [1.1] (+536 -0), 
        gxdevcli.h [1.1] (+1053 -0), gxdevbuf.h [1.1] (+119 -0), 
        gxdda.h [1.1] (+153 -0), gxdcolor.h [1.1] (+185 -0), gxdcolor.c [1.1] (+392 -0), 
        gxdcconv.h [1.1] (+37 -0), gxdcconv.c [1.1] (+161 -0), gxcvalue.h [1.1] (+42 -0), 
        gxctable.h [1.1] (+64 -0), gxctable.c [1.1] (+147 -0), gxcspace.h [1.1] (+253 -0), 
        gxcpath.h [1.1] (+144 -0), gxcpath.c [1.1] (+929 -0), gxcoord.h [1.1] (+39 -0), 
        gxcomp.h [1.1] (+107 -0), gxcolor2.h [1.1] (+92 -0), gxcmap.h [1.1] (+117 -0), 
        gxcmap.c [1.1] (+946 -0), gxclzlib.c [1.1] (+53 -0), gxclutil.c [1.1] (+654 -0), 
        gxclrect.c [1.1] (+702 -0), gxclread.c [1.1] (+527 -0), 
        gxclrast.c [1.1] (+2581 -0), gxclpath.h [1.1] (+236 -0), 
        gxclpath.c [1.1] (+1385 -0), gxclpage.h [1.1] (+58 -0), 
        gxclpage.c [1.1] (+121 -0), gxclmem.h [1.1] (+149 -0), gxclmem.c [1.1] (+1129 -0), 
        gxcllzw.c [1.1] (+50 -0), gxclist.h [1.1] (+349 -0), gxclist.c [1.1] (+788 -0), 
        gxclipsr.h [1.1] (+54 -0), gxclipm.h [1.1] (+30 -0), gxclipm.c [1.1] (+366 -0), 
        gxclip2.h [1.1] (+54 -0), gxclip2.c [1.1] (+301 -0), gxclip.h [1.1] (+72 -0), 
        gxclip.c [1.1] (+581 -0), gxclio.h [1.1] (+98 -0), gxclimag.c [1.1] (+1360 -0), 
        gxclfile.c [1.1] (+165 -0), gxcldev.h [1.1] (+727 -0), gxclbits.c [1.1] (+746 -0), 
        gxcindex.h [1.1] (+131 -0), gxcie.h [1.1] (+120 -0), gxcid.h [1.1] (+52 -0), 
        gxcht.c [1.1] (+1047 -0), gxchrout.h [1.1] (+38 -0), gxchrout.c [1.1] (+62 -0), 
        gxchar.h [1.1] (+129 -0), gxchar.c [1.1] (+1319 -0), gxcdevn.h [1.1] (+51 -0), 
        gxccman.c [1.1] (+800 -0), gxccache.c [1.1] (+452 -0), gxblend.h [1.1] (+259 -0), 
        gxblend.c [1.1] (+1041 -0), gxbitops.h [1.1] (+136 -0), 
        gxbitmap.h [1.1] (+136 -0), gxbitfmt.h [1.1] (+207 -0), 
        gxbcache.h [1.1] (+124 -0), gxbcache.c [1.1] (+147 -0), 
        gxband.h [1.1] (+92 -0), gxarith.h [1.1] (+89 -0), gxalpha.h [1.1] (+68 -0), 
        gxalloc.h [1.1] (+473 -0), gxacpath.c [1.1] (+523 -0), gx.h [1.1] (+46 -0), 
        gsxfont.h [1.1] (+39 -0), gswin386.rc [1.1] (+4 -0), gswin32.rc [1.1] (+36 -0), 
        gswin.rc [1.1] (+29 -0), gsutil.h [1.1] (+65 -0), gsutil.c [1.1] (+278 -0), 
        gsuid.h [1.1] (+72 -0), gstypes.h [1.1] (+115 -0), gstype42.c [1.1] (+913 -0), 
        gstype2.c [1.1] (+806 -0), gstype1.h [1.1] (+259 -0), gstype1.c [1.1] (+585 -0), 
        gstrap.h [1.1] (+76 -0), gstrap.c [1.1] (+109 -0), gstrans.h [1.1] (+72 -0), 
        gstrans.c [1.1] (+348 -0), gstparam.h [1.1] (+109 -0), gstext.icx [1.1] (+127 -0), 
        gstext.h [1.1] (+309 -0), gstext.c [1.1] (+582 -0), gsstype.h [1.1] (+115 -0), 
        gsstruct.h [1.1] (+1004 -0), gsstate.h [1.1] (+77 -0), gsstate.c [1.1] (+930 -0), 
        gsshade.h [1.1] (+263 -0), gsshade.c [1.1] (+541 -0), gsroptab.c [1.1] (+365 -0), 
        gsropt.h [1.1] (+224 -0), gsropc.h [1.1] (+54 -0), gsropc.c [1.1] (+304 -0), 
        gsrop.h [1.1] (+40 -0), gsrop.c [1.1] (+92 -0), gsrefct.h [1.1] (+190 -0), 
        gsrect.h [1.1] (+96 -0), gsptype2.h [1.1] (+95 -0), gsptype2.c [1.1] (+212 -0), 
        gsptype1.h [1.1] (+147 -0), gsptype1.c [1.1] (+840 -0), 
        gspmdrv.rc [1.1] (+40 -0), gspmdrv.icx [1.1] (+233 -0), 
        gspmdrv.h [1.1] (+34 -0), gspmdrv.def [1.1] (+3 -0), gspmdrv.c [1.1] (+1249 -0), 
        gspenum.h [1.1] (+34 -0), gspcolor.h [1.1] (+123 -0), gspcolor.c [1.1] (+319 -0), 
        gspath2.h [1.1] (+35 -0), gspath1.c [1.1] (+583 -0), gspath.h [1.1] (+99 -0), 
        gspath.c [1.1] (+499 -0), gsparamx.h [1.1] (+44 -0), gsparamx.c [1.1] (+191 -0), 
        gsparams.h [1.1] (+71 -0), gsparams.c [1.1] (+413 -0), gsparam2.c [1.1] (+380 -0), 
        gsparam.h [1.1] (+550 -0), gsparam.c [1.1] (+461 -0), gspaint.h [1.1] (+36 -0), 
        gspaint.c [1.1] (+389 -0), gsos2.rc [1.1] (+22 -0), gsos2.icx [1.1] (+233 -0), 
        gsos2.def [1.1] (+3 -0), gsnotify.h [1.1] (+93 -0), gsnotify.c [1.1] (+127 -0), 
        gsnorop.c [1.1] (+127 -0), gsnogc.h [1.1] (+30 -0), gsnogc.c [1.1] (+360 -0), 
        gsmisc.c [1.1] (+1216 -0), gsmemret.h [1.1] (+72 -0), gsmemret.c [1.1] (+360 -0), 
        gsmemraw.h [1.1] (+200 -0), gsmemory.h [1.1] (+308 -0), 
        gsmemory.c [1.1] (+343 -0), gsmemlok.h [1.1] (+57 -0), gsmemlok.c [1.1] (+394 -0), 
        gsmdebug.h [1.1] (+49 -0), gsmatrix.h [1.1] (+84 -0), gsmatrix.c [1.1] (+595 -0), 
        gsmalloc.h [1.1] (+81 -0), gsmalloc.c [1.1] (+507 -0), gslparam.h [1.1] (+46 -0), 
        gsline.h [1.1] (+69 -0), gsline.c [1.1] (+368 -0), gslib.h [1.1] (+39 -0), 
        gslib.c [1.1] (+1126 -0), gsjmorec.h [1.1] (+54 -0), gsjconf.h [1.1] (+75 -0), 
        gsistate.c [1.1] (+285 -0), gsiparm4.h [1.1] (+58 -0), gsiparm3.h [1.1] (+60 -0), 
        gsiparm2.h [1.1] (+62 -0), gsiparam.h [1.1] (+317 -0), gsipar3x.h [1.1] (+70 -0), 
        gsiodevs.c [1.1] (+94 -0), gsiodev.c [1.1] (+358 -0), gsio.h [1.1] (+73 -0), 
        gsinit.c [1.1] (+74 -0), gsimpath.c [1.1] (+186 -0), gsimage.h [1.1] (+197 -0), 
        gsimage.c [1.1] (+548 -0), gsicc.h [1.1] (+176 -0), gsicc.c [1.1] (+687 -0), 
        gshtx.h [1.1] (+152 -0), gshtx.c [1.1] (+612 -0), gshtscr.c [1.1] (+595 -0), 
        gsht1.h [1.1] (+54 -0), gsht1.c [1.1] (+579 -0), gsht.h [1.1] (+72 -0), 
        gsht.c [1.1] (+716 -0), gshsb.h [1.1] (+28 -0), gshsb.c [1.1] (+165 -0), 
        gsgraph.icx [1.1] (+127 -0), gsgdata.h [1.1] (+130 -0), 
        gsgdata.c [1.1] (+135 -0), gsgc.h [1.1] (+105 -0), gsfuncv.h [1.1] (+64 -0), 
        gsfuncv.c [1.1] (+91 -0), gsfunc4.h [1.1] (+87 -0), gsfunc4.c [1.1] (+781 -0), 
        gsfunc3.h [1.1] (+108 -0), gsfunc3.c [1.1] (+517 -0), gsfunc0.h [1.1] (+59 -0), 
        gsfunc0.c [1.1] (+593 -0), gsfunc.h [1.1] (+200 -0), gsfunc.c [1.1] (+109 -0), 
        gsfont0.c [1.1] (+128 -0), gsfont.h [1.1] (+80 -0), gsfont.c [1.1] (+880 -0), 
        gsfname.h [1.1] (+60 -0), gsfname.c [1.1] (+114 -0), gsflip.h [1.1] (+38 -0), 
        gsflip.c [1.1] (+402 -0), gsfemu.c [1.1] (+850 -0), gsfcmap.h [1.1] (+46 -0), 
        gsfcmap.c [1.1] (+576 -0), gsfcid.c [1.1] (+149 -0), gsexit.h [1.1] (+31 -0), 
        gserver.c [1.1] (+317 -0), gserrors.h [1.1] (+50 -0), gserror.h [1.1] (+34 -0), 
        gsdsrc.h [1.1] (+129 -0), gsdsrc.c [1.1] (+113 -0), gsdps1.c [1.1] (+236 -0), 
        gsdps.h [1.1] (+34 -0), gsdps.c [1.1] (+114 -0), gsdpnext.h [1.1] (+28 -0), 
        gsdparam.c [1.1] (+859 -0), gsdllwin.h [1.1] (+46 -0), gsdllos2.h [1.1] (+33 -0), 
        gsdll32w.lnk [1.1] (+11 -0), gsdll32.rc [1.1] (+54 -0), 
        gsdll32.def [1.1] (+31 -0), gsdll2.rc [1.1] (+22 -0), gsdll2.def [1.1] (+26 -0), 
        gsdll.h [1.1] (+105 -0), gsdll.c [1.1] (+190 -0), gsdfilt.h [1.1] (+91 -0), 
        gsdfilt.c [1.1] (+192 -0), gsdevmem.c [1.1] (+232 -0), gsdevice.h [1.1] (+124 -0), 
        gsdevice.c [1.1] (+833 -0), gsdcolor.h [1.1] (+343 -0), 
        gscssub.h [1.1] (+73 -0), gscssub.c [1.1] (+122 -0), gscspace.h [1.1] (+496 -0), 
        gscspace.c [1.1] (+299 -0), gscsepr.h [1.1] (+93 -0), gscsepr.c [1.1] (+450 -0), 
        gscsepnm.h [1.1] (+48 -0), gscsel.h [1.1] (+38 -0), gscscie.c [1.1] (+352 -0), 
        gscrypt1.h [1.1] (+50 -0), gscrypt1.c [1.1] (+60 -0), gscrdp.h [1.1] (+110 -0), 
        gscrdp.c [1.1] (+638 -0), gscrd.h [1.1] (+93 -0), gscrd.c [1.1] (+368 -0), 
        gscpm.h [1.1] (+40 -0), gscpixel.h [1.1] (+29 -0), gscpixel.c [1.1] (+104 -0), 
        gscparam.c [1.1] (+596 -0), gscoord.h [1.1] (+49 -0), gscoord.c [1.1] (+540 -0), 
        gscompt.h [1.1] (+53 -0), gscolor3.h [1.1] (+35 -0), gscolor3.c [1.1] (+92 -0), 
        gscolor2.h [1.1] (+57 -0), gscolor2.c [1.1] (+528 -0), gscolor1.h [1.1] (+41 -0), 
        gscolor1.c [1.1] (+263 -0), gscolor.h [1.1] (+39 -0), gscolor.c [1.1] (+376 -0), 
        gsclipsr.h [1.1] (+28 -0), gsclipsr.c [1.1] (+102 -0), gscindex.h [1.1] (+79 -0), 
        gsciemap.c [1.1] (+484 -0), gscie.h [1.1] (+750 -0), gscie.c [1.1] (+1281 -0), 
        gschar0.c [1.1] (+413 -0), gschar.h [1.1] (+125 -0), gschar.c [1.1] (+367 -0), 
        gscdevn.h [1.1] (+68 -0), gscdevn.c [1.1] (+362 -0), gscdefs.h [1.1] (+87 -0), 
        gscdef.c [1.1] (+89 -0), gsccolor.h [1.1] (+62 -0), gsccode.h [1.1] (+121 -0), 
        gsbittab.h [1.1] (+84 -0), gsbittab.c [1.1] (+136 -0), gsbitops.h [1.1] (+250 -0), 
        gsbitops.c [1.1] (+606 -0), gsbitmap.h [1.1] (+199 -0), 
        gsbitcom.c [1.1] (+302 -0), gsargs.h [1.1] (+83 -0), gsargs.c [1.1] (+226 -0), 
        gsalphac.h [1.1] (+65 -0), gsalphac.c [1.1] (+828 -0), gsalpha.h [1.1] (+35 -0), 
        gsalpha.c [1.1] (+42 -0), gsalloc.h [1.1] (+81 -0), gsalloc.c [1.1] (+1995 -0), 
        gs16spl.rc [1.1] (+42 -0), gs16spl.def [1.1] (+7 -0), gs16spl.c [1.1] (+220 -0), 
        gs.mak [1.1] (+409 -0), gs.c [1.1] (+92 -0), gpsync.h [1.1] (+75 -0), 
        gpmisc.h [1.1] (+43 -0), gpmisc.c [1.1] (+95 -0), gpgetenv.h [1.1] (+44 -0), 
        gpcheck.h [1.1] (+58 -0), gp_wsync.c [1.1] (+208 -0), gp_win32.c [1.1] (+120 -0), 
        gp_wgetv.c [1.1] (+133 -0), gp_vms.c [1.1] (+449 -0), gp_unix.c [1.1] (+160 -0), 
        gp_unifs.c [1.1] (+455 -0), gp_unifn.c [1.1] (+55 -0), gp_sysv.c [1.1] (+68 -0), 
        gp_strdl.c [1.1] (+45 -0), gp_stdin.c [1.1] (+39 -0), gp_stdia.c [1.1] (+35 -0), 
        gp_psync.c [1.1] (+231 -0), gp_os9.c [1.1] (+153 -0), gp_os2.c [1.1] (+777 -0), 
        gp_ntfs.c [1.1] (+236 -0), gp_nsync.c [1.1] (+112 -0), gp_mswin.h [1.1] (+57 -0), 
        gp_mswin.c [1.1] (+595 -0), gp_msprn.c [1.1] (+217 -0), 
        gp_mspol.c [1.1] (+47 -0), gp_mslib.c [1.1] (+38 -0), gp_msio.c [1.1] (+230 -0), 
        gp_mshdl.c [1.1] (+122 -0), gp_msdos.c [1.1] (+130 -0), 
        gp_msdll.c [1.1] (+52 -0), gp_mktmp.c [1.1] (+49 -0), gp_macio.c [1.1] (+609 -0), 
        gp_mac.h [1.1] (+29 -0), gp_mac.c [1.1] (+384 -0), gp_iwatc.c [1.1] (+158 -0), 
        gp_getnv.c [1.1] (+54 -0), gp_dvx.c [1.1] (+113 -0), gp_dosfs.c [1.1] (+103 -0), 
        gp_dosfe.c [1.1] (+151 -0), gp.h [1.1] (+258 -0), ghost.h [1.1] (+28 -0), 
        geninit.c [1.1] (+452 -0), genht.c [1.1] (+374 -0), gendev.c [1.1] (+363 -0), 
        genconf.c [1.1] (+1011 -0), genarch.c [1.1] (+277 -0), gdevxxf.c [1.1] (+473 -0), 
        gdevxres.c [1.1] (+139 -0), gdevxini.c [1.1] (+1008 -0), 
        gdevxcmp.h [1.1] (+148 -0), gdevxcmp.c [1.1] (+888 -0), 
        gdevxalt.c [1.1] (+956 -0), gdevx.h [1.1] (+277 -0), gdevx.c [1.1] (+1258 -0), 
        gdevwprn.c [1.1] (+676 -0), gdevwpr2.c [1.1] (+1532 -0), 
        gdevwdib.c [1.1] (+744 -0), gdevwddb.c [1.1] (+633 -0), 
        gdevvglb.c [1.1] (+375 -0), gdevvec.h [1.1] (+384 -0), gdevvec.c [1.1] (+1195 -0), 
        gdevupd.c [1.1] (+7622 -0), gdevtrac.c [1.1] (+663 -0), 
        gdevtknk.c [1.1] (+253 -0), gdevtifs.h [1.1] (+228 -0), 
        gdevtifs.c [1.1] (+324 -0), gdevtfnx.c [1.1] (+189 -0), 
        gdevtfax.h [1.1] (+28 -0), gdevtfax.c [1.1] (+361 -0), gdevsvga.h [1.1] (+95 -0), 
        gdevsvga.c [1.1] (+1046 -0), gdevsunr.c [1.1] (+103 -0), 
        gdevsun.c [1.1] (+685 -0), gdevstc4.c [1.1] (+301 -0), gdevstc3.c [1.1] (+107 -0), 
        gdevstc2.c [1.1] (+427 -0), gdevstc1.c [1.1] (+127 -0), 
        gdevstc.h [1.1] (+252 -0), gdevstc.c [1.1] (+3553 -0), gdevsppr.c [1.1] (+189 -0), 
        gdevsnfb.c [1.1] (+117 -0), gdevsj48.c [1.1] (+292 -0), 
        gdevsgi.h [1.1] (+71 -0), gdevsgi.c [1.1] (+220 -0), gdevsco.c [1.1] (+289 -0), 
        gdevs3ga.c [1.1] (+247 -0), gdevrops.c [1.1] (+195 -0), 
        gdevpxut.h [1.1] (+83 -0), gdevpxut.c [1.1] (+269 -0), gdevpxop.h [1.1] (+108 -0), 
        gdevpxen.h [1.1] (+263 -0), gdevpxat.h [1.1] (+144 -0), 
        gdevpx.c [1.1] (+1587 -0), gdevpsu.h [1.1] (+74 -0), gdevpsu.c [1.1] (+297 -0), 
        gdevpsim.c [1.1] (+413 -0), gdevpsfx.c [1.1] (+821 -0), 
        gdevpsfu.c [1.1] (+363 -0), gdevpsft.c [1.1] (+978 -0), 
        gdevpsfm.c [1.1] (+275 -0), gdevpsf2.c [1.1] (+1730 -0), 
        gdevpsf1.c [1.1] (+518 -0), gdevpsf.h [1.1] (+285 -0), gdevpsdu.c [1.1] (+416 -0), 
        gdevpsds.h [1.1] (+152 -0), gdevpsds.c [1.1] (+759 -0), 
        gdevpsdp.c [1.1] (+852 -0), gdevpsdi.c [1.1] (+415 -0), 
        gdevpsdf.h [1.1] (+386 -0), gdevps.c [1.1] (+1511 -0), gdevprna.h [1.1] (+182 -0), 
        gdevprna.c [1.1] (+797 -0), gdevprn.h [1.1] (+666 -0), gdevprn.c [1.1] (+1241 -0), 
        gdevppla.h [1.1] (+51 -0), gdevppla.c [1.1] (+133 -0), gdevpnga.c [1.1] (+1136 -0), 
        gdevpng.c [1.1] (+280 -0), gdevpm.h [1.1] (+40 -0), gdevpm.c [1.1] (+1214 -0), 
        gdevplnx.h [1.1] (+75 -0), gdevplnx.c [1.1] (+1103 -0), 
        gdevpjet.c [1.1] (+251 -0), gdevpipe.c [1.1] (+74 -0), gdevphex.c [1.1] (+3391 -0), 
        gdevpe.c [1.1] (+366 -0), gdevpdfx.h [1.1] (+830 -0), gdevpdfw.c [1.1] (+858 -0), 
        gdevpdfv.c [1.1] (+794 -0), gdevpdfu.c [1.1] (+1095 -0), 
        gdevpdft.c [1.1] (+486 -0), gdevpdfs.c [1.1] (+1576 -0), 
        gdevpdfr.c [1.1] (+425 -0), gdevpdfp.c [1.1] (+484 -0), 
        gdevpdfo.h [1.1] (+310 -0), gdevpdfo.c [1.1] (+1219 -0), 
        gdevpdfm.c [1.1] (+1828 -0), gdevpdfj.c [1.1] (+400 -0), 
        gdevpdfi.c [1.1] (+655 -0), gdevpdfg.h [1.1] (+225 -0), 
        gdevpdfg.c [1.1] (+1078 -0), gdevpdff.h [1.1] (+472 -0), 
        gdevpdff.c [1.1] (+1400 -0), gdevpdfe.c [1.1] (+373 -0), 
        gdevpdfd.c [1.1] (+413 -0), gdevpdfc.c [1.1] (+814 -0), 
        gdevpdfb.c [1.1] (+606 -0), gdevpdf.c [1.1] (+994 -0), gdevpcx.c [1.1] (+462 -0), 
        gdevpcl.h [1.1] (+67 -0), gdevpcl.c [1.1] (+431 -0), gdevpcfb.h [1.1] (+203 -0), 
        gdevpcfb.c [1.1] (+933 -0), gdevpccm.h [1.1] (+39 -0), gdevpccm.c [1.1] (+182 -0), 
        gdevpbm.c [1.1] (+999 -0), gdevp2up.c [1.1] (+148 -0), gdevp14.h [1.1] (+28 -0), 
        gdevp14.c [1.1] (+1218 -0), gdevos2p.c [1.1] (+704 -0), 
        gdevokii.c [1.1] (+327 -0), gdevo182.c [1.1] (+311 -0), 
        gdevnfwd.c [1.1] (+779 -0), gdevn533.c [1.1] (+210 -0), 
        gdevmsxf.c [1.1] (+468 -0), gdevmswn.h [1.1] (+113 -0), 
        gdevmswn.c [1.1] (+487 -0), gdevmrun.h [1.1] (+62 -0), gdevmrun.c [1.1] (+657 -0), 
        gdevmrop.h [1.1] (+85 -0), gdevmr8n.c [1.1] (+376 -0), gdevmr2n.c [1.1] (+180 -0), 
        gdevmr1.c [1.1] (+288 -0), gdevmpla.h [1.1] (+48 -0), gdevmpla.c [1.1] (+584 -0), 
        gdevmiff.c [1.1] (+86 -0), gdevmgr.h [1.1] (+121 -0), gdevmgr.c [1.1] (+432 -0), 
        gdevmem.h [1.1] (+243 -0), gdevmem.c [1.1] (+581 -0), gdevmeds.h [1.1] (+30 -0), 
        gdevmeds.c [1.1] (+96 -0), gdevmacxf.c [1.1] (+478 -0), 
        gdevmacttf.h [1.1] (+46 -0), gdevmacpictop.h [1.1] (+665 -0), 
        gdevmac.h [1.1] (+184 -0), gdevmac.c [1.1] (+832 -0), gdevm8.c [1.1] (+238 -0), 
        gdevm4.c [1.1] (+311 -0), gdevm32.c [1.1] (+296 -0), gdevm24.c [1.1] (+601 -0), 
        gdevm2.c [1.1] (+253 -0), gdevm16.c [1.1] (+178 -0), gdevm1.c [1.1] (+745 -0), 
        gdevlxm.c [1.1] (+423 -0), gdevlp8k.c [1.1] (+412 -0), gdevlj56.c [1.1] (+213 -0), 
        gdevlbp8.c [1.1] (+213 -0), gdevl31s.c [1.1] (+283 -0), 
        gdevl256.c [1.1] (+309 -0), gdevjpeg.c [1.1] (+283 -0), 
        gdevimgn.c [1.1] (+571 -0), gdevifno.c [1.1] (+787 -0), 
        gdevht.h [1.1] (+46 -0), gdevht.c [1.1] (+400 -0), gdevhpij.h [1.1] (+178 -0), 
        gdevhpij.c [1.1] (+627 -0), gdevhl7x.c [1.1] (+1073 -0), 
        gdevhit.c [1.1] (+92 -0), gdevherc.c [1.1] (+482 -0), gdevfax.h [1.1] (+66 -0), 
        gdevfax.c [1.1] (+281 -0), gdevevga.c [1.1] (+118 -0), gdevescp.c [1.1] (+415 -0), 
        gdevepsn.c [1.1] (+500 -0), gdevepsc.c [1.1] (+458 -0), 
        gdevemap.c [1.1] (+61 -0), gdevegaa.asm [1.1] (+278 -0), 
        gdevdsp2.h [1.1] (+48 -0), gdevdsp.h [1.1] (+203 -0), gdevdsp.c [1.1] (+1203 -0), 
        gdevdrop.c [1.1] (+726 -0), gdevdm24.c [1.1] (+289 -0), 
        gdevdljm.h [1.1] (+162 -0), gdevdljm.c [1.1] (+312 -0), 
        gdevdjtc.c [1.1] (+276 -0), gdevdjet.c [1.1] (+425 -0), 
        gdevdgbr.c [1.1] (+798 -0), gdevdflt.c [1.1] (+261 -0), 
        gdevdfax.c [1.1] (+108 -0), gdevddrw.c [1.1] (+654 -0), 
        gdevdcrd.h [1.1] (+29 -0), gdevdcrd.c [1.1] (+178 -0), gdevdbit.c [1.1] (+710 -0), 
        gdevcslw.c [1.1] (+149 -0), gdevcp50.c [1.1] (+224 -0), 
        gdevcmap.h [1.1] (+71 -0), gdevcmap.c [1.1] (+313 -0), gdevcljc.c [1.1] (+103 -0), 
        gdevclj.c [1.1] (+680 -0), gdevcif.c [1.1] (+101 -0), gdevcgmx.h [1.1] (+188 -0), 
        gdevcgml.h [1.1] (+384 -0), gdevcgml.c [1.1] (+1158 -0), 
        gdevcgm.c [1.1] (+496 -0), gdevcfax.c [1.1] (+235 -0), gdevcdj.c [1.1] (+3810 -0), 
        gdevccr.c [1.1] (+294 -0), gdevbmpc.c [1.1] (+234 -0), gdevbmpa.c [1.1] (+716 -0), 
        gdevbmp.h [1.1] (+39 -0), gdevbmp.c [1.1] (+219 -0), gdevbjcl.h [1.1] (+401 -0), 
        gdevbjcl.c [1.1] (+252 -0), gdevbjc.h [1.1] (+288 -0), gdevbj10.c [1.1] (+412 -0), 
        gdevbit.c [1.1] (+371 -0), gdevbbox.h [1.1] (+146 -0), gdevbbox.c [1.1] (+1324 -0), 
        gdevatx.c [1.1] (+274 -0), gdevalph.c [1.1] (+609 -0), gdevadmp.c [1.1] (+410 -0), 
        gdevabuf.c [1.1] (+393 -0), gdev8bcm.h [1.1] (+73 -0), gdev8bcm.c [1.1] (+82 -0), 
        gdev8510.c [1.1] (+144 -0), gdev4693.c [1.1] (+169 -0), 
        gdev4081.c [1.1] (+95 -0), gdev3b1.c [1.1] (+799 -0), gdev3852.c [1.1] (+190 -0), 
        gdebug.h [1.1] (+127 -0), gconf.h [1.1] (+37 -0), gconf.c [1.1] (+159 -0), 
        files.h [1.1] (+173 -0), fcntl_.h [1.1] (+62 -0), fapiufst.c [1.1] (+947 -0), 
        estack.h [1.1] (+132 -0), errors.h [1.1] (+164 -0), errno_.h [1.1] (+36 -0), 
        echogs.c [1.1] (+346 -0), dxmainc.c [1.1] (+117 -0), dxmain.c [1.1] (+827 -0), 
        dwuninst.rc [1.1] (+40 -0), dwuninst.h [1.1] (+33 -0), dwuninst.def [1.1] (+5 -0), 
        dwuninst.cpp [1.1] (+860 -0), dwtext.h [1.1] (+144 -0), 
        dwtext.c [1.1] (+1113 -0), dwsetup.rc [1.1] (+148 -0), dwsetup.h [1.1] (+50 -0), 
        dwsetup.def [1.1] (+5 -0), dwsetup.cpp [1.1] (+1064 -0), 
        dwreg.h [1.1] (+23 -0), dwreg.c [1.1] (+109 -0), dwnodll.c [1.1] (+49 -0), 
        dwmainc.c [1.1] (+408 -0), dwmain32.def [1.1] (+7 -0), dwmain16.def [1.1] (+7 -0), 
        dwmain.rc [1.1] (+37 -0), dwmain.h [1.1] (+26 -0), dwmain.c [1.1] (+495 -0), 
        dwinst.h [1.1] (+113 -0), dwinst.cpp [1.1] (+939 -0), dwimg.h [1.1] (+75 -0), 
        dwimg.c [1.1] (+1401 -0), dwdll.h [1.1] (+55 -0), dwdll.c [1.1] (+192 -0), 
        dw32c.def [1.1] (+6 -0), dvx-tail.mak [1.1] (+101 -0), dvx-head.mak [1.1] (+76 -0), 
        dvx-gcc.mak [1.1] (+343 -0), dstack.h [1.1] (+301 -0), dscparse.h [1.1] (+455 -0), 
        dscparse.c [1.1] (+3240 -0), dpmain.c [1.1] (+1075 -0), 
        dos_.h [1.1] (+82 -0), dirent_.h [1.1] (+57 -0), devs.mak [1.1] (+1325 -0), 
        ctype_.h [1.1] (+31 -0), cp.cmd [1.1] (+3 -0), cp.bat [1.1] (+15 -0), 
        copy_one.com [1.1] (+14 -0), contrib.mak [1.1] (+880 -0), 
        cfonts.mak [1.1] (+491 -0), ccgs [1.1] (+24 -0), ccfont.h [1.1] (+104 -0), 
        catmake [1.1] (+15 -0), btoken.h [1.1] (+47 -0), bfont.h [1.1] (+84 -0), 
        bench.c [1.1] (+443 -0), bcwin32.mak [1.1] (+617 -0), bcc32.cfg [1.1] (+5 -0), 
        append_l.com [1.1] (+19 -0), ansi2knr.c [1.1] (+739 -0), 
        all-arch.mak [1.1] (+947 -0):
        Initial checkin gs 7.10
        
</pre><h2><a name="7.30-DeviceN_Library"></a>DeviceN Library (meerkat)</h2><pre>

Sun Aug 18 08:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gs_init.ps [1.8] (+14 -3):
        Modified File: (jan)
        
          lib/gs_init.ps    Modified .sethireshalftone to ignore components
                            not present in a device when determining if gamma
                            correction is required due to (imputed) dot-gain.
                            This corrects a problem with certain three-color
                            devices whose nonexistant gray component was
                            inappropriately causing gamma correction to be
                            applied.
        
        * pdf_main.ps [1.5] (+53 -2), pdf_draw.ps [1.4] (+3 -7), 
        gs_icc.ps [1.6] (+7 -3), gs_cspace.ps [1.4] (+27 -1):
        Modified Files: (jan)
        
          lib/gs_cspace.ps
            Added _setcolorspace_nosub, a variation of the setcolorspace operation that
            avoids color space substitution. This is required for ICCBased color spaces,
            as they may be used to substitute for a device-specific color space, but
            use that same device-specific color space as an alternative space. If the
            alternative space was used (or even if it wasn't, in the prior code), an
            infinite loop would result (the eventual error is execstackoverflow).
        
          lib/gs_icc.ps
            Modified the cs_install routine for ICCBased color spaces to use the new
            _setcolorspace_nosub procedure.
        
          lib/pdf_draw.ps
            Removed the color substitution scheme used by resolvecolorspace. This has
            been superseded by the PostScript-based scheme.
        
          lib/pdf_main.ps
            Implemented color space substitution using PostScript's method. This works
            for all color spaces and, with the above noted modifications to
            gs_cspace.ps and gs_icc.ps, avoids infinite-loop problems. The
            earlier code did not implement color space substitution for
            DeviceCMYK (the code was just missing) and in rare cases could
            suffer from infinite loops.
        
          src/zcolor.c
            Correct a typo: the .setdevcspace operator was included twice in the
            zcolor_op_defs array.
        

Wed Aug 14 04:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * pdf_main.ps [1.4] (+5 -5), pdf_base.ps [1.4] (+15 -2), 
        gs_statd.ps [1.4] (+22 -22), gs_init.ps [1.7] (+2 -2):
        backward forward merge.
        

Tue Jul 16 18:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gs_sepr.ps [1.3] (+2 -2), gs_patrn.ps [1.3] (+2 -2), gs_indxd.ps [1.3] (+2 -2), 
        gs_icc.ps [1.5] (+2 -2), gs_devn.ps [1.3] (+2 -2), gs_cspace.ps [1.3] (+21 -7):
        The following should be prominently posted in full view of all
        software engineers:
        
          ***Do not use caches to hold unreplaceable data***
        
        Failure to follow that rule of good programming is the heart of the
        problem with FTS panel 245-04 (file 245-01.ps).
        
        The immediate cause of the problem is the optimization put in the
        setcolorspace code to avoid repeatedly setting the same color space.
        The steps that lead to the error are the following:
        
          1. The job sets a CIEBasedABC color space as the current color
             space. The white and black point information from the color
             space dictionary is combined with the white and black point
             information in the color rendering dictionary to sample the
             TransformPQR procedures in that dictionary. The resulting
             data is placed in the joint CIE cache. All of this activity
             ends with an execution of the internal operator cie_tpqr_finish
             (zcrd.c). This operator has two side-effects:
        
                 The TransformPQR data structure in the cie_render structure
                 of the current state is set to TransformPQR_from_cache, which
                 indicates that the PQR phase of the CIE color mapping (the
                 white point point adjustment) is to be done via the joint CIE
                 cache.
        
                 The gs_cie_cs_complete procedure is invoked with the "init"
                 argument set to false, indicating that no further
                 initialization is required for the joint CIE caches. This
                 causes the status flag in those caches to be set to
                 CIE_JC_STATUS_INITED, indicating that the caches are ready
                 to use.
        
          2. The job calls gsave. Since the joint CIE caches can be shared by
             multiple graphic states, the cache reference count is incremented.
        
          3. The job sets a pattern color space, whose base color space is the
             current (CIEBasedABC) color space.
        
             The PostScript interpreter in Ghostscript uses the convention that
             a base or alternative color space will always be set as the current
             color space immediately before the enclosing color space is set.
             The cs_install procedure for the pattern color space
             (lib/gs_patrn.ps) invokes setcolorspace on the base space. Because
             this is already the current color space, nothing happens.
        
          4. Immediately afterwards, the cs_install procedure invokes the
             .setpatternspace operator on the enclosing pattern color space.
             Through a couple of layers, this will invoke the "install_cspace"
             method for pattern color spaces, the gx_install_Pattern
             (gspcolor.c). This will in turn invoke the "install_cspace" method
             for the base color space, in this case gx_install_CIE.
        
          5. Through a few additional layers, gx_install_CIE will also call
             gs_cie_cs_complete (see (1) above), but this time the "init"
             variable will be set to true, indicating that additional
             initialization is required.
        
             gs_cie_cs_complete will invoke gx_currentciecaches, whose purpose
             is to make sure that new copies of the joint CIE cache is created
             when necessary. Since the reference count on the existing cache is
             larger than 1 (see (2) above), a unique copy of the cache is created
             and is marked as invalid.
        
          6. Subsequently, when drawing is attempted in the base color (the
             pattern has PaintType 2), the code will note that the cache is
             not yet valid and invoke cie_joint_caches_init (gscie.c). This
             routine can do nothing, however, because the TransformPQR structure
             for the cie_render structure in the graphic state is set to
             TransformPQR_from_cache, indicating that the only data available
             for the TransformPQR procedure is in the (now invalidated) cache.
        
             As a fall-back, the CIE color is mapped to RGB by setting all
             components to 0, which yields the black output.
        
        The proper fix for this problem is re-designing both the CIE color space
        and the color rendering structures so that they retain enough information
        to regenerate the joint CIE cache when necessary. Since that is a big
        change, the attached modifications take the more modest approach of adding
        a "forcesetcolorspace" operator, which will set a color space even if it
        is identical to the current color space.
        
        Also included in the set of changes is a minor modification to gs_rectfill
        (gsdps1.c) that suppresses direct access to the device's fill_rectangle
        procedure if both overprint and overprint mode are true. Since
        overprintmode must be applied prior to halftoning, the code must be forced
        through one of the higher-level methods which include the pre-halftoned
        device color information.
        
        Modified files:
        
          lib/gs_cspace.ps
            Added the _setcolorspace procedure, which accepts both a boolean and
            a color space dictionary. If the boolean is true, the color space
            will not be set if it is the same as the current color space (via a
            conservative evaluation).
        
            The setcolorspace pseudo-operator now invokes _setcolorspace with the
            boolean operand set to true. A new operator, forcesetcolorspace,
            invokes _setcolorspace with boolean set to false.
        
          lib/gs_devn.ps
          lib/gs_icc.ps
          lib/gs_indxd.ps
          lib/gs_patrn.ps
          lib/gs_sepr.ps
            Replaced setcolorspace with forcesetcolorspace when setting a base or
            alternative color space. This is necessary due to some problems in the
            handling of the the joint CIE cache in the graphic library.
        
          src/gsdps1.c
            Modify gs_rectfill to suppress direct access of a device's
            fill_rectangle method if both overprint and overprint mode are set
            to true. This is required to make sure the overprint compositor has
            access to pre-halftoned device color information with which to
            implement overprint mode.
        

Tue Jul 16 04:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * wrfont.ps [1.3] (+16 -13), viewpcx.ps [1.3] (+3 -3), viewpbm.ps [1.3] (+2 -2), 
        viewcmyk.ps [1.3] (+2 -2), unix-lpr.sh [1.2] (+4 -4), traceimg.ps [1.3] (+2 -2), 
        stcany_h.upp [1.2] (+3 -0), stcany.upp [1.2] (+3 -0), stc_l.upp [1.2] (+3 -0), 
        stc_h.upp [1.2] (+3 -0), stc800pl.upp [1.2] (+3 -0), stc800p.upp [1.2] (+3 -0), 
        stc800ih.upp [1.2] (+3 -0), stc640p.upp [1.2] (+3 -0), stc600pl.upp [1.2] (+3 -0), 
        stc600p.upp [1.2] (+3 -0), stc600ih.upp [1.2] (+3 -0), stc500ph.upp [1.2] (+3 -0), 
        stc500p.upp [1.2] (+3 -0), stc300bm.upp [1.2] (+3 -0), stc300bl.upp [1.2] (+3 -0), 
        stc300.upp [1.2] (+3 -0), stc2s_h.upp [1.2] (+3 -0), stc2_h.upp [1.2] (+3 -0), 
        stc200_h.upp [1.2] (+3 -0), stc2.upp [1.2] (+3 -0), stc1520h.upp [1.2] (+3 -0), 
        stc.upp [1.2] (+3 -0), st640plg.upp [1.2] (+3 -0), st640pl.upp [1.2] (+3 -0), 
        st640pg.upp [1.2] (+3 -0), st640p.upp [1.2] (+3 -0), st640ihg.upp [1.2] (+3 -0), 
        st640ih.upp [1.2] (+3 -0), rollconv.ps [1.2] (+2 -2), ps2epsi.ps [1.3] (+41 -55), 
        ps2epsi.cmd [1.2] (+4 -1), ps2epsi.bat [1.2] (+4 -1), ps2ascii.ps [1.3] (+6 -6), 
        prfont.ps [1.2] (+13 -11), pdfopt.ps [1.3] (+3 -3), pdf_sec.ps [1.3] (+2 -2), 
        pdf_ops.ps [1.3] (+24 -8), pdf_main.ps [1.3] (+27 -14), 
        pdf_font.ps [1.3] (+275 -49), pdf_draw.ps [1.3] (+55 -39), 
        pdf_base.ps [1.3] (+50 -16), pdf2dsc.ps [1.3] (+3 -2), packfile.ps [1.3] (+2 -2), 
        gslp.ps [1.3] (+4 -4), gs_typ32.ps [1.3] (+2 -2), gs_ttf.ps [1.3] (+28 -21), 
        gs_trap.ps [1.3] (+2 -2), gs_statd.ps [1.3] (+4 -1), gs_setpd.ps [1.6] (+8 -1), 
        gs_res.ps [1.3] (+12 -29), gs_pdfwr.ps [1.3] (+1 -8), gs_ll3.ps [1.5] (+2 -2), 
        gs_lev2.ps [1.4] (+10 -26), gs_init.ps [1.6] (+28 -21), 
        gs_fonts.ps [1.3] (+2 -2), gs_fapi.ps [1.3] (+4 -3), gs_diskn.ps [1.1] (+214 -0), 
        gs_cmap.ps [1.3] (+72 -7), gs_cidfn.ps [1.3] (+4 -3), gs_cff.ps [1.3] (+54 -44), 
        gs_btokn.ps [1.3] (+25 -24), font2pcl.ps [1.3] (+7 -7), 
        fixmswrd.pl [1.2] (+1 -3), cidfmap [1.2] (+2 -2), bdftops.ps [1.3] (+7 -7), 
        FAPIfontmap [1.2] (+2 -2), FAPIcidfmap [1.2] (+2 -2):
        backward merge of 7.22 to the devicen branch.
        

Tue Jun 25 18:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gs_ll3.ps [1.4] (+5 -1):
        Modified Files:
        
          lib/gs_ll3.ps
            Added code to create the setoverprintmode and currentoverprintmode
            operators.
        
          src/gconf.c
            Add the gx_compositor_list array, to list the set of compositor
            types compiled into the system. Also provided the gs_find_compositor
            procedure, to locate a compositor method vector based on its
            type identifier.
        
          src/gdevdgbr.c
            Fixed several bugs in gx_get_bits_copy, for cases in which the
            transfer of output data involves a skew (bit shift) but no color
            conversion (a case that is apparently used only by the overprint
            facility). This case uses the copy_mono method for the 1-bit
            memory device. The invocation of this method had two problems:
        
              1. The temporary device created for the transfer had uninitialized
                 width and height fields. Because copy_mono will invoke the
                 fit_copy macro, these fields must be set to reasonable values.
        
              2. The width passed to copy_mono must be bit-width, as the
                 method for a depth == 1 device is used. Previously, the
                 pixel width was used.
        
          src/gdevx.c
            Fixed a problem in x_copy_image. If the image passed to this routine
            contains more than one pixel, the colors_and and colors_or fields were
            not updated. Because these fields are only used for optimization, and
            properly updating them in this situation is potentially expensive,
            they are now just set to safe values (colors_and = 0;
            colors_or = (x_pixel)(-1)).
        
          src/genconf.c
            Added to "-comp" option to support construction of a list of
            compositors compiled into the system.
        
          src/gs.mak
            Added the SETCOMP and ADDCOMP macros, to provide access to the
            -comp option of genconf.c.
        
          src/gsalphac.c
            Exported the gs_composite_alpha_type structure, and added a compositor
            type identifier to this structure. Also modified the de-serialization
            (read) method for this size so that the data string provided be large
            enough but not necessarily exactly the right size, and to return the
            number of bytes actually read (or an error code).
        
          src/gscdefs.h
            Added a prototye for gs_find_compositor (see gconf.c above).
        
          src/gscolor.c
            Modified gx_set_device_color_1 to turn off overprint (and overprint
            mode).
        
          src/gsovc.c:
            1. Modified the de-serialization method (read) to return the number of
               bytes actually read (or an error code).
            2. Renamed gs_overprint_type to be gs_composite_overprint_type, so as
               to conform to the new convention for compositor names.
            3. For the overprint devices, set the get_xfont_procs, get_xfont_device,
               and text_begin methods to use the corresponding default methods,
               rather than the forwarding methods. Device-supported fonts are
               incompatible with overprint, as the required low-level calls may
               not be made. While the text_begin method is not itself a rendering
               method, it does record an imaging device, and this device must
               be the overprint device rather than the target device. If the
               forwarding text_begin method is used, the recorded imaging device
               would be the target device.
            4. Modified update_overprint_params to avoid use of the overprint
               devices for cases in which overprint is true, but all color
               components are to be drawn. Though the output is not changed, use
               of the non-overprint device improves performance in this case.
            5. Modified the default overprint compositor creation method
               (c_overprint_create_default_compositor) to ignore overprint
               requests if the current color model has only a single component.
               Overprinting can never have an effect in this situation, and
               avoiding these cases also avoids difficulties with mask caching
               devices (such as are used with the character cache).
        
          src/gsstate.c
            Modified gs_state_update_overprint to update the color model mapping
            procedures and unset the device color. Though updating the overprint
            status will never change the color model, the overprint devices
            require a special set of forwarding color model mapping procedures.
        
          src/gxclimag.c
            Implemented the clist_create_compositor procedure (the create_compositor
            method for the command list device).
        
          src/gxclpath.c
            Replaced the cmd_opv_put_params code (0xdf) with cmd_opv_extend. This
            code indicates that the subsequent byte should be read and interpreted
            as a command from the gx_cmd_ext_op enumeration. Currently, this
            enumeration has two elements, cmd_opv_ext_put_params (the put_params
            method) and cmd_opv_ext_create_compositor (the create_compositor
            method).
        
          src/gxclrast.c
            1. Made the code parsing changes required by the new cmp_opv_extend
               code (see gxclpath.h above).
            2. Added the read_create_compositor procedure, to interpret the
               cmd_opv_ext_create_compositor command.
        
          src/gxclutil.c
            Modified cmd_put_params for the new cmp_opv_extend/cmd_opv_ext_put_params
            coding techinque.
        
          src/gxcmap.c
            Modified gx_set_cmap_procs to handle devices that have no
            get_color_mapping_procs method (such as mask caching devices).
        
          src/gxcomp.h
            Added the comp_id field to the gs_composite_type_t structure. Also
            added macros for the alpha and overprint compositors (the only two
            compositors in the current system).
        
          src/gxoprect.c
            Fixed typo in pack_scanline_lt8: the source data pointer was not
            being advanced.
        
          src/gxoprect.h
            Fixed typo in RCS identifier comment.
        
          src/lib.mak
            1. Updated several dependency lists.
            2. Added code to generate the list of compiled compositors.
        

Tue Jun  4 05:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gs_setpd.ps [1.5] (+5 -2), gs_init.ps [1.5] (+8 -3):
        code set from ORIMP to enable overprint and overprint mode.
        
        New Files:
        
          src/gxoprect.c
          src/gxoprect.h
            These files provide the low-level code for the fill_rectangle method
            of the overprint compositor device. There are three such procedures,
            which are used in different circumstances:
        
              gx_overprint_generic_fill_rectangle is always applicable, but is
                very slow as it must decode and re-encode the color for each pixel.
        
              gx_overprint_sep_fill_rectangle_1 is applicable to separable and
                linear color encodings whose depth is a divisor of
                8 * sizeof(mono_fill_chunk) = 32. This is always the
                case if depth &lt;= 8. The code used in this case is, once past a
                large amount of setup, about as fast as can be achieved while
                using get_bits_rectangle.
        
              gx_overprint_sep_fill_rectangle_2 is applicable to all other
                separable and linear color encodings (all of which will have
                depth % 8 = 0). This uses a byte-wise method which is in principle
                slower than what could be achieved with a chunk-wise method, but
                is much easier to code in the general case (i.e.: for multiple
                possible depths). It will likely be faster in practice.
        
        Modified Files:
        
          lib/gs_init.ps
          lib/gs_setpd.ps
            Modified erasepage (and several other bits of code that erase the
            page) to turn off overprint before filling the page. This is necessary
            to preserve the meaning of erasepage.
        
          src/gsbitops.c
          src/gsbitops.h
            Added the bits_fill_rectangle_masked procedure, a generalization of
            the bits_fill_rectangle procedure that allows for a component mask.
            Also generalized bits_fill_rectangle (and bits_fill_rectangle_masked)
            to support depth &gt; 8, so long as
            (8 * sizeof(mono_fill_chunk)) % depth = 0.
        
            Currently, bits_fill_rectangle_masked is used only by the overprint
            compositor device, but it can also be used by devices that can
            directly implement overprint (such as the memory device).
        
          src/gscdevn.c
            Modified check_DeviceN_component_names to initialize the
            component_map.sep_type field of the imager state to SEP_OTHER.
            Previously this field was not set for DeviceN color spaces, which
            confused some of the overprint code.
        
          src/gsovrc.c
            Implemented the real overprint_fill_rectangle procedures. As part of
            this work, added the local procedure swap_color_index, that swaps
            bytes in a color index as required to work with byte-oriented bitmaps
            on little-endian devices (only if depth &gt; 8).
        
            Also fixed a parity bug in the creation of the retain_mask.
        
          src/gsovrc.h
            Fixed typo (/* &#36;Id&#36; */).
        
          src/gxdcconv.c
            Modified color_rgb_to_cmyk to work if the imager state pointer
            operand is a null pointer. Note that in this case full undercolor
            removal and black generation will be performed, which is consistent
            with other such conversions in the code that do not have access to
            the imager state, but differs from the mapping used if the imager
            state is available but has no blackgeneration or undercolor removal
            map.
        
          src/lib.mak
            Added the gxoprect.&#36;(OBJ) target and included this as a dependency
            in LIB4s. Also updated some other dependency lists.
        
        
        Additional file modified (not for overprint but needed for release):
        
          src/gdevdflt.c
            Added code to select a reasonable default value for the decode_color
            method, as this method is used extensively by the generic overprint
            implementation routines. The modifications are just a first pass to
            allow us to test the overprint code; they are not intended as a
            final solution.
        

Wed May 29 06:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gs_setpd.ps [1.4] (+21 -4), gs_sepr.ps [1.2] (+2 -1), 
        gs_patrn.ps [1.2] (+3 -1), gs_init.ps [1.4] (+4 -3), gs_indxd.ps [1.2] (+3 -2), 
        gs_icc.ps [1.4] (+5 -4), gs_devpxl.ps [1.2] (+2 -1), gs_devn.ps [1.2] (+2 -1), 
        gs_devcs.ps [1.2] (+4 -1), gs_cspace.ps [1.2] (+87 -37), 
        gs_ciecs3.ps [1.2] (+3 -1), gs_ciecs2.ps [1.2] (+3 -1):
        checkin for three separate code set releases from ORIMP, release
        notes follow in reverse chronological order.
        
        Notes:
        
         Modified files:
        
          gsstate.c
            Added code to ignore an error return from the create_compositor call
            in gs_state_update_overprint if the call was made to turn off
            overprint. This avoids errors for device configurations that do not
            (yet) support the create_compositor call, when running files that do
            not require overprint support.
        
          gsovrc.h
            Fixed a typo in a commment.
        
          gxclrast.c
            Fixed a re-entrancy problem in read_set_color_space that was introduced
            by the previous modification to this file.
        
          gsimage.c
            Added a comment concerning re-entrancy, and slightly modified another
            comment.
        
          gscspace.c
            Added some comments concerning re-entrancy.
        
        Notes:
        
        Modified Files:
        
          src/gsovrc.c
            Added full compositor device "plumbing". The overprint compositor
            now does all of the required device creation and setup work. The
            only piece still missing are implementations of the low-level
            rendering routines that actually implement overprint.
        
          src/gsptype1.c
          src/gsptype2.c
          src/gxcht.c
          src/gxdcolor.c
          src/gxdcolor.h
          src/gxht.c
          src/gxpcolor.h
            Added the method get_nonzero_comps to the gx_device_color_type_t
            structure (the gx_device_color methods). This method is used by
            the overprint code to determine which color component intensities
            have non-zero value, which must be known to implement overprint
            mode.
        
          src/gsovrc.h
          src/gscspace.c
            Changed the drawn_comps field of the gs_overprint_params_t
            structure from a byte array to a gx_color_index. This is a bit
            ugly, as the value is a bit map rather than an encoded color,
            but allows much simpler processing. (As in device colors, a
            gx_color_index is used because it is known to be large enough.
        
          src/lib.mak
            Updated dependency list for gsovrc.&#36;(OBJ).
        
        Notes:
        
        New Files:
        
          src/gsovrc.c
            Implementation of the overprint compositor. For the moment, this is
            just a stub. This file will grow considerably in the next two releases.
        
        
          src/gsovrc.h
            Interface to the overprint compositor. This is in essentially final
            form, even though only a stub implementation of the compositor is
            available. This file also includes a lengthy comment describing when
            the compositor must be updated.
        
        
        Modified Files:
        
          lib/gs_ciecs2.ps
          lib/gs_ciecs3.ps
          lib/gs_cspace.ps
          lib/gs_devcs.ps
          lib/gs_devn.ps
          lib/gs_devpxl.ps
          lib/gs_icc.ps
          lib/gs_indxd.ps
          lib/gs_patrn.ps
          lib/gs_sepr.ps
            Incorporated an optimization of setcolorspace from the casper head.
            The optimization avoids setting the color space if it is the same as
            the current color space. gs_icc.ps also contains a fix for a bug
            in the handling of DataSources that are streams (rather than strings;
            Dan discovered and analyzed this bug).
        
            Note that this is a fairly complex optimization, and there were many
            problems with the head code that needed to be resolved. Among these
            were:
        
              1. An invocation of setcolorspace should always set the default
                 color for the operand color space, even if that color space is
                 identical to the current color space.
        
              2. If UseCIEColor is true, setcolorspace must be executed if
                 the operand color space involves device-specific color spaces.
                 This is because the Default{Gray,RGB,CMYK} instances of the
                 ColorSpace resource category may have changed.
        
              3. When UseCIEColor is changed from true to false in setpagedevcie,
                 the implicit initgraphics invocation must perform a setcolorspace
                 operation, even if the current color space is DeviceGray. This
                 is necessary to ensure that the un-substituted DeviceGray color
                 space is set as the current color space.
        
        
          lib/gs_init.ps
            In /showpage, replace the sequence "erasepage ... initgraphics" with
            "initgraphics 1 setcolor .fillpage 0 setcolor". This has the desired
            effect, and avoids two unnecessay invocations of setcolorspace.
        
        
          lib/gs_setpd.ps
            1. Modified the currentpagedevice pseudo-operator for cases in which
               the stored page device must be copied. Previously, the new copy
               was allocated in the current VM mode, which could cause
               invalidaccess errors if currentpagedevice was invoked while in
               global VM mode and composite objects stored in the page device
               dictionary were in local VM (this problem is present in the PS3
               FTS). The new code will allocate the copy in the save VM as the
               original dictionary.
        
            2. In setpagedevice, added code to set current color space to
               something other than DeviceGray if modification of the page device
               will set UseCIEColor to false. This is necessary for the
               setcolorspace optimization to function properly (see above).
        
            3. In the .postinstall pseudo-operator, replaced "erasepage initgraphics"
               with "initgraphics 1 setcolor .fillpage 0 setcolor". This avoids
               two unnecessary invocations of setcolorspace.
        
        
          src/gdevp14.c
            Added the pdf14_create_compositor method. This method will check if
            the compositor to be created is the overprint compositor. If so,
            the request to create the compositor will simply be ignored, as
            the gs_pdf14_device and its associated marking device must implement
            overprint directly.
        
        
          src/gscdevn.c
            1. Removed the equality check method.
        
            2. Added the set_overprint method for DeviceN color spaces.
        
        
          src/gscolor2.c
            1. Removed the equality check method.
        
            2. Added the set_overprint method for Indexed color spaces.
        
        
          src/gscpixel.c
            1. Removed the equality check method.
        
            2. Added the set_overprint method for DevicePixel color spaces.
        
        
          src/gscscie.c
            1. Removed the equality check method.
        
            2. Added the set_overprint method for CIEBased color spaces.
        
        
          src/gscsepr.c
            1. Removed the equality check method.
        
            2. Added the set_overprint method for Separation color spaces.
        
            3. Moved the gs_{set|current}overprint[mode] procedures to gsstate.c.
        
        
          src/gscsepr.h
            Moved prototypes for the gs_{set|current}overprint[mode] procedures
            to gsstate.h.
        
        
          src/gscspace.c
            1. Removed the color space equality check methods for the device-
               specific color spaces.
        
            2. Added the basic set_overprint procedures, to provide color-space
               specific setting of the overprint compositor.
        
            3. Modified the gs_cspace_{build|init}_Device{Gray|RGB|CMYK}
               procedures to use the same identifier for all instances of
               the parameterless color spaces (i.e.: all DeviceGray instances
               will have the same id, as will all DeviceRGB instances, but the
               id for any DeviceGray will differ from the id for a DeviceRGB
               instance). This enables an optimization in the gs_setcolorspace
               routine that had been lost in the previous code modification.
        
        
          src/gscspace.h
            Removed prototype for the gs_color_space_equal procedure.
        
        
          src/gsicc.c
            1. Removed the equality check method.
        
            2. Added the set_overprint method for ICCBased color spaces.
        
        
          src/gslib.c
            Modified test9 to explicitly reset the current color space; this
            is no longer done by gs_initgraphics.
        
        
          src/gspcolor.c
            Added set_overprint method for pattern color spaces, removed the
            equality check method.
        
        
          src/gsstate.c
            1. Added code to update the overprint compositor when the current
               color space, current device, overprint, or overprint mode
               settings change. Included in this change is code in gs_grestore_only
               that updates the overprint compositor as part of the grestore
               operation when this is required.
        
            2. Moved the gs_{set|current}overprint[mode] procedures to this file
               from gscsepr.c. This is more convenient for the new code, and
               gscsepr.c was never a particularly appropriate place for these
               routines.
        
            3. Modified gs_initgraphics to not reset the current color space or
               current color. For PostScript this must now be done in the
               PostScript code to properly handle color space substitution.
               Other clients that use this procedure (the XL interpreter is the
               only one (aside from gslib.c)) can easily reset these parameters
               as well.
        
        
          src/gsstate.h
            Moved prototypes for the gs_{set|current}overprint[mode] procedures
            here from gscsepr.h.
        
        
          src/gxccache.c
            Modified gx_image_cached_char to just return if the current color
            is a pure gx_no_color_index (transparent).
        
        
          src/gxcspace.h
            1. Removed the equality check method.
        
            2. Added the set_overprint method.
        
        
          src/gxipixel.c
            Modified the gx_image_enum_begin to allow the Decode array for
            imagemasks to have any two distinct numbers, rather than just 0 and
            1. This matches the behavior of all Adobe systems (though not the
            documentation), and avoids some spurious failures when running the
            FTS.
        
        
          src/gxpcmap.c
            Modified pattern_accum_copy_mono to just return if both the foreground
            and background colors are gx_no_color_index (transparent). If this is
            not done, the mask device's copy_mono procedure may generate an
            error when invoked (this is true for mem_mono_copy_mono).
        
        
          src/iutil.c
            Modified obj_eq to consider two 0-length arrays to be equal,
            irrespective of their type and their pointers (the latter aren't
            meaningful if the array length is 0). This matches the PostScript
            documentation and the behavior of Adobe systems. It also fixes
            some spurious failures in the FTS.
        
        
          src/lib.mak
            Added an entry for gsovrc (the overprint compositor), and updated
            various dependency lists.
        
        
          src/zfdcte.c
            Modified the DCTEncode procedure (zDCTE) to allocate the
            jpeg_compress_data and subsidiary memory structures in current VM.
            Previously these structures were allocated in gs_default_memory,
            which does not support garbage collection. Since the structures
            were subject to garbage collection and relocation, chaos could
            and, in the case of FTS file 119-28.ps, did ensue.
        
            Note that these structure must be allocated immovable, which
            requires a considerable amount of overhead when using VM. A better
            approach would be to allocate them in gs_default_memory, and use
            a more sophisticated structure descriptor for the stream_DCT_state
            structure (st_DCT_state).
        
        
          src/zgstate.c
            Slightly simplified zinitgraphics, and updated a comment in this
            procedure.
        
        
          src/zmisc.c
            Modified realtime operator to set a zero point at boot time. This
            avoids an annoying delay in running FTS panel 211-01 (206-01.ps).
        
        
          zpcolor.c
            Modified the pattern_paint_prepare procedure to use gs_setdevice_no_int
            rather than gx_set_device_only. It is not clear why the latter
            procedure was ever used in this location, and it is now important to
            use the former procedure so the overprint compositor may be properly
            updated.
        

Mon May 13 21:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * gs_setpd.ps [1.3] (+15 -1), gs_sepr.ps [1.1] (+264 -0), 
        gs_patrn.ps [1.1] (+297 -0), gs_ll3.ps [1.3] (+5 -98), gs_lev2.ps [1.3] (+20 -189), 
        gs_init.ps [1.3] (+25 -2), gs_indxd.ps [1.1] (+203 -0), 
        gs_img.ps [1.1] (+645 -0), gs_icc.ps [1.3] (+207 -79), gs_dpnxt.ps [1.3] (+23 -1), 
        gs_devpxl.ps [1.1] (+77 -0), gs_devn.ps [1.1] (+177 -0), 
        gs_devcs.ps [1.1] (+204 -0), gs_cspace.ps [1.1] (+871 -0), 
        gs_ciecs3.ps [1.1] (+121 -0), gs_ciecs2.ps [1.1] (+145 -0):
        Overprint implementation (Jan Stoeckenius)
        
        This is a preliminary code release for the overprint capability. The
        release does not contain the overprint facility itself; it consists
        entirely of modifications so that color space changes will occur in a
        predictable fashion.
        
        Files removed:
        
          src/gshsb.c
          src/gshsb.h
          src/gscssub.c
          src/gscssub.h
          src/zhsb.c
        
        
        Files added:
        
          lib/gs_cspace.ps      PostScript portion of the basic color space handling;
                                see the extensive comment at the head of the file
                                for information. Note that color space substitution
                                and the hue-saturation-brightness (HSB) color space
                                are now fully implemented in the PostScript code;
                                the interpreter and the graphic library are no longer
                                involved in or even aware of these features.
        
          lib/gs_devcs.ps       Implementation of the DeviceGray, DeviceRGB, and
                                DeviceCMYK color spaces.
        
          lib/gs_ciecs2.ps      Implementation of the LangaugeLevel 2 CIEBased color
                                spaces: CIEBasedA and CIEBasedABC.
        
          lib/gs_ciecs3.ps      Implementation of the LanguageLevel 3 CIEBased color
                                spaces: CIEBasedDEF and CIEBasedDEFG
        
          lib/gs_devpxl.ps      Implementation of the DevicePixel color spaces
        
          lib/gs_indxd.ps       Implementation of the Indexed color space.
        
          lib/gs_sepr.ps        Implementaton of the Separation color space.
        
          lib/gs_devn.ps        Implementation of the DeviceN color space.
        
          lib/gs_patrn.ps       Implementation of the Pattern color space.
        
        
          lib/gs_img.ps         Implementation of the traditional (non-dictionary)
                                form of the image and imagemask operators, and the
                                colorimage operator (including the Next alphaimage
                                facility). The interpreter now provides only the
                                dictionary form of the image and imagemask operators,
                                including a variation that provides alpha-channel
                                support.
        
                                Also modified the handling of color spaces for
                                ImageType 2 images. This slightly changes the behavior
                                of these images. If PixelCopy is defined to be true
                                in the image dictionary but such a copy cannot be
                                supported, an error will be generated. This is in
                                agreement with Adobe's documentation, but differs
                                from the earlier behavior.
        
          The code for Indexed, Separation, and DeviceN color spaces
          incorporates code, courtesy of Dan, that will invoke the lookup or
          tint transform procedure in the appropriate context if this is
          appropriate (if there is a lookup procedure for Indexed color spaces
          or the alternate color space is in use for Separation and DeviceN
          color spaces). Currently this is not done recursively (if an Indexed
          color space has a DeviceN base color space, for example), but that
          has not proven necessary in practice. If necessary, it can be added.
        
        
          src/zcolor3.c         Code to implement the .setuseciecolor operator. This
                                operator is used only in the setpagedevice code, and
                                makes certain that the use_cie_color field in the
                                interpreter's graphic state mirrors the setting of
                                the UseCIEColor page device parameter.
        
        
        Files modified:
        
          lib/gs_dpnxt.ps       Added PostScript implementation of the alphaimage
                                operator. This uses the internal .alphaimage
                                operator, which is a variation of the image
                                operator that provide alpha-channel support.
        
          lib/gs_icc.ps         Rewritten to implement the ICCBased color space
                                in the new scheme. See the comments in
                                lib/gs_cspace.ps for information.
        
          lib/gs_init.ps        Modified to include gs_cspace.ps, gs_devcs.ps,
                                and gs_img.ps, and to remove img_util_dict and
                                .cspace_util_dict from userdict at the end of
                                initialization.
        
          lib/gs_lev2.ps        All explicit color spaces removed (with one
                                exception, and replaced by inclusion of gs_devpxl.ps,
                                gs_ciecs2.ps, gs_indxd.ps, gs_sepr.ps, and
                                gs_patrn.ps. The only remaining color space support
                                feature is moving the setcolorspace and setcolor
                                pseudo-operators, and the colorspacedict dictionary,
                                to level2dict. This must be done here, as it is not
                                known that level2dict exists when gs_cspace.ps is
                                first run.
        
                                Also removed all explicit image support. This is
                                now handled by gs_img.ps (see above).
        
          lib/gs_ll3.ps         Removed the old support for color space substitution;
                                this is now handled directly by the color space
                                code (see the comments in gs_cspace.ps for
                                information). Added inclusion of gs_ciecs3.ps and
                                gs_devn.ps.
        
          lib/gs_setpd.ps       Added support for the .getuseciecolor and
                                .setuseciecolor operators. This maintains a
                                "mirror" of the UseCIEColor parameter in the
                                graphic state, to allow fast access.
        
          src/gdevnfwd.c        In gx_forward_get_color_mapping_procs, added a check
                                for the case of a target device which has no
                                get_color_mapping_procs procedure. This led to a
                                segmentation violation crash for FTS file 296-01.ps
                                The fix may not be the correct one, as we are not
                                certain why a device would lack this method.
        
          src/gdevp14.c         Replaced a use of the shared field in the graphic state
                                with a color space allocated on the C-language stack.
        
          src/gdevpsdi.c        Replaced an instance of use of the gs_cspace_DeviceRGB
                                procedure.
        
          src/gscolor.c         Removed gs_currentgray and gs_currentrgbcolor. Modified
                                gs_setgray and gs_setrgbcolor to use gs_setcolorspace
                                and gs_setcolor. This eliminates use of the
                                gs_current_Device*_space routines.
        
          src/gscolor.h         Removed prototypes for gs_currentgray and
                                gs_currentrgbcolor.
        
          src/gscolor1.c        Removed gs_currentcmykcolor. Modified gs_setcmykcolor
                                to use gs_setgray and gs_setcolorspace.
        
          src/gscolor1.h        Removed prototype for gs_currentcmykcolor.
        
          src/gscolor2.c        Removed gs_currentcolorspace_index. Removed the color
                                index tracking used as part of the color space
                                substitution method.
        
          src/gscolor2.h        Removed prototype for gs_currentcolorspace_index.
        
          src/gscscie.c         Eliminated use of the gs_cspace_Device* routines.
        
          src/gscsepr.c         Fixed a pair of typos in revision 1.6 of the code.
                                In gs_cspace_set_sepr_proc and
                                gx_concretize_Separation, the code was still accessing
                                pcspace-&gt;params.device_n when it wanted to access
                                pcspace-&gt;params.separation. This caused a crash in
                                FTS file 245-01.ps.
        
          src/gscspace.c        Removed gs_cspace_Device* procedures.
        
          src/gscspace.h        Removed prototypes for gs_cspace_Device* procedures.
        
          src/gsimage.c         Removed use of the gs_cspace_DeviceGray procedure.
        
          src/gsiparam.h        Removed the gs_image_t_int_{gray, rgb, cmyk} macros.
        
          src/gsistate.c        Updated code to reflect removal of the shared field in
                                the imager state. As part of this, the
                                rc_free_imager_shared and gx_device_color_spaces_free
                                procedures were removed.
        
          src/gslib.c           Removed use of the gs_current_Device*_space and
                                gs_image_t_init_gray procedures.
        
          src/gspcolor.c        Removed reference to the orig_cspace_index field,
                                which is no longer part of the library's graphic
                                state.
        
          src/gsptype1.c        Eliminated use of the gs_cspace_DeviceGray procedure,
                                and insured that a color space is set as the current
                                color space before it is used.
        
          src/gsstate.c         Removed code that maintained the device_color_spaces
                                field (color space substitution), which is no longer
                                in the library's graphic state.
        
          src/gxclrast.c        Removed use of the gs_cspace_Device* procedures.
        
          src/gximage3x.c       Removed use of the gs_image_t_init_gray procedure.
        
          src/gximage2.c        Modified color space handling for ImageType 2 images.
                                Note that there was and still is a problem with the
                                handling of transformations in this code.
        
          src/gxistate.h        Removed the shared field of the imager state, all
                                associated structures and prototypes, and modified
                                the affected GC macros. The gx_device_color_spaces_t
                                structure was previously used in the graphic library's
                                state as well, but that use has been eliminated.
        
          src/gzstate.h         Removed the the device_color_spaces field, and modified
                                the requisite GC macros
        
          src/idparam.c         Modified dict_float_array_check_param to handle
                                packed (short or mixed) arrays.
        
          src/igstate.h         Added the use_cie_color field. This is a mirror for
                                the UseCIEColor parameter of the page device, used
                                because the currentpagedevice operator is potentially
                                expensive.
        
          src/iimage.h          Modified to restrict the interpreter to just the
                                dictionary form of the image and imagemask operator.
                                This removes the zimage_opaque_setup, zimage_data_setup,
                                and zimage_multiple prototypes, and moves the
                                image_params structure and the image1_setup
                                prototypes to this file (from iimage2.h).
        
          src/iimage2.h         Moved everything except the prototype for
                                process_non_source_image to iimage.h.
        
          src/iutil.c           Added process_float_array procedure, to allow packed
                                (short, mixed) arrays of numbers to be handled.
        
          src/iutil.h           Added prototype for the process_float_array procedure.
        
          src/zcolor.c          Removed:
                                  zcurrentgray, zcurrentrgbcolor,
                                  setgray, setrgbcolor
                                Moved (from zcolor2.c):
                                  zcurrentcolor, zcurrentcolorspace,
                                  zsetcolor, zsetcolorspace
                                Added:
                                  zgetuseciecolor   queries the use_cie_color field
                                                    in the interpreter state
                                  zsetdevcspace     sets a DeviceGray, DeviceRGB, or
                                                    DeviceCMYK color space
        
          src/zcolor1.c         Removed zcurrentcmykcolor, zsetcmykcolor, and
                                zcolorimage.
        
          src/zcolor2.c         Removed everything in prior version. Added
                                zusealternate, to test if an alternate color space
                                is being used (for a Separation, DeviceN, or ICCBased
                                color space), or if a base color space is in use
                                (for an Indexed or a Pattern color space that uses
                                a base space).
        
          src/zdpnext.c         Replace the alphaimage operator with .alphaimage,
                                which has the semantics of the dictionary form of
                                the image operator.
        
          src/zgstate.c         Modified the initgraphics operator to set the
                                colorspace.array field to a legitimate color space
                                (previously it was set to a null object). Also
                                inserted code to initialize the use_cie_color field
                                to false.
        
          src/zimage.c          Removed the traditional-form image and imagemask
                                operators (zimage and zimagemask), and moved the
                                dictionary form of these operators to this file
                                from zimage2.c. Also, added the has_alpha parameter
                                to the data_image_params and pixel_image_params
                                procedures, to support the .alphaimage operator.
        
          src/zimage2.c         Moved everything except the process_non_source_image
                                procedure to zimage.c.
        
          src/zimage3.c         Updated calls to data_image_params and
                                pixel_image_params to add has_alpha parameter.
        
          src/zmisc3.c          Removed .setsubstitutecolorspace operator.
        
          src/zpcolor.c         Modified .setpatternspace to handle a packed (short,
                                mixed) array operand.
        
          src/zshade.c          Modified build_mesh_shading to handle a packed (short,
                                mixed) DataSource array operand.
        
          src/ztrans.c          Modified calls to data_image_params and
                                pixel_image_params to add has_alpha operand.
        
          src/watclib.mak       Removed reference to the hsblib.dev, which no longer
                                exists and which, for some unknown reason, was directly
                                included in this makefile. Does anyone still use this
                                file?
        
          src/int.mak           Removed hsb.dev and the zimage2_l2 operators, added
                                zcolor3.c, updated various dependency lists.
        
          src/lib.mak           Removed hsblib.dev and gscssub.[ch], updated various
                                dependency lists. Note that this file has not yet
                                been modified to always compile with Level 3 support.
        

Fri Mar 15 23:00:00 2002 GMT        Henry Stiles    henrys@meerkat

        * zeroline.ps [1.2] (+11 -13), xlatmap [1.2] (+7 -6), wrfont.ps [1.2] (+11 -13), 
        winmaps.ps [1.2] (+11 -13), wftopfa.ps [1.2] (+11 -13), 
        viewps2a.ps [1.2] (+11 -13), viewpcx.ps [1.2] (+11 -13), 
        viewpbm.ps [1.2] (+11 -13), viewmiff.ps [1.2] (+11 -13), 
        viewjpeg.ps [1.2] (+15 -1), viewgif.ps [1.2] (+11 -13), 
        viewcmyk.ps [1.2] (+11 -13), unprot.ps [1.2] (+11 -13), 
        uninfo.ps [1.2] (+11 -13), type1ops.ps [1.2] (+11 -13), 
        type1enc.ps [1.2] (+11 -13), traceop.ps [1.2] (+11 -13), 
        traceimg.ps [1.2] (+11 -13), stocht.ps [1.2] (+13 -15), 
        stcolor.ps [1.2] (+11 -13), stcinfo.ps [1.2] (+11 -13), 
        showchar.ps [1.2] (+11 -13), ps2pdfwr [1.2] (+6 -6), ps2epsi.ps [1.2] (+11 -13), 
        ps2ascii.ps [1.2] (+16 -23), ps2ascii.cmd [1.2] (+4 -4), 
        ps2ascii.bat [1.2] (+4 -4), ps2ascii [1.2] (+2 -2), ps2ai.ps [1.2] (+11 -13), 
        printafm.ps [1.2] (+1 -0), pphs.ps [1.2] (+11 -13), ppath.ps [1.2] (+11 -13), 
        pfbtopfa.ps [1.2] (+11 -13), pdfwrite.ps [1.2] (+11 -13), 
        pdfopt.ps [1.2] (+62 -35), pdf_sec.ps [1.2] (+14 -11), pdf_ops.ps [1.2] (+45 -18), 
        pdf_main.ps [1.2] (+72 -46), pdf_font.ps [1.2] (+49 -48), 
        pdf_draw.ps [1.2] (+43 -25), pdf_base.ps [1.2] (+25 -20), 
        pdf2dsc.ps [1.2] (+13 -14), pcharstr.ps [1.2] (+11 -13), 
        packfile.ps [1.2] (+11 -13), markpath.ps [1.2] (+11 -13), 
        markhint.ps [1.2] (+11 -13), lines.ps [1.2] (+11 -13), landscap.ps [1.2] (+3 -1), 
        jispaper.ps [1.2] (+11 -13), impath.ps [1.2] (+11 -13), 
        image-qa.ps [1.2] (+11 -13), gsnup.ps [1.2] (+11 -13), gslp.ps [1.2] (+11 -13), 
        gs_wl5_e.ps [1.2] (+11 -13), gs_wl2_e.ps [1.2] (+11 -13), 
        gs_wl1_e.ps [1.2] (+11 -13), gs_wan_e.ps [1.2] (+11 -13), 
        gs_type1.ps [1.2] (+18 -29), gs_typ42.ps [1.2] (+11 -19), 
        gs_typ32.ps [1.2] (+11 -13), gs_ttf.ps [1.2] (+17 -13), 
        gs_trap.ps [1.2] (+11 -13), gs_sym_e.ps [1.2] (+11 -13), 
        gs_std_e.ps [1.2] (+11 -13), gs_statd.ps [1.2] (+11 -13), 
        gs_setpd.ps [1.2] (+19 -14), gs_resmp.ps [1.1] (+485 -0), 
        gs_res.ps [1.2] (+14 -13), gs_rdlin.ps [1.2] (+11 -13), 
        gs_pfile.ps [1.2] (+11 -13), gs_pdfwr.ps [1.2] (+123 -40), 
        gs_pdf_e.ps [1.2] (+11 -13), gs_mro_e.ps [1.2] (+11 -13), 
        gs_mgl_e.ps [1.2] (+11 -13), gs_mex_e.ps [1.2] (+11 -13), 
        gs_ll3.ps [1.2] (+11 -13), gs_lgx_e.ps [1.2] (+11 -13), 
        gs_lgo_e.ps [1.2] (+11 -13), gs_lev2.ps [1.2] (+147 -32), 
        gs_l2img.ps [1.2] (+11 -13), gs_ksb_e.ps [1.2] (+11 -13), 
        gs_kanji.ps [1.2] (+11 -13), gs_init.ps [1.2] (+120 -86), 
        gs_il2_e.ps [1.2] (+11 -13), gs_il1_e.ps [1.2] (+11 -13), 
        gs_icc.ps [1.2] (+11 -13), gs_frsd.ps [1.2] (+11 -13), gs_fonts.ps [1.2] (+33 -27), 
        gs_fform.ps [1.2] (+11 -13), gs_fapi.ps [1.2] (+476 -299), 
        gs_epsf.ps [1.2] (+11 -13), gs_dscp.ps [1.2] (+11 -13), 
        gs_dps2.ps [1.2] (+11 -13), gs_dps1.ps [1.2] (+11 -13), 
        gs_dps.ps [1.2] (+11 -13), gs_dpnxt.ps [1.2] (+11 -13), 
        gs_diskf.ps [1.2] (+11 -13), gs_dbt_e.ps [1.2] (+11 -13), 
        gs_css_e.ps [1.2] (+11 -13), gs_cmdl.ps [1.2] (+11 -13), 
        gs_cmap.ps [1.2] (+18 -15), gs_cidfn.ps [1.2] (+17 -16), 
        gs_cidfm.ps [1.1] (+125 -0), gs_ciddc.ps [1.1] (+208 -0), 
        gs_cidcm.ps [1.2] (+60 -144), gs_cff.ps [1.2] (+11 -13), 
        gs_ce_e.ps [1.2] (+11 -13), gs_ccfnt.ps [1.2] (+11 -13), 
        gs_btokn.ps [1.2] (+11 -13), gs_agl.ps [1.2] (+11 -13), 
        font2pcl.ps [1.2] (+11 -13), font2c.ps [1.2] (+11 -13), 
        errpage.ps [1.2] (+11 -13), docie.ps [1.2] (+11 -13), decrypt.ps [1.2] (+2 -0), 
        cidfmap [1.1] (+16 -0), cid2code.ps [1.2] (+11 -13), caption.ps [1.2] (+11 -13), 
        bdftops.ps [1.2] (+11 -13), align.ps [1.2] (+11 -13), addxchar.ps [1.2] (+11 -13), 
        Info-macos.plist [1.1] (+14 -0), Fontmap.Ult [1.2] (+11 -13), 
        Fontmap.Sol [1.2] (+11 -13), Fontmap.SGI [1.2] (+11 -13), 
        Fontmap.OS2 [1.2] (+11 -13), Fontmap.GS [1.2] (+11 -13), 
        Fontmap.ATM [1.2] (+11 -13), Fontmap.ATB [1.2] (+11 -13), 
        FAPIfontmap [1.1] (+33 -0), FAPIconfig [1.1] (+14 -0), FAPIcidfmap [1.1] (+32 -0):
        merges GS head.  This will not compile because pdf changes have not
        been added.  Please wait until the pdf changes are added before
        updating local trees.
        

Wed Oct 31 23:00:00 2001 GMT        Henry Stiles    henrys@meerkat

        * zeroline.ps [1.1] (+102 -0), xlatmap [1.1] (+48 -0), wrfont.ps [1.1] (+664 -0), 
        wmakebat.bat [1.1] (+4 -0), winmaps.ps [1.1] (+108 -0), 
        wftopfa.ps [1.1] (+305 -0), wftopfa [1.1] (+3 -0), viewps2a.ps [1.1] (+34 -0), 
        viewpcx.ps [1.1] (+152 -0), viewpbm.ps [1.1] (+186 -0), 
        viewmiff.ps [1.1] (+126 -0), viewjpeg.ps [1.1] (+144 -0), 
        viewgif.ps [1.1] (+162 -0), viewcmyk.ps [1.1] (+65 -0), 
        unprot.ps [1.1] (+69 -0), unix-lpr.sh [1.1] (+161 -0), uninfo.ps [1.1] (+222 -0), 
        type1ops.ps [1.1] (+239 -0), type1enc.ps [1.1] (+67 -0), 
        traceop.ps [1.1] (+85 -0), traceimg.ps [1.1] (+44 -0), sysvlp.sh [1.1] (+46 -0), 
        stocht.ps [1.1] (+64 -0), stcolor.ps [1.1] (+173 -0), stcinfo.ps [1.1] (+801 -0), 
        stcany_h.upp [1.1] (+24 -0), stcany.upp [1.1] (+24 -0), 
        stc_l.upp [1.1] (+26 -0), stc_h.upp [1.1] (+53 -0), stc800pl.upp [1.1] (+34 -0), 
        stc800p.upp [1.1] (+34 -0), stc800ih.upp [1.1] (+58 -0), 
        stc640p.upp [1.1] (+33 -0), stc600pl.upp [1.1] (+34 -0), 
        stc600p.upp [1.1] (+34 -0), stc600ih.upp [1.1] (+58 -0), 
        stc500ph.upp [1.1] (+48 -0), stc500p.upp [1.1] (+48 -0), 
        stc300bm.upp [1.1] (+43 -0), stc300bl.upp [1.1] (+40 -0), 
        stc300.upp [1.1] (+60 -0), stc2s_h.upp [1.1] (+57 -0), stc2_h.upp [1.1] (+53 -0), 
        stc200_h.upp [1.1] (+51 -0), stc2.upp [1.1] (+53 -0), stc1520h.upp [1.1] (+58 -0), 
        stc.upp [1.1] (+53 -0), st640plg.upp [1.1] (+34 -0), st640pl.upp [1.1] (+49 -0), 
        st640pg.upp [1.1] (+34 -0), st640p.upp [1.1] (+49 -0), st640ihg.upp [1.1] (+42 -0), 
        st640ih.upp [1.1] (+57 -0), showpage.ps [1.1] (+1 -0), showchar.ps [1.1] (+95 -0), 
        rollconv.ps [1.1] (+372 -0), ras8m.upp [1.1] (+8 -0), ras4.upp [1.1] (+8 -0), 
        ras32.upp [1.1] (+8 -0), ras3.upp [1.1] (+8 -0), ras24.upp [1.1] (+8 -0), 
        ras1.upp [1.1] (+8 -0), quit.ps [1.1] (+1 -0), pv.sh [1.1] (+37 -0), 
        ps2ps.cmd [1.1] (+36 -0), ps2ps.bat [1.1] (+23 -0), ps2ps [1.1] (+20 -0), 
        ps2pdfxx.bat [1.1] (+56 -0), ps2pdfwr [1.1] (+36 -0), ps2pdf14.cmd [1.1] (+11 -0), 
        ps2pdf14.bat [1.1] (+15 -0), ps2pdf14 [1.1] (+5 -0), ps2pdf13.cmd [1.1] (+11 -0), 
        ps2pdf13.bat [1.1] (+15 -0), ps2pdf13 [1.1] (+5 -0), ps2pdf12.cmd [1.1] (+11 -0), 
        ps2pdf12.bat [1.1] (+15 -0), ps2pdf12 [1.1] (+5 -0), ps2pdf.cmd [1.1] (+43 -0), 
        ps2pdf.bat [1.1] (+18 -0), ps2pdf [1.1] (+7 -0), ps2epsi.ps [1.1] (+263 -0), 
        ps2epsi.cmd [1.1] (+31 -0), ps2epsi.bat [1.1] (+28 -0), 
        ps2epsi [1.1] (+76 -0), ps2ascii.ps [1.1] (+1510 -0), ps2ascii.cmd [1.1] (+18 -0), 
        ps2ascii.bat [1.1] (+15 -0), ps2ascii [1.1] (+18 -0), ps2ai.ps [1.1] (+553 -0), 
        printafm.ps [1.1] (+146 -0), printafm [1.1] (+7 -0), prfont.ps [1.1] (+242 -0), 
        pphs.ps [1.1] (+223 -0), pphs [1.1] (+7 -0), ppath.ps [1.1] (+56 -0), 
        pj-gs.sh [1.1] (+289 -0), pftogsf.bat [1.1] (+20 -0), pfbtopfa.ps [1.1] (+36 -0), 
        pfbtopfa [1.1] (+16 -0), pf2afm.ps [1.1] (+495 -0), pf2afm.cmd [1.1] (+7 -0), 
        pf2afm.bat [1.1] (+17 -0), pf2afm [1.1] (+8 -0), pdfwrite.ps [1.1] (+285 -0), 
        pdfopt.ps [1.1] (+1127 -0), pdfopt.bat [1.1] (+22 -0), pdfopt [1.1] (+20 -0), 
        pdf_sec.ps [1.1] (+361 -0), pdf_ops.ps [1.1] (+522 -0), 
        pdf_main.ps [1.1] (+787 -0), pdf_font.ps [1.1] (+957 -0), 
        pdf_draw.ps [1.1] (+1152 -0), pdf_base.ps [1.1] (+641 -0), 
        pdf2ps.cmd [1.1] (+41 -0), pdf2ps.bat [1.1] (+24 -0), pdf2ps [1.1] (+29 -0), 
        pdf2dsc.ps [1.1] (+166 -0), pdf2dsc.bat [1.1] (+18 -0), 
        pdf2dsc [1.1] (+26 -0), pcharstr.ps [1.1] (+128 -0), packfile.ps [1.1] (+335 -0), 
        necp2x6.upp [1.1] (+35 -0), necp2x.upp [1.1] (+35 -0), markpath.ps [1.1] (+61 -0), 
        markhint.ps [1.1] (+132 -0), lprsetup.sh [1.1] (+189 -0), 
        lpr2.bat [1.1] (+5 -0), lpgs.bat [1.1] (+5 -0), lp386r2.bat [1.1] (+2 -0), 
        lp386.bat [1.1] (+2 -0), lines.ps [1.1] (+167 -0), level1.ps [1.1] (+2 -0), 
        landscap.ps [1.1] (+29 -0), jispaper.ps [1.1] (+29 -0), 
        impath.ps [1.1] (+181 -0), image-qa.ps [1.1] (+1828 -0), 
        ht_ccsto.ps [1.1] (+3171 -0), gstt.bat [1.1] (+5 -0), gst.bat [1.1] (+5 -0), 
        gssetgs.bat [1.1] (+8 -0), gsnup.ps [1.1] (+90 -0), gsndt.bat [1.1] (+5 -0), 
        gsnd.bat [1.1] (+5 -0), gsnd [1.1] (+3 -0), gslp.ps [1.1] (+696 -0), 
        gslp.bat [1.1] (+5 -0), gslp [1.1] (+3 -0), gslj.bat [1.1] (+5 -0), 
        gslj [1.1] (+3 -0), gsdj500.bat [1.1] (+5 -0), gsdj500 [1.1] (+3 -0), 
        gsdj.bat [1.1] (+5 -0), gsdj [1.1] (+3 -0), gsbj.bat [1.1] (+5 -0), 
        gsbj [1.1] (+3 -0), gs_wl5_e.ps [1.1] (+68 -0), gs_wl2_e.ps [1.1] (+68 -0), 
        gs_wl1_e.ps [1.1] (+68 -0), gs_wan_e.ps [1.1] (+48 -0), 
        gs_type1.ps [1.1] (+190 -0), gs_typ42.ps [1.1] (+52 -0), 
        gs_typ32.ps [1.1] (+129 -0), gs_ttf.ps [1.1] (+935 -0), 
        gs_trap.ps [1.1] (+105 -0), gs_t_m.xbm [1.1] (+8 -0), gs_t.xpm [1.1] (+28 -0), 
        gs_t.xbm [1.1] (+8 -0), gs_sym_e.ps [1.1] (+85 -0), gs_std_e.ps [1.1] (+75 -0), 
        gs_statd.ps [1.1] (+367 -0), gs_setpd.ps [1.1] (+769 -0), 
        gs_s_m.xbm [1.1] (+11 -0), gs_s.xpm [1.1] (+36 -0), gs_s.xbm [1.1] (+11 -0), 
        gs_res.ps [1.1] (+929 -0), gs_rdlin.ps [1.1] (+22 -0), gs_pfile.ps [1.1] (+129 -0), 
        gs_pdfwr.ps [1.1] (+496 -0), gs_pdf_e.ps [1.1] (+46 -0), 
        gs_mro_e.ps [1.1] (+63 -0), gs_mgl_e.ps [1.1] (+66 -0), 
        gs_mex_e.ps [1.1] (+68 -0), gs_m_m.xbm [1.1] (+16 -0), gs_m.xpm [1.1] (+44 -0), 
        gs_m.xbm [1.1] (+16 -0), gs_ll3.ps [1.1] (+470 -0), gs_lgx_e.ps [1.1] (+62 -0), 
        gs_lgo_e.ps [1.1] (+93 -0), gs_lev2.ps [1.1] (+866 -0), 
        gs_l_m.xbm [1.1] (+29 -0), gs_l2img.ps [1.1] (+186 -0), 
        gs_l.xpm [1.1] (+58 -0), gs_l.xbm [1.1] (+29 -0), gs_ksb_e.ps [1.1] (+66 -0), 
        gs_kanji.ps [1.1] (+160 -0), gs_init.ps [1.1] (+1845 -0), 
        gs_il2_e.ps [1.1] (+65 -0), gs_il1_e.ps [1.1] (+68 -0), 
        gs_icc.ps [1.1] (+116 -0), gs_frsd.ps [1.1] (+84 -0), gs_fonts.ps [1.1] (+1058 -0), 
        gs_fform.ps [1.1] (+94 -0), gs_fapi.ps [1.1] (+403 -0), 
        gs_epsf.ps [1.1] (+61 -0), gs_dscp.ps [1.1] (+120 -0), gs_dps2.ps [1.1] (+218 -0), 
        gs_dps1.ps [1.1] (+143 -0), gs_dps.ps [1.1] (+204 -0), gs_dpnxt.ps [1.1] (+114 -0), 
        gs_diskf.ps [1.1] (+226 -0), gs_dbt_e.ps [1.1] (+61 -0), 
        gs_css_e.ps [1.1] (+116 -0), gs_cmdl.ps [1.1] (+182 -0), 
        gs_cmap.ps [1.1] (+455 -0), gs_cidfn.ps [1.1] (+393 -0), 
        gs_cidcm.ps [1.1] (+498 -0), gs_cff.ps [1.1] (+759 -0), 
        gs_ce_e.ps [1.1] (+49 -0), gs_ccfnt.ps [1.1] (+77 -0), gs_btokn.ps [1.1] (+322 -0), 
        gs_agl.ps [1.1] (+1071 -0), font2pcl.ps [1.1] (+605 -0), 
        font2c.ps [1.1] (+677 -0), font2c.cmd [1.1] (+7 -0), font2c.bat [1.1] (+5 -0), 
        font2c [1.1] (+3 -0), fixmswrd.pl [1.1] (+208 -0), errpage.ps [1.1] (+364 -0), 
        eps2eps.cmd [1.1] (+36 -0), eps2eps.bat [1.1] (+26 -0), 
        eps2eps [1.1] (+20 -0), dvipdf [1.1] (+40 -0), docie.ps [1.1] (+220 -0), 
        dnj750m.upp [1.1] (+59 -0), dnj750c.upp [1.1] (+47 -0), 
        decrypt.ps [1.1] (+13 -0), cid2code.ps [1.1] (+162 -0), 
        cdj690ec.upp [1.1] (+54 -0), cdj690.upp [1.1] (+52 -0), 
        cdj550.upp [1.1] (+48 -0), cbjc800.ppd [1.1] (+389 -0), 
        cbjc600.ppd [1.1] (+404 -0), caption.ps [1.1] (+58 -0), 
        bjc610b8.upp [1.1] (+44 -0), bjc610b7.upp [1.1] (+44 -0), 
        bjc610b6.upp [1.1] (+44 -0), bjc610b4.upp [1.1] (+45 -0), 
        bjc610b3.upp [1.1] (+44 -0), bjc610b2.upp [1.1] (+44 -0), 
        bjc610b1.upp [1.1] (+44 -0), bjc610a8.upp [1.1] (+44 -0), 
        bjc610a7.upp [1.1] (+44 -0), bjc610a6.upp [1.1] (+44 -0), 
        bjc610a5.upp [1.1] (+44 -0), bjc610a4.upp [1.1] (+45 -0), 
        bjc610a3.upp [1.1] (+44 -0), bjc610a2.upp [1.1] (+44 -0), 
        bjc610a1.upp [1.1] (+44 -0), bjc610a0.upp [1.1] (+44 -0), 
        bj8ts06n.upp [1.1] (+44 -0), bj8pp12f.upp [1.1] (+44 -0), 
        bj8pa06n.upp [1.1] (+44 -0), bj8oh06n.upp [1.1] (+44 -0), 
        bj8hg12f.upp [1.1] (+44 -0), bj8gc12f.upp [1.1] (+44 -0), 
        bj8.rpd [1.1] (+17 -0), bdftops.ps [1.1] (+797 -0), bdftops.cmd [1.1] (+7 -0), 
        bdftops.bat [1.1] (+5 -0), bdftops [1.1] (+3 -0), align.ps [1.1] (+75 -0), 
        afmdiff.awk [1.1] (+150 -0), addxchar.ps [1.1] (+359 -0), 
        acctest.ps [1.1] (+99 -0), Fontmap.VMS [1.1] (+424 -0), 
        Fontmap.Ult [1.1] (+148 -0), Fontmap.Sol [1.1] (+488 -0), 
        Fontmap.SGI [1.1] (+407 -0), Fontmap.OSF [1.1] (+163 -0), 
        Fontmap.OS2 [1.1] (+216 -0), Fontmap.GS [1.1] (+405 -0), 
        Fontmap.ATM [1.1] (+187 -0), Fontmap.ATB [1.1] (+170 -0), 
        Fontmap [1.1] (+3 -0):
        Initial checkin gs 7.10
        

</pre>
<hr>

<h1><a name="Version7.22"></a>Version 7.22 (2002-08-06)</h1>

<p>
This release integrates the rewritten pdfwrite font copying code,
fixing a large class of pdfwrite bugs involving incremental font
updating. This project was completed before the DeviceN merge was
ready, so this release (rather than 7.21 as previously stated) is
the final checkpoint prior to the DeviceN merge. 

<p>
Overall, pdfwrite is probably an improvement over previous releases,
but there are still known issues. Testing of pdfwrite with real-world
files is encouraged.

<p>
The following SourceForge bug numbers were open at the time of the last release:
405342,
407342,
414947,
414985,
423838,
427347,
432040,
434277,
446344,
446672,
453969,
458261,
458775,
458780,
459647,
465720,
465936,
468762,
474745,
482038,
484752,
484753,
485510,
487953,
493348,
495319,
498595,
505429,
508081,
509646,
510808,
511232,
513905,
514616,
517349,
521916,
526099,
526491,
530011,
530588,
533467,
535366,
535752,
535836,
538033,
539239,
542848,
543185,
546823,
551565,
552989,
554076,
555496,
557177,
558151,
558435,
559614,
560508,
562103,
563287,
565790,
567421,
567487,
567604,
567773,
569573,
570181,
570772,
571980,
572119,
573744,
576586,
576591,
578838,
578865,
580029,
580873,
581420,
582471,
583413,
584713,
584990,
586178,
586595,
589244,
590307,
590979,
591039,
591326.

<p>The nightly regression tests show many changes. However, most of
the non-pdf regressions are tiny changes resulting in comparing a
debug build against a non-debug baseline. The rendering really
shouldn't be different at all, so we're leaving these regressions open
until we can fix the discrepancy. On the pdfwrite side, most of the
regressions are actually improvements, but there are some known
issues.  Notably, the "same_font" function is incorrect, and deriving
several fonts from a standard font, replacing Metrics or Metrics2
only, pdfwrite incorrectly merges them into a single font. This causes
a regression with 093-01.ps and probably other test files.

<h3><a name="7.22_Incompatible_changes"></a>Incompatible changes</h3>

<pre>
</pre>


<h2><a name="7.22-Documentation"></a>Documentation</h2><pre>

Minor tweaks to release process, based on 7.21 experience.
(doc/Release.htm [1.63]: 2002/07/09 07:23:07 raph)

Bump version number to 7.22 as final commit in 7.21 process.
(doc/News.htm [1.108]: 2002/07/09 07:42:10 raph)

Remove Russell Lang's name from most man pages. Correct Russell Lang's email
address. (man/dvipdf.1 [1.16], man/font2c.1 [1.16], man/gs.1 [1.16],
man/gslp.1 [1.16], man/gsnd.1 [1.16], man/pdf2dsc.1 [1.16],
man/pf2afm.1 [1.16], man/pfbtopfa.1 [1.17], man/printafm.1 [1.16],
man/ps2pdf.1 [1.20], man/ps2pdfwr.1 [1.19], man/wftopfa.1 [1.16]: 2002/07/10
12:19:44 ghostgum)

Remove Russell Lang's name from most man pages. Correct Russell Lang's email
address. (man/de/dvipdf.1 [1.2], man/de/font2c.1 [1.2], man/de/gsnd.1 [1.3],
man/de/pdf2dsc.1 [1.2], man/de/printafm.1 [1.2], man/de/ps2pdf.1 [1.2],
man/de/wftopfa.1 [1.2]: 2002/07/10 12:22:12 ghostgum)

Changes all references to L. Peter Deutsch as the author of Ghostscript to
refer to artofcode LLC and Artifex Software as the maintainers of
Ghostscript. (doc/New-user.htm [1.39], doc/Use.htm [1.55],
man/ansi2knr.1 [1.4], man/dvipdf.1 [1.17], man/eps2eps.1 [1.4],
man/font2c.1 [1.17], man/gs.1 [1.17], man/gslp.1 [1.17], man/gsnd.1 [1.17],
man/pdf2ps.1 [1.18], man/pdfopt.1 [1.16], man/pf2afm.1 [1.17],
man/pfbtopfa.1 [1.18], man/printafm.1 [1.17], man/ps2ascii.1 [1.16],
man/ps2pdf.1 [1.21], man/ps2pdfwr.1 [1.20], man/ps2ps.1 [1.23],
man/wftopfa.1 [1.17]: 2002/07/11 02:54:22 lpd)

Upgrading ps2pdf.htm about pdfwrite/pdxtext. (doc/Ps2pdf.htm [1.44]:
2002/07/31 10:00:57 igor)

First commit in 7.22 release process: date and News updates.
(doc/News.htm [1.109]: 2002/08/06 23:10:40 raph)

</pre><h2><a name="7.22-Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- Renaming few variables in devs.mak for better clarity.
(devs.mak [1.68]: 2002/07/18 18:03:15 igor)
	- Changed make_two_versions to use the logging system.
(toolbin/tests/make_two_versions [1.5]: 2002/07/23 16:37:51 jack)
	- remove spurious build of the gtk client along with the macos
framework. (macos-fw.mak [1.5]: 2002/08/05 16:21:12 giles)

Bump version number to 7.22 as final commit in 7.21 process.
(version.mak [1.48]: 2002/07/09 07:42:10 raph)

Adds a procedure for testing whether a string was returned by
gs_c_glyph_name. Allows the font copying code to share these strings,
substantially reducing the load on the garbage collector.
(toolbin/encs2c.ps [1.3]: 2002/07/09 14:04:19 lpd)

Switching on the new pdfwrite/pdxtext code. (devs.mak [1.69]: 2002/07/26
07:27:19 igor)

First commit in 7.22 release process: date and News updates.
(version.mak [1.49]: 2002/08/06 23:10:40 raph)

</pre><h2><a name="7.22-Utilities"></a>Utilities</h2><pre>

Changes all references to L. Peter Deutsch as the author of Ghostscript to
refer to artofcode LLC and Artifex Software as the maintainers of
Ghostscript. (lib/prfont.ps [1.6], lib/ps2epsi.ps [1.9]: 2002/07/11 02:54:22
lpd)

</pre><h2><a name="7.22-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- When compiled for A4 default page size, the initial page size is
now 595x842pts. The initial printer page size in tenths of an inch now uses
floating point. This may cause problems with old compilers that do not allow
floating point calculations in initializers for integers. Add some casts to
suppress warnings with the MS compiler. Fixes SourceForge bug #535997,
"ps2pdf produces incorrect A4 page size". (gdevbmpc.c [1.5]: 2002/07/18
11:01:44 ghostgum)

</pre><h2><a name="7.22-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- Fixes the last (?) major batch of problems in the new pdfwrite
text code. We think this code is now good enough for general testing: search
for PDTEXT in src/devs.mak for information on how to enable it.
(gdevpdtc.c [1.6], gdevpdte.c [1.7], gdevpdtf.c [1.9], gdevpdti.c [1.4],
gdevpdts.c [1.9], gdevpdts.h [1.5], gdevpdtt.c [1.6], gdevpdtt.h [1.4],
gdevpdtw.c [1.5]: 2002/07/09 14:29:35 lpd)
	- (pdfwrite) Enforce compression choice on end of image; do not
choose with zero output length. (gdevpdfj.c [1.22]: 2002/07/15 19:25:11
igor)
	- (pdfwrite) Fixing the image dimensions for the alternative
compression stream. Source Forge bug "[ 574865 ] ioerror only with
PDFSETTINGS=/screen" (gdevpdfi.c [1.40]: 2002/07/15 19:34:17 igor)
	- Always write FontBBox into CFF, even though the spec says it's
optional, to work around a problem when printing the resulting file with
Adobe Acrobat Reader 4 to HP PostScript printers. Source Forge bug "[ 578899
] Missing /FontBBox when converting to ps?" (gdevpdfe.c [1.18],
gdevpdtb.c [1.5], gdevpdtb.h [1.3], gdevpdtd.c [1.4]: 2002/07/19 13:35:59
igor)
	- (pdfwrite) Quiet Cygwin/gcc warnings. (gdevpdfe.c [1.19],
gdevpdfs.c [1.23], gdevpdtc.c [1.7]: 2002/07/19 14:51:27 igor)
	- Fixing an unbalanced '&gt;&gt;' in pdf_write_CIDSet().
(gdevpdtb.c [1.6]: 2002/07/20 08:21:37 igor)
	- (pdfwrite) Standard font names were erroneously suffixed. Source
Forge bug "[ 557024 ] (pdfwrite) Font display incorrect" This changes old
pdfwrite only. The new one was patched separately. (gdevpdff.c [1.31]:
2002/07/31 09:23:32 igor)

pdfwrite: implementing WMode 1 for simple fonts. (gdevpdte.c [1.8],
gdevpdtf.c [1.10], gdevpdtf.h [1.4], gdevpdtt.c [1.7], gdevpdtt.h [1.5]:
2002/07/24 07:45:28 igor)

pdfwrite/pdxtext: fixing the decision about font embedding for the case when
a source document uses both standard and non-standard fonts with same name.
(gdevpdtf.c [1.11]: 2002/07/24 13:40:04 igor)

pdfwrite/pdxtext: Generate uniquie font names for embedded fonts for
compatibility with Acrobat Reader 3. (gdevpdtb.c [1.7]: 2002/07/24 16:18:48
igor)

pdfwrite/pdxtext: Fixing a possibly uninitialized variable.
(gdevpdtf.c [1.12]: 2002/07/24 16:27:41 igor)

pdfwrite/pdxtext: Fixing WMode 1 for simple fonts that have no Metrics2.
(gdevpdte.c [1.9]: 2002/07/24 18:58:28 igor)

pdfwrite/pdxtext: TJ arguments were computed without accounting Tc.
(gdevpdts.c [1.10]: 2002/07/25 19:11:38 igor)

pdfwrite/pdxtext: TJ arguments were inaccurately rounded.
(gdevpdts.c [1.11]: 2002/07/29 08:42:39 igor)

pdfwrite/pdxtext: (1) Widths were computed wrongly, (2) standard fonts
missed Widths. (gdevpdtw.c [1.6]: 2002/07/29 11:47:19 igor)

</pre><h2><a name="7.22-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- When using -dUseCropBox, use an inherited CropBox. The previous
fix would only use a CropBox on the page being displayed.
(lib/pdf_main.ps [1.54]: 2002/07/18 10:46:06 ghostgum)
	- If a 'stream' operator was followed by whitespace before the EOL,
then the fileposition was not at the start of the data. Add logic to allow
for this and also add a pdfformaterror if the EOL was a &lt;cr&gt; without a
&lt;lf&gt;. Fixes SourceForge bug 567612 for Artifex customer #1.
(lib/pdf_base.ps [1.27]: 2002/07/31 19:06:11 ray)

</pre><h2><a name="7.22-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- (FAPI) server_font_data were prematurely reset in zFAPIpassfont.
Thanks for Graham Asher for spotting this. Also fixes minor bugs in
comments. (ifapi.h [1.12], zfapi.c [1.22]: 2002/07/09 14:55:03 igor)
	- Avoid opstack overflow by explicit array construction, rather than
unpacking and padding on the stack, for padding of glyphencoding array.
Fixes SF bug #576651. (lib/gs_ttf.ps [1.16]: 2002/07/10 06:29:34 raph)
	- Adobe renders marks outside the ImagingBBox and QuarkXPress relies
on this. Maintain the ImagingBBox of the page device at the PostScript level
independently from the device parameter. There is a slight incompatibility
if programs that set the ImagingBBox incorrectly relied on this causing
clipping, which is prohibited by the PLRM. Programs that wish to directly
set the ImagingBBox device parameter can still do so from C or from PS using
the .putdeviceprops GS private operator. Fixes SF bug 570829 for Artifex
customer #411. (lib/gs_setpd.ps [1.12]: 2002/07/10 23:05:59 ray)
	- Add a predefined ColorRendering Resource named
/DefaultColorRendering since this is the name that GetSubstituteCRD will
return and also is the name expected by some software. SourceForge bug
#570217 for cust #150. (lib/gs_res.ps [1.24]: 2002/07/12 06:46:33 ray)
	- Results of zchar_get_metrics2 were missinterpreted.
(zchar1.c [1.20]: 2002/07/16 16:47:39 igor)
	- correct the ISO paper sizes in gs_statd.ps to match those in the
Adobe PPD specification, technical note 5003. Fixes SourceForge bug #536877,
"Paper sizes wrong in gs_statd.ps". (lib/gs_statd.ps [1.9]: 2002/07/18
10:41:53 ghostgum)
	- The addition of the function sampling logic for DeviceN tint
transforms (fix 474544) tripped over a bogus assumption in Adobe Procset for
DuoTones generated by (at least) Photoshop. The assumption was that if the
alternate color space of a DeviceN space was being used, that the procedure
would run when 'setcolor' was executed and that the stack would be
accessible during that procedure. This fixes several bug reports with
'/stackunderflow in pop' errors including SF #549307, 576577 and 582385 for
Artifex customers. Thanks to Dan Coby for the analysis and fix.
(lib/gs_lev2.ps [1.20], lib/gs_ll3.ps [1.15], zcolor2.c [1.9]: 2002/07/31
04:43:44 ray)

Bump version number to 7.22 as final commit in 7.21 process.
(lib/gs_init.ps [1.58]: 2002/07/09 07:42:10 raph)

Previous commit was botched because of improperly removed debugging code.
Second commit for fix of SF #576651. (lib/gs_ttf.ps [1.17]: 2002/07/10
06:53:24 raph)

pdfwrite: implementing WMode 1 for simple fonts. (zchar1.c [1.21]:
2002/07/24 07:45:28 igor)

FAPI project : WMode 1 was wrongly processed for base fonts.
(zfapi.c [1.23]: 2002/08/03 15:50:51 igor)

</pre><h2><a name="7.22-Library"></a>Library</h2><pre>

Fixes problems:
	- Fixes bugs in font copying (currently used only by the new
pdfwrite text code): TrueType glyphs with multiple names in CharStrings only
stored a single name; copied Encodings were initialized incorrectly to
.notdef rather than GS_NO_GLYPH; some of the procedures of copied TrueType
fonts weren't initialized correctly; 'seac' didn't copy the Encoding entries
for the components. Also shares the known glyph names when possible, to
reduce the load on the garbage collector. (gxfcopy.c [1.14],
gxfcopy.h [1.6]: 2002/07/09 14:26:45 lpd)
	- When compiled for A4 default page size, the initial page size is
now 595x842pts. The initial printer page size in tenths of an inch now uses
floating point. This may cause problems with old compilers that do not allow
floating point calculations in initializers for integers. Add some casts to
suppress warnings with the MS compiler. Fixes SourceForge bug #535997,
"ps2pdf produces incorrect A4 page size". (gdevprn.h [1.11],
gxdevice.h [1.9]: 2002/07/18 11:01:44 ghostgum)
	- Always write FontBBox into CFF, even though the spec says it's
optional, to work around a problem when printing the resulting file with
Adobe Acrobat Reader 4 to HP PostScript printers. Source Forge bug "[ 578899
] Missing /FontBBox when converting to ps?" (gdevpsf.h [1.20],
gdevpsf2.c [1.23]: 2002/07/19 13:35:59 igor)
	- (pdfwrite) Quiet Cygwin/gcc warnings. (gdevpsft.c [1.21]:
2002/07/19 14:51:27 igor)

Bump version number to 7.22 as final commit in 7.21 process.
(gscdef.c [1.22]: 2002/07/09 07:42:10 raph)

Adds a procedure for testing whether a string was returned by
gs_c_glyph_name. Allows the font copying code to share these strings,
substantially reducing the load on the garbage collector. (gscedata.c [1.4],
gscedata.h [1.3], gscencs.c [1.6], gscencs.h [1.4]: 2002/07/09 14:04:19 lpd)

pdfwrite: implementing WMode 1 for simple fonts. (gxfont.h [1.15]:
2002/07/24 07:45:28 igor)

First commit in 7.22 release process: date and News updates.
(gscdef.c [1.23]: 2002/08/06 23:10:40 raph)

</pre>
<hr>

<h1><a name="Version7.21"></a>Version 7.21 (2002-07-08)</h1>

<p>
This is a reasonably stable development snapshot, the last before the
DeviceN work gets merged in. In particular, this version is probably
the most stable pdfwrite version to date.

<p>
The following SourceForge bug numbers were open at the time of the last release:
405342,
407342,
414947,
414985,
415142,
423838,
427347,
432040,
434277,
446344,
446672,
453969,
458261,
458775,
458780,
459647,
462221,
465720,
465936,
468762,
474745,
482038,
484752,
484753,
485510,
487953,
493348,
495319,
498595,
503794,
505429,
506375,
508081,
509646,
510808,
511232,
513905,
514616,
517349,
521354,
521916,
522486,
524292,
526099,
526491,
528647,
529103,
529578,
530011,
530588,
533467,
535366,
535752,
535836,
535997,
536877,
538033,
538267,
539239,
542848,
543185,
546823,
549307,
551565,
552949,
552989,
554076,
555496,
557024,
557177,
558151,
558435,
559614,
560508,
562103,
563287,
565790,
567421,
567487,
567604,
567612,
567773,
569573,
570181,
570213,
570217,
570772,
570800,
570816,
570829,
571897,
571980,
572119,
573744,
574865,
576574,
576577,
576586,
576591,
576615,
576651.

<p>All the regression tests run correctly, with the following exceptions:
pdfwrite testing of 401-01.ps, which segfaults.

<h3><a name="7.21_Incompatible_changes"></a>Incompatible changes</h3>

<p>
<ul>
<li>
The file gs/lib/CIDFnmap used in Ghostscript 6.53 and 7.0x to map 
CIDFont resource is no longer supported. Now it is replaced with
gs/lib/cidfmap. TrueType font substition to CIDFont is not implemented yet.

</ul>

<pre>
</pre>

<h2><a name="7.21-Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- Changes the operation of AutoFilter{Gray,Color}Images to always
use the lossless filter (normally FlateEncode), rather than using DCTEncode
for 8-bit-per-component images at least 64x64 in size. While this isn't
optimal, it fixes a long-standing problem that many users have complained
about. Fixes SourceForge #450663. (doc/Ps2pdf.htm [1.41]: 2002/04/08
21:21:23 lpd)
	- The recently added reference to zcidtest.c had the correct text
but an incorrect URL. (doc/Develop.htm [1.73]: 2002/04/09 02:03:22 lpd)
	- the url for the guide to international paper sizes has changed.
Thanks to Nelson Beebe for finding the update. (doc/Use.htm [1.52]:
2002/04/14 01:08:14 giles)
	- The new file md5main.c was not included in the catalog of source
files. (doc/Develop.htm [1.74]: 2002/04/14 15:56:53 lpd)
	- More compatibility to Adobe interpreters in 'eexec'. This is
NON-BACKWARD-COMPATIBLE change. Now eexec skips all whitespaces at the
beginning of input stream, except for PFBDecode output. Thanks to L. Peter
Deutsch for participation. Source Forge bug "[ 428891 ] Undefined commands
interpreting Postscri". (doc/Language.htm [1.49]: 2002/05/01 23:15:23 igor)
	- pdfwrite relied on the PostScript interpreter to load and make
available the known encodings and glyph sets identified in src/gsccode.h.
With this change, pdfwrite can now be used without a PostScript interpreter,
and with fonts that do not implement the known_encode callback.
(doc/Develop.htm [1.78], doc/Psfiles.htm [1.32]: 2002/05/12 22:38:08 lpd)
	- Fixes a typo in, and slightly improves, documentation for invoking
cvs2hist as part of the release process. Fixes SourceForge #551275.
(doc/Release.htm [1.61]: 2002/06/26 20:14:45 lpd)
	- Fixes a typo in the reference to src/gdevpdte.c.
(doc/Develop.htm [1.83]: 2002/06/27 00:50:23 lpd)
	- Add the option -dUseCropBox to set the page size from the CropBox
rather than the MediaBox. This is appropriate when using ghostscript to view
PDF files or convert to bitmaps. It probably isn't appropriate for printing.
Fixes SourceForge bugs #522486, "Wromg size EPS generated from PDF" and
#538267 "Problems with Media Box in PDF and PS interpreter".
(doc/Use.htm [1.53]: 2002/06/28 10:55:43 ghostgum)

update version numbers after the 7.20 release. (doc/News.htm [1.104]:
2002/04/04 03:14:03 giles)

gs-cjk project : add note about abandoning of CIDFnmap in gs6.53 and gs7.0x
to incompatible changes. (doc/News.htm [1.105]: 2002/04/04 06:01:51
mpsuzuki)

Changes gs_cmap_t (internal representation of CMaps) to an abstract
superclass with multiple implementations: standard Adobe CMapType 1,
TrueType 16-bit cmap (Platform 3, Encoding 1, Format 4), and one-for-one.
Adds the ability to designate a CMap as Unicode-based. Enhances pdfwrite so
that composite fonts (including those based on TrueType Unicode fonts) with
Unicode-based CMaps are embedded in the PDF file with the original text
preserved and with an appropriate ToUnicode CMap, making the text searchable
in Acrobat. (doc/Develop.htm [1.72]: 2002/04/08 21:02:44 lpd)

Documents more clearly the fact that the ProcessColorModel parameter for
ps2pdf / pdfwrite does not affect (most) images. Also changes the "notes"
references from the parameter table to live links. (doc/Ps2pdf.htm [1.42]:
2002/04/09 22:43:46 lpd)

Documents a user request for pdfwrite to convert images to a fixed,
specified color space, as it currently does for vectors/text/masks.
(doc/Issues.htm [1.23]: 2002/04/09 22:51:20 lpd)

Add an example using .locksafe to permit reading of files anywhere while
preventing file writing, deleting or renaming (as with the pre 7.20 SAFER
mode). Related to SourceForge bug #541856. (doc/Language.htm [1.48]:
2002/04/11 18:11:02 ray)

Deletes "Vanilla" functions, which have not been used for a long time. They
were originally created for implementing FunctionType 4 functions using a
callback to the PostScript interpreter, but FunctionType 4 functions have
had their own interpreter since 3/19/2000 (first revision of gsfunc4.c).
(doc/Develop.htm [1.75]: 2002/04/19 00:53:19 lpd)

Removes unused gdevht halftoning "device". Part of DeviceN task list.
(doc/Develop.htm [1.76], doc/Drivers.htm [1.28]: 2002/04/22 23:01:47 raph)

Adds a project to replace all sampled PostScript procedures with Function
objects, at the PostScript level. (Suggested by SourceForge bug #547695.)
(doc/Projects.htm [1.43]: 2002/04/29 22:37:15 lpd)

Documents the rationale for stable allocators better.
(doc/Develop.htm [1.77]: 2002/05/02 20:48:21 lpd)

Documents the fact that driver procedures other than put_params must not
reset is_open, and the invariant that requires any device instance
referenced from a graphics state to be open. (doc/Drivers.htm [1.29]:
2002/05/02 22:36:47 lpd)

Update the url for the zlib website and source. Fixes SF Bug #550585.
(doc/Make.htm [1.50], doc/New-user.htm [1.37]: 2002/05/09 16:29:16 giles)

Updates documentation for the revision of the C implementation of known
Encodings. (doc/Develop.htm [1.79], doc/Psfiles.htm [1.33]: 2002/05/14
23:33:57 lpd)

Refactors the pdfwrite driver so that none of the structures, and very few
of the procedures, for handling text and fonts are visible to the main body
of code, in preparation for a major rewrite of the text and font code.
(doc/Develop.htm [1.80]: 2002/05/20 07:07:15 lpd)

Update Release.htm with changes from the 7.05 release. Fixes SF bug #551275.
(doc/Release.htm [1.60]: 2002/05/22 08:26:39 giles)

Adds documentation for pdfwrite regression tools. (doc/Testing.htm [1.7]:
2002/06/21 00:06:29 jack)

Adds references to new source files gxfcopy.c, gxfcopy.h, stdpn.h, and
zfctest.c. (doc/Develop.htm [1.81]: 2002/06/21 05:56:32 lpd)

Update for Borland 5.5 Compiler. Files changes include bcwin32.mak,
dwmainc.c, unistd_.h, bcc32.cfg and Make.htm. Patch by Rod Webster (rodw).
SF#559565 (doc/Make.htm [1.51]: 2002/06/24 06:20:25 jeong)

Adds a complete rewrite of the font and text code in pdfwrite, based on
copying fonts incrementally to stable memory rather than trying to deal with
fonts being freed at unpredictable times. Should fix a large number of
current SourceForge bugs when completed: however, the code is currently in
pre-alpha state and is not usable on any realistic input. The API is
compatible with the previous pdfwrite text code; the choice of which set to
use is controlled by a single, documented line in src/devs.mak.
(doc/Develop.htm [1.82]: 2002/06/25 01:51:32 lpd)

News.htm update, version number and date fixups. First commit mandated by
Release.htm, in preparation for 7.21 release. (doc/API.htm [1.23],
doc/Bug-form.htm [1.28], doc/Bug-info.htm [1.27], doc/C-style.htm [1.33],
doc/Commprod.htm [1.20], doc/Copying.htm [1.20], doc/Current.htm [1.20],
doc/DLL.htm [1.22], doc/Develop.htm [1.84], doc/Devices.htm [1.46],
doc/Drivers.htm [1.30], doc/Fonts.htm [1.29], doc/Helpers.htm [1.24],
doc/History1.htm [1.20], doc/History2.htm [1.20], doc/History3.htm [1.20],
doc/History4.htm [1.20], doc/History5.htm [1.22], doc/History6.htm [1.37],
doc/History7.htm [1.17], doc/Htmstyle.htm [1.25], doc/Install.htm [1.33],
doc/Issues.htm [1.24], doc/Language.htm [1.50], doc/Lib.htm [1.22],
doc/Maintain.htm [1.30], doc/Make.htm [1.52], doc/New-user.htm [1.38],
doc/News.htm [1.106], doc/Projects.htm [1.44], doc/Ps-style.htm [1.18],
doc/Ps2epsi.htm [1.22], doc/Ps2pdf.htm [1.43], doc/Psfiles.htm [1.34],
doc/Readme.htm [1.39], doc/Release.htm [1.62], doc/Source.htm [1.20],
doc/Tester.htm [1.19], doc/Testing.htm [1.8], doc/Unix-lpr.htm [1.20],
doc/Use.htm [1.54], doc/Xfonts.htm [1.20], doc/gs-vms.hlp [1.19],
man/dvipdf.1 [1.15], man/font2c.1 [1.15], man/gs.1 [1.15],
man/gslp.1 [1.15], man/gsnd.1 [1.15], man/pdf2dsc.1 [1.15],
man/pdf2ps.1 [1.17], man/pdfopt.1 [1.15], man/pf2afm.1 [1.15],
man/pfbtopfa.1 [1.16], man/printafm.1 [1.15], man/ps2ascii.1 [1.15],
man/ps2epsi.1 [1.15], man/ps2pdf.1 [1.19], man/ps2pdfwr.1 [1.18],
man/ps2ps.1 [1.22], man/wftopfa.1 [1.15]: 2002/07/08 20:09:53 raph)

</pre><h2><a name="7.21-Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- gscdef.c must contain a definition for GS_PRODUCT that matches the
definition used by the baseline. run_nightly now sets GS_PRODUCT to "AFPL
Ghostscript" correctly regardless of it's setting in the repository.
(toolbin/tests/run_nightly [1.4]: 2002/04/09 01:25:26 jack)
	- gscheck_pdfwrite.py was modeled after run_regression instead of
check_*.py. This corrects the script so that it follows the testing
conventions and also adds gscheck_all.py which will run every gscheck_*.py
test (of which currently there is only one).
(toolbin/tests/gscheck_all.py [1.1],
toolbin/tests/gscheck_pdfwrite.py [1.2], toolbin/tests/gstestgs.py [1.7]:
2002/04/09 21:45:33 jack)
	- Fix for #540871. Clean up compiler warnings in zfsample.c. Note:
The addition of two include files in zfsample.c forces a change in
dependencies in int.mak. (int.mak [1.70]: 2002/04/11 02:18:14 dan)
	- Indexed color spaces weren't implemented for ShadingType 4-7
shadings. (lib.mak [1.73]: 2002/04/14 04:30:47 lpd)
	- Options specified in gsconf.py were not being used correctly by
all scripts. run_regression and revert_baseline were both broken in this
respect. (toolbin/tests/gstestgs.py [1.8],
toolbin/tests/revert_baseline [1.5], toolbin/tests/run_regression [1.4]:
2002/04/16 21:06:20 jack)
	- missing space bofore the gsoptions are passed.
(toolbin/tests/gstestgs.py [1.9]: 2002/04/16 21:22:25 jack)
	- make symlinks to equivalent manpages with relative rather than
absolute paths to facilitate moving the directory to another location.
Closes SourceForge Bug #416131. (unixinst.mak [1.25]: 2002/04/18 01:53:36
giles)
	- the uniprint driver wasn't being included due to a typo.
(os2.mak [1.25]: 2002/04/19 00:56:28 giles)
	- Adds -p parameter to mkdir to suppress warning messages when the
target already exists and to create parent directories automatically if they
don't exist. Fixes Sourceforge bug #518742. (unix-dll.mak [1.9],
unixinst.mak [1.26]: 2002/04/19 01:08:38 jack)
	- Add PostScriptLevel3 as one of the Resources of the /Emulator
category so that it shows up with "gs -h". Fixes SourceForge bug #549235.
(int.mak [1.74]: 2002/04/26 20:51:24 ray)
	- Removing the variable &#36;(PSD) from lib.mak to allow graphics
library to build independently on GS. (lib.mak [1.77]: 2002/05/05 13:44:27
igor)
	- The GS lib would not build. This fix corrects two minor problems.
The routine gs_abort was added to gslib.c. The unused include file
gmorecfg.h was removed from vdtrace.c. (lib.mak [1.78]: 2002/05/08 05:41:44
dan)
	- pdfwrite relied on the PostScript interpreter to load and make
available the known encodings and glyph sets identified in src/gsccode.h.
With this change, pdfwrite can now be used without a PostScript interpreter,
and with fonts that do not implement the known_encode callback.
(devs.mak [1.60], lib.mak [1.80]: 2002/05/12 22:38:08 lpd)
	- The rule for building icc.o didn't depend on &#36;(ECHOGS_XE), causing
the build to possibly fail (depending on the order in which `make' built
targets) if executed with empty output directories. (icclib.mak [1.7]:
2002/06/05 19:55:04 lpd)
	- update_baseline had a typo for the baseline log file.
(toolbin/tests/update_baseline [1.6]: 2002/06/13 20:49:34 jack)
	- Limit the number of %disk devices to 7 to prevent problems with
the Dynalab font installer. Also return %disk devices in numeric order from
devforall and suppress %disk devices from filenameforall to match Adobe.
Also correct documentation of devforall (no pattern string used). Thanks to
Nori Matsushima and Erik Strik for testing of this feature (diskn.dev).
(int.mak [1.76]: 2002/06/14 04:04:39 ray)
	- .pushpdf14devicefilter was defined in zdfilter.c, but depended on
the optional pdf module's transparency features. Moves the definition of
this routine to the conditionally included ztrans.c. Fix by L. Peter
Deutsch, resolves SourceForge Bug 565019. (int.mak [1.77]: 2002/06/14
09:42:54 giles)
	- The automatically generated files src/gscedata.[ch] didn't have a
RCS Id line. (toolbin/encs2c.ps [1.2]: 2002/06/14 13:31:53 lpd)
	- As a result of a recent fix, an opdef table had more than 16
entries, causing initialization to abort. (int.mak [1.78]: 2002/06/14
14:17:56 lpd)
	- Fixes an oversight that prevented compilation with stdpn.h
included. (jpeg.mak [1.7]: 2002/06/16 09:11:47 lpd)
	- Implementing pdfmark stream compression. Source forge bug "[
558476 ] file attachment annotation uncompressed". (devs.mak [1.63]:
2002/06/16 22:07:55 igor)
	- Fixes minor errors in the makefile dependency lists. (The
dependency list for gxclrast.c, in particular, had gotten badly mangled.)
(lib.mak [1.86]: 2002/06/19 15:34:01 lpd)
	- Fixes an omission in a dependency list. (int.mak [1.79]:
2002/06/19 15:36:45 lpd)
	- Fixes another omission in a dependency list. (int.mak [1.80]:
2002/06/19 15:37:20 lpd)
	- pdfinflt.ps should not propagate the /Prev from the input file's
trailer since the output will only have a single xref table. Also add
'whitespace' after a stream before 'endstream' in case the input stream did
not have trailing whitespace (prevents /undefined errors).
(toolbin/pdfinflt.ps [1.4]: 2002/06/19 20:13:05 ray)
	- When building an archive of the graphics library or interpreter,
add only the object files, not the .dev and interpreter files. Fixes
SourceForge bug # 538311 - files missing from library archive.
(gs.mak [1.14], ugcclib.mak [1.19], unixlink.mak [1.6]: 2002/06/22 03:33:12
ghostgum)
	- gxfcache.h didn't #include or define all of its prerequisites.
(lib.mak [1.89]: 2002/06/24 05:14:15 lpd)
	- MSVC can't handle a makefile that compiles two sets of code with
some of the same exported names, but only linked in one set. The fix still
requires a 1-line edit of devs.mak when using MSVC. (devs.mak [1.67]:
2002/07/07 15:54:23 lpd)

update version numbers after the 7.20 release. (version.mak [1.46]:
2002/04/04 03:14:03 giles)

Changes gs_cmap_t (internal representation of CMaps) to an abstract
superclass with multiple implementations: standard Adobe CMapType 1,
TrueType 16-bit cmap (Platform 3, Encoding 1, Format 4), and one-for-one.
Adds the ability to designate a CMap as Unicode-based. Enhances pdfwrite so
that composite fonts (including those based on TrueType Unicode fonts) with
Unicode-based CMaps are embedded in the PDF file with the original text
preserved and with an appropriate ToUnicode CMap, making the text searchable
in Acrobat. (devs.mak [1.57], int.mak [1.69], lib.mak [1.70]: 2002/04/08
21:02:44 lpd)

Adds gscheck_pdfwrite.py and a new test class, GSFuzzyCompareTest. This test
does fuzzy compares of ps-&gt;raster and ps-&gt;pdf-&gt;raster to help
ensure the pdfwrite device is functioning properly.
(toolbin/tests/gscheck_pdfwrite.py [1.1], toolbin/tests/gsconf.py [1.5],
toolbin/tests/gstestgs.py [1.6]: 2002/04/09 18:12:24 jack)

Moves the remaining CID-related test operator (.writefont9) to zcidtest.c.
(int.mak [1.71], lib.mak [1.71]: 2002/04/11 22:07:36 lpd)

Create a separate WARNOPT parameter for specifying the warning message
level. This allows the message level to be specified from the command line.
(msvccmd.mak [1.10]: 2002/04/11 22:20:14 dan)

Brings int.mak dependencies up to date. (int.mak [1.72]: 2002/04/12 05:37:43
lpd)

Brings dependencies in devs.mak up to date. (devs.mak [1.58]: 2002/04/12
05:42:06 lpd)

Brings dependencies in lib.mak up to date. (lib.mak [1.72]: 2002/04/12
05:55:39 lpd)

Updates makefile dependencies for the recent change to gdevpdfu.c.
(devs.mak [1.59]: 2002/04/14 06:55:58 lpd)

Adds a --[no-]pause switch to suite.tcl, for viewing suite output on the
display. Also changes the output file names from
t.&lt;&lt;date&gt;&gt;.&lt;&lt;page#&gt;&gt;.&lt;&lt;format&gt;&gt; to
&lt;&lt;filename&gt;&gt;.&lt;&lt;page#&gt;&gt;.&lt;&lt;format&gt;&gt;.
(toolbin/suite.tcl [1.6]: 2002/04/15 23:59:20 lpd)

Deletes "Vanilla" functions, which have not been used for a long time. They
were originally created for implementing FunctionType 4 functions using a
callback to the PostScript interpreter, but FunctionType 4 functions have
had their own interpreter since 3/19/2000 (first revision of gsfunc4.c).
(lib.mak [1.74]: 2002/04/19 00:53:19 lpd)

Add the ijs device to the default unix-gcc build. (unix-gcc.mak [1.33]:
2002/04/19 00:54:31 giles)

Adds a make_scaled virtual procedure to Function objects, to create a
modified Function whose N output values are transformed linearly according
to a supplied set of N range parameters. This is the first installment for
implementing conversion of extended-range CIEBased color spaces to ICCBased
spaces in pdfwrite. (lib.mak [1.75]: 2002/04/19 01:17:53 lpd)

Puts dpsand2.dev first in the dependencies of psl2.dev, so that (eventually)
geninit will have earlier access to the system name table for producing
output with binary token encodings. (int.mak [1.73]: 2002/04/19 19:22:14
lpd)

Removes unused gdevht halftoning "device". Part of DeviceN task list.
(lib.mak [1.76]: 2002/04/22 23:01:47 raph)

Update the url for the zlib website and source. Fixes SF Bug #550585.
(zlib.mak [1.7]: 2002/05/09 16:29:16 giles)

Update dependencies for included header files. (lib.mak [1.79]: 2002/05/09
21:55:52 giles)

Simplifies the C implementation of the known Encodings, and makes it conform
better to Ghostscript standard coding style. (devs.mak [1.61],
lib.mak [1.81], toolbin/encs2c.ps [1.1]: 2002/05/14 23:33:18 lpd)

Removes an extraneous makefile dependency. (lib.mak [1.82]: 2002/05/15
19:07:32 lpd)

Refactors the pdfwrite driver so that none of the structures, and very few
of the procedures, for handling text and fonts are visible to the main body
of code, in preparation for a major rewrite of the text and font code.
(devs.mak [1.62]: 2002/05/20 07:07:15 lpd)

Adds logging support for the Ghostscript class and implements logging for
the nightly regression scripts. (toolbin/tests/gsconf.py [1.6],
toolbin/tests/gstestgs.py [1.10], toolbin/tests/run_nightly [1.5],
toolbin/tests/run_regression [1.5]: 2002/05/30 21:43:10 jack)

gs_cjk project : bugfix for nested FMapType4/5 OCF. Fix by suzuki toshiya.
(ported from gs7.05) (lib.mak [1.83]: 2002/06/02 11:56:23 mpsuzuki)

Implements raster baseline regression test for the pdfwrite device, and adds
new tools to manage the new pdfwrite baselines.
(toolbin/tests/gscheck_pdfwrite.py [1.3], toolbin/tests/gstestgs.py [1.11],
toolbin/tests/make_testdb [1.5], toolbin/tests/make_two_pdfversions [1.1],
toolbin/tests/revert_pdfbaseline [1.1], toolbin/tests/run_regression [1.6],
toolbin/tests/update_pdfbaseline [1.1]: 2002/06/05 05:23:06 jack)

Added log file for baseline changes. update_* and revert_* all log baseline
changes with timestamps now. (toolbin/tests/gsconf.py [1.7],
toolbin/tests/revert_baseline [1.6], toolbin/tests/revert_pdfbaseline [1.2],
toolbin/tests/update_baseline [1.5], toolbin/tests/update_pdfbaseline [1.2]:
2002/06/05 20:53:20 jack)

Add separate paramsets for pdfwrite testing.
(toolbin/tests/gscheck_pdfwrite.py [1.4],
toolbin/tests/gsparamsets.py [1.4], toolbin/tests/make_testdb [1.6]:
2002/06/05 20:58:04 jack)

Cleans up a number of design problems in the font callback procedures: 1)
Eliminates the gx_xfont_callbacks structure entirely. The known_encode
procedure is no longer needed: the new facilities in gscencs.[hc] make it
unnecessary, and none of the three implementors of the xfont interface use
it. See below regarding glyph_name. This is a NON-BACKWARD- COMPATIBLE
change for all clients of the glyph_name and known_encode procedures (of
which there are, respectively, 11 and 0 in the current code base), and for
all places that define gs_font_procs structures statically or initialize the
callbacks dynamically (of which there are currently only two, one in
gsfont.c and one in zbfont.c). There are also 3 identical places in the
GhostPCL code (in plfont.c, plffont.c, and plufont.c) that will require very
minor changes, with a small net reduction in code. 2) Deletes the
char_xglyph2 procedure from gx_xfont_procs. It is optional, and none of the
three current xfont implementations implements it. 3) Changes the
char_xglyph procedure in gx_xfont_procs so that instead of a glyph_name
callback procedure, it takes a const gs_string * argument that is the actual
glyph name (if the glyph is not gs_no_glyph and is not a CID). This is a
NON-BACKWARD-COMPATIBLE change for both clients and implementors of xfonts.
(At present, there are 3 implementors, none of which use the glyph_name
callback, and a single client call in gxccache.c.) 4) Moves the glyph_name
procedure, which is still required for other purposes, to gs_font_procs,
changing its declaration to int (*glyph_name)(gs_font *font, gs_glyph glyph,
gs_const_string *pstr); This is a NON-BACKWARD-COMPATIBLE change for
clients, but they must already change because of item (1) above. 5)
Eliminates the registered_Encodings array in the PostScript interpreter,
substituting the C representation of the known Encodings. (int.mak [1.75],
lib.mak [1.84]: 2002/06/09 23:08:23 lpd)

Moves the now-unused Pn macros to a separate file, which now can easily be
commented out and eventually removed. (lib.mak [1.85]: 2002/06/16 08:57:57
lpd)

Adds support for incremental font copying, currently required only by the
new pdfwrite text code. (int.mak [1.81], lib.mak [1.87]: 2002/06/19 15:52:29
lpd)

Committing in . Added option to chose between the use of VAX-floats
(default) and IEEE-floats Modified Files: gs/src/openvms.mmk
----------------------------------------------------------------------
(openvms.mmk [1.17]: 2002/06/20 08:32:15 joukj)

Committing in . OOps, I committed the wrong file just a minute ago Modified
Files: gs/src/openvms.mmk
----------------------------------------------------------------------
(openvms.mmk [1.18]: 2002/06/20 08:39:08 joukj)

Removes some obsolete references to Aladdin Enterprises from comments.
(contrib.mak [1.27], winint.mak [1.15]: 2002/06/21 05:07:06 lpd)

Adds some omitted definitions in gxfcopy.h. (lib.mak [1.88]: 2002/06/21
22:36:09 lpd)

Add a 32 bit/pixel CMYK driver named pam using the Portable Arbitrary Map
file format, one of the netpbm family. This driver has problems with
anti-aliasing that will be fixed in a later patch. (devs.mak [1.64]:
2002/06/22 03:44:40 ghostgum)

Update for Borland 5.5 Compiler. Files changes include bcwin32.mak,
dwmainc.c, unistd_.h, bcc32.cfg and Make.htm. Patch by Rod Webster (rodw).
SF#559565 (bcc32.cfg [1.2], bcwin32.mak [1.19]: 2002/06/24 06:20:25 jeong)

Adds a complete rewrite of the font and text code in pdfwrite, based on
copying fonts incrementally to stable memory rather than trying to deal with
fonts being freed at unpredictable times. Should fix a large number of
current SourceForge bugs when completed: however, the code is currently in
pre-alpha state and is not usable on any realistic input. The API is
compatible with the previous pdfwrite text code; the choice of which set to
use is controlled by a single, documented line in src/devs.mak.
(devs.mak [1.65]: 2002/06/25 01:51:32 lpd)

Adds a couple of missing dependencies in the makefile. (devs.mak [1.66]:
2002/06/26 19:55:56 lpd)

News.htm update, version number and date fixups. First commit mandated by
Release.htm, in preparation for 7.21 release. (version.mak [1.47]:
2002/07/08 20:09:54 raph)

</pre><h2><a name="7.21-Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- Correctly embed the original EPS file in the output of ps2epsi on
Windows and OS/2. (lib/ps2epsi.bat [1.9], lib/ps2epsi.cmd [1.6]: 2002/04/25
21:29:08 ghostgum)
	- Calculate more accurate BoundingBox and prevent invalidaccess by
using an 8-bit deep preview image. SF bug #525508. (lib/ps2epsi.ps [1.8]:
2002/04/29 17:27:06 ray)
	- More compatibility to Adobe interpreters in 'eexec'. This is
NON-BACKWARD-COMPATIBLE change. Now eexec skips all whitespaces at the
beginning of input stream, except for PFBDecode output. Thanks to L. Peter
Deutsch for participation. Source Forge bug "[ 428891 ] Undefined commands
interpreting Postscri". (lib/rollconv.ps [1.4]: 2002/05/01 23:15:23 igor)
	- Fixing erroneous comments in font map files.
(lib/FAPIcidfmap [1.5], lib/FAPIfontmap [1.6], lib/cidfmap [1.5]: 2002/06/07
20:21:16 igor)
	- Temporary files weren't being put in the proper location under
MacOS X/Carbon. Updates the the proper prameter block type for the Carbon
interface so this works properly on both OS 9/X. Patch from Erik Strik.
(gp_macio.c [1.7]: 2002/06/13 15:36:50 giles)

Splits off the md5 test program into a separate file; removes support for
non-ANSI compilers; makes byte order test either static or dynamic.
(md5main.c [1.1]: 2002/04/13 19:20:28 lpd)

Removes the name SystemNames as a name for the system name table.
(lib/wrfont.ps [1.5]: 2002/04/19 06:52:25 lpd)

Use sed in preference to tail to avoid conflicts between posix and
traditional implementations. Patch from Paul Eggert. Closes SourceForge bug
#521597. (lib/unix-lpr.sh [1.4]: 2002/04/22 19:53:23 giles)

Changes to the gtk+ client to request a suitable window size based on the
screen and image sizes, to reduce unnecessary redraws and erase the window
area outside the image. (dxmain.c [1.10]: 2002/04/26 05:01:18 ghostgum)

gs_exit() cleanup. gs_exit() is renamed gs_to_exit() since it is an about to
terminate cleanup function, it always returns. Both gs_to_exit() and
gs_abort are client provided functions. The client can have its own special
cleanup on exit, and the client can decide what it wants to do in the abort
case: exit, setjump/longjump, ... gp_do_exit() is the way for the client to
call a system independent exit() this allows for different exit codes on
unix and vms for instance. Only the client can call this, if so desired from
their gs_abort(). (bench.c [1.7], gp_dvx.c [1.7], gp_iwatc.c [1.9],
gp_mac.c [1.6], gp_mswin.c [1.10], gp_os2.c [1.14], gp_os9.c [1.7],
gp_unix.c [1.8]: 2002/05/14 14:59:41 stefan)

gs_cjk project : replace "min" &amp; "max" by ".min" &amp; ".max". by
mpsuzuki (ported from gs7.05) (lib/bdftops.ps [1.6], lib/font2pcl.ps [1.5],
lib/gslp.ps [1.5], lib/packfile.ps [1.5], lib/pdfopt.ps [1.14],
lib/prfont.ps [1.5], lib/ps2ascii.ps [1.7], lib/traceimg.ps [1.5],
lib/viewcmyk.ps [1.5], lib/viewpbm.ps [1.5], lib/viewpcx.ps [1.5]:
2002/06/02 12:03:28 mpsuzuki)

Removes all uses of the now-deprecated Pn macros from PostScript operator
files (src/z*.c). (ziodevs.c [1.8]: 2002/06/16 03:43:51 lpd)

Removes all uses of the now-deprecated Pn macros from the echogs program.
(echogs.c [1.6]: 2002/06/16 03:52:32 lpd)

Removes all uses of the now-deprecated Pn macros from the stream
implementation code. (scfdgen.c [1.5]: 2002/06/16 03:58:14 lpd)

Removes all uses of the now-deprecated Pn macros from all remaining .c
files. (genconf.c [1.8], gendev.c [1.5], geninit.c [1.6], gp_dvx.c [1.8],
gp_iwatc.c [1.10], gp_mac.c [1.7], gp_msio.c [1.6], gp_mswin.c [1.11],
gp_os2.c [1.15], gp_os9.c [1.8], gp_unix.c [1.9], gp_vms.c [1.13],
gserver.c [1.7]: 2002/06/16 05:48:55 lpd)

</pre><h2><a name="7.21-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- Changes the operation of AutoFilter{Gray,Color}Images to always
use the lossless filter (normally FlateEncode), rather than using DCTEncode
for 8-bit-per-component images at least 64x64 in size. While this isn't
optimal, it fixes a long-standing problem that many users have complained
about. Fixes SourceForge #450663. (gdevpsdi.c [1.19]: 2002/04/08 21:21:21
lpd)
	- output of psmono and psgray drivers was scaled twice: using scale
operator and image matrix. This fix removes scaling component from the image
matrix. Fix by Alex Cherepanov for SF bug #482033. (gdevpsim.c [1.9]:
2002/04/10 02:34:01 ray)
	- Initializes the green and blue components of cmap and their
multipliers. A floating point exception was occuring on static gray X
displays when these were left at 0. (gdevxcmp.c [1.7]: 2002/04/19 00:04:52
jack)
	- Laserjet familiy drivers make 2 bytes output when gs is closing.
Now they don't. Fixes SF Bug#427314. (gdevdjet.c [1.9]: 2002/04/19 15:06:54
jeong)
	- Top and bottom margins for BJ10e were incorrect. Now works
corretly as BJ10 manual describes. Fix by Jim Hague (bears). Fixes
SF#477644. (gdevbj10.c [1.7]: 2002/05/08 05:55:26 jeong)
	- Adds "wake up" sequence code to be sent before printing for newer
USB Epson Stylus printers. Thanks to Chris Bagwell for the patch. Fixes
SF#448199 (lib/st640ih.upp [1.2], lib/st640ihg.upp [1.2],
lib/st640p.upp [1.2], lib/st640pg.upp [1.2], lib/st640pl.upp [1.2],
lib/st640plg.upp [1.2], lib/stc.upp [1.3], lib/stc1520h.upp [1.3],
lib/stc2.upp [1.3], lib/stc200_h.upp [1.2], lib/stc2_h.upp [1.3],
lib/stc2s_h.upp [1.3], lib/stc300.upp [1.2], lib/stc300bl.upp [1.2],
lib/stc300bm.upp [1.2], lib/stc500p.upp [1.3], lib/stc500ph.upp [1.3],
lib/stc600ih.upp [1.3], lib/stc600p.upp [1.3], lib/stc600pl.upp [1.3],
lib/stc640p.upp [1.2], lib/stc800ih.upp [1.3], lib/stc800p.upp [1.3],
lib/stc800pl.upp [1.3], lib/stc_h.upp [1.3], lib/stc_l.upp [1.3],
lib/stcany.upp [1.3], lib/stcany_h.upp [1.2]: 2002/05/08 06:26:56 jeong)
	- Fix to process documents which have multiple pages and require
differing media sizes. Thanks to Doug Durning for the patch. Fixes
SF#551993. (gdevdljm.c [1.7]: 2002/05/08 08:43:35 jeong)
	- Fixing uninitialized pointers in psdf_binary_writer on VMerror.
(gdevpsdu.c [1.15]: 2002/05/16 08:50:52 igor)
	- Fix : removing unuseful code from the image stream writer in
pdfwrite. (gdevpsdf.h [1.12], gdevpsdu.c [1.16]: 2002/05/21 20:07:11 igor)
	- The pswrite now does not open and close the device for a page's
output and does not set 'is_open = false'. SourceForge bug #551623.
(gdevps.c [1.25]: 2002/05/30 03:21:53 jeong)
	- Fixes minor compilation errors introduced by the recent image
compression chooser code. (gdevpsds.h [1.8]: 2002/06/14 06:35:08 lpd)
	- An incorrect subscript computation, and an incorrect choice of
allocator, in the image compression chooser code caused SEGVs. Fixes 14 of
the 21 ERRORs in the 2002-06-13 pdfwrite regression report.
(gdevpsds.c [1.8]: 2002/06/14 07:48:59 lpd)
	- Implementing pdfmark stream compression. Source forge bug "[
558476 ] file attachment annotation uncompressed". (gdevpsdf.h [1.16],
gdevpsds.c [1.9]: 2002/06/16 22:07:55 igor)
	- LockDistillerParams locked device parameters besides Distiller
parameters. Source forge bug "[ 567464 ] LockDistillerParams locks page
size". (gdevpsdp.c [1.12]: 2002/06/18 18:28:33 igor)
	- Correct the display device color mapping functions that were
wrong. Change 4-bit mapping functions to standard VGA. Correct 16-bit native
RGB and 32-bit xRGB mapping functions. Add RGB to color mapping functions
for CMYK formats, needed by anti-aliasing. (gdevdsp.c [1.11]: 2002/06/21
22:30:09 ghostgum)
	- The GC descriptors for psdf_binary_writer and pdf_image_writer
weren't updated when the image compression chooser was added, leading to
occasional memory access crashes. (gdevpsdf.h [1.17]: 2002/06/27 04:03:03
lpd)

gs_exit() cleanup. gs_exit() is renamed gs_to_exit() since it is an about to
terminate cleanup function, it always returns. Both gs_to_exit() and
gs_abort are client provided functions. The client can have its own special
cleanup on exit, and the client can decide what it wants to do in the abort
case: exit, setjump/longjump, ... gp_do_exit() is the way for the client to
call a system independent exit() this allows for different exit codes on
unix and vms for instance. Only the client can call this, if so desired from
their gs_abort(). (gdevpm.c [1.7]: 2002/05/14 14:59:41 stefan)

&gt; Fix: The epswrite did not generate correct bounding box when &gt; the
left or top coord of the bbox for original file is greater than 0. &gt; Now
works correctly. SF#547768, #448241. (gdevps.c [1.26]: 2002/05/30 03:23:12
jeong)

Implementing dynamic choice of image compression filter. Source forge bug "[
552949 ] pdfwrite produces bigger pdf than adobe". (gdevpsdf.h [1.13],
gdevpsdi.c [1.20], gdevpsds.c [1.7], gdevpsds.h [1.7]: 2002/06/09 22:13:09
igor)

Cleans up a number of design problems in the font callback procedures: 1)
Eliminates the gx_xfont_callbacks structure entirely. The known_encode
procedure is no longer needed: the new facilities in gscencs.[hc] make it
unnecessary, and none of the three implementors of the xfont interface use
it. See below regarding glyph_name. This is a NON-BACKWARD- COMPATIBLE
change for all clients of the glyph_name and known_encode procedures (of
which there are, respectively, 11 and 0 in the current code base), and for
all places that define gs_font_procs structures statically or initialize the
callbacks dynamically (of which there are currently only two, one in
gsfont.c and one in zbfont.c). There are also 3 identical places in the
GhostPCL code (in plfont.c, plffont.c, and plufont.c) that will require very
minor changes, with a small net reduction in code. 2) Deletes the
char_xglyph2 procedure from gx_xfont_procs. It is optional, and none of the
three current xfont implementations implements it. 3) Changes the
char_xglyph procedure in gx_xfont_procs so that instead of a glyph_name
callback procedure, it takes a const gs_string * argument that is the actual
glyph name (if the glyph is not gs_no_glyph and is not a CID). This is a
NON-BACKWARD-COMPATIBLE change for both clients and implementors of xfonts.
(At present, there are 3 implementors, none of which use the glyph_name
callback, and a single client call in gxccache.c.) 4) Moves the glyph_name
procedure, which is still required for other purposes, to gs_font_procs,
changing its declaration to int (*glyph_name)(gs_font *font, gs_glyph glyph,
gs_const_string *pstr); This is a NON-BACKWARD-COMPATIBLE change for
clients, but they must already change because of item (1) above. 5)
Eliminates the registered_Encodings array in the PostScript interpreter,
substituting the C representation of the known Encodings.
(gdevmacxf.c [1.6], gdevmsxf.c [1.5], gdevxxf.c [1.8]: 2002/06/09 23:08:22
lpd)

Corrects a spelling error ("samile" =&gt; "sample"), and changes the name of
pdf_setup_compression_chooser to psdf_... because the procedure can
eventually be shared between pdfwrite and pswrite. (gdevpsdf.h [1.14],
gdevpsdi.c [1.21]: 2002/06/14 06:03:08 lpd)

Removes all uses of the now-deprecated Pn macros from all remaining .c
files. (gdev8510.c [1.6], gdevbmpa.c [1.6], gdevcdj.c [1.10],
gdevcgml.c [1.5], gdevdjtc.c [1.6], gdevdm24.c [1.6], gdevepsc.c [1.6],
gdevepsn.c [1.6], gdevherc.c [1.5], gdevhl7x.c [1.9], gdevifno.c [1.5],
gdevmgr.c [1.5], gdevmswn.c [1.7], gdevmsxf.c [1.6], gdevokii.c [1.6],
gdevpbm.c [1.6], gdevpcfb.c [1.5], gdevpcx.c [1.5], gdevpjet.c [1.6],
gdevps.c [1.27], gdevpsim.c [1.10], gdevs3ga.c [1.5], gdevsco.c [1.6],
gdevstc.c [1.5], gdevsvga.c [1.5], gdevtfax.c [1.7], gdevupd.c [1.8],
gdevwddb.c [1.6], gdevwprn.c [1.6], gdevx.c [1.13], gdevxalt.c [1.7],
gdevxini.c [1.13]: 2002/06/16 05:48:54 lpd)

Removes all uses of the now-deprecated Pn macros from driver-related headers
(gdev*.h). (gdev8bcm.h [1.5], gdevbjcl.h [1.6], gdevbmp.h [1.5],
gdevcgml.h [1.5], gdevdcrd.h [1.5], gdevdljm.h [1.7], gdevfax.h [1.5],
gdevmeds.h [1.5], gdevmswn.h [1.5], gdevpccm.h [1.6], gdevpcfb.h [1.5],
gdevpcl.h [1.8], gdevpsdf.h [1.15], gdevpsds.h [1.9], gdevpsu.h [1.7],
gdevpxut.h [1.5], gdevstc.h [1.5], gdevsvga.h [1.5], gdevtfax.h [1.7],
gdevtifs.h [1.6], gdevx.h [1.7]: 2002/06/16 07:25:26 lpd)

To improve clarity, use hexadecimal for -dDisplayFormat=16#XXXXXX in the
display device example code. (gdevdsp.c [1.10]: 2002/06/19 11:35:06
ghostgum)

Add a 32 bit/pixel CMYK driver named pam using the Portable Arbitrary Map
file format, one of the netpbm family. This driver has problems with
anti-aliasing that will be fixed in a later patch. (gdevpbm.c [1.7]:
2002/06/22 03:44:40 ghostgum)

</pre><h2><a name="7.21-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- Fix : pdfwrite wrongly computed text width for fonts with unusual
font matrix. Source Forge bug "[ 535401 ] euro glyph misplaced after
pdfwrite". (gdevpdff.c [1.27], gdevpdfs.c [1.14]: 2002/04/11 15:59:19 igor)
	- pdfwrite only updated the overprint flag in the graphics state for
fill and stroke, not for images. Fixes SourceForge #525712.
(gdevpdfg.c [1.18]: 2002/04/12 19:28:15 lpd)
	- Adding any of the base 14 fonts to the NeverEmbed list produced
broken output in PDF level 1.3 and above. Makes the 'default', 'screen', and
'ebook' parameter sets not embed the base 14 fonts. (The documentation
already said this was the case, even though it wasn't.) This is a partial
fix for SourceForge bug #438957. (gdevpdff.c [1.28]: 2002/04/12 19:38:33
lpd)
	- If a shading's Function entry was an array of functions rather
than a single function, pdfwrite wrote out an invalid Function object with a
FunctionType of -1. (gdevpdfu.c [1.23]: 2002/04/14 06:51:45 lpd)
	- pdfwrite would incorrectly output CalGray or CalRGB color spaces
even if the range of the color space was not [0 1] or [0 1 0 1 0 1]
respectively. (gdevpdfc.c [1.24]: 2002/04/14 07:09:51 lpd)
	- Fix : pdfwrite wrongly computed line width for fonts with
PaintType 2. (gdevpdfs.c [1.15]: 2002/04/16 10:18:59 igor)
	- When pdfwrite wrote out a fill with an uncolored (mask) Pattern,
all colors other than black were converted to white. (Bug found during
unrelated pdfwrite development.) (gdevpdfb.c [1.10]: 2002/04/29 04:32:32
lpd)
	- pdfwrite could not convert a CIEBased color space with input
domains larger than [0..1] to an ICCBased space, because the ICC profile
specification inherently limits inputs to this range. The fix required
explicitly rescaling the decoding of the color data in many different places
when such a color space was involved: the Decode arrays in images; the
tintTransform functions for Separation and DeviceN color spaces; the
Background, Function, and Decode for shadings. While this was only a
performance problem, it could be a very severe one, because it caused images
using such extended-domain CIEBased spaces to revert to zillions of tiny
rectangles. This change completes the ability of pdfwrite to convert
PostScript color spaces, aside from DeviceN and Separation spaces which are
the subject of a separate project. (gdevpdfb.c [1.11], gdevpdfc.c [1.26],
gdevpdfc.h [1.4], gdevpdfg.h [1.12], gdevpdfi.c [1.30], gdevpdfk.c [1.4],
gdevpdfu.c [1.24], gdevpdfv.c [1.13], gdevpdfx.h [1.40]: 2002/05/07 19:56:46
lpd)
	- If a Type 1 font had an initial FontMatrix other than [0.001 0 0
0.001 0 0] and also had a Metrics entry, pdfwrite would produce incorrect
character spacing. Fixes SourceForge #551077. (Similar to SourceForge
#535401.) (gdevpdfs.c [1.16]: 2002/05/09 06:28:27 lpd)
	- pdfwrite relied on the PostScript interpreter to load and make
available the known encodings and glyph sets identified in src/gsccode.h.
With this change, pdfwrite can now be used without a PostScript interpreter,
and with fonts that do not implement the known_encode callback.
(gdevpdfs.c [1.17]: 2002/05/12 22:38:08 lpd)
	- Fixes a typo in the comment before pdf_do_subset_font.
(gdevpdfe.c [1.16]: 2002/05/17 16:15:54 lpd)
	- Fix : improving image stream writer in pdfwrite.
(gdevpdfi.c [1.31], gdevpdfj.c [1.11]: 2002/05/19 22:37:38 igor)
	- completing "remove dependency of pdfwrite on PS"
(gdevpdfs.c [1.18]: 2002/05/20 06:33:36 igor)
	- Fix : removing unuseful code from the image stream writer in
pdfwrite. (gdevpdfj.c [1.12]: 2002/05/21 20:07:11 igor)
	- Prevent call to pdfmark_make_dest when no /Page or /View is given,
so to avoid creating pdf_page_id()'s for invalid page numbers. Fixes SF
#548285. (gdevpdfm.c [1.19]: 2002/05/22 05:02:54 raph)
	- The recent (2002/05/19 22:37:38) change broke in-line images --
they were now written with no data between the ID and the EI. Reverts the
two affected files (gdevpdf[ij].c) to their previous state.
(gdevpdfi.c [1.32], gdevpdfj.c [1.13]: 2002/05/28 06:13:29 lpd)
	- Fix : ignoring small noise while checking for identity color
transfer map. A partial fix for Source forge bug "[ 552949 ] pdfwrite
produces bigger pdf than adobe". (gdevpdfg.c [1.21]: 2002/06/03 16:18:34
igor)
	- Fixing a type cast in gdevpdfv.c . (gdevpdfv.c [1.16]: 2002/06/12
20:04:42 igor)
	- Fixes minor compilation errors introduced by the recent image
compression chooser code. (gdevpdfi.c [1.37], gdevpdfj.c [1.17]: 2002/06/14
06:35:08 lpd)
	- An incorrect subscript computation, and an incorrect choice of
allocator, in the image compression chooser code caused SEGVs. Fixes 14 of
the 21 ERRORs in the 2002-06-13 pdfwrite regression report.
(gdevpdfj.c [1.18]: 2002/06/14 07:48:59 lpd)
	- pdfwrite produced incorrect output for ShadingType 6 and 7
shadings if the coordinate and color data came from an array rather than a
stream or string. Partially fixes pdfwrite regressions 446-01.ps and
483-05.ps. (gdevpdfv.c [1.17]: 2002/06/14 15:47:20 lpd)
	- If a Shading used a color space other than the 3 basic Device
spaces, its ColorSpace reference could be corrupted, because the ColorSpace
object might be freed before the Shading was written. Finishes fixing
pdfwrite regressions 446-01.ps and 483-05.ps. (gdevpdf.c [1.47],
gdevpdfu.c [1.27], gdevpdfx.h [1.44]: 2002/06/14 15:51:55 lpd)
	- pdfwrite accepted imagemasks with invalid parameters, producing
invalid PDF output. Fixes the pdfwrite regression ERROR for 269-01.ps.
(gdevpdfi.c [1.38]: 2002/06/14 16:03:21 lpd)
	- In pdfwrite, an error in reading an ICCBased profile stream could
cause an attempt to free an object twice; ICCBased color spaces always
caused an error. Fixes pdfwrite regression ERROR in Fixed_Original.pdf.
(gdevpdfk.c [1.5]: 2002/06/14 16:29:26 lpd)
	- pdfwrite ignored the return status from sgets when reading ICC
profiles and shading data. (gdevpdfk.c [1.6], gdevpdfo.c [1.17],
gdevpdfo.h [1.13], gdevpdfv.c [1.18]: 2002/06/15 17:31:19 lpd)
	- Implementing pdfmark stream compression. Source forge bug "[
558476 ] file attachment annotation uncompressed". (gdevpdfm.c [1.25],
gdevpdfo.c [1.18], gdevpdfo.h [1.15]: 2002/06/16 22:07:55 igor)
	- psf_write_truetype_font and psf_write_cid2_font copied hmtx and
vmtx rather than getting the actual metrics through the font virtual
procedures, which produced incorrect output if the font was defined
incrementally and used MetricsCount. (This only affected pdfwrite.)
(gdevpdfe.c [1.17]: 2002/06/18 00:31:20 lpd)
	- LockDistillerParams locked device parameters besides Distiller
parameters. Source forge bug "[ 567464 ] LockDistillerParams locks page
size". (gdevpdfp.c [1.27]: 2002/06/18 18:28:33 igor)
	- Update pdf_image_writer::data in pdf_choose_compression.
(gdevpdfj.c [1.19]: 2002/06/19 15:37:22 igor)
	- (pdfwrite) Force completion of incomplete images encoded with DCT.
Source Forge bug "[ 508675 ] ps2pdf generates broken pdf"
(gdevpdfg.h [1.16], gdevpdfi.c [1.39], gdevpdfj.c [1.20]: 2002/06/22
17:19:48 igor)
	- Fixes various bugs in the still pre-alpha new pdfwrite text code.
(gdevpdtf.c [1.2], gdevpdts.c [1.2], gdevpdts.h [1.2]: 2002/06/25 08:18:37
lpd)
	- The new pdfwrite text code didn't keep track of which CIDs were
used for CIDFonts. After this fix, the new code processes the
HeiseiMinStd.pdf file from the regression suite correctly.
(gdevpdtc.c [1.2]: 2002/06/25 17:32:08 lpd)
	- Fixes more bugs in the new pdfwrite text code. Type 3 bitmap fonts
now appear to work correctly. (gdevpdtf.c [1.3], gdevpdti.c [1.2],
gdevpdts.c [1.3], gdevpdtw.c [1.2]: 2002/06/25 21:17:42 lpd)
	- The new pdfwrite text code sometimes didn't write font changes
correctly. The new code now has processed a substantial file correctly,
although all non-CID-based fonts are converted to bitmaps.
(gdevpdts.c [1.4]: 2002/06/26 00:57:30 lpd)
	- The GC descriptors for psdf_binary_writer and pdf_image_writer
weren't updated when the image compression chooser was added, leading to
occasional memory access crashes. (gdevpdfg.h [1.17], gdevpdfj.c [1.21]:
2002/06/27 04:03:03 lpd)
	- Fixes more bugs in the new pdfwrite text code. This code can now
process the entire regression suite with no crashes. (The output has many
problems, but pdfwrite itself does not crash.) (gdevpdtc.c [1.4],
gdevpdte.c [1.3], gdevpdtf.c [1.5], gdevpdts.c [1.6], gdevpdtt.h [1.3]:
2002/06/27 04:19:57 lpd)
	- Fixes bugs and adds further logic to the new pdfwrite text code.
The code now recognizes and correctly handles the standard 14 fonts (at
least some of the time) as well as all other supported font types.
(gdevpdtb.c [1.3], gdevpdtb.h [1.2], gdevpdtd.c [1.3], gdevpdtd.h [1.2],
gdevpdte.c [1.4], gdevpdtf.c [1.6], gdevpdtf.h [1.2], gdevpdtt.c [1.3]:
2002/06/27 17:53:53 lpd)
	- (pdfwrite) Completely replacing the Rotation computation logics.
Source Forge bug "[ 475147 ] GS 7.03 produces everthing upsidedown"
(gdevpdf.c [1.49]: 2002/06/28 10:42:18 igor)
	- An extra "&amp;" in the recent page rotation change caused a SEGV.
(gdevpdf.c [1.50]: 2002/06/28 14:36:04 lpd)
	- Fixes further bugs in new pdfwrite text code, primarily relating
to character spacing. Many bugs still remain. (gdevpdtb.c [1.4],
gdevpdtc.c [1.5], gdevpdte.c [1.6], gdevpdti.c [1.3], gdevpdts.c [1.8],
gdevpdts.h [1.4], gdevpdtt.c [1.5]: 2002/06/28 22:36:19 lpd)

Changes gs_cmap_t (internal representation of CMaps) to an abstract
superclass with multiple implementations: standard Adobe CMapType 1,
TrueType 16-bit cmap (Platform 3, Encoding 1, Format 4), and one-for-one.
Adds the ability to designate a CMap as Unicode-based. Enhances pdfwrite so
that composite fonts (including those based on TrueType Unicode fonts) with
Unicode-based CMaps are embedded in the PDF file with the original text
preserved and with an appropriate ToUnicode CMap, making the text searchable
in Acrobat. (gdevpdf.c [1.44], gdevpdff.h [1.17], gdevpdfs.c [1.13],
gdevpdfw.c [1.16], gdevpdfx.h [1.39]: 2002/04/08 21:02:44 lpd)

Restores some performance lost as a result of the fix for SourceForge
#495414, by skipping a request for glyph widths which is redundant if the
font doesn't have Metrics or CDevProc. Addresses SourceForge #451456 (a
general request for better pdfwrite performance), which will be closed after
this change. (gdevpdff.c [1.26]: 2002/04/09 23:31:44 lpd)

Changes two calls of cos_dict_find to cos_dict_find_c_key (hygiene only).
(gdevpdfm.c [1.17]: 2002/04/11 04:12:17 lpd)

Removes all tests for pdfwrite CompatibilityLevel &lt; 1.2, since these are
always false: the lowest supported PDF output level has been 1.2 for quite a
long time. (gdevpdfb.c [1.9], gdevpdfe.c [1.15], gdevpdfg.c [1.19],
gdevpdfi.c [1.29], gdevpdfm.c [1.18], gdevpdfu.c [1.22], gdevpdfw.c [1.17]:
2002/04/12 19:34:15 lpd)

Changes variables named 'unit' to 'unitary' for better readability.
(gdevpdfc.c [1.25]: 2002/04/15 15:17:06 lpd)

Changes a temporary buffer, formerly unnecessarily declared static, to being
allocated on the stack. (gdevpdfg.c [1.20]: 2002/04/19 06:53:49 lpd)

Refactors the pdfwrite driver so that none of the structures, and very few
of the procedures, for handling text and fonts are visible to the main body
of code, in preparation for a major rewrite of the text and font code.
(gdevpdf.c [1.45], gdevpdfb.c [1.12], gdevpdfd.c [1.19], gdevpdff.c [1.29],
gdevpdff.h [1.18], gdevpdfs.c [1.19], gdevpdft.c [1.40], gdevpdft.h [1.1],
gdevpdfu.c [1.25], gdevpdfw.c [1.18], gdevpdfx.h [1.41]: 2002/05/20 07:07:15
lpd)

Adds a return code to two internal procedures previously declared as not
returning a value. (gdevpdft.c [1.41], gdevpdfu.c [1.26], gdevpdfx.h [1.42]:
2002/05/26 04:58:28 lpd)

Adding 2 new functions to public interface of Cos objects. A preparation for
Source forge bug "[ 552949 ] pdfwrite produces bigger pdf than adobe".
(gdevpdfo.c [1.13], gdevpdfo.h [1.10]: 2002/06/03 16:20:10 igor)

Changing PDF image writer with writing all images through cos_write_stream.
Another preparation for Source forge bug "[ 552949 ] pdfwrite produces
bigger pdf than adobe". (gdevpdfb.c [1.13], gdevpdfi.c [1.33],
gdevpdfj.c [1.14], gdevpdfo.c [1.14], gdevpdfo.h [1.11], gdevpdfv.c [1.14]:
2002/06/06 10:36:12 igor)

Implementing dynamic choice of image compression filter. Source forge bug "[
552949 ] pdfwrite produces bigger pdf than adobe". (gdevpdfb.c [1.14],
gdevpdfg.h [1.13], gdevpdfi.c [1.34], gdevpdfj.c [1.15], gdevpdfv.c [1.15]:
2002/06/09 22:13:08 igor)

Cleans up a number of design problems in the font callback procedures: 1)
Eliminates the gx_xfont_callbacks structure entirely. The known_encode
procedure is no longer needed: the new facilities in gscencs.[hc] make it
unnecessary, and none of the three implementors of the xfont interface use
it. See below regarding glyph_name. This is a NON-BACKWARD- COMPATIBLE
change for all clients of the glyph_name and known_encode procedures (of
which there are, respectively, 11 and 0 in the current code base), and for
all places that define gs_font_procs structures statically or initialize the
callbacks dynamically (of which there are currently only two, one in
gsfont.c and one in zbfont.c). There are also 3 identical places in the
GhostPCL code (in plfont.c, plffont.c, and plufont.c) that will require very
minor changes, with a small net reduction in code. 2) Deletes the
char_xglyph2 procedure from gx_xfont_procs. It is optional, and none of the
three current xfont implementations implements it. 3) Changes the
char_xglyph procedure in gx_xfont_procs so that instead of a glyph_name
callback procedure, it takes a const gs_string * argument that is the actual
glyph name (if the glyph is not gs_no_glyph and is not a CID). This is a
NON-BACKWARD-COMPATIBLE change for both clients and implementors of xfonts.
(At present, there are 3 implementors, none of which use the glyph_name
callback, and a single client call in gxccache.c.) 4) Moves the glyph_name
procedure, which is still required for other purposes, to gs_font_procs,
changing its declaration to int (*glyph_name)(gs_font *font, gs_glyph glyph,
gs_const_string *pstr); This is a NON-BACKWARD-COMPATIBLE change for
clients, but they must already change because of item (1) above. 5)
Eliminates the registered_Encodings array in the PostScript interpreter,
substituting the C representation of the known Encodings.
(gdevpdff.c [1.30], gdevpdfs.c [1.20], gdevpdfw.c [1.19]: 2002/06/09
23:08:22 lpd)

Corrects a typo in the RCS Id line. (gdevpdft.h [1.2]: 2002/06/12 18:09:18
lpd)

Adds stubs for the new PDF 1.4 pdfmark types, and clearly marks all
unimplemented pdfmark types as such. (gdevpdfm.c [1.20]: 2002/06/12 23:26:54
lpd)

Implements the /APPEND pdfmark. (gdevpdfm.c [1.21]: 2002/06/12 23:42:30 lpd)

Workaround for unimplemented NI, to avoid later typechecks on .PUTDICT. This
patch adds the dictionary cos object, but does not push it in a namespace to
be popped on occurrence of an image, as defined in section 6.2 of the
pdfmark reference (TN 5150). Allows test file of SourceForge bug #567653 to
run to completion. (gdevpdfm.c [1.22]: 2002/06/13 00:17:53 raph)

Adds two new procedures to pdfwrite's Cos object package, to support
namespaces and /NI pdfmark. (gdevpdfo.c [1.15], gdevpdfo.h [1.12]:
2002/06/13 20:40:30 lpd)

Implements namespaces (/NamespacePush, /NamespacePop pdfmarks) and the /NI
pdfmark for named images. Fixes SourceForge #567653, replacing the
workaround in revision 1.22 of src/gdevpdfm.c. (gdevpdf.c [1.46],
gdevpdfg.h [1.14], gdevpdfi.c [1.35], gdevpdfj.c [1.16], gdevpdfm.c [1.23],
gdevpdfr.c [1.8], gdevpdfx.h [1.43]: 2002/06/14 05:53:38 lpd)

Corrects a spelling error ("samile" =&gt; "sample"), and changes the name of
pdf_setup_compression_chooser to psdf_... because the procedure can
eventually be shared between pdfwrite and pswrite. (gdevpdfi.c [1.36]:
2002/06/14 06:03:08 lpd)

Improves the comment for cos_dict_unadd. (gdevpdfo.c [1.16]: 2002/06/15
16:58:51 lpd)

Improves a few comments, and changes pdf_write_font_resources to
pdf_close_text_document for greater clarity. (gdevpdf.c [1.48],
gdevpdfb.c [1.15], gdevpdff.h [1.19], gdevpdfm.c [1.24], gdevpdfs.c [1.21],
gdevpdfu.c [1.28], gdevpdfw.c [1.20], gdevpdfx.h [1.45]: 2002/06/15 21:11:53
lpd)

Removes all uses of the now-deprecated Pn macros from all remaining .c
files. (gdevpdfb.c [1.16], gdevpdfg.c [1.22], gdevpdfp.c [1.26],
gdevpdfs.c [1.22], gdevpdft.c [1.42], gdevpdfu.c [1.29]: 2002/06/16 05:48:55
lpd)

Removes all uses of the now-deprecated Pn macros from driver-related headers
(gdev*.h). (gdevpdff.h [1.20], gdevpdfg.h [1.15], gdevpdfo.h [1.14],
gdevpdfx.h [1.46]: 2002/06/16 07:25:26 lpd)

Makes pdf_write_font_bbox public, for use by the new pdfwrite text code.
(gdevpdfu.c [1.30], gdevpdfw.c [1.21], gdevpdfx.h [1.47]: 2002/06/21
22:41:16 lpd)

Corrects an error in the computation of the (unused) value
st_device_pdf_max_ptrs. (gdevpdfx.h [1.48]: 2002/06/24 00:49:35 lpd)

Changes the internal name st_pdf_font to st_pdf_font_resource for
compatibility with the new text code. (gdevpdff.h [1.21], gdevpdfu.c [1.31],
gdevpdfx.h [1.49]: 2002/06/24 05:35:59 lpd)

Adds a complete rewrite of the font and text code in pdfwrite, based on
copying fonts incrementally to stable memory rather than trying to deal with
fonts being freed at unpredictable times. Should fix a large number of
current SourceForge bugs when completed: however, the code is currently in
pre-alpha state and is not usable on any realistic input. The API is
compatible with the previous pdfwrite text code; the choice of which set to
use is controlled by a single, documented line in src/devs.mak.
(gdevpdt.c [1.1], gdevpdt.h [1.1], gdevpdtb.c [1.1], gdevpdtb.h [1.1],
gdevpdtc.c [1.1], gdevpdtd.c [1.1], gdevpdtd.h [1.1], gdevpdte.c [1.1],
gdevpdtf.c [1.1], gdevpdtf.h [1.1], gdevpdti.c [1.1], gdevpdti.h [1.1],
gdevpdts.c [1.1], gdevpdts.h [1.1], gdevpdtt.c [1.1], gdevpdtt.h [1.1],
gdevpdtw.c [1.1], gdevpdtw.h [1.1], gdevpdtx.h [1.1]: 2002/06/25 01:51:32
lpd)

In the new pdfwrite text code, fixes bugs and adds new logic for handling
encoded (Type 1/2 and TrueType) fonts. The code now handles simple fonts of
these types. (gdevpdtb.c [1.2], gdevpdtc.c [1.3], gdevpdtd.c [1.2],
gdevpdte.c [1.2], gdevpdtf.c [1.4], gdevpdts.c [1.5], gdevpdts.h [1.3],
gdevpdtt.c [1.2], gdevpdtt.h [1.2], gdevpdtw.c [1.3]: 2002/06/26 19:03:00
lpd)

Further improves the new pdfwrite text code. The new code now demonstrably
fixes several of the outstanding SourceForge bugs. (gdevpdte.c [1.5],
gdevpdtf.c [1.7], gdevpdtf.h [1.3], gdevpdts.c [1.7], gdevpdtt.c [1.4],
gdevpdtw.c [1.4]: 2002/06/28 01:48:41 lpd)

Committing in . Corrected type cast Modified Files: gs/src/gdevpdtf.c
----------------------------------------------------------------------
(gdevpdtf.c [1.8]: 2002/07/03 13:58:14 joukj)

</pre><h2><a name="7.21-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- Remove "/tfopdict undef". tfopdict was defined in v.6.01 but the
definition was since removed. Fix for bug #511232 by Alex Cherepanov.
(lib/pdf_draw.ps [1.44]: 2002/04/10 02:23:08 ray)
	- Handle Widths and Encoding arrays in PDF Font objects that are too
small by using reasonable defaults. Adobe Acrobat Reader handles files with
these problems. Fix for Artifex customer 861 for SourceForge bug#538398.
(lib/pdf_font.ps [1.32]: 2002/04/10 15:16:00 ray)
	- Annotations with empty AP dictionary caused a failure. Providing
more tolerance rather such APs are invalid. Source Forge bug "[ 538428 ]
empty appearance streams". (lib/pdf_draw.ps [1.45]: 2002/04/29 09:59:27
igor)
	- More tolerance to inconsistent stream length in PDF reader. Source
Forge bug "[ 538042 ] /syntaxerror in --token--". (lib/pdf_base.ps [1.21]:
2002/04/30 10:46:20 igor)
	- More compatibility to Adobe interpreters in 'eexec'. This is
NON-BACKWARD-COMPATIBLE change. Now eexec skips all whitespaces at the
beginning of input stream, except for PFBDecode output. Thanks to L. Peter
Deutsch for participation. Source Forge bug "[ 428891 ] Undefined commands
interpreting Postscri". (lib/pdf_font.ps [1.33]: 2002/05/01 23:15:23 igor)
	- Make PDF reader tolerant to singular matrix in Tj. Source Forge
bug "[ 538055 ] /undefinedresult in --currentpoint--". (The solution was
suggested by L. Peter Deutsch.) (lib/pdf_ops.ps [1.24]: 2002/05/08 15:51:58
igor)
	- Acrobat Reader apparently ignores or clamps 'setflat' parameter
values when rendering PDF. This change emulates that behaviour by clamping
the flatness parameter to a max of 1. Fixes SourceForge bug #555657 for
Artifex customer #150. (lib/pdf_draw.ps [1.46]: 2002/05/22 17:29:37 ray)
	- GS doesn't process PDF files without the required key /FontName in
FontDescriptor dict. Adobe Acrobat Reader handles these out of spec files,
so we also allow this. To fix this, now uses /BaseFont key when /FontName is
missing. SF#515475. (lib/pdf_font.ps [1.34]: 2002/05/30 03:32:03 jeong)
	- Acrobat Reader apparently processes badly formed numbers that have
a '-' after the '.' by ignoring the fraction. If this type of tokenerror is
detected, issue an error message and change the scanning rules to do the
same as Adobe. SourceForge bug #558473 for Artifex customer #561.
(lib/pdf_base.ps [1.22]: 2002/05/31 17:14:34 ray)
	- Yet another change to allow our PDF intperpreter to tolerate an
out of spec PDF file that Acrobat Reader (and Glance pdf tools) handle. This
file had an 'endobj' without an 'endstream' terminating a stream. Fixes SF
bug #570262 for Artifex customer #1060. (lib/pdf_base.ps [1.23]: 2002/06/18
05:37:05 ray)
	- Correct the pdfformaterror message issued when an 'endobj' is seen
instead of 'endstream' and add a comment in the file about the error. Thanks
to Dan Coby for the suggestions improving the previous patch.
(lib/pdf_base.ps [1.24]: 2002/06/18 06:29:21 ray)
	- Use actual white point in /Lab spaces, rather than relying on
default. Fixes problem in regression file test.pdf. (lib/pdf_draw.ps [1.47]:
2002/06/20 20:26:48 raph)
	- Prevents /typecheck in --length-- if given a file with an Encoding
dictionary with a Differences list has no BaseEncoding. This is perfectly
legal -- the base encoding is the font's built-in encoding or
StandardEncoding, per the PDF Reference (depending on whether or not the
font is flagged as "symbolic"). Fixes SF bug #566042.
(lib/pdf_font.ps [1.37]: 2002/06/21 06:49:50 ray)
	- Previous fix for SF bug #566042 caused a regression by defining an
Encoding array filled with .notdef too aggresively. Only create this array
when we need to update it with /Differences. Some regression files were
onechar.pdf, xngnews.pdf. The testfont.pdf file of 566042 still runs OK.
(lib/pdf_font.ps [1.38]: 2002/06/21 07:46:37 ray)
	- Fixes regressions caused by previous update including errors with
ImageProb2*.pdf and aaon97_p7.pdf. Removes logic that set StandardEncoding
if BaseEncoding wasn't set since this caused aaon97_p7 regression. Only use
.notdefEncoding if updateencoding sees a null encoding input. This is the
"real" fix for SF bug #566042. (lib/pdf_font.ps [1.39]: 2002/06/21 18:38:21
ray)
	- Wrong Widths array entry could sometimes be used when the Encoding
(after Differences applied) mapped codes to the same glyph. Logic introduced
in rev 1.22 only prevented some of the incorrect Width. Fixes SF bug# 570784
for Artifex customer #150. (lib/pdf_font.ps [1.40]: 2002/06/22 05:48:47 ray)
	- If the Differences list in the Encoding of an embedded font in a
PDF was not in increasing order, the encoding array length needed for the
differences could be miscalculated. Thanks to Dave Slattengren for spotting
this. No files had been seen (yet) that tripped on this.
(lib/pdf_font.ps [1.41]: 2002/06/25 18:58:55 ray)
	- Generates pdfformaterror rather than PostScript error for broken
PDF files containing unmatched &gt;&gt;. Workaround for SF bug #553812 for
Artifex customer #580. (lib/pdf_base.ps [1.25]: 2002/06/26 18:35:51 ray)
	- Generates pdfformaterror rather than PostScript error for broken
PDF files containing unmatched &gt;&gt; in trailer. Workaround for SF bug
#571851. (lib/pdf_main.ps [1.50]: 2002/06/26 18:37:16 raph)
	- Add the option -dUseCropBox to set the page size from the CropBox
rather than the MediaBox. This is appropriate when using ghostscript to view
PDF files or convert to bitmaps. It probably isn't appropriate for printing.
Fixes SourceForge bugs #522486, "Wromg size EPS generated from PDF" and
#538267 "Problems with Media Box in PDF and PS interpreter".
(lib/pdf_main.ps [1.51]: 2002/06/28 10:55:43 ghostgum)
	- When drawing PDF annotation links which are missing a /Border,
assume the default /Border [0 0 1]. Previously ghostscript assumed that
links without a /Border should not be drawn, which is contrary to the PDF
specification. (lib/pdf_draw.ps [1.48]: 2002/06/28 23:10:10 ghostgum)
	- If a PDF annotation specified other than the default color with
/C, pass this into the pdfmark logic as /Color. (lib/pdf_main.ps [1.52]:
2002/06/28 23:10:45 ghostgum)
	- (PDF interpreter) wrong stack balance in 'resolvedest'. Source
Forge bug "[ 571912 ] pdfwrite: /rangecheck in --pdfmark--"
(lib/pdf_main.ps [1.53]: 2002/07/01 10:49:38 igor)
	- Set pdfemptycount in .pdfpaintproc so that .pdfcount gives correct
answers when invoked from inside patterns. Fixes SF bug #576572.
(lib/pdf_base.ps [1.26], lib/pdf_draw.ps [1.49]: 2002/07/03 22:10:31 raph)

gs_cjk project : CIDWProc sample implementation Fix by mpsuzuki. (ported
from gs7.05) (lib/pdf_font.ps [1.35]: 2002/06/02 12:02:11 mpsuzuki)

gs_cjk project : replace "min" &amp; "max" by ".min" &amp; ".max". by
mpsuzuki (ported from gs7.05) (lib/pdf_font.ps [1.36],
lib/pdf_main.ps [1.49], lib/pdf_sec.ps [1.10]: 2002/06/02 12:03:28 mpsuzuki)

</pre><h2><a name="7.21-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- Skip the (potentially time consuming) work of setting the color
space if it is the same as the currentcolorspace. Fixes SF #539327 for
Artifex customer #830. (lib/gs_lev2.ps [1.15]: 2002/04/06 01:18:56 ray)
	- Check the return code from gs_upathbbox() and zero the bbox if
there is no current point. Propagate other errors up. Adobe implementations
throw nocurrentpoint error, but this is not valid per the PLRM. Fix for
#520972 by Alex Cherepanov. (zupath.c [1.5]: 2002/04/09 22:54:00 ray)
	- Delete code that caused unshifted arrow keys to enter garbage
chars into the command line buffer. Now arrow keys scroll the image window
regardless of the shift state. Fix by Alex Cherepanov. (dwtext.c [1.8]:
2002/04/09 23:26:29 ray)
	- Fix for #540871. Clean up compiler warnings in zfsample.c. Note:
The addition of two include files in zfsample.c forces a change in
dependencies in int.mak. (zfsample.c [1.6]: 2002/04/11 02:18:14 dan)
	- Adding any of the base 14 fonts to the NeverEmbed list produced
broken output in PDF level 1.3 and above. Makes the 'default', 'screen', and
'ebook' parameter sets not embed the base 14 fonts. (The documentation
already said this was the case, even though it wasn't.) This is a partial
fix for SourceForge bug #438957. (lib/gs_pdfwr.ps [1.16]: 2002/04/12
19:38:33 lpd)
	- The Matrix entry of ShadingType 1 shading dictionaries was
required; it is now (correctly) optional. (zshade.c [1.9]: 2002/04/14
02:48:26 lpd)
	- ShadingType 1 shadings whose Function was an array required the
individual functions to take 1 argument, rather than the correct 2; shadings
whose Function was not an array didn't check that the function took the
correct number of arguments. (The Genoa FTS does not check either of these.)
(zshade.c [1.10]: 2002/04/14 03:10:01 lpd)
	- Fix : Replacing the even-odd filing rule with the non-zero filling
rule for fonts. Source Forge bug "[ 539359 ] problem rendering euro
character". (zchar1.c [1.14]: 2002/04/16 11:03:29 igor)
	- Bump the DEFAULT_VM_THRESHOLD value up to prevent excessive GC.
This is a tuned parameter that may need to be adjusted in the future if
-dNOGC runs significantly faster than the normal case. The previous values
were established a long time ago when memory was a more expensive resource.
Fixes SourceForge bug #421057. (zvmem2.c [1.6]: 2002/04/16 21:41:28 ray)
	- Fix : Type2 interpreter state was wrongly backed up for sbw
fallback. Source Forge bug "[ 541877 ] /invalidfont on Kozuka Mincho".
(zchar1.c [1.15]: 2002/04/18 14:26:27 igor)
	- ShadingType 4-7 shadings with a Function and with data coming from
a stream rather than an array incorrectly expected N value ranges in their
Decode array, where N is the number of components in the color space, rather
than a single range for the function argument. Finishes fixing SourceForge
#546415. (zshade.c [1.11]: 2002/04/20 05:51:52 lpd)
	- Taking off a debbugging code. (zchar1.c [1.16]: 2002/04/21
17:45:41 igor)
	- Previous change to optimize setcolorspace (for SF bug #539327)
caused a regression since the CIE space cache management was confused when
CIEBased (including ICCBased) colorspace was the base space for some other
space such as Pattern, Indexed, DeviceN, Separation. The discussion of the
fix of the cache handling will be in doc/Projects.htm. The .dosetcolorspace
is now used internally when setting up the base space for the "outer"
colorspaces. Fixes regression caused by rev 1.15 of gs_lev2.ps and partial
fix for SF bug #547695. Analysis of problem by L. Peter Deutsch (lpd).
(lib/gs_icc.ps [1.5], lib/gs_lev2.ps [1.17], lib/gs_ll3.ps [1.13]:
2002/04/29 16:59:01 ray)
	- ReusableStreams couldn't handle %diskn devices (or even %os% files
for that matter). Add filename parsing for iodev to make_rfs. Problem showed
as invalidaccess when opening CIDFonts that resided on %disk devices. Fix
for Artifex customer #411. (zfrsd.c [1.8]: 2002/04/29 22:33:50 ray)
	- More compatibility to Adobe interpreters in 'eexec'. This is
NON-BACKWARD-COMPATIBLE change. Now eexec skips all whitespaces at the
beginning of input stream, except for PFBDecode output. Thanks to L. Peter
Deutsch for participation. Source Forge bug "[ 428891 ] Undefined commands
interpreting Postscri". (lib/gs_init.ps [1.55], zmisc1.c [1.6]: 2002/05/01
23:15:23 igor)
	- When CIEBasedDEF or DEFG color space is set, DecodeABC was not set
properly and remained as abc_identity. This caused wrong color generation in
CIEBasedDEFG space. Analysis and fix by L. Peter Deutsch (lpd). Fixes
SF#542786. (zcie.c [1.9]: 2002/05/02 17:47:02 jeong)
	- Allow readonly FontMatrix in font type 9. Thanks for Ray Johnston
for participation. Source Forge bug "[ 551958 ] Problems with CIDFont:
RcPNOWkana-GB". (lib/gs_cidfn.ps [1.24]: 2002/05/06 11:49:30 igor)
	- A rounding problem made installation of CIEBased color spaces
non-idempotent, which could cause seriously incorrect rendering of CIEBased
colors in the sequence [/CIEBased...] setcolorspace, gsave, [/Pattern
[/CIEBased...]] setcolorspace, grestore. Fixes SourceForge bug #547695, q.v.
(opextern.h [1.5], zcie.c [1.10], zcolor.c [1.7], zcontrol.c [1.7]:
2002/05/07 19:51:53 lpd)
	- Correct the VMS exit codes for exit_OK and exit_FAILED which
depend on the compiler (Forrest Cahoon). Return the correct exit code from
main for VMS. (gs.c [1.10]: 2002/05/15 12:11:44 ghostgum)
	- The previous fix for numerical inaccuracies in CIE cache sampling
could lead to extremely long computation times. (zcontrol.c [1.8]:
2002/05/19 15:50:00 lpd)
	- Handle packedarray type of array for /PageSize in dictionary to
setpagedevice. Fixes SF bug #483629 for a nobody. (zmedia2.c [1.7]:
2002/05/24 17:55:06 ray)
	- Acrobat Reader apparently processes badly formed numbers that have
a '-' after the '.' by ignoring the fraction. If this type of tokenerror is
detected, issue an error message and change the scanning rules to do the
same as Adobe. SourceForge bug #558473 for Artifex customer #561.
(iscan.c [1.8], iscan.h [1.7], iscannum.c [1.6], iscannum.h [1.5],
ztoken.c [1.9]: 2002/05/31 17:21:36 ray)
	- Fixes uninitialized memory read of stack-allocated stream in
t_string case of interp(), and in zfilelineedit(). (interp.c [1.11],
ziodev.c [1.10]: 2002/06/05 05:05:08 raph)
	- enumerate_glyph would crash if applied to a subfont of a
CIDFontType 0 font. (Probably only affects font copying, to be used in the
future by pdfwrite.) (zcharout.c [1.9]: 2002/06/08 01:22:26 lpd)
	- Limit the number of %disk devices to 7 to prevent problems with
the Dynalab font installer. Also return %disk devices in numeric order from
devforall and suppress %disk devices from filenameforall to match Adobe.
Also correct documentation of devforall (no pattern string used). Thanks to
Nori Matsushima and Erik Strik for testing of this feature (diskn.dev).
(lib/gs_diskn.ps [1.2], lib/gs_lev2.ps [1.18]: 2002/06/14 04:04:39 ray)
	- .pushpdf14devicefilter was defined in zdfilter.c, but depended on
the optional pdf module's transparency features. Moves the definition of
this routine to the conditionally included ztrans.c. Fix by L. Peter
Deutsch, resolves SourceForge Bug 565019. (zdfilter.c [1.5],
ztrans.c [1.16]: 2002/06/14 09:42:54 giles)
	- Initialization did not abort if an opdef table had more than 16
entries (see opdef.h for more information about this restriction).
(iinit.c [1.7]: 2002/06/14 14:17:25 lpd)
	- As a result of a recent fix, an opdef table had more than 16
entries, causing initialization to abort. (ztrans.c [1.17]: 2002/06/14
14:17:56 lpd)
	- Because of a bug introduced by the removal of known_encode,
accented Type 1/2 font characters defined using the 'seac' operator could
cause an error in pdfwrite. Fixes the recent pdfwrite regression ERROR in
Svd.pdf. (zchar1.c [1.18]: 2002/06/15 04:19:44 lpd)
	- Correct the display device color mapping functions that were
wrong. Change 4-bit mapping functions to standard VGA. Correct 16-bit native
RGB and 32-bit xRGB mapping functions. Add RGB to color mapping functions
for CMYK formats, needed by anti-aliasing. (dpmain.c [1.8], dwimg.c [1.7]:
2002/06/21 22:30:09 ghostgum)
	- Propagate possible errors from pdf_end_image_binary.
(zimage.c [1.9]: 2002/06/22 11:16:12 igor)
	- Make sure that the .pdfmapchars which generates the CharStrings
dictionary includes all of the glyphs mentioned by name in the encoding
array (after the Encoding::Differences are applied). This fixes the ".notdef
substituted for ccaron" problem that occurs after pdf_font.ps rev 1.40 fix
prevents the "typecheck in length" mentioned in SF bug #567580 for Artifex
customer #1110. (lib/gs_ttf.ps [1.15]: 2002/06/25 06:40:10 ray)
	- Fixes two uninitialized memory reads, by zeroing the gs_allocated
field of newly allocated allocators, and the userdict_index field of dict
stacks in newly allocated contexts. (icontext.c [1.11]: 2002/06/26 20:01:53
raph)
	- Fixes uninitialized memory read of stack-allocated stream in
scan_string_token_options() (the implementation of ztoken). (iscan.c [1.10]:
2002/06/26 20:04:12 raph)
	- The filenameforall enumeration for the %os% device. Also unroll
the 'forall' loop when multiple devices are searched so that each invocation
of filenameforall has the same operand stack. (lib/gs_diskn.ps [1.3]:
2002/06/26 23:51:20 ray)
	- Define /buildtime in systemdict because Adobe does so and some
protected fonts use it as ID. Fix provided by Alex Cherepanov. SourceForge
bug #458500. (lib/gs_lev2.ps [1.19]: 2002/06/27 16:35:31 ray)
	- The return status values from 'sgets' were not handled properly.
Now the functions that use 'sgets', check the return status and convert them
into proper gs_errors. SF#569111 (iscanbin.c [1.11]: 2002/07/01 14:27:43
jeong)
	- If the 'resourceforall' operator's procedure operand gets an error
or performs a 'stop', Adobe interpreters return an operand stack with the
four operands to resourceforall removed from the stack. The comments
suggested this was the intent, but the logic did not work this way and
instead left all four operands on the stack. Fixes CSL startup problem for
Artifex customer #150. (lib/gs_res.ps [1.23]: 2002/07/02 18:28:31 ray)

update version numbers after the 7.20 release. (lib/gs_init.ps [1.54]:
2002/04/04 03:14:03 giles)

Moves implementation of TransformPQR procedures in default CRD to zcrd.c for
speed. Fixes SF bug #539327. (lib/gs_lev2.ps [1.16], zcrd.c [1.6]:
2002/04/07 01:10:53 raph)

Changes gs_cmap_t (internal representation of CMaps) to an abstract
superclass with multiple implementations: standard Adobe CMapType 1,
TrueType 16-bit cmap (Platform 3, Encoding 1, Format 4), and one-for-one.
Adds the ability to designate a CMap as Unicode-based. Enhances pdfwrite so
that composite fonts (including those based on TrueType Unicode fonts) with
Unicode-based CMaps are embedded in the PDF file with the original text
preserved and with an appropriate ToUnicode CMap, making the text searchable
in Acrobat. (zcidtest.c [1.1], zfcid1.c [1.11], zfcmap.c [1.12]: 2002/04/08
21:02:44 lpd)

Restores some performance lost as a result of the fix for SourceForge
#495414, by skipping a request for glyph widths which is redundant if the
font doesn't have Metrics or CDevProc. Addresses SourceForge #451456 (a
general request for better pdfwrite performance), which will be closed after
this change. (zchar1.c [1.12]: 2002/04/09 23:31:44 lpd)

FAPI project : fixing a misprint in comment. (fapiufst.c [1.17]: 2002/04/11
16:55:35 igor)

Moves the choice of even-odd vs. winding-number rule for filling Type 1
characters to the beginning of its source file, for greater visibility.
(zchar1.c [1.13]: 2002/04/11 21:44:51 lpd)

Moves the remaining CID-related test operator (.writefont9) to zcidtest.c.
(zcidtest.c [1.2], zfcid0.c [1.13]: 2002/04/11 22:07:36 lpd)

Adds an unnecessary pair of { } to prevent gcc from complaining about an
ambiguous 'else'. (ilocate.c [1.7]: 2002/04/18 05:55:04 lpd)

Adds a make_scaled virtual procedure to Function objects, to create a
modified Function whose N output values are transformed linearly according
to a supplied set of N range parameters. This is the first installment for
implementing conversion of extended-range CIEBased color spaces to ICCBased
spaces in pdfwrite. (ifunc.h [1.8], zfunc.c [1.12]: 2002/04/19 01:17:53 lpd)

Removes the name SystemNames as a name for the system name table.
(lib/gs_btokn.ps [1.9]: 2002/04/19 06:52:25 lpd)

FAPI project : nominalWidthX was wrongly processed for Type 2 fonts. Source
Forge bug "[ 545177 ] (FAPI) wrong glyph placement". (zfapi.c [1.21]:
2002/04/23 17:33:32 igor)

gs_exit() cleanup. gs_exit() is renamed gs_to_exit() since it is an about to
terminate cleanup function, it always returns. Both gs_to_exit() and
gs_abort are client provided functions. The client can have its own special
cleanup on exit, and the client can decide what it wants to do in the abort
case: exit, setjump/longjump, ... gp_do_exit() is the way for the client to
call a system independent exit() this allows for different exit codes on
unix and vms for instance. Only the client can call this, if so desired from
their gs_abort(). (gs.c [1.9], iapi.c [1.7], imain.c [1.24], imain.h [1.6]:
2002/05/14 14:59:41 stefan)

Makes the GC descriptor public for allocating the FDArray of CIDFontType 0
fonts. (zfcid0.c [1.14]: 2002/05/30 13:43:12 lpd)

gs_cjk project : MDRC bug fix pt.1: use signalerror instead stop Fix by
mpsuzuki. (ported from gs7.05) (lib/gs_cmap.ps [1.15]: 2002/06/02 11:53:13
mpsuzuki)

gs_cjk project : MDRC bug fix pt.2: shrink map infos by endcidchar too, to
provide parsing of Adobe-CNS1-4 UCS4 CMap. Fix by mpsuzuki. (ported from
gs7.05) (lib/gs_cmap.ps [1.16]: 2002/06/02 11:53:58 mpsuzuki)

gs_cjk project : return error when we cannot load even CID=0. Fix by
mpsuzuki. (ported from gs7.05) (zfcid0.c [1.15]: 2002/06/02 11:55:28
mpsuzuki)

gs_cjk project : cshow bug patch for CIDFont. proc passed to cshow can
change currentfont internally, in such case, rangecheck error should not be
returned. Fix by Masatake Yamato. (ported from gs7.05) (zchar.c [1.7]:
2002/06/02 11:57:03 mpsuzuki)

gs_cjk project : cshow bug patch for composite font. Fix by Masatake Yamato.
(ported from gs7.05) (zcfont.c [1.5]: 2002/06/02 11:57:34 mpsuzuki)

gs_cjk project : CDevProc patch Fix by Masatake Yamato. (ported from gs7.05)
(zcharout.c [1.8]: 2002/06/02 12:00:54 mpsuzuki)

gs_cjk project : replace "min" &amp; "max" by ".min" &amp; ".max". by
mpsuzuki (ported from gs7.05) (lib/gs_cidfn.ps [1.25],
lib/gs_fonts.ps [1.21], lib/gs_init.ps [1.56], lib/gs_ll3.ps [1.14],
lib/gs_trap.ps [1.6], lib/gs_ttf.ps [1.14], lib/gs_typ32.ps [1.6]:
2002/06/02 12:03:28 mpsuzuki)

Cleans up a number of design problems in the font callback procedures: 1)
Eliminates the gx_xfont_callbacks structure entirely. The known_encode
procedure is no longer needed: the new facilities in gscencs.[hc] make it
unnecessary, and none of the three implementors of the xfont interface use
it. See below regarding glyph_name. This is a NON-BACKWARD- COMPATIBLE
change for all clients of the glyph_name and known_encode procedures (of
which there are, respectively, 11 and 0 in the current code base), and for
all places that define gs_font_procs structures statically or initialize the
callbacks dynamically (of which there are currently only two, one in
gsfont.c and one in zbfont.c). There are also 3 identical places in the
GhostPCL code (in plfont.c, plffont.c, and plufont.c) that will require very
minor changes, with a small net reduction in code. 2) Deletes the
char_xglyph2 procedure from gx_xfont_procs. It is optional, and none of the
three current xfont implementations implements it. 3) Changes the
char_xglyph procedure in gx_xfont_procs so that instead of a glyph_name
callback procedure, it takes a const gs_string * argument that is the actual
glyph name (if the glyph is not gs_no_glyph and is not a CID). This is a
NON-BACKWARD-COMPATIBLE change for both clients and implementors of xfonts.
(At present, there are 3 implementors, none of which use the glyph_name
callback, and a single client call in gxccache.c.) 4) Moves the glyph_name
procedure, which is still required for other purposes, to gs_font_procs,
changing its declaration to int (*glyph_name)(gs_font *font, gs_glyph glyph,
gs_const_string *pstr); This is a NON-BACKWARD-COMPATIBLE change for
clients, but they must already change because of item (1) above. 5)
Eliminates the registered_Encodings array in the PostScript interpreter,
substituting the C representation of the known Encodings. (iccfont.c [1.6],
ifont.h [1.9], lib/gs_init.ps [1.57], zbfont.c [1.13], zchar1.c [1.17]:
2002/06/09 23:08:23 lpd)

Implements the new get_glyph_index font procedure for PostScript Type 42
fonts. (zfont42.c [1.9]: 2002/06/12 22:07:43 lpd)

Removes all uses of the now-deprecated Pn macros from PostScript operator
files (src/z*.c). (zbfont.c [1.14], zcfont.c [1.6], zchar.c [1.8],
zchar1.c [1.19], zchar42.c [1.8], zcharout.c [1.10], zcie.c [1.11],
zcolor.c [1.8], zcolor2.c [1.8], zcontext.c [1.10], zcontrol.c [1.9],
zcrd.c [1.7], zcsindex.c [1.6], zcssepr.c [1.11], zdevice2.c [1.8],
zdouble.c [1.5], zdpnext.c [1.6], zdps.c [1.7], zdps1.c [1.6],
zdscpars.c [1.15], zfile.c [1.22], zfileio.c [1.15], zfilter.c [1.8],
zfont.c [1.6], zfont0.c [1.6], zfont42.c [1.10], zfproc.c [1.12],
zfrsd.c [1.9], zfsample.c [1.7], zfunc4.c [1.11], zgeneric.c [1.6],
zgstate.c [1.5], zht.c [1.5], zht1.c [1.5], zht2.c [1.5], zimage.c [1.8],
zmatrix.c [1.7], zmedia2.c [1.8], zmisc1.c [1.7], zmisc2.c [1.6],
zpath.c [1.5], zpath1.c [1.5], zpcolor.c [1.6], zrelbit.c [1.5],
zshade.c [1.12], ztoken.c [1.10], ztrans.c [1.18], ztype.c [1.6],
zupath.c [1.6], zusparam.c [1.7], zvmem.c [1.7]: 2002/06/16 03:43:50 lpd)

Removes all uses of the now-deprecated Pn macros from PostScript interpreter
support code (src/i*.c). (iapi.c [1.8], iccfont.c [1.7], idebug.c [1.8],
idict.c [1.7], idstack.c [1.5], igc.c [1.8], igcstr.c [1.6],
ilocate.c [1.8], imain.c [1.25], imainarg.c [1.21], iname.c [1.6],
interp.c [1.12], iparam.c [1.8], ireclaim.c [1.6], isave.c [1.7],
iscan.c [1.9], iscanbin.c [1.10], istack.c [1.5], iutil.c [1.6]: 2002/06/16
03:48:22 lpd)

Removes all uses of the now-deprecated Pn macros from the DSC parser.
(dscparse.c [1.11]: 2002/06/16 03:51:37 lpd)

Removes all uses of the now-deprecated Pn macros from the stream
implementation code. (sbwbs.c [1.5]: 2002/06/16 03:58:14 lpd)

Removes all uses of the now-deprecated Pn macros from PostScript interpreter
header files. (bfont.h [1.7], btoken.h [1.7], ccfont.h [1.5],
dscparse.h [1.10], dwtrace.h [1.4], estack.h [1.6], files.h [1.8],
ialloc.h [1.5], iapi.h [1.6], ibnum.h [1.7], ichar.h [1.6], ichar1.h [1.7],
icharout.h [1.7], icid.h [1.5], icie.h [1.6], icolor.h [1.5],
icontext.h [1.5], icsmap.h [1.5], iddstack.h [1.5], idebug.h [1.5],
idict.h [1.5], idosave.h [1.5], idparam.h [1.6], idstack.h [1.5],
ifcid.h [1.5], ifilter.h [1.6], ifilter2.h [1.5], ifont.h [1.10],
ifont1.h [1.6], ifont2.h [1.5], ifont42.h [1.7], ifrpred.h [1.5],
ifunc.h [1.9], ifwpred.h [1.5], igc.h [1.5], igcstr.h [1.5],
igstate.h [1.6], iht.h [1.5], iimage.h [1.5], iimage2.h [1.5],
iinit.h [1.5], imain.h [1.7], imainarg.h [1.6], imemory.h [1.5],
inamedef.h [1.5], inames.h [1.5], interp.h [1.5], iparam.h [1.5],
iparray.h [1.5], ipcolor.h [1.5], iplugin.h [1.4], iref.h [1.9],
isave.h [1.5], iscan.h [1.8], iscanbin.h [1.5], iscannum.h [1.6],
istack.h [1.5], istream.h [1.5], istruct.h [1.5], itoken.h [1.5],
iutil.h [1.5], iutil2.h [1.6], ivmem2.h [1.5], main.h [1.6], oparc.h [1.5],
opcheck.h [1.5], opdef.h [1.6], oper.h [1.5], opextern.h [1.6]: 2002/06/16
04:47:10 lpd)

Removes all uses of the now-deprecated Pn macros from the stream header
files. (shcgen.h [1.5]: 2002/06/16 05:00:54 lpd)

Adds a comment documenting the fact that errors.h should not be used in
graphics library files. (errors.h [1.7]: 2002/06/19 15:35:32 lpd)

Adds support for incremental font copying, currently required only by the
new pdfwrite text code. (zfctest.c [1.1]: 2002/06/19 15:52:29 lpd)

Update for Borland 5.5 Compiler. Files changes include bcwin32.mak,
dwmainc.c, unistd_.h, bcc32.cfg and Make.htm. Patch by Rod Webster (rodw).
SF#559565 (dwmainc.c [1.13]: 2002/06/24 06:20:25 jeong)

Adds more tracing (with -DDEBUG) when loading CFF fonts.
(lib/gs_cff.ps [1.13]: 2002/07/06 02:49:39 lpd)

</pre><h2><a name="7.21-Streams"></a>Streams</h2><pre>

Fixes problems:
	- More compatibility to Adobe interpreters in 'eexec'. This is
NON-BACKWARD-COMPATIBLE change. Now eexec skips all whitespaces at the
beginning of input stream, except for PFBDecode output. Thanks to L. Peter
Deutsch for participation. Source Forge bug "[ 428891 ] Undefined commands
interpreting Postscri". (seexec.c [1.7]: 2002/05/01 23:15:23 igor)
	- Correct the VMS exit codes for exit_OK and exit_FAILED which
depend on the compiler (Forrest Cahoon). Return the correct exit code from
main for VMS. (stdpre.h [1.8]: 2002/05/15 12:11:44 ghostgum)
	- Fixes an oversight that prevented compilation with stdpn.h
included. (stdpre.h [1.10]: 2002/06/16 09:11:47 lpd)

Documents the fact that exceptional stream conditions remain set until a
client clears them. (scommon.h [1.7]: 2002/06/16 03:20:39 lpd)

Removes all uses of the now-deprecated Pn macros from the stream
implementation code. (sa85d.c [1.6], scfd.c [1.6], scfdtab.c [1.4],
scfe.c [1.5], scfetab.c [1.5], sfxfd.c [1.9], sfxstdio.c [1.7],
siinterp.c [1.5], siscale.c [1.7], stream.c [1.19]: 2002/06/16 03:58:14 lpd)

Removes all uses of the now-deprecated Pn macros from the stream header
files. (sbcp.h [1.5], scommon.h [1.8], sdcparam.h [1.5], sdct.h [1.7],
shc.h [1.5], sjpeg.h [1.5], slzwx.h [1.5], spprint.h [1.6], spsdf.h [1.5],
srdline.h [1.5], std.h [1.8], stream.h [1.11], strimpl.h [1.6],
szlibxx.h [1.5]: 2002/06/16 05:00:54 lpd)

Removes all uses of the now-deprecated Pn macros from system header
wrappers. (stdio_.h [1.7]: 2002/06/16 05:03:12 lpd)

Moves the now-unused Pn macros to a separate file, which now can easily be
commented out and eventually removed. (stdpn.h [1.1], stdpre.h [1.9]:
2002/06/16 08:57:57 lpd)

Adds a missing close-comment (*/) marker. (stdpn.h [1.2]: 2002/06/16
08:59:16 lpd)

</pre><h2><a name="7.21-Library"></a>Library</h2><pre>

Fixes problems:
	- Compiling with -dPROFILE could cause compiler warnings about
"memxxx redefined" (memset, memcpy, etc.). (memory_.h [1.5]: 2002/04/08
20:42:01 lpd)
	- Indexed color spaces weren't implemented for ShadingType 4-7
shadings. (gxshade.c [1.9], gxshade.h [1.7], gxshade4.c [1.9]: 2002/04/14
04:30:47 lpd)
	- If a shading's Function entry was an array of functions rather
than a single function, pdfwrite wrote out an invalid Function object with a
FunctionType of -1. (gsfunc3.c [1.7]: 2002/04/14 06:51:45 lpd)
	- Radial shading fills with /Extend are now clipped correctly. Also
Radial shadings with 2 radii for which the difference is small or zero, now
does as Adobe does. Fixes SourceForge bug #219798, #542457
(gxshade1.c [1.13]: 2002/04/18 08:12:56 jeong)
	- Fix : Type2 interpreter state was wrongly backed up for sbw
fallback. Source Forge bug "[ 541877 ] /invalidfont on Kozuka Mincho".
(gstype2.c [1.18], gxtype1.c [1.13]: 2002/04/18 14:26:27 igor)
	- ShadingType 4-7 shadings with a Function incorrectly read N values
from their data stream, where N is the number of components in the color
space, rather than a single entry for the function argument. Fixes
SourceForge #546415. (gxshade.c [1.10]: 2002/04/20 05:27:11 lpd)
	- The make_scaled procedure for PostScript Calculator Functions
didn't copy the data_source, causing a memory access error when converting
the Function to printable form. (gsfunc4.c [1.11]: 2002/04/20 07:05:39 lpd)
	- Arrayed Output Functions (used internally to represent an array of
Functions) didn't compute or store their Domain, causing pdfwrite to write
them incorrectly. (Bug found during development of pdfwrite.)
(gsfunc3.c [1.9]: 2002/04/20 18:50:36 lpd)
	- ShadingType 4-7 shadings didn't check the validity of ColorSpace
and BBox like other shadings, and when used with a Function, didn't check
that the Function had the correct number of inputs and outputs. (Bug found
during pdfwrite development.) (gsshade.c [1.7]: 2002/04/21 02:48:36 lpd)
	- Arrayed Output functions didn't check whether their input and
output buffers overlapped in memory. This produced incorrect output from
ShadingType 4-7 shadings with a /Function entry that was an array of N
1-output Functions rather than a single N-output function. (Bug discovered
during pdfwrite development.) (gsfunc3.c [1.10]: 2002/04/23 01:10:38 lpd)
	- Radial shading worked only if the original coordinate unit is
identical to the coordinate unit of the output device. Now it works for
every case. Fixes SF#542457. (gxshade1.c [1.14]: 2002/04/23 06:13:58 jeong)
	- Fixes an incorrect comment; eliminates a redundant initialization.
(gsfunc3.c [1.11]: 2002/04/23 16:46:30 lpd)
	- FunctionType 4 functions with more than 1 output didn't scale the
output properly. (gsfunc4.c [1.12]: 2002/04/23 18:38:52 lpd)
	- gx_device_clip::memory was not set but used while intersecting
clip paths. Source Forge bug "[ 547111 ] segfault with pdf using ppmraw".
(gxclip.c [1.7]: 2002/04/26 08:52:54 igor)
	- A rounding problem made installation of CIEBased color spaces
non-idempotent, which could cause seriously incorrect rendering of CIEBased
colors in the sequence [/CIEBased...] setcolorspace, gsave, [/Pattern
[/CIEBased...]] setcolorspace, grestore. Fixes SourceForge bug #547695, q.v.
(gscie.c [1.9], gscie.h [1.9]: 2002/05/07 19:51:53 lpd)
	- The GS lib would not build. This fix corrects two minor problems.
The routine gs_abort was added to gslib.c. The unused include file
gmorecfg.h was removed from vdtrace.c. (gslib.c [1.8], vdtrace.c [1.4]:
2002/05/08 05:39:12 dan)
	- A minor cleanup of vdtrace.c . (vdtrace.c [1.5]: 2002/05/08
06:57:35 igor)
	- pdfwrite relied on the PostScript interpreter to load and make
available the known encodings and glyph sets identified in src/gsccode.h.
With this change, pdfwrite can now be used without a PostScript interpreter,
and with fonts that do not implement the known_encode callback.
(gdevpsf2.c [1.19], gdevpsft.c [1.13], gscedata.c [1.1], gscencs.c [1.1],
gscencs.h [1.1]: 2002/05/12 22:38:08 lpd)
	- as a result of a recent fix, the CIEBased color cache code for
ensuring that black (0,0,0) mapped precisely no longer worked.
(gscie.c [1.10]: 2002/05/15 23:49:39 lpd)
	- gdevpsf.h didn't define the 'stream' type, which it references.
(gdevpsf.h [1.14]: 2002/05/17 16:38:12 lpd)
	- The previous fix for numerical inaccuracies in CIE cache sampling
could lead to extremely long computation times. (gscie.c [1.11],
gscie.h [1.11]: 2002/05/19 15:50:00 lpd)
	- completing "remove dependency of pdfwrite on PS" (gscencs.c [1.3]:
2002/05/20 06:33:36 igor)
	- In the output of the PDF 1.4 image buffer to the target device,
sets color space in graphics state explicitly to RGB (to match the color
space in the image), and also sets the device in the graphics state to the
target device. It may be that a better fix would be to make the image work
even without these explicit state settings, but this seems to work for now.
Fixes SF #520686. (gdevp14.c [1.10]: 2002/05/22 05:07:48 raph)
	- In radial shading, if radius of a circle is 0, there was division
by zero. This is a regression for the fix of SF#219798. Now fixed.
(gxshade1.c [1.15]: 2002/05/26 05:03:31 jeong)
	- Increase clist cmd reading buffer size to 4K to be able to handle
larger halftone bitmaps. The old size of 800 could cause the clist high
level path logic to revert to 'default' filling which created VERY large
clist temp files. SourceForge bug 542664 for Artifex customer 710.
(gxcldev.h [1.7]: 2002/05/29 08:09:59 ray)
	- Add type cast to prevent problem on OpenVMS (gdevp14.c [1.11]:
2002/05/31 13:05:58 joukj)
	- Fixes off-by-one error in loop termination for CIE cache
initializations. (gscie.c [1.12]: 2002/06/06 06:55:12 raph)
	- Fixes uninitialized base buffer and failure to properly increment
a p14_device refcount in the pdf14 imaging code. (gdevp14.c [1.12]:
2002/06/06 06:57:12 raph)
	- Fixes a bug in writing "stripped" TrueType fonts. (Only affects
font copying.) (gdevpsft.c [1.16]: 2002/06/12 22:06:51 lpd)
	- Limit the number of %disk devices to 7 to prevent problems with
the Dynalab font installer. Also return %disk devices in numeric order from
devforall and suppress %disk devices from filenameforall to match Adobe.
Also correct documentation of devforall (no pattern string used). Thanks to
Nori Matsushima and Erik Strik for testing of this feature (diskn.dev).
(gsiodisk.c [1.2]: 2002/06/14 04:04:39 ray)
	- The automatically generated files src/gscedata.[ch] didn't have a
RCS Id line. (gscedata.c [1.3], gscedata.h [1.2]: 2002/06/14 13:31:53 lpd)
	- psf_write_truetype_font and psf_write_cid2_font copied hmtx and
vmtx rather than getting the actual metrics through the font virtual
procedures, which produced incorrect output if the font was defined
incrementally and used MetricsCount. (This only affected pdfwrite.)
(gdevpsf.h [1.18], gdevpsft.c [1.18]: 2002/06/18 00:31:20 lpd)
	- Removes incorrect #includes of errors.h, which is a PostScript
interpreter file, from library files. (gsfcmap1.c [1.3], gxchar.c [1.16]:
2002/06/19 15:33:01 lpd)
	- When drawing with anti-aliasing on devices with less than
8-bit/pixel, extract the correct existing pixel value. (gdevdbit.c [1.5]:
2002/06/21 22:05:33 ghostgum)
	- Propagate possible errors from pdf_end_image_binary.
(gsimage.c [1.7], gsimage.h [1.6], gsptype1.c [1.7], gxccache.c [1.10]:
2002/06/22 11:16:12 igor)
	- gxfcache.h didn't #include or define all of its prerequisites.
(gxfcache.h [1.7]: 2002/06/24 05:14:15 lpd)
	- Fixes an off-by-1 bug in the code for accessing Subrs in copied
fonts. (gxfcopy.c [1.4]: 2002/06/24 17:28:11 lpd)
	- copying a CIDFontType 2 font didn't copy numGlyphs, causing glyphs
to disappear. (gxfcopy.c [1.6]: 2002/06/24 23:48:31 lpd)
	- Fixes an off-by-1 error in copying [Global]Subrs.
(gxfcopy.c [1.7]: 2002/06/25 04:32:48 lpd)
	- gs_copy_font for CIDFontType 0 fonts didn't copy GlobalSubrs
correctly. (gxfcopy.c [1.8]: 2002/06/25 05:22:56 lpd)
	- Two places associated with font writing didn't add in
subroutineNumberBias when interpreting a Type 1 / Type 2 CharString.
(gdevpsfx.c [1.15], gxtype1.c [1.14]: 2002/06/25 05:25:45 lpd)
	- The GSubrs for CIDFontType 0 fonts were not written, possibly
producing invalid embedded fonts from pdfwrite. Fixes SourceForge #571911.
(gdevpsf.h [1.19], gdevpsf2.c [1.21]: 2002/06/25 06:52:05 lpd)
	- Fixes two uninitialized memory reads, by zeroing the gs_allocated
field of newly allocated allocators, and the userdict_index field of dict
stacks in newly allocated contexts. (gsalloc.c [1.17]: 2002/06/26 20:01:53
raph)
	- Fix uninitialized memory read of pcache-&gt;order.data_memory by
zeroing it on construction. (gxht.c [1.7]: 2002/06/26 20:03:21 raph)
	- Code for writing and copying Type 1 fonts didn't correctly handle
Subrs arrays with null elements. (gdevpsf1.c [1.15], gdevpsf2.c [1.22],
gxfcopy.c [1.9]: 2002/06/26 23:17:24 lpd)
	- Allocating the glyphs and names arrays for copied fonts used the
wrong structure descriptor. (gxfcopy.c [1.10]: 2002/06/27 03:55:39 lpd)
	- Fixes 3 minor problems with font copying: GC overhead was
substantial; the components of composite glyphs were not copied; the
encoding index was not copied when copying a complete font.
(gxfcopy.c [1.12]: 2002/06/28 01:47:22 lpd)
	- The size of the version field of the ttf_maxp_t structure was
defined incorrectly as 2 rather than 4. (This structure wasn't referenced
anywhere.) (gxttf.h [1.6]: 2002/06/28 05:27:22 lpd)
	- Font copying did not allocate its tables correctly when copying
incrementally downloaded TrueType fonts, and did not implement encode_char
correctly for TrueType fonts when glyph_space == GLYPH_SPACE_NAME. (Only
affects new pdfwrite text code.) (gxfcopy.c [1.13]: 2002/06/28 22:35:26 lpd)
	- The return status values from 'sgets' were not handled properly.
Now the functions that use 'sgets', check the return status and convert them
into proper gs_errors. SF#569111 (gsmatrix.c [1.6], gsparam2.c [1.6],
gxclrast.c [1.16]: 2002/07/01 14:27:43 jeong)
	- The hmtx/vmtx tables generated from the glyph metric data for
embedded TrueType fonts in PDF output were incorrect, due to a misreading of
the TrueType spec. (This only affects the new pdfwrite text code: the old
code does not generate the tables this way.) (gdevpsft.c [1.20]: 2002/07/06
02:54:32 lpd)

update version numbers after the 7.20 release. (gscdef.c [1.20]: 2002/04/04
03:14:03 giles)

Changes gs_cmap_t (internal representation of CMaps) to an abstract
superclass with multiple implementations: standard Adobe CMapType 1,
TrueType 16-bit cmap (Platform 3, Encoding 1, Format 4), and one-for-one.
Adds the ability to designate a CMap as Unicode-based. Enhances pdfwrite so
that composite fonts (including those based on TrueType Unicode fonts) with
Unicode-based CMaps are embedded in the PDF file with the original text
preserved and with an appropriate ToUnicode CMap, making the text searchable
in Acrobat. (gdevpsfm.c [1.10], gsfcid2.c [1.1], gsfcmap.c [1.18],
gsfcmap.h [1.7], gsfcmap1.c [1.1], gsfont0c.c [1.1], gstype42.c [1.18],
gxfcmap.h [1.13], gxfcmap1.h [1.1], gxfont0c.h [1.1], gxfont42.h [1.8]:
2002/04/08 21:02:44 lpd)

Restores some performance lost as a result of the fix for SourceForge
#495414, by skipping a request for glyph widths which is redundant if the
font doesn't have Metrics or CDevProc. Addresses SourceForge #451456 (a
general request for better pdfwrite performance), which will be closed after
this change. (gxfont.h [1.10]: 2002/04/09 23:31:44 lpd)

Brings dependencies in lib.mak up to date. (vdtrace.c [1.3]: 2002/04/12
05:55:39 lpd)

Splits off the md5 test program into a separate file; removes support for
non-ANSI compilers; makes byte order test either static or dynamic.
(md5.c [1.6], md5.h [1.4]: 2002/04/13 19:20:28 lpd)

Defines a floating-point range type gs_range_t in gstypes.h; redefines the
existing gs_range type in gscie.h in terms of it. (gscie.h [1.8],
gstypes.h [1.6]: 2002/04/18 05:59:21 lpd)

Committing in . Type-cast fix Modified Files: gs/src/gsfcid2.c
(gsfcid2.c [1.2]: 2002/04/18 10:15:47 joukj)

Adds a make_scaled virtual procedure to Function objects, to create a
modified Function whose N output values are transformed linearly according
to a supplied set of N range parameters. This is the first installment for
implementing conversion of extended-range CIEBased color spaces to ICCBased
spaces in pdfwrite. (gsfunc.c [1.7], gsfunc.h [1.7], gsfunc0.c [1.8],
gsfunc3.c [1.8], gsfunc4.c [1.10], gxfunc.h [1.6]: 2002/04/19 01:17:53 lpd)

Documents the need to use ctm_only when passing the CTM of an imager state
to procedures such as gs_point_transform. (gxistate.h [1.10]: 2002/04/21
22:04:49 lpd)

Removes unused gdevht halftoning "device". Part of DeviceN task list.
(gxclrast.c [1.13], gxclread.c [1.6]: 2002/04/22 23:01:47 raph)

Reorganizes code slightly to better document the fact that font notification
lists must be allocated in stable memory. (gsfcid2.c [1.3], gsfont.c [1.8],
gxfont.h [1.11]: 2002/05/02 21:00:40 lpd)

Documents the fact that driver procedures other than put_params must not
reset is_open, and the invariant that requires any device instance
referenced from a graphics state to be open. (gxdevcli.h [1.9]: 2002/05/02
22:36:47 lpd)

Add missing headers so types are properly defined. Fixes SF bug #547357.
(gxclrast.c [1.14]: 2002/05/09 18:24:17 giles)

Changed END_OBJECT_SCAN to call gs_abort() instead of gs_exit in a debug
system when a chunk parsing error occurs. If gs_abort() is never to be
called such as during a debug dump END_OBJECT_SCAN_NO_ABORT can be called.
(gsalloc.c [1.15], gxalloc.h [1.9]: 2002/05/13 16:26:50 stefan)

gs_exit() cleanup. gs_exit() is renamed gs_to_exit() since it is an about to
terminate cleanup function, it always returns. Both gs_to_exit() and
gs_abort are client provided functions. The client can have its own special
cleanup on exit, and the client can decide what it wants to do in the abort
case: exit, setjump/longjump, ... gp_do_exit() is the way for the client to
call a system independent exit() this allows for different exit codes on
unix and vms for instance. Only the client can call this, if so desired from
their gs_abort(). (gsexit.h [1.7], gslib.c [1.9]: 2002/05/14 14:59:41
stefan)

Simplifies the C implementation of the known Encodings, and makes it conform
better to Ghostscript standard coding style. (gscedata.c [1.2],
gscedata.h [1.1], gscencs.c [1.2]: 2002/05/14 23:33:18 lpd)

Changes the 'base' and 'factor' for CIE caches from float to double, to
avoid numerical inaccuracies. (gscie.h [1.10]: 2002/05/15 23:40:56 lpd)

Removes an inappropriate e-mail address from a comment. (gscencs.c [1.4]:
2002/05/24 19:15:20 lpd)

Adds an #ifndef to allow gs_cid_system_info_t to be defined as an abstract
type. (gxcid.h [1.6]: 2002/05/28 02:41:45 lpd)

Adds a GC descriptor for gs_font_info_t. (gsfont.c [1.9], gxfont.h [1.12]:
2002/05/30 07:11:51 lpd)

Makes the GC descriptor public for allocating the FDArray of CIDFontType 0
fonts. (gsfcid.c [1.9], gxfcid.h [1.10]: 2002/05/30 13:43:12 lpd)

gs_cjk project : handle "cidchar" map correctly. Fix by mpsuzuki. (ported
from gs7.05) (gsfcmap1.c [1.2]: 2002/06/02 11:54:38 mpsuzuki)

gs_cjk project : bugfix for nested FMapType4/5 OCF. Fix by suzuki toshiya.
(ported from gs7.05) (gschar0.c [1.6]: 2002/06/02 11:56:23 mpsuzuki)

gs_cjk project : cshow bug fix for CIDFontType2. Fix by Hideyuki Suzuki.
(ported from gs7.05) (gxchar.c [1.11]: 2002/06/02 11:58:21 mpsuzuki)

gs_cjk project : glyph cache bug patch for vertical writing mode. Fallback
against inconsistency in double checking of glyph cache. The inconsistency
causes misplacement of CJK glyph in vertical writing mode. Fix by Hideo
Saito. (ported from gs7.05) (gxchar.c [1.12], gxchar.h [1.7]: 2002/06/02
11:59:20 mpsuzuki)

gs_cjk project : glyphshow in vertical writing mode bug patch. Originally,
FontBBox_as_Metrics2 was set when charcode string is decoded into CIDs.
"glyphshow" bypasses such decoding procedure, thus FontBBox_as_Metrics2 is
not set. Fix by Masatake Yamato. (ported from gs7.05) (gstext.c [1.9]:
2002/06/02 11:59:57 mpsuzuki)

gs_cjk project : return error when we cannot load even CID=0. Fix by
mpsuzuki. (ported from gs7.05) (gxchar.c [1.13]: 2002/06/02 12:01:31
mpsuzuki)

Improves documentation of the open_device and open_file procedures in
gx_io_device. (gxiodev.h [1.5]: 2002/06/02 19:27:41 lpd)

Adds upper-case versions of some macros, retaining the lower-case versions
for backward compatibility. (gsccode.h [1.7]: 2002/06/03 16:54:27 lpd)

Adds an API for writing TrueType and CIDFontType 2 fonts without any glyphs.
pdfwrite uses this internally for copying fonts. (gdevpsf.h [1.15],
gdevpsft.c [1.14]: 2002/06/04 14:51:00 lpd)

Cleans up a number of design problems in the font callback procedures: 1)
Eliminates the gx_xfont_callbacks structure entirely. The known_encode
procedure is no longer needed: the new facilities in gscencs.[hc] make it
unnecessary, and none of the three implementors of the xfont interface use
it. See below regarding glyph_name. This is a NON-BACKWARD- COMPATIBLE
change for all clients of the glyph_name and known_encode procedures (of
which there are, respectively, 11 and 0 in the current code base), and for
all places that define gs_font_procs structures statically or initialize the
callbacks dynamically (of which there are currently only two, one in
gsfont.c and one in zbfont.c). There are also 3 identical places in the
GhostPCL code (in plfont.c, plffont.c, and plufont.c) that will require very
minor changes, with a small net reduction in code. 2) Deletes the
char_xglyph2 procedure from gx_xfont_procs. It is optional, and none of the
three current xfont implementations implements it. 3) Changes the
char_xglyph procedure in gx_xfont_procs so that instead of a glyph_name
callback procedure, it takes a const gs_string * argument that is the actual
glyph name (if the glyph is not gs_no_glyph and is not a CID). This is a
NON-BACKWARD-COMPATIBLE change for both clients and implementors of xfonts.
(At present, there are 3 implementors, none of which use the glyph_name
callback, and a single client call in gxccache.c.) 4) Moves the glyph_name
procedure, which is still required for other purposes, to gs_font_procs,
changing its declaration to int (*glyph_name)(gs_font *font, gs_glyph glyph,
gs_const_string *pstr); This is a NON-BACKWARD-COMPATIBLE change for
clients, but they must already change because of item (1) above. 5)
Eliminates the registered_Encodings array in the PostScript interpreter,
substituting the C representation of the known Encodings.
(gdevpsf1.c [1.13], gdevpsf2.c [1.20], gdevpsft.c [1.15], gsccode.h [1.8],
gscencs.c [1.5], gscencs.h [1.2], gsfont.c [1.10], gxccache.c [1.8],
gxchar.c [1.14], gxchar.h [1.8], gxfont.h [1.13], gxxfont.h [1.5]:
2002/06/09 23:08:22 lpd)

Extends Type 42 fonts at the library level so that if their instantiator
provides a mechanism for named glyphs (such as the PostScript Type 42
CharStrings dictionary), they will be accepted by glyph_info et al. Required
for the new font copying code. (gstype42.c [1.19], gxfont42.h [1.9]:
2002/06/11 20:26:41 lpd)

Improves documentation for the gs_glyph data type. (gsccode.h [1.9],
gscencs.h [1.3]: 2002/06/14 01:57:44 lpd)

Improves a few comments, and changes pdf_write_font_resources to
pdf_close_text_document for greater clarity. (gdevpsf.h [1.16]: 2002/06/15
21:11:53 lpd)

Removes all uses of the now-deprecated Pn macros from PostScript interpreter
header files. (vdtrace.h [1.5]: 2002/06/16 04:47:10 lpd)

Removes all uses of the now-deprecated Pn macros from system header
wrappers. (malloc_.h [1.5], math_.h [1.5], memory_.h [1.6], pipe_.h [1.5]:
2002/06/16 05:03:12 lpd)

Removes all uses of the now-deprecated Pn macros from all remaining .c
files. (gdevalph.c [1.5], gdevdgbr.c [1.5], gdevdrop.c [1.6],
gdevm8.c [1.5], gdevprn.c [1.10], gdevprna.c [1.5], gdevpsf1.c [1.14],
gdevpsft.c [1.17], gp_getnv.c [1.5], gp_strdl.c [1.5], gp_unifs.c [1.9],
gsalloc.c [1.16], gsalphac.c [1.5], gsargs.c [1.7], gsbittab.c [1.5],
gscdevn.c [1.9], gschar.c [1.6], gscie.c [1.13], gsciemap.c [1.11],
gscolor.c [1.8], gscolor1.c [1.7], gscolor2.c [1.9], gscoord.c [1.8],
gscsepr.c [1.16], gsdparam.c [1.9], gsdps.c [1.5], gsflip.c [1.5],
gsfunc0.c [1.9], gshsb.c [1.5], gsht.c [1.5], gsht1.c [1.6],
gshtscr.c [1.9], gsimpath.c [1.5], gsiodevs.c [1.5], gslib.c [1.10],
gsmalloc.c [1.10], gsmatrix.c [1.5], gsnogc.c [1.10], gsnotify.c [1.5],
gsparam2.c [1.5], gsparams.c [1.5], gspath.c [1.6], gspath1.c [1.6],
gsptype1.c [1.6], gsstate.c [1.15], gstrans.c [1.16], gstrap.c [1.6],
gstype42.c [1.20], gxccache.c [1.9], gxccman.c [1.5], gxchar.c [1.15],
gxcht.c [1.7], gxclimag.c [1.6], gxclip.c [1.8], gxclipm.c [1.6],
gxclist.c [1.6], gxclmem.c [1.5], gxclpath.c [1.12], gxclrast.c [1.15],
gxclread.c [1.7], gxcpath.c [1.6], gxfapi.c [1.6], gxfill.c [1.11],
gxhint1.c [1.5], gxhint2.c [1.6], gxhint3.c [1.6], gxht.c [1.6],
gxidata.c [1.7], gxifast.c [1.7], gximag3x.c [1.11], gximage.c [1.5],
gximage3.c [1.9], gxipixel.c [1.6], gxp1fill.c [1.5], gxpageq.c [1.5],
gxpath.c [1.5], gxpcmap.c [1.6], gxpcopy.c [1.6], gxpdash.c [1.5],
gxshade.c [1.11], gxshade6.c [1.6], gxstroke.c [1.5]: 2002/06/16 05:48:54
lpd)

Removes all uses of the now-deprecated Pn macros from the gp*.h (platform
interface) header files. (gp.h [1.12], gpcheck.h [1.5], gpgetenv.h [1.5],
gpmisc.h [1.5], gpsync.h [1.5]: 2002/06/16 06:59:02 lpd)

Removes all uses of the now-deprecated Pn macros from driver-related headers
(gdev*.h). (gdevbbox.h [1.5], gdevcmap.h [1.5], gdevmem.h [1.6],
gdevmpla.h [1.5], gdevmrop.h [1.6], gdevmrun.h [1.5], gdevplnx.h [1.5],
gdevppla.h [1.5], gdevprn.h [1.10], gdevprna.h [1.5], gdevpsf.h [1.17],
gdevvec.h [1.10]: 2002/06/16 07:25:26 lpd)

Removes all uses of the now-deprecated Pn macros from the remaining library
header files. (gdebug.h [1.6], gsalloc.h [1.5], gsalpha.h [1.5],
gsalphac.h [1.5], gsargs.h [1.7], gsbitops.h [1.5], gscdefs.h [1.5],
gscdevn.h [1.6], gschar.h [1.6], gscie.h [1.12], gscindex.h [1.5],
gsclipsr.h [1.5], gscolor.h [1.6], gscolor1.h [1.5], gscolor2.h [1.6],
gscolor3.h [1.5], gscompt.h [1.5], gscoord.h [1.5], gscpixel.h [1.5],
gscrd.h [1.5], gscrdp.h [1.5], gscrypt1.h [1.5], gscsepr.h [1.7],
gscspace.h [1.11], gscssub.h [1.5], gsdcolor.h [1.7], gsdevice.h [1.6],
gsdps.h [1.5], gsdsrc.h [1.6], gserror.h [1.6], gsexit.h [1.8],
gsfcmap.h [1.8], gsflip.h [1.5], gsfname.h [1.5], gsfont.h [1.6],
gsfunc.h [1.8], gsfunc0.h [1.5], gsfunc3.h [1.5], gsfunc4.h [1.5],
gsgc.h [1.6], gshsb.h [1.5], gsht.h [1.5], gsht1.h [1.5], gshtx.h [1.5],
gsicc.h [1.6], gsimage.h [1.5], gsipar3x.h [1.7], gsiparam.h [1.7],
gsiparm2.h [1.5], gsiparm3.h [1.7], gsiparm4.h [1.5], gslib.h [1.5],
gsline.h [1.5], gsmalloc.h [1.5], gsmatrix.h [1.5], gsmdebug.h [1.6],
gsmemlok.h [1.5], gsmemory.h [1.7], gsmemraw.h [1.7], gsmemret.h [1.5],
gsnotify.h [1.5], gspaint.h [1.5], gsparam.h [1.11], gsparams.h [1.5],
gsparamx.h [1.6], gspath.h [1.5], gspath2.h [1.5], gspcolor.h [1.5],
gsptype1.h [1.5], gsptype2.h [1.7], gsrect.h [1.5], gsrefct.h [1.5],
gsrop.h [1.5], gsropc.h [1.5], gsropt.h [1.7], gsshade.h [1.6],
gsstate.h [1.5], gsstruct.h [1.13], gsstype.h [1.5], gstext.h [1.6],
gstparam.h [1.10], gstrans.h [1.9], gstrap.h [1.6], gstype1.h [1.6],
gsuid.h [1.5], gsutil.h [1.7], gxalloc.h [1.10], gxarith.h [1.5],
gxbcache.h [1.5], gxcdevn.h [1.5], gxchar.h [1.9], gxchrout.h [1.5],
gxcid.h [1.7], gxcie.h [1.7], gxcldev.h [1.8], gxclio.h [1.5],
gxclip.h [1.5], gxclip2.h [1.5], gxclist.h [1.5], gxclmem.h [1.5],
gxclpage.h [1.5], gxclpath.h [1.9], gxcmap.h [1.5], gxcolor2.h [1.7],
gxcomp.h [1.5], gxcoord.h [1.5], gxcpath.h [1.5], gxcspace.h [1.7],
gxctable.h [1.5], gxdcconv.h [1.5], gxdcolor.h [1.6], gxdevbuf.h [1.5],
gxdevcli.h [1.10], gxdevice.h [1.8], gxdevmem.h [1.5], gxdht.h [1.7],
gxdhtres.h [1.5], gxdither.h [1.5], gxfapi.h [1.6], gxfarith.h [1.6],
gxfcache.h [1.6], gxfcid.h [1.11], gxfixed.h [1.6], gxfmap.h [1.6],
gxfont.h [1.14], gxfont1.h [1.9], gxfont42.h [1.10], gxfunc.h [1.7],
gxgetbit.h [1.5], gxht.h [1.5], gxiclass.h [1.5], gximag3x.h [1.6],
gximage.h [1.6], gximage3.h [1.7], gxiodev.h [1.6], gxiparam.h [1.5],
gxistate.h [1.11], gxline.h [1.5], gxmatrix.h [1.7], gxmclip.h [1.5],
gxop1.h [1.5], gxp1impl.h [1.5], gxpageq.h [1.5], gxpaint.h [1.5],
gxpath.h [1.5], gxpcache.h [1.5], gxpcolor.h [1.5], gxropc.h [1.5],
gxrplane.h [1.5], gxsample.h [1.5], gxshade.h [1.8], gxshade4.h [1.5],
gxstate.h [1.5], gxsync.h [1.5], gxtext.h [1.10], gxtmap.h [1.5],
gxtype1.h [1.11], gxxfont.h [1.6], gzacpath.h [1.5], gzht.h [1.8],
gzline.h [1.5], gzpath.h [1.6]: 2002/06/16 08:45:42 lpd)

Removes a few overlooked uses of the Pn macros. (gscrd.h [1.6],
gximag3x.h [1.7], gximage3.h [1.8]: 2002/06/16 08:55:53 lpd)

Changes the writing of embedded TrueType (and CIDFontType 2) fonts so that
hmtx/vmtx are written only if the font already includes a hhea/vhea table.
This is not a perfect solution, but it is better than always writing both
hmtx and vmtx, because a TrueType rasterizer cannot make use of the *mtx
table without the corresponding *hea table. (gdevpsft.c [1.19]: 2002/06/18
22:50:51 lpd)

Exports the default get_metrics procedure for Type 42 fonts, for use by
copied fonts. (gstype42.c [1.21], gxfont42.h [1.11]: 2002/06/19 00:27:57
lpd)

Factors out a procedure for copying XUID data, for font copying.
(gsfont.c [1.11], gsuid.h [1.6], gsutil.c [1.8]: 2002/06/19 01:06:12 lpd)

Adds support for incremental font copying, currently required only by the
new pdfwrite text code. (gxfcopy.c [1.1], gxfcopy.h [1.1]: 2002/06/19
15:52:29 lpd)

Committing in . one (int*)-&gt;(unsigned int*) type cast added Modified
Files: gs/src/gschar0.c
----------------------------------------------------------------------
(gschar0.c [1.7]: 2002/06/20 08:24:40 joukj)

Adds some omitted definitions in gxfcopy.h. (gxfcopy.h [1.2]: 2002/06/21
22:36:09 lpd)

Documents that gs_copy_glyph returns 0 if the glyph is newly copied, 1 if it
was already copied, and adjusts the code slightly to match.
(gxfcopy.c [1.2], gxfcopy.h [1.3]: 2002/06/21 22:56:18 lpd)

Adds a procedure to copy the entire contents (glyphs and Encoding) of a
font. (gxfcopy.c [1.3], gxfcopy.h [1.4]: 2002/06/24 00:40:31 lpd)

Update for Borland 5.5 Compiler. Files changes include bcwin32.mak,
dwmainc.c, unistd_.h, bcc32.cfg and Make.htm. Patch by Rod Webster (rodw).
SF#559565 (unistd_.h [1.7]: 2002/06/24 06:20:25 jeong)

Adds double-definition protection so that gs_font_type0 can be used as an
abstract type. (gxfont0.h [1.6]: 2002/06/24 17:27:30 lpd)

Adds a comment explaining the glyph copying algorithm in
gs_copy_font_complete. (gxfcopy.c [1.5]: 2002/06/24 23:06:31 lpd)

Adds options to gs_copy_glyph to conditionally require that the glyph has or
has not been copied already. (gxfcopy.c [1.11], gxfcopy.h [1.5]: 2002/06/27
17:51:57 lpd)

Adds a field to TrueType fonts to hold the true numGlyphs value from maxp.
(gstype42.c [1.22], gxfont42.h [1.12]: 2002/06/28 05:31:36 lpd)

Exports the procedure for parsing the 'pieces' of a Type 1 or Type 2
CharString (the character codes referenced by 'seac' or the equivalent), if
any. Needed for font copying. (gxfont1.h [1.10], gxtype1.c [1.15]:
2002/07/06 02:46:10 lpd)

News.htm update, version number and date fixups. First commit mandated by
Release.htm, in preparation for 7.21 release. (gscdef.c [1.21]: 2002/07/08
20:09:54 raph)

</pre><h2><a name="7.21-Other"></a>Other</h2><pre>

Upgrade icclib to (proposed) 2.01 release. Patch has been sent to Graeme
Gill for consideration. (icclib/icc.c [1.7], icclib/icc.h [1.5],
icclib/icc9809.h [1.3]: 2002/04/18 18:28:56 raph)

Removes trailing comma in enum. (icclib/icc.h [1.6]: 2002/04/18 20:28:54
raph)

Update icclib to the latest 2.02 release. (icclib/Licence.txt [1.2],
icclib/Readme.txt [1.2], icclib/icc.c [1.8], icclib/icc.h [1.7]: 2002/04/22
18:30:25 giles)

Add a configure option to enable COMPILE_INITS. After a patch from Michael
Sweet. (Makefile.in [1.14], configure.ac [1.17]: 2002/05/03 03:51:23 giles)

Add a configure option for setting the name of the ghostscript executable.
From a patch by Michael Sweet. (Makefile.in [1.15], configure.ac [1.18]:
2002/05/03 07:34:19 giles)

</pre>

<hr>

<h1><a name="Version7.20"></a>Version 7.20 (2002-04-03)</h1>

<p>
This is the first development release after the 7.0x series. While
it is a development release, it is likely to be quite stable and
robust, largely thanks to automated regression testing.

<p> Major changes include:

<ul>
<li>Support for external font renderers such as Agfa UFST.

<li>An optional "diskn" feature that emulates the "%disk" devices
found on some Adobe printers.

<li>The <code>-dSAFER</code> flag now tightens read access to
arbitrary files, as well as write access. Thus,
<code>-dSAFER</code> in this release is equivalent to
<code>-dSAFER -dPARANOIDSAFER</code> in 7.04. This will break some
viewers, notably gv.

</ul>

<p> In addition, the following improvements have been merged from
the 7.04 release:

<ul>

<li>A rather serious security hole, where PostScript code could cause
arbitrary commands to be executed, has been patched.

<li>This release integrates the IJS driver, which makes it much easier
to add and upgrade printer drivers without needing to recompile
Ghostscript.

<li>There is a configure script for automatically configuring the
build system on Unix platforms. Those who enjoy the fun of hand-editing
the makefile are still welcome to do so.

</ul>

<p>
And, of course, the usual bug fixing and performance enhancement.

<p>
There has also been considerable development of our DeviceN
implementation and related color work on a private branch. These new
features are <em>not</em> included in this release. We expect to merge
them into the main branch soon.

<p>
There exists another private branch which integrates PCL and PostScript/PDF
in the same executable. Again, that work is not reflected in this
release.

<p>
The following SourceForge bug numbers were open at the time of release:
 219798,
 405342,
 406979,
 407342,
 414947
 414985,
 415142,
 416131,
 416830,
 418241,
 421057,
 423838,
 427193,
 427314,
 427347,
 428891,
 428973,
 432040,
 434277,
 436099,
 437285,
 438957,
 443745,
 446344,
 446672,
 448199,
 450663,
 451456,
 452155,
 453969,
 458261,
 458500,
 458775,
 458780,
 459647,
 462221,
 465720,
 465936,
 468762,
 472681,
 474745,
 475147,
 477644,
 479071,
 482033,
 482038,
 483629,
 484752,
 484753,
 485498,
 485510,
 485510,
 487953,
 493348,
 495319,
 498595,
 503794,
 505047,
 505151,
 505429,
 506375,
 508081,
 508675,
 509646,
 510808,
 511232,
 513905,
 514616,
 514898,
 515475,
 515966,
 516653,
 517349,
 518742,
 520686,
 520972,
 521354,
 521597,
 521664,
 521916,
 522486,
 522507,
 524292,
 525508,
 525712,
 526099,
 526491,
 527152,
 527525,
 528647,
 529103,
 529411,
 529578,
 530011,
 530213,
 530588,
 531300,
 532468,
 533467,
 534637,
 535366,
 535395,
 535395,
 535401,
 535752,
 535836,
 535997,
 536863,
 536877,
 537066,
 538033,
 538042,
 538055,
 538267,
 538311,
 538398,
 538428.


<h3><a name="7.20_Incompatible_changes"></a>Incompatible changes</h3>

<pre>
(Interpreter)
	- Updates clients and implementors for the new glyph outline data
structure.
	- -dSAFER flag now restricts read access to arbitrary files in
addition to restricting write access.
	- While not strictly an incompatible change, authors of drivers
with potential security implications are encouraged to review the
security changes, including the LockSafetyParams mechanism.

(Library)
	- Changes all procedures for getting glyph outline data to return
the data by storing it into a gs_glyph_data_t structure that includes memory
management information.  This is a NON-BACKWARD-COMPATIBLE change to both
implementors and clients.  It corrects a significant design error: formerly
these procedures encoded memory management information in their return code,
which was obscure and error-prone.  See src/gsgdata.[hc].
</pre>

<h2><a name="7.20-Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- Fixes minor problems with the English introduced by the most
recent change. (doc/Use.htm [1.37]: 2001/12/08 15:41:28 lpd)
	- A "\" should have been a "\e" for troff. (fix from Nelson Beebe)
(man/ansi2knr.1 [1.3]: 2001/12/31 22:43:35 lpd)
	- some files were missing the RCS 'Id' line with the last
modification date. partial fix for Sourceforge bug #500922.
(doc/index.html [1.3]: 2002/01/09 21:04:20 giles)
	- gdevpdfc.h and gdevpdfk.c weren't listed in Develop.htm.
(doc/Develop.htm [1.52]: 2002/01/09 23:26:05 lpd)
	- Fixes a couple of minor formatting errors.
(doc/C-style.htm [1.23]: 2002/01/16 16:05:54 lpd)
	- Improve security in a (mostly) backward compatible fashion adding
more flexible file access paths (PermitFile...) as user paramters and adding
the facility to return to NOSAFER mode after running jobs (files/procedures)
in SAFER mode. This should address SF bug #474582 and eliminate the need for
the RedHat PARANOIDSAFER patch. (doc/Language.htm [1.38],
doc/Use.htm [1.40]: 2002/01/24 06:33:33 rayjj)
	- pdfwrite often gave an error if a name with embedded special
characters was a key or value in a pdfmark dictionary. Fixes SourceForge
#505877. (doc/Language.htm [1.39]: 2002/01/29 02:54:43 lpd)
	- new releases should be uploaded to
ftp://upload.sourceforge.net/incoming. (doc/Release.htm [1.44]: 2002/02/18
02:47:59 giles)
	- Check in corrected module after "admin -ko" change to prevent the
&#36;Id: lines from having the keyword replacement. This was broken for a LONG
time. (doc/gsdoc.el [1.4]: 2002/02/22 19:08:29 ray)
	- POSIX 2001 has obsoleted tail +128c. Document the new convention
'tail -c +129' as an alternate. (doc/Use.htm [1.46]: 2002/03/28 21:28:06
giles)
	- use UTC universally in the prerelease check script to avoid
spurious errors due to timezone differences (doc/API.htm [1.19],
doc/Bug-form.htm [1.25], doc/Bug-info.htm [1.24], doc/C-style.htm [1.30],
doc/Commprod.htm [1.17], doc/Copying.htm [1.17], doc/Current.htm [1.17],
doc/DLL.htm [1.19], doc/Develop.htm [1.68], doc/Devices.htm [1.42],
doc/Drivers.htm [1.25], doc/Fonts.htm [1.26], doc/Helpers.htm [1.21],
doc/History1.htm [1.17], doc/History2.htm [1.17], doc/History3.htm [1.17],
doc/History4.htm [1.17], doc/History5.htm [1.19], doc/History6.htm [1.34],
doc/Htmstyle.htm [1.22], doc/Install.htm [1.30], doc/Issues.htm [1.20],
doc/Language.htm [1.45], doc/Lib.htm [1.19], doc/Maintain.htm [1.27],
doc/Make.htm [1.47], doc/New-user.htm [1.34], doc/Projects.htm [1.40],
doc/Ps-style.htm [1.15], doc/Ps2epsi.htm [1.19], doc/Ps2pdf.htm [1.38],
doc/Psfiles.htm [1.29], doc/Readme.htm [1.36], doc/Release.htm [1.51],
doc/Source.htm [1.17], doc/Tester.htm [1.16], doc/Testing.htm [1.4],
doc/Unix-lpr.htm [1.17], doc/Use.htm [1.48], doc/Xfonts.htm [1.17],
doc/gs-vms.hlp [1.16], man/dvipdf.1 [1.12], man/font2c.1 [1.12],
man/gs.1 [1.12], man/gslp.1 [1.12], man/gsnd.1 [1.12], man/pdf2dsc.1 [1.12],
man/pdf2ps.1 [1.14], man/pdfopt.1 [1.12], man/pf2afm.1 [1.12],
man/pfbtopfa.1 [1.13], man/printafm.1 [1.12], man/ps2ascii.1 [1.12],
man/ps2epsi.1 [1.12], man/ps2pdf.1 [1.16], man/ps2pdfwr.1 [1.15],
man/ps2ps.1 [1.19], man/wftopfa.1 [1.12]: 2002/03/29 00:44:34 giles)
	- bring Release.htm more up-to-date with current practice
(doc/Release.htm [1.52]: 2002/03/29 03:17:14 giles)
	- update the instructions for cvs2hist.py to reflect the new
branch-sensitivity options. (doc/Release.htm [1.53]: 2002/03/29 07:42:04
giles)
	- the cvs2hist invocation must use -b in the rlog tags, rather than
-r to correctly identify the head branch. Some files are tagged as 'MAIN'
rather than 'HEAD'. (doc/Release.htm [1.57]: 2002/04/03 06:44:57 giles)
	- further clarify the call to cvs2hist for the main branch.
(doc/Release.htm [1.59]: 2002/04/03 07:22:45 giles)

Advises coders not to "shadow" a local variable or procedure parameter with
an inner local variable of the same name. (doc/C-style.htm [1.22]:
2001/10/21 02:08:20 lpd)

Changes all procedures for getting glyph outline data to return a structure
that includes memory management information. This is a
NON-BACKWARD-COMPATIBLE change to both implementors and clients. It corrects
a serious design error: formerly these procedures encoded memory management
information in their return code, which was obscure and error-prone.
(doc/Develop.htm [1.48]: 2001/10/21 06:20:08 lpd)

Removes the admonishment to update PVERSION and JVERSION from the Makefile
documentation. The build dependencies were removed earlier to reduce user
confusion; they're currently vestigial in expectation of future build
incompatibilities. This is the second half of the fix for sf bug #457838.
(doc/Make.htm [1.37]: 2001/10/24 22:22:35 giles)

Adds a reference to the v7.xx History file. (doc/gs.css [1.2]: 2001/10/24
22:33:38 giles)

Build and use documentation for the FAPI project. (doc/Make.htm [1.38],
doc/Use.htm [1.34]: 2001/10/30 20:55:11 igorm)

Adds a requested enhancement: pdfwrite should emit warnings when
appropriate. (doc/Projects.htm [1.34]: 2001/11/12 22:31:27 lpd)

FAPI project: fixing misspelled keyword in Use.htm . (doc/Use.htm [1.35]:
2001/11/20 13:41:41 igorm)

adds documentation for the MacOS X framework build. (doc/Make.htm [1.39]:
2001/11/25 07:17:23 giles)

Adds more documentation about when the garbage collector can be invoked.
(doc/Develop.htm [1.49]: 2001/12/06 01:45:58 lpd)

Adds additional documentation about continuations on the PostScript e-stack.
(doc/Develop.htm [1.50]: 2001/12/06 04:16:27 lpd)

Adds extensionless aliases for all the scripts used in the normal build
process; renames pre as pre.tcl; adds an Id line to smoke.ps; updates
documentation to match. (doc/Release.htm [1.41]: 2001/12/07 07:16:42 lpd)

Implementing a mapped resource category redefiner; Provide a map for CIDFont
category; Reorganize the mapping algorithm for FAPI. (doc/Use.htm [1.36]:
2001/12/08 11:31:20 igorm)

Updates pdfwrite to match Acrobat Distiller 5 more closely: adds
OffOptimizations and PreserveEPSInfo parameters; adds /ebook value for
PDFSETTINGS; changes some of the DCTEncode parameter values for
auto-filtered images; adds CreationDate and ModDate in Info dictionary;
always subsets non Type 1 fonts. (doc/Ps2pdf.htm [1.33]: 2001/12/09 00:07:56
lpd)

FAPI project : implementing CID fonts with FAPI. (doc/Use.htm [1.38]:
2001/12/12 23:02:08 igorm)

Finishes removing support for pre-ANSI (a.k.a. "traditional" or "K&amp;R") C
compilers. (doc/Develop.htm [1.51], doc/Make.htm [1.40]: 2001/12/13 18:11:09
lpd)

Improve security for device related access to the file system and to pipes
by allowing the dangerous parameters to be locked (for example, OutputFile).
The locking is performed after command line parameters are established.
Locking is not turned on by default as a result of this change, but
-d.LockSafetyParams=true can be added to the command line to accomplish
this. Related to SF bug #474582 (sort of). (doc/Language.htm [1.35]:
2001/12/22 00:44:01 rayjj)

Adds some brief documentation about using the framework build of ghostscript
with MacOS X. (doc/API.htm [1.12]: 2002/01/04 03:52:25 giles)

Adds a very modest checksource script for checking the conformance of source
files with coding and architectural standards. This script should eventually
be run as part of nightly regression testing. (doc/Release.htm [1.42]:
2002/01/08 08:21:51 lpd)

FAPI project : Define new device parameter .EmbedFontObjects to disable FAPI
for devices which embed fonts. (doc/Use.htm [1.39]: 2002/01/08 11:10:24
igorm)

FAPI project : Define new device parameter .EmbedFontObjects to disable FAPI
for devices which embed fonts. (doc/Language.htm [1.36]: 2002/01/08 11:46:14
igorm)

Improves the description of .EmbedFontObjects. (doc/Language.htm [1.37]:
2002/01/10 17:10:49 lpd)

Changes the extension of the tiger and golfer example files to '.eps' to
accurately reflect their internal filetype. (doc/Devices.htm [1.35],
doc/Make.htm [1.41], doc/Psfiles.htm [1.23]: 2002/01/10 22:21:33 giles)

Adds basic documentation on using the ./configure script.
(doc/Make.htm [1.42], doc/Release.htm [1.43]: 2002/01/11 04:58:59 giles)

Adds a CompressFonts parameter to pdfwrite to control whether embedded fonts
are compressed, to help debugging. The default value is true.
(doc/Ps2pdf.htm [1.34]: 2002/01/29 01:03:26 lpd)

An addition to Issues.htm about hybrid fonts and the job server loop. Source
Forge bug [500941] /rangecheck in --.type1execchar--. Thanks to L. Peter
Deutsch for participation. (doc/Issues.htm [1.16]: 2002/01/30 01:12:23
igorm)

Adds a new documentation section on display devices along with a basic
description of the x11 devices. (doc/Devices.htm [1.36]: 2002/01/30 07:34:45
giles)

Adds IJS driver to Ghostscript. Includes complete IJS version 0.33
distribution. Also includes autoconf patch by Ralph Giles.
(doc/Develop.htm [1.53]: 2002/01/31 20:47:12 raph)

Adds IJS driver to Ghostscript. Includes complete IJS version 0.33
distribution. Also includes autoconf patch by Ralph Giles.
(doc/Devices.htm [1.37]: 2002/01/31 20:47:16 raph)

Minor change from 'search' to 'filenameforall' in discussion about the
wildcard characters in PermitFile... strings. (doc/Language.htm [1.40]:
2002/01/31 21:18:08 rayjj)

Documentation and makefile updates for IJS driver. (doc/Devices.htm [1.38]:
2002/02/01 03:17:12 raph)

Documents the work-around of using '#' instead of '=' to separate command
line options from their arguments. The was previously listed only as a quirk
of the Wacom build on MS-DOS, but is also needed on win32 because the
command shell treats '=' as whitespace in passing arguments to batch files
(like ps2pdf.bat). Closes SourceForge bug #483066. Also documents that
MS-DOS is no longer a supported operating system. (doc/Use.htm [1.41]:
2002/02/01 19:46:55 giles)

Replaces the toolbin/regression directory with a new toolbin/tests directory
that includes all testing scripts. Adds and documents a framework for
writing and running testing scripts. (doc/Readme.htm [1.32],
doc/Testing.htm [1.1]: 2002/02/19 15:46:01 lpd)

Cleans up a few loose ends from the transition to the new testing framework.
(doc/Testing.htm [1.2]: 2002/02/19 16:16:07 lpd)

FAPI project : Providing basic documentation. (doc/Develop.htm [1.54],
doc/Psfiles.htm [1.24]: 2002/02/20 18:27:49 igor)

Removes mention of SourceForge Bug #223005, which was closed before the 7.00
release. (doc/Issues.htm [1.17]: 2002/02/21 20:32:06 giles)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(doc/API.htm [1.13], doc/Bug-info.htm [1.21], doc/Copying.htm [1.14],
doc/Current.htm [1.14], doc/DLL.htm [1.16], doc/Develop.htm [1.55],
doc/Devices.htm [1.39], doc/Drivers.htm [1.22], doc/Fonts.htm [1.23],
doc/Helpers.htm [1.18], doc/Hershey.htm [1.4], doc/History1.htm [1.14],
doc/History2.htm [1.14], doc/History3.htm [1.14], doc/History4.htm [1.14],
doc/History5.htm [1.16], doc/History6.htm [1.31], doc/Htmstyle.htm [1.19],
doc/Humor.htm [1.4], doc/Install.htm [1.27], doc/Issues.htm [1.18],
doc/Language.htm [1.41], doc/Lib.htm [1.15], doc/Maintain.htm [1.24],
doc/Make.htm [1.43], doc/New-user.htm [1.31], doc/Projects.htm [1.35],
doc/Ps2epsi.htm [1.16], doc/Ps2pdf.htm [1.35], doc/Psfiles.htm [1.25],
doc/Public.htm [1.5], doc/Readme.htm [1.33], doc/Release.htm [1.45],
doc/Source.htm [1.14], doc/Unix-lpr.htm [1.14], doc/Use.htm [1.42],
doc/Xfonts.htm [1.14], doc/gs-vms.hlp [1.13], doc/gsdoc.el [1.2],
doc/index.html [1.4]: 2002/02/21 20:57:44 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (doc/API.htm [1.14], doc/Bug-info.htm [1.22],
doc/Copying.htm [1.15], doc/Current.htm [1.15], doc/DLL.htm [1.17],
doc/Develop.htm [1.56], doc/Devices.htm [1.40], doc/Drivers.htm [1.23],
doc/Fonts.htm [1.24], doc/Helpers.htm [1.19], doc/Hershey.htm [1.5],
doc/History1.htm [1.15], doc/History2.htm [1.15], doc/History3.htm [1.15],
doc/History4.htm [1.15], doc/History5.htm [1.17], doc/History6.htm [1.32],
doc/Htmstyle.htm [1.20], doc/Humor.htm [1.5], doc/Install.htm [1.28],
doc/Language.htm [1.42], doc/Lib.htm [1.16], doc/Maintain.htm [1.25],
doc/Make.htm [1.44], doc/New-user.htm [1.32], doc/Projects.htm [1.36],
doc/Ps2epsi.htm [1.17], doc/Ps2pdf.htm [1.36], doc/Psfiles.htm [1.26],
doc/Public.htm [1.6], doc/Readme.htm [1.34], doc/Release.htm [1.46],
doc/Source.htm [1.15], doc/Unix-lpr.htm [1.15], doc/Use.htm [1.43],
doc/Xfonts.htm [1.15], doc/gs-vms.hlp [1.14], doc/gsdoc.el [1.3],
doc/index.html [1.5]: 2002/02/21 21:36:32 giles)

Adds a description of the zfsample.c module. (doc/Develop.htm [1.57]:
2002/02/22 21:38:41 dan)

Adds a description of the .Widths array project, which would solve some
obscure problems when the PDF interpreter is given certain non-conforming
files. (doc/Projects.htm [1.37]: 2002/02/25 00:04:09 lpd)

Adds wording to make it clearer that procedures must be documented in
explicit detail. (doc/Release.htm [1.47]: 2002/02/25 03:48:03 lpd)

Removes auto-generated plain text versions of html documentation from cvs
and makes their creation an explicit part of the release process.
(doc/Release.htm [1.48]: 2002/02/25 20:54:30 giles)

Implementing Visual Trace service to graphics library, and Visual Trace
server for Windows. (doc/API.htm [1.15], doc/Develop.htm [1.58],
doc/Lib.htm [1.17], doc/Projects.htm [1.38], doc/Use.htm [1.44]: 2002/02/26
16:09:15 igor)

Remove the return_if_error macro from ALL occurrences and clean up some of
the C-style problems with the FAPI code. Add some of the new rules about
macros to C-style.htm. (doc/C-style.htm [1.24]: 2002/02/28 21:21:41 ray)

FAPI project : Completing basic documentation. (doc/Develop.htm [1.59]:
2002/03/01 15:07:03 igor)

Specifies no initial indentation of preprocessor commands, but indentation
of 2 spaces per nesting level between the # and the command name.
(doc/C-style.htm [1.25]: 2002/03/05 18:12:51 lpd)

Removes an unsightly paragraph break. (doc/C-style.htm [1.26]: 2002/03/05
18:15:12 lpd)

Adds link to ijs.mak to basic developer documentation.
(doc/Develop.htm [1.60]: 2002/03/06 17:32:30 raph)

Adds indications that pre-ANSI compilers are no longer supported.
(doc/Develop.htm [1.61]: 2002/03/07 19:29:50 giles)

Adds the MacOS X platform-dependent makefiles to the developer
documentation. (doc/Develop.htm [1.62]: 2002/03/07 19:59:48 giles)

Adds the Info-macos.plist framework description to the developer
documentation. (doc/Develop.htm [1.63]: 2002/03/07 20:06:49 giles)

Adds the source files associated with the Autoconf build to the developer
documentation. (doc/Develop.htm [1.64]: 2002/03/07 20:13:56 giles)

Documents the recommendation to use a suffixed underscore for local
variables introduced by macros. (doc/C-style.htm [1.27]: 2002/03/11 19:27:45
lpd)

Add example code to doc/API.htm showing how to call the Ghostscript DLL as a
PostScript to PDF convertor. (doc/API.htm [1.16]: 2002/03/12 07:14:35
ghostgum)

Correct typo in documentation. (doc/API.htm [1.17]: 2002/03/12 07:17:15
ghostgum)

Update msvc32.mak and documentation to support compilation with Microsoft
Visual Studio .NET. This requires MSVC_VERSION=7. (doc/Make.htm [1.45]:
2002/03/12 07:20:08 ghostgum)

Documents how to build a Windows self-extracting archive for a ghostscript
distribution (doc/Release.htm [1.49]: 2002/03/12 07:25:58 ghostgum)

Add a new optional FEATURE, diskn.dev that provides emulation of %disk
devices present on some Adobe printers. This version is NOT multiple
instance safe, but is useful for embedded printers or for server systems
with a single Ghostscript instance. Documentation is in Language.htm.
Addresses SourceForge bug #493344 for Artifex customer #411.
(doc/Language.htm [1.43]: 2002/03/13 20:27:38 ray)

Adds -dNOTRANSPARENCY flag, which disables all PDF 1.4 transparency
processing. (doc/Use.htm [1.45]: 2002/03/14 15:53:08 raph)

Add documentation for modules related to diskn.dev FEATURE (lib/gs_diskn.ps
and src/gsiodisk.c). (doc/Develop.htm [1.65], doc/Psfiles.htm [1.27]:
2002/03/15 18:36:27 ray)

Requests that authors of new macros put extra effort into documentation.
(doc/C-style.htm [1.28]: 2002/03/19 17:34:13 lpd)

Add gs_diskn.ps to the list of Miscellaneous PostScript files.
(doc/Develop.htm [1.66]: 2002/03/22 00:59:25 ray)

Update release dates in preparation of the upcoming development release
(doc/API.htm [1.18], doc/Bug-form.htm [1.24], doc/Bug-info.htm [1.23],
doc/C-style.htm [1.29], doc/Commprod.htm [1.16], doc/Copying.htm [1.16],
doc/Current.htm [1.16], doc/DLL.htm [1.18], doc/Develop.htm [1.67],
doc/Devices.htm [1.41], doc/Drivers.htm [1.24], doc/Fonts.htm [1.25],
doc/Helpers.htm [1.20], doc/History1.htm [1.16], doc/History2.htm [1.16],
doc/History3.htm [1.16], doc/History4.htm [1.16], doc/History5.htm [1.18],
doc/History6.htm [1.33], doc/Htmstyle.htm [1.21], doc/Install.htm [1.29],
doc/Issues.htm [1.19], doc/Language.htm [1.44], doc/Lib.htm [1.18],
doc/Maintain.htm [1.26], doc/Make.htm [1.46], doc/New-user.htm [1.33],
doc/Projects.htm [1.39], doc/Ps-style.htm [1.14], doc/Ps2epsi.htm [1.18],
doc/Ps2pdf.htm [1.37], doc/Psfiles.htm [1.28], doc/Readme.htm [1.35],
doc/Release.htm [1.50], doc/Source.htm [1.16], doc/Tester.htm [1.15],
doc/Testing.htm [1.3], doc/Unix-lpr.htm [1.16], doc/Use.htm [1.47],
doc/Xfonts.htm [1.16], doc/gs-vms.hlp [1.15], man/dvipdf.1 [1.11],
man/font2c.1 [1.11], man/gs.1 [1.11], man/gslp.1 [1.11], man/gsnd.1 [1.11],
man/pdf2dsc.1 [1.11], man/pdf2ps.1 [1.13], man/pdfopt.1 [1.11],
man/pf2afm.1 [1.11], man/pfbtopfa.1 [1.12], man/printafm.1 [1.11],
man/ps2ascii.1 [1.11], man/ps2epsi.1 [1.11], man/ps2pdf.1 [1.15],
man/ps2pdfwr.1 [1.14], man/ps2ps.1 [1.18], man/wftopfa.1 [1.11]: 2002/03/29
00:01:01 giles)

Documents uncertainty regarding resolution setting parameter for
SPARCprinter devices. Closes SF bug #215256. (doc/Devices.htm [1.43]:
2002/03/29 02:27:51 raph)

Updates documentation on PDF problem files, removing non-POSIX compliant
suggested workaround. Thanks to Paul Eggers for pointing out the problem.
Fixes SF bug #521597. (doc/Use.htm [1.49]: 2002/03/29 04:25:13 raph)

Document that other API programming examples are available on the
ghostscript web site. (doc/API.htm [1.20]: 2002/03/29 08:15:59 ghostgum)

Further improves the description of the release process, particularly the
section on making GNU Ghostscript releases. (doc/Release.htm [1.54]:
2002/03/29 23:40:41 giles)

Updates the documentation with the new windows icons.
(doc/Develop.htm [1.69]: 2002/03/30 18:31:56 giles)

minor cleanup of the release instructions (doc/Release.htm [1.55]:
2002/03/31 00:28:07 giles)

Updates release date for 7.20rc2 (doc/API.htm [1.21],
doc/Bug-form.htm [1.26], doc/Bug-info.htm [1.25], doc/C-style.htm [1.31],
doc/Commprod.htm [1.18], doc/Copying.htm [1.18], doc/Current.htm [1.18],
doc/DLL.htm [1.20], doc/Develop.htm [1.70], doc/Devices.htm [1.44],
doc/Drivers.htm [1.26], doc/Fonts.htm [1.27], doc/Helpers.htm [1.22],
doc/History1.htm [1.18], doc/History2.htm [1.18], doc/History3.htm [1.18],
doc/History4.htm [1.18], doc/History5.htm [1.20], doc/History6.htm [1.35],
doc/Htmstyle.htm [1.23], doc/Install.htm [1.31], doc/Issues.htm [1.21],
doc/Language.htm [1.46], doc/Lib.htm [1.20], doc/Maintain.htm [1.28],
doc/Make.htm [1.48], doc/New-user.htm [1.35], doc/Projects.htm [1.41],
doc/Ps-style.htm [1.16], doc/Ps2epsi.htm [1.20], doc/Ps2pdf.htm [1.39],
doc/Psfiles.htm [1.30], doc/Readme.htm [1.37], doc/Source.htm [1.18],
doc/Tester.htm [1.17], doc/Testing.htm [1.5], doc/Unix-lpr.htm [1.18],
doc/Use.htm [1.50], doc/Xfonts.htm [1.18], doc/gs-vms.hlp [1.17],
man/dvipdf.1 [1.13], man/font2c.1 [1.13], man/gs.1 [1.13],
man/gslp.1 [1.13], man/gsnd.1 [1.13], man/pdf2dsc.1 [1.13],
man/pdf2ps.1 [1.15], man/pdfopt.1 [1.13], man/pf2afm.1 [1.13],
man/pfbtopfa.1 [1.14], man/printafm.1 [1.13], man/ps2ascii.1 [1.13],
man/ps2epsi.1 [1.13], man/ps2pdf.1 [1.17], man/ps2pdfwr.1 [1.16],
man/ps2ps.1 [1.20], man/wftopfa.1 [1.13]: 2002/03/31 00:32:38 giles)

further cleanups for release (doc/Release.htm [1.56]: 2002/03/31 00:45:57
giles)

Update documentation for 7.20rc3 (doc/API.htm [1.22],
doc/Bug-form.htm [1.27], doc/Bug-info.htm [1.26], doc/C-style.htm [1.32],
doc/Commprod.htm [1.19], doc/Copying.htm [1.19], doc/Current.htm [1.19],
doc/DLL.htm [1.21], doc/Develop.htm [1.71], doc/Devices.htm [1.45],
doc/Drivers.htm [1.27], doc/Fonts.htm [1.28], doc/Helpers.htm [1.23],
doc/History1.htm [1.19], doc/History2.htm [1.19], doc/History3.htm [1.19],
doc/History4.htm [1.19], doc/History5.htm [1.21], doc/History6.htm [1.36],
doc/Htmstyle.htm [1.24], doc/Install.htm [1.32], doc/Issues.htm [1.22],
doc/Language.htm [1.47], doc/Lib.htm [1.21], doc/Maintain.htm [1.29],
doc/Make.htm [1.49], doc/New-user.htm [1.36], doc/Projects.htm [1.42],
doc/Ps-style.htm [1.17], doc/Ps2epsi.htm [1.21], doc/Ps2pdf.htm [1.40],
doc/Psfiles.htm [1.31], doc/Readme.htm [1.38], doc/Release.htm [1.58],
doc/Source.htm [1.19], doc/Tester.htm [1.18], doc/Testing.htm [1.6],
doc/Unix-lpr.htm [1.19], doc/Use.htm [1.51], doc/Xfonts.htm [1.19],
doc/gs-vms.hlp [1.18], man/dvipdf.1 [1.14], man/font2c.1 [1.14],
man/gs.1 [1.14], man/gslp.1 [1.14], man/gsnd.1 [1.14], man/pdf2dsc.1 [1.14],
man/pdf2ps.1 [1.16], man/pdfopt.1 [1.14], man/pf2afm.1 [1.14],
man/pfbtopfa.1 [1.15], man/printafm.1 [1.14], man/ps2ascii.1 [1.14],
man/ps2epsi.1 [1.14], man/ps2pdf.1 [1.18], man/ps2pdfwr.1 [1.17],
man/ps2ps.1 [1.21], man/wftopfa.1 [1.14]: 2002/04/03 06:56:07 giles)

</pre><h2><a name="7.20-Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- tmake recognized the end of a rule body by a blank line, rather
than by a line that didn't begin with a tab. Fixes SourceForge #415170.
(toolbin/tmake.tcl [1.4]: 2001/10/24 05:45:55 lpd)
	- the icclib makefile comments were out of date; the build rule
referred to gs_stdio_h, which no longer exists; the build rule for gsicc.o
referred to icc_h, which was not defined at that point. (gs.mak [1.7],
icclib.mak [1.4], lib.mak [1.57]: 2001/10/25 21:17:16 lpd)
	- the recent (previous) update to tmake.tcl omitted a line, which
caused the detection of out-of-date files to stop working.
(toolbin/tmake.tcl [1.6]: 2001/10/25 22:02:11 lpd)
	- lib.mak failed to include the dependency of gxdevcli.h on
gstparam.h. (lib.mak [1.58]: 2001/10/31 07:10:59 lpd)
	- makes png the default device on macos which is better supported
than the pbm. (macosx.mak [1.2]: 2001/11/25 06:42:59 giles)
	- Repairs code problems with the fix for bug #224056: non-re-entrant
code, bad formatting, unused variables and computations, and a missing
#include. (int.mak [1.53]: 2001/12/07 05:41:59 lpd)
	- For images specified in general CIEBased color spaces, pdfwrite
would divide the image into tiny rectangles. If the output level is PDF 1.3
or higher, pdfwrite now converts the CIEBased color space to an ICCBased
space if possible. (devs.mak [1.48]: 2001/12/13 18:24:05 lpd)
	- Fix for #474544. Corrects inability to convert valid DeviceN tint
transform functions into type 4 functions. Valid operator names were not
being recognized unless the tint transform function had been bound. One of
two fixes required for this problem. Customer #710. (int.mak [1.57]:
2002/01/11 05:09:22 dancoby)
	- Fix for #474544. This is the second of two fixes required for this
problem. This fix creates a type 0 function which implements a "color cube"
for those tint transform functions which cannot be converted into a type 4
function. Customer #710. Note: There is one more revision planned for this
effort. This revision will make the buildcolorcube operator into a more
general buildsampledfunction. This will allow its use in other situations.
(int.mak [1.58]: 2002/01/17 05:53:40 dancoby)
	- Disables optimization on OpenVMS, because some OpenVMS C compilers
produce incorrect code for gdevpsfx.c. Fixes SourceForge #508722.
(openvms.mak [1.19], openvms.mmk [1.14]: 2002/02/05 19:54:14 lpd)
	- Fix 3 of 3 for #474544 "Core dump - shfill error with DeviceN". 1.
Recognizes already encapsulated tint transform functions. 2. Generalizes the
color cube logic for use in other situations. 3. Uses the domain of the
alternate color space for the range of the tint transform function.
(int.mak [1.60]: 2002/02/06 02:35:11 dancoby)
	- ps2pdf14 was not being installed by unixinst.mak. Fixes
SourceForge bug #508607. (unixinst.mak [1.22]: 2002/02/06 07:16:17 jackiem)
	- Fixes cvs2hist.py to be branch-aware, changing log selection
policy from "all logs more recent than the date of the last tag" to "all
logs along the current branch more recent than the reference tag given in
the -j option". (toolbin/cvs2hist.py [1.10]: 2002/02/06 21:11:54 raph)
	- pkmraw device was not built by Windows makefile, but it is
required for regression testing. (msvc32.mak [1.23]: 2002/02/18 11:22:17
igor)
	- ijs.mak had the wrong license header (ijs.mak [1.3]: 2002/02/19
23:59:34 giles)
	- reverts the license of ijs.mak to AFPL; the previous change was
intended for the GPL branch. (ijs.mak [1.4]: 2002/02/20 00:16:00 giles)
	- check_docrefs didn't pass the gsroot parameter down far enough.
(toolbin/tests/check_docrefs.py [1.3]: 2002/02/20 07:10:14 lpd)
	- The Ghostscript test class didn't initialize the new member
gsoptions. (bug introduced by Windows portability patch)
(toolbin/tests/gstestgs.py [1.3]: 2002/02/20 07:14:35 lpd)
	- The check_dirs test script still tried to check
toolbin/regression, which no longer exists.
(toolbin/tests/check_dirs.py [1.3]: 2002/02/21 22:19:03 lpd)
	- The check_source test script didn't properly skip src/gconf.h, and
it was too strict about the form of double-inclusion protection for header
files. (toolbin/tests/check_source.py [1.3]: 2002/02/21 22:22:49 lpd)
	- Add LICENSE file and the few files generated by autogen.sh to the
allowed files in check_dir.py. (toolbin/tests/check_dirs.py [1.5]:
2002/02/22 00:34:54 jack)
	- The check_docrefs test script skipped over directories named by
links. (toolbin/tests/check_docrefs.py [1.6]: 2002/02/22 02:42:35 lpd)
	- Include gs_resmp.ps into the prelude with ADDMOD rather than
.runlibfile (suggested by Raymond J. Johnston), and increase MSVC compiler
heap for building gs_init.c with COMPILE_INITS=1. Source Forge bug "[ 526192
] Broken COMPILE_INITS". (int.mak [1.64], msvccmd.mak [1.9]: 2002/03/06
08:55:16 igor)
	- Second attempt to fix COMPILE_INITS=1. This statically embeds all
gs_*.ps files, xlatmap and FAPIconfig. Source Forge bug "[ 526192 ] Broken
COMPILE_INITS". (int.mak [1.65]: 2002/03/07 10:52:06 igor)
	- Definition for gsiodisk.&#36;(OBJ) was multiply defined. Remove the
one that is not dependent on the diskn.dev FEATURE. (lib.mak [1.66]:
2002/03/15 06:25:13 ray)
	- remove -fno-common from the standard gcc LDFLAGS. It is only
required at compile time and doesn't need to be passed to the linker.
(macosx.mak [1.7], unix-gcc.mak [1.29]: 2002/03/28 23:12:09 giles)
	- base release date on UTC rather than local time
(version.mak [1.43]: 2002/03/29 00:36:20 giles)
	- use UTC universally in the prerelease check script to avoid
spurious errors due to timezone differences (toolbin/pre.tcl [1.6]:
2002/03/29 00:44:34 giles)
	- gsfont.h didn't define gs_matrix as an opaque type, causing
clients of gsfont.h to include gsmatrix.h unnecessarily. (lib.mak [1.68]:
2002/03/29 00:48:21 lpd)
	- Makes pathname manipulation in check_dirs.py and check_docrefs.py
more portable and robust. (toolbin/tests/check_dirs.py [1.6],
toolbin/tests/check_docrefs.py [1.7]: 2002/03/29 02:32:54 raph)
	- Change spaces at start of rule to a single tab required by some
makes. (winint.mak [1.14]: 2002/04/02 16:27:56 ray)
	- Correct vdtrace.h dependencies. This eliminates &gt;300 lines of
output from the gsmake.tcl makefile check tool. (int.mak [1.68],
lib.mak [1.69]: 2002/04/02 19:34:37 ray)
	- .dev was left off of uniprint.dev in a DEVICES macro
(msvc32.mak [1.29]: 2002/04/03 20:14:28 ray)

Updates version number to 7.10 to indicate that this is now the development
branch. (version.mak [1.37]: 2001/10/20 09:25:22 raph)

Changes all procedures for getting glyph outline data to return a structure
that includes memory management information. This is a
NON-BACKWARD-COMPATIBLE change to both implementors and clients. It corrects
a serious design error: formerly these procedures encoded memory management
information in their return code, which was obscure and error-prone.
(lib.mak [1.54]: 2001/10/21 06:20:08 lpd)

FAPI project, UFST only, Type 1 and Type42 fonts. This version supports disk
fonts including FCOs, and embedded fonts, including incremental ones.
(bcwin32.mak [1.13], dvx-gcc.mak [1.13], gs.mak [1.6], int.mak [1.51],
lib.mak [1.55], msvc32.mak [1.21], openvms.mak [1.17], openvms.mmk [1.13],
unix-gcc.mak [1.24], unixansi.mak [1.17], winlib.mak [1.13]: 2001/10/21
18:57:41 igorm)

Upgrades tmake to provide line numbers for undefined variables; improves the
warning message for redefined variables; makes --warn-undefined-variables
warn at every use of a variable, not just the first use, and adds
--warn-undefined-variables-once to warn at only the first use.
(toolbin/tmake.tcl [1.5]: 2001/10/24 06:36:53 lpd)

FAPI project: improving error handling. (lib.mak [1.56]: 2001/10/24 08:10:26
igorm)

Improves organization and commenting; adds a --warn-all switch.
(toolbin/tmake.tcl [1.7]: 2001/10/30 19:43:51 lpd)

FAPI project : (1) upgrading with UFST 4.3, (2) implementing GS cache.
(int.mak [1.52]: 2001/11/11 23:09:16 igorm)

Adds makefile support for building ghostscript as a MacOS X 'Framework'
format encapsulated shared library. The new build is invoked by copying
macosx.mak to the top level directory and invoking 'make framework'.
(macos-fw.mak [1.1], macosx.mak [1.1]: 2001/11/22 07:29:48 giles)

Adds extensionless aliases for all the scripts used in the normal build
process; renames pre as pre.tcl; adds an Id line to smoke.ps; updates
documentation to match. (toolbin/cvs2hist [1.1], toolbin/gsmake [1.1],
toolbin/makefonts [1.1], toolbin/makefonts.tcl [1.1], toolbin/makegnu [1.1],
toolbin/makehist [1.1], toolbin/makehist.tcl [1.1],
toolbin/makemaster [1.1], toolbin/makemaster.tcl [1.1],
toolbin/makeset [1.1], toolbin/makeset.tcl [1.11], toolbin/maketars [1.1],
toolbin/maketars.tcl [1.1], toolbin/makewin [1.1],
toolbin/makewin.tcl [1.1], toolbin/pre [1.12], toolbin/pre.tcl [1.1],
toolbin/smoke.ps [1.2], toolbin/tmake.tcl [1.8]: 2001/12/07 07:16:42 lpd)

Implementing a mapped resource category redefiner; Provide a map for CIDFont
category; Reorganize the mapping algorithm for FAPI. (int.mak [1.54]:
2001/12/08 11:31:20 igorm)

FAPI project : Preparing environment for CID font processing; Fixing UFST
file names. (int.mak [1.55], lib.mak [1.59]: 2001/12/12 02:48:20 igorm)

Updates the comment describing the AK makefile variable to reflect the fact
that ansi2knr no longer exists. (gs.mak [1.8]: 2001/12/13 18:12:17 lpd)

FAPI project : implementing CDevProc and CIDDecoding. (int.mak [1.56]:
2002/01/02 07:24:07 igorm)

Makes tmake a shell script rather than a link, as is done with all the other
tcl scripts. (toolbin/tmake [1.1]: 2002/01/08 07:21:54 lpd)

Adds a very modest checksource script for checking the conformance of source
files with coding and architectural standards. This script should eventually
be run as part of nightly regression testing. (toolbin/pre.tcl [1.2]:
2002/01/08 08:21:51 lpd)

Updates the extension of the golfer and tiger example files to '.eps' in the
install target. Also updates some documentation in source file comments.
(unixinst.mak [1.21]: 2002/01/11 04:13:12 giles)

Documents ICCSRCDIR along with the other platform-specific defines.
(gs.mak [1.9]: 2002/01/12 02:55:14 giles)

FAPI project : Provide a transfer of GlobalSubrs through FAPI for embedded
Type 2 fonts. (int.mak [1.59]: 2002/01/18 11:03:06 igorm)

Adds IJS driver to Ghostscript. Includes complete IJS version 0.33
distribution. Also includes autoconf patch by Ralph Giles. (gs.mak [1.10],
ijs.mak [1.1]: 2002/01/31 20:46:57 raph)

Adds IJS driver to Ghostscript. Includes complete IJS version 0.33
distribution. Also includes autoconf patch by Ralph Giles. (devs.mak [1.49]:
2002/01/31 20:47:08 raph)

Documentation and makefile updates for IJS driver. (bcwin32.mak [1.14],
dvx-gcc.mak [1.14], ijs.mak [1.2], macos-mcp.mak [1.4], macosx.mak [1.3],
msvc32.mak [1.22], openvms.mak [1.18], os2.mak [1.20], ugcclib.mak [1.14],
unix-gcc.mak [1.25], unixansi.mak [1.18], watclib.mak [1.14],
watcw32.mak [1.14], wctail.mak [1.4], winlib.mak [1.14]: 2002/02/01 03:17:12
raph)

Moves TrueType glyph flags to gxttf.h, where they should have been from the
beginning. (lib.mak [1.60]: 2002/02/11 16:27:58 lpd)

Removes some unnecessary #includes from gdevpsdu.c. (devs.mak [1.50]:
2002/02/16 15:19:24 lpd)

Replaces the toolbin/regression directory with a new toolbin/tests directory
that includes all testing scripts. Adds and documents a framework for
writing and running testing scripts. (toolbin/tests/check_all.py [1.1],
toolbin/tests/check_dirs.py [1.1], toolbin/tests/check_docrefs.py [1.1],
toolbin/tests/check_source.py [1.1], toolbin/tests/dump_testdb [1.1],
toolbin/tests/fuzzy.c [1.1], toolbin/tests/gsconf.py [1.1],
toolbin/tests/gsparamsets.py [1.1], toolbin/tests/gssum.py [1.1],
toolbin/tests/gstestgs.py [1.1], toolbin/tests/gstestutils.py [1.1],
toolbin/tests/make_testdb [1.1], toolbin/tests/make_two_versions [1.1],
toolbin/tests/revert_baseline [1.1], toolbin/tests/run_nightly [1.1],
toolbin/tests/run_regression [1.1], toolbin/tests/update_baseline [1.1]:
2002/02/19 15:46:01 lpd)

Updates the new test scripts with Igor's changes for running on MS Windows.
(toolbin/tests/gsconf.py [1.2], toolbin/tests/gstestgs.py [1.2],
toolbin/tests/make_testdb [1.2], toolbin/tests/make_two_versions [1.2],
toolbin/tests/revert_baseline [1.2], toolbin/tests/update_baseline [1.2]:
2002/02/19 15:59:14 lpd)

Cleans up a few loose ends from the transition to the new testing framework.
(toolbin/tests/.cvsignore [1.1], toolbin/tests/check_docrefs.py [1.2]:
2002/02/19 16:16:07 lpd)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(all-arch.mak [1.10], bcwin32.mak [1.15], cfonts.mak [1.3],
contrib.mak [1.25], cp.bat [1.2], cp.cmd [1.2], devs.mak [1.51],
dvx-gcc.mak [1.15], dvx-head.mak [1.3], dvx-tail.mak [1.6], dwmain.rc [1.3],
dwsetup.rc [1.6], dwuninst.rc [1.4], gs.mak [1.11], gs16spl.rc [1.3],
gsdll2.rc [1.3], gsdll32.rc [1.3], gsos2.rc [1.3], gspmdrv.rc [1.3],
gswin.rc [1.3]: 2002/02/21 20:57:46 ray)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(icclib.mak [1.5], ijs.mak [1.5], int.mak [1.61], jpeg.mak [1.5],
lib.mak [1.61], libpng.mak [1.11], macos-fw.mak [1.2], macos-mcp.mak [1.5],
macosx.mak [1.4], msvc32.mak [1.24], msvccmd.mak [1.7], msvclib.mak [1.17],
msvctail.mak [1.7], mv.bat [1.2], mv.cmd [1.2], openvms.mak [1.20],
openvms.mmk [1.15], os2.mak [1.21], pcwin.mak [1.3], rm.bat [1.2],
rm.cmd [1.2], ugcclib.mak [1.15], unix-aux.mak [1.6], unix-dll.mak [1.7],
unix-end.mak [1.3], unix-gcc.mak [1.26], unixansi.mak [1.19],
unixhead.mak [1.3], unixinst.mak [1.23], unixlink.mak [1.4],
version.mak [1.38], watc.mak [1.17], watclib.mak [1.15], watcw32.mak [1.15],
wccommon.mak [1.4], wctail.mak [1.5], winint.mak [1.9], winlib.mak [1.15],
winplat.mak [1.3], wmin.mak [1.3], zlib.mak [1.4]: 2002/02/21 20:57:49 ray)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(toolbin/3way.tcl [1.4], toolbin/bughunt.sh [1.2], toolbin/cvs2hist [1.2],
toolbin/cvs2hist.py [1.11], toolbin/errlist.tcl [1.4],
toolbin/gsindent [1.4], toolbin/gsmake [1.2], toolbin/gsmake.tcl [1.6],
toolbin/gssubst [1.2], toolbin/headers.tcl [1.4], toolbin/leaks.tcl [1.4],
toolbin/makefonts [1.2], toolbin/makefonts.tcl [1.2], toolbin/makegnu [1.2],
toolbin/makegnu.tcl [1.4], toolbin/makehist [1.2],
toolbin/makehist.tcl [1.2], toolbin/makemaster [1.2],
toolbin/makemaster.tcl [1.2], toolbin/makeset [1.2],
toolbin/makeset.tcl [1.12], toolbin/maketars [1.2],
toolbin/maketars.tcl [1.2], toolbin/makewin [1.2],
toolbin/makewin.tcl [1.2], toolbin/many2pdf.tcl [1.2],
toolbin/pdfinflt.ps [1.2], toolbin/pre [1.13], toolbin/pre.tcl [1.3],
toolbin/precheck.tcl [1.4], toolbin/smoke.ps [1.3], toolbin/suite.tcl [1.4],
toolbin/tests/check_all.py [1.2], toolbin/tests/check_dirs.py [1.2],
toolbin/tests/check_docrefs.py [1.4], toolbin/tests/check_source.py [1.2],
toolbin/tests/dump_testdb [1.2], toolbin/tests/gsconf.py [1.3],
toolbin/tests/gsparamsets.py [1.2], toolbin/tests/gssum.py [1.2],
toolbin/tests/gstestgs.py [1.4], toolbin/tests/gstestutils.py [1.2],
toolbin/tests/make_testdb [1.3], toolbin/tests/make_two_versions [1.3],
toolbin/tests/revert_baseline [1.3], toolbin/tests/run_nightly [1.2],
toolbin/tests/run_regression [1.2], toolbin/tests/update_baseline [1.3],
toolbin/tmake [1.2], toolbin/tmake.tcl [1.9]: 2002/02/21 20:57:53 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (all-arch.mak [1.11], bcwin32.mak [1.16],
cfonts.mak [1.4], contrib.mak [1.26], cp.bat [1.3], cp.cmd [1.3],
devs.mak [1.52], dvx-gcc.mak [1.16], dvx-head.mak [1.4], dvx-tail.mak [1.7],
dwmain.rc [1.4], dwsetup.rc [1.7], dwuninst.rc [1.5], gs.mak [1.12],
gs16spl.rc [1.4], gsdll2.rc [1.4], gsdll32.rc [1.4], gsos2.rc [1.4],
gspmdrv.rc [1.4], gswin.rc [1.4], icclib.mak [1.6], ijs.mak [1.6],
int.mak [1.62], jpeg.mak [1.6], lib.mak [1.62], libpng.mak [1.12],
macos-fw.mak [1.3], macos-mcp.mak [1.6], macosx.mak [1.5],
msvc32.mak [1.25], msvccmd.mak [1.8], msvclib.mak [1.18],
msvctail.mak [1.8], mv.bat [1.3], mv.cmd [1.3], openvms.mak [1.21],
openvms.mmk [1.16], os2.mak [1.22], pcwin.mak [1.4], rm.bat [1.3],
rm.cmd [1.3]: 2002/02/21 22:24:51 giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (ugcclib.mak [1.16], unix-aux.mak [1.7],
unix-dll.mak [1.8], unix-end.mak [1.4], unix-gcc.mak [1.27],
unixansi.mak [1.20], unixhead.mak [1.4], unixinst.mak [1.24],
unixlink.mak [1.5], version.mak [1.39], watc.mak [1.18], watclib.mak [1.16],
watcw32.mak [1.16], wccommon.mak [1.5], wctail.mak [1.6], winint.mak [1.10],
winlib.mak [1.16], winplat.mak [1.4], wmin.mak [1.4], zlib.mak [1.5]:
2002/02/21 22:24:54 giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (toolbin/3way.tcl [1.5], toolbin/bughunt.sh [1.3],
toolbin/cvs2hist [1.3], toolbin/cvs2hist.py [1.12],
toolbin/errlist.tcl [1.5], toolbin/gsindent [1.5], toolbin/gsmake [1.3],
toolbin/gsmake.tcl [1.7], toolbin/gssubst [1.3], toolbin/headers.tcl [1.5],
toolbin/leaks.tcl [1.5], toolbin/makefonts [1.3],
toolbin/makefonts.tcl [1.3], toolbin/makegnu [1.3],
toolbin/makegnu.tcl [1.5], toolbin/makehist [1.3],
toolbin/makehist.tcl [1.3], toolbin/makemaster [1.3],
toolbin/makemaster.tcl [1.3], toolbin/makeset [1.3],
toolbin/makeset.tcl [1.13], toolbin/maketars [1.3],
toolbin/maketars.tcl [1.3], toolbin/makewin [1.3],
toolbin/makewin.tcl [1.3], toolbin/many2pdf.tcl [1.3],
toolbin/pdfinflt.ps [1.3], toolbin/pre [1.14], toolbin/pre.tcl [1.4],
toolbin/precheck.tcl [1.5], toolbin/smoke.ps [1.4], toolbin/suite.tcl [1.5],
toolbin/tests/check_all.py [1.3], toolbin/tests/check_dirs.py [1.4],
toolbin/tests/check_docrefs.py [1.5], toolbin/tests/check_source.py [1.4],
toolbin/tests/dump_testdb [1.3], toolbin/tests/gsconf.py [1.4],
toolbin/tests/gsparamsets.py [1.3], toolbin/tests/gssum.py [1.3],
toolbin/tests/gstestgs.py [1.5], toolbin/tests/gstestutils.py [1.3],
toolbin/tests/make_testdb [1.4], toolbin/tests/make_two_versions [1.4],
toolbin/tests/revert_baseline [1.4], toolbin/tests/run_nightly [1.3],
toolbin/tests/run_regression [1.3], toolbin/tests/update_baseline [1.4],
toolbin/tmake [1.3], toolbin/tmake.tcl [1.10]: 2002/02/21 22:44:45 giles)

FAPI project : (1) Fixing a bug in stringwidth; (2) replacing CheckRET macro
with return_if_error. (int.mak [1.63]: 2002/02/25 10:02:12 igor)

Removes auto-generated plain text versions of html documentation from cvs
and makes their creation an explicit part of the release process.
(toolbin/pre.tcl [1.5]: 2002/02/25 20:54:30 giles)

Implementing Visual Trace service to graphics library, and Visual Trace
server for Windows. (gsdll32.def [1.3], lib.mak [1.63], winint.mak [1.11]:
2002/02/26 16:09:15 igor)

Add gdevpccm.obj to the display device dependencies. (devs.mak [1.53]:
2002/02/28 22:23:39 ghostgum)

When building the distribution archive, don't flag an error if gsv16spl.exe
doesn't exist. This file is only needed for Win32s which is no longer
supported. (winint.mak [1.12]: 2002/02/28 22:24:09 ghostgum)

Removes -Wtraditional from the gcc switches, since we no longer support
pre-ANSI compilers and newer gcc versions produce many more warnings if this
switch is present. Also removes a stray space character. (macosx.mak [1.6],
unix-gcc.mak [1.28]: 2002/03/05 17:50:11 lpd)

Committing in . Long promised type cast changes neede to supress warnings on
OpenVMS devs.mak : In a condition in a Makefile for OpenVMS the ":" should
be surrounded by spaces. Modified Files: gs/src/devs.mak gs/src/imainarg.c
gs/src/zfile.c
----------------------------------------------------------------------
(devs.mak [1.54]: 2002/03/07 08:35:16 joukj)

Update msvc32.mak and documentation to support compilation with Microsoft
Visual Studio .NET. This requires MSVC_VERSION=7. (msvc32.mak [1.26]:
2002/03/12 07:20:08 ghostgum)

Create the bboxutil.dev pseudo device to allow inclusion of the bbox device
without putting the bbox device on the list of devices. Also clean up some
minor dependency problems. (devs.mak [1.55], lib.mak [1.64]: 2002/03/13
19:50:13 ray)

Add a new optional FEATURE, diskn.dev that provides emulation of %disk
devices present on some Adobe printers. This version is NOT multiple
instance safe, but is useful for embedded printers or for server systems
with a single Ghostscript instance. Documentation is in Language.htm.
Addresses SourceForge bug #493344 for Artifex customer #411. (gs.mak [1.13],
int.mak [1.66], lib.mak [1.65]: 2002/03/13 20:27:39 ray)

Move definition of gsiodisk.&#36;(OBJ) from int.mak to lib.mak as requested by
LPD. (int.mak [1.67], lib.mak [1.67]: 2002/03/15 18:21:17 ray)

Bumps the next-release version number to 7.20 to leave additional room for
stable releases. (version.mak [1.40]: 2002/03/22 00:05:52 giles)

backs out a non-portable buildtime revision date accidentally included in
the last commit. (version.mak [1.41]: 2002/03/22 00:19:49 giles)

Adds a framework_install target to the MacOS X build for testing
convenience. (macos-fw.mak [1.4]: 2002/03/22 01:06:57 giles)

Update release dates in preparation of the upcoming development release
(version.mak [1.42]: 2002/03/29 00:01:02 giles)

Updates the default version of the PNG library to the most-recent 1.2.1.
Likewise updates references to the zlib version to the more recent 1.1.4,
which includes an important security fix. Updates the default paths to the
library source trees in all-arch.mak to reflect current usage.
(all-arch.mak [1.12], bcwin32.mak [1.17], dvx-gcc.mak [1.17],
macos-mcp.mak [1.7], macosx.mak [1.8], msvc32.mak [1.27],
msvclib.mak [1.19], openvms.mak [1.22], os2.mak [1.23], ugcclib.mak [1.17],
unix-gcc.mak [1.30], unixansi.mak [1.21], watc.mak [1.19],
watclib.mak [1.17], watcw32.mak [1.17], zlib.mak [1.6]: 2002/03/29 00:19:09
giles)

update the documentation on supported libpng versions (libpng.mak [1.13]:
2002/03/29 00:22:42 giles)

Changes smoke.ps to use relative paths fromt he top level of the source
tree. This is simpler than relying on the user having a global /gs alias
(toolbin/smoke.ps [1.5]: 2002/03/29 08:59:22 giles)

Replace Windows icons with new versions that include 48x48 pixel and 32-bit
versions for Windows XP. Change the 16x16 pixel icons to use the full 'g'
instead of just the head. Use a restricted icon gswin16.ico for WinZip SE
which can't handle the new icon. (bcwin32.mak [1.18], dwmain.rc [1.5],
dwsetup.rc [1.8], dwuninst.rc [1.6], gs16spl.rc [1.5], gsdll32.rc [1.5],
gswin.rc [1.5], gswin32.rc [1.2], gswin386.rc [1.2], winint.mak [1.13]:
2002/03/30 01:29:38 ghostgum)

Adds support for compilation against a standard shared libjpeg. It is
believed that non-baseline compliant DCTEncoded data, permitted by early
versions of postscript, is now extremely rare and the prohibition against
SHARE_JPEG=1 may reasonably be removed. The autoconf build will prefer a
local copy of the jpeg source, in which case the D_MAX_BLOCKS_IN_MCU patch
will still be applied. If no such local copy is found, it will try to find a
shared library on the system. For all unix builds, if &#36;(JSRCDIR)/jmemsys.h
cannot be found, we define DONT_HAVE_JMEMSYS_H and include our own versions
of the libjpeg memory manager prototypes. The default allocator in the
shared library is overridden by the ghostscript one at link-time. While this
may be implementation-dependent, it appears to function as desired on at
least GNU/Linux and Solaris. Also changes the autoconf build to prefer local
zlib and libpng source, and cleans up some variable names.
(dvx-gcc.mak [1.18], macosx.mak [1.9], ugcclib.mak [1.18],
unix-aux.mak [1.8], unix-gcc.mak [1.31], unixansi.mak [1.22]: 2002/03/30
23:55:15 giles)

Updates release date for 7.20rc2 (version.mak [1.44]: 2002/03/31 00:32:38
giles)

Update documentation for 7.20rc3 (version.mak [1.45]: 2002/04/03 06:56:08
giles)

Returns the bbox device to the default build in response to user requests.
(devs.mak [1.56], macosx.mak [1.10], msvc32.mak [1.28], openvms.mak [1.23],
os2.mak [1.24], unix-gcc.mak [1.32], unixansi.mak [1.23]: 2002/04/03
18:25:03 giles)

</pre><h2><a name="7.20-Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- There were 3 unused declarations of the variable 'buf'.
(ziodevsc.c [1.4]: 2001/11/22 04:57:21 lpd)
	- remove unnecessary include in dxmainc.c. (dxmainc.c [1.5]:
2001/11/25 07:52:55 giles)
	- ps2ascii was broken (probably for a long time) because it still
used NOBIND rather than DELAYBIND. Fixes SourceForge #485029.
(lib/ps2ascii [1.4], lib/ps2ascii.bat [1.4], lib/ps2ascii.cmd [1.2],
lib/ps2ascii.ps [1.4]: 2001/12/08 15:43:07 lpd)
	- some files were missing the RCS 'Id' line with the last
modification date. partial fix for Sourceforge bug #500922.
(lib/acctest.ps [1.2], lib/decrypt.ps [1.2], lib/landscap.ps [1.2],
lib/level1.ps [1.2], lib/pf2afm.ps [1.4], lib/printafm.ps [1.2],
lib/viewjpeg.ps [1.2]: 2002/01/09 20:35:32 giles)
	- some files were missing the RCS 'Id' line with the last
modification date. partial fix for Sourceforge bug #500922. (gp_mac.c [1.3],
gp_macio.c [1.3]: 2002/01/09 21:04:20 giles)
	- On IA64 CPUs, objects were only aligned on 8-byte boundaries, not
16-byte. (It may be that only jmpbuf structures actually need 16-byte
alignment, but gcc and glibc malloc align all objects that way.) Fixes
SourceForge bug #502866. Also cleans up some minor coding issues in
genarch.c. (genarch.c [1.3]: 2002/01/16 16:09:20 lpd)
	- Most of the calls of gs_[main_]init1 didn't check the return value
for errors. (gserver.c [1.4]: 2002/01/18 00:43:10 lpd)
	- Incorporate patch from Tim Waugh of RedHat to allow ps2pdfwr to
correctly process files with spaces in their names. Peter's earlier fix
missed a few enclosing "'s for output files. Fixes Sourceforge bug #505338.
(lib/ps2pdfwr [1.7]: 2002/01/22 20:25:44 jackiem)
	- Improve security in a (mostly) backward compatible fashion adding
more flexible file access paths (PermitFile...) as user paramters and adding
the facility to return to NOSAFER mode after running jobs (files/procedures)
in SAFER mode. This should address SF bug #474582 and eliminate the need for
the RedHat PARANOIDSAFER patch. (gp_macio.c [1.4], gp_ntfs.c [1.6],
gp_os2.c [1.11], gp_vms.c [1.8]: 2002/01/24 06:33:33 rayjj)
	- Extra (old) parameters to gp_file_name_concat_string removed.
(gp_ntfs.c [1.7]: 2002/02/01 08:03:46 rayjj)
	- File enumeration on VMS doesn't enumerate "*" as all files,
needing "*.*" similar to gp_dosfe.c. PostScript FONTPATH scanning and PCL
font loading failed prior to this fix. Filenames that already have a "."
prior to the trailing "*" are not modified. (gp_vms.c [1.9]: 2002/02/06
01:07:54 rayjj)
	- Typos (" used when ' was needed) fixed. So much for desk checking
:-( (gp_vms.c [1.10]: 2002/02/08 04:37:56 rayjj)
	- Fixes pdf2dsc to open input file before .setsafe, so that it works
even when SAFER locks down read file access. (lib/pdf2dsc.ps [1.4]:
2002/02/13 17:28:08 raph)
	- pdfopt didn't handle pages with no Contents, and didn't handle
files in which any objects (such as resources) were referenced from both the
first page and later pages. Also adds more tracing output to pdfopt (with
-dPDEBUG). Fixes SourceForge #516628. (lib/pdfopt.ps [1.11]: 2002/02/19
19:52:28 lpd)

FAPI project, UFST only, Type 1 and Type42 fonts. This version supports disk
fonts including FCOs, and embedded fonts, including incremental ones.
(genconf.c [1.5]: 2001/10/21 18:57:41 igorm)

FAPI project, UFST only, Type 1 and Type42 fonts. This version supports disk
fonts including FCOs, and embedded fonts, including incremental ones.
(lib/xlatmap [1.1]: 2001/10/21 19:10:29 igorm)

FAPI project: improving error handling. (lib/xlatmap [1.2]: 2001/10/22
16:22:29 igorm)

Adds a reference to the v7.xx History file. (gp_mac.c [1.2]: 2001/10/24
22:33:39 giles)

Replaces references of 'FontManagerLib' with 'FontManager' to match the
Universal Headers stub shipped with Metrowerks CW 6.3. Also disables the
warning about unused arguments since we have a lot of those be design and
they accounted for the majority of the warning output on CodeWarrior. The
macos shlib now builds and works 'out of the box'. (macgenmcpxml.sh [1.2]:
2001/11/02 02:16:50 giles)

Adds xml property/version file for MacOS X Framework build.
(lib/Info-macos.plist [1.1]: 2001/12/04 00:02:09 giles)

Implementing a mapped resource category redefiner; Provide a map for CIDFont
category; Reorganize the mapping algorithm for FAPI. (lib/FAPIcidfmap [1.1],
lib/FAPIfontmap [1.1], lib/cidfmap [1.1]: 2001/12/08 11:31:20 igorm)

FAPI project : implementing CID fonts with FAPI. (lib/FAPIcidfmap [1.2],
lib/FAPIconfig [1.1], lib/FAPIfontmap [1.2], lib/cidfmap [1.2],
lib/xlatmap [1.3]: 2001/12/12 23:02:08 igorm)

FAPI project : Removing a trash code from lib/FAPIfontmap .
(lib/FAPIfontmap [1.3]: 2001/12/13 19:27:18 igorm)

decrypt.ps had an incomplete RCS 'Id' line. Completes the fix for
SourceForge bug # 500922. (lib/decrypt.ps [1.3]: 2002/01/09 22:01:45 lpd)

decrpyt.ps *still* didn't have a correct RCS 'Id' line.
(lib/decrypt.ps [1.4]: 2002/01/09 22:03:01 lpd)

Updates the extension of the golfer and tiger example files to '.eps' in the
install target. Also updates some documentation in source file comments.
(gserver.c [1.3], lib/stocht.ps [1.4]: 2002/01/11 04:13:12 giles)

FAPI project : Implementing Type 2 fonts. (lib/FAPIconfig [1.2]: 2002/01/17
00:02:42 igorm)

Adds the standard GNU copyright banner to the viewjpeg script, with
permission from Thomas Merz. Also updates the author's email address and
removes the obsolete physical address. (lib/viewjpeg.ps [1.3]: 2002/02/08
09:46:17 giles)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(ansi2knr.c [1.4], bench.c [1.5], catmake [1.2], dxmain.c [1.8],
dxmainc.c [1.6], echogs.c [1.4], genarch.c [1.4], genconf.c [1.6],
gendev.c [1.3], genht.c [1.3], geninit.c [1.4], gp_dvx.c [1.5],
gp_iwatc.c [1.7], gp_mac.c [1.4], gp_macio.c [1.5], gp_mktmp.c [1.3],
gp_msdll.c [1.2], gp_mshdl.c [1.3], gp_msio.c [1.4], gp_mslib.c [1.4],
gp_mspol.c [1.2], gp_msprn.c [1.2], gp_mswin.c [1.8], gp_ntfs.c [1.8],
gp_os2.c [1.12], gp_os9.c [1.5], gp_stdia.c [1.4], gp_stdin.c [1.3],
gp_sysv.c [1.3], gp_unix.c [1.6], gp_vms.c [1.11], gp_wgetv.c [1.5],
gp_win32.c [1.3], gp_wsync.c [1.3], gs16spl.c [1.3], lib/FAPIcidfmap [1.3],
lib/FAPIconfig [1.3], lib/FAPIfontmap [1.4], lib/Fontmap.ATB [1.3],
lib/Fontmap.ATM [1.3], lib/Fontmap.GS [1.3], lib/Fontmap.OS2 [1.3],
lib/Fontmap.SGI [1.3], lib/Fontmap.Sol [1.3], lib/Fontmap.Ult [1.3],
lib/acctest.ps [1.3], lib/addxchar.ps [1.3], lib/align.ps [1.3],
lib/bdftops [1.3], lib/bdftops.bat [1.4], lib/bdftops.cmd [1.3],
lib/bdftops.ps [1.4], lib/caption.ps [1.3], lib/cid2code.ps [1.4],
lib/cidfmap [1.3], lib/decrypt.ps [1.5], lib/docie.ps [1.3],
lib/dvipdf [1.3], lib/eps2eps [1.4], lib/eps2eps.bat [1.6],
lib/eps2eps.cmd [1.3], lib/errpage.ps [1.3], lib/fixmswrd.pl [1.2],
lib/font2c [1.2], lib/font2c.bat [1.3], lib/font2c.cmd [1.2],
lib/font2c.ps [1.4], lib/font2pcl.ps [1.3], lib/gsbj [1.2],
lib/gsbj.bat [1.3], lib/gsdj [1.2], lib/gsdj.bat [1.3], lib/gsdj500 [1.2],
lib/gsdj500.bat [1.3], lib/gslj [1.2], lib/gslj.bat [1.3], lib/gslp [1.2],
lib/gslp.bat [1.3], lib/gslp.ps [1.3], lib/gsnd [1.2], lib/gsnd.bat [1.3],
lib/gsndt.bat [1.3], lib/gsnup.ps [1.3], lib/gssetgs.bat [1.4],
lib/gst.bat [1.3], lib/gstt.bat [1.3], lib/image-qa.ps [1.4],
lib/impath.ps [1.4], lib/jispaper.ps [1.3], lib/landscap.ps [1.3],
lib/level1.ps [1.3], lib/lines.ps [1.3], lib/lp386.bat [1.2],
lib/lp386r2.bat [1.2], lib/lpgs.bat [1.3], lib/lpr2.bat [1.3],
lib/lprsetup.sh [1.2], lib/markhint.ps [1.3], lib/markpath.ps [1.3],
lib/packfile.ps [1.3], lib/pcharstr.ps [1.3], lib/pdf2dsc [1.4],
lib/pdf2dsc.bat [1.3], lib/pdf2dsc.ps [1.5], lib/pdf2ps [1.5],
lib/pdf2ps.bat [1.6], lib/pdf2ps.cmd [1.3], lib/pdfopt [1.5],
lib/pdfopt.bat [1.5], lib/pdfopt.ps [1.12], lib/pdfwrite.ps [1.8],
lib/pf2afm [1.3], lib/pf2afm.bat [1.4], lib/pf2afm.cmd [1.3],
lib/pf2afm.ps [1.5], lib/pfbtopfa [1.4], lib/pfbtopfa.ps [1.3],
lib/pftogsf.bat [1.3], lib/pj-gs.sh [1.2], lib/ppath.ps [1.3],
lib/pphs [1.2], lib/pphs.ps [1.4], lib/prfont.ps [1.3], lib/printafm [1.2],
lib/printafm.ps [1.3], lib/ps2ai.ps [1.3], lib/ps2ascii [1.5],
lib/ps2ascii.bat [1.5], lib/ps2ascii.cmd [1.3], lib/ps2ascii.ps [1.5],
lib/ps2epsi [1.8], lib/ps2epsi.bat [1.7], lib/ps2epsi.cmd [1.4],
lib/ps2epsi.ps [1.6], lib/ps2pdf [1.2], lib/ps2pdf.bat [1.7],
lib/ps2pdf.cmd [1.2], lib/ps2pdf12 [1.2], lib/ps2pdf12.bat [1.6],
lib/ps2pdf12.cmd [1.2], lib/ps2pdf13 [1.2], lib/ps2pdf13.bat [1.6],
lib/ps2pdf13.cmd [1.3], lib/ps2pdf14 [1.2], lib/ps2pdf14.bat [1.3],
lib/ps2pdf14.cmd [1.2], lib/ps2pdfwr [1.8], lib/ps2pdfxx.bat [1.11],
lib/ps2ps [1.4], lib/ps2ps.bat [1.5], lib/ps2ps.cmd [1.2], lib/pv.sh [1.2],
lib/rollconv.ps [1.2], lib/showchar.ps [1.3], lib/stcinfo.ps [1.3],
lib/stcolor.ps [1.3], lib/stocht.ps [1.5], lib/sysvlp.sh [1.2],
lib/traceimg.ps [1.3], lib/traceop.ps [1.3], lib/type1enc.ps [1.3],
lib/type1ops.ps [1.3], lib/uninfo.ps [1.3], lib/unix-lpr.sh [1.2],
lib/unprot.ps [1.3], lib/viewcmyk.ps [1.3], lib/viewgif.ps [1.3],
lib/viewjpeg.ps [1.4], lib/viewmiff.ps [1.3], lib/viewpbm.ps [1.3],
lib/viewpcx.ps [1.3], lib/viewps2a.ps [1.3], lib/wftopfa [1.2],
lib/wftopfa.ps [1.3], lib/winmaps.ps [1.3], lib/wmakebat.bat [1.2],
lib/wrfont.ps [1.3], lib/xlatmap [1.4], lib/zeroline.ps [1.3]: 2002/02/21
20:57:45 ray)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(gsdll.c [1.7], gserver.c [1.5], gspmdrv.c [1.3], instcopy [1.2],
scfdgen.c [1.3], zdosio.c [1.3], ziodevs.c [1.6], ziodevsc.c [1.5]:
2002/02/21 20:57:48 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (lib/FAPIcidfmap [1.4], lib/FAPIconfig [1.4],
lib/FAPIfontmap [1.5], lib/Fontmap.ATB [1.4], lib/Fontmap.ATM [1.4],
lib/Fontmap.GS [1.4], lib/Fontmap.OS2 [1.4], lib/Fontmap.SGI [1.4],
lib/Fontmap.Sol [1.4], lib/Fontmap.Ult [1.4], lib/acctest.ps [1.4],
lib/addxchar.ps [1.4], lib/align.ps [1.4], lib/bdftops [1.4],
lib/bdftops.bat [1.5], lib/bdftops.cmd [1.4], lib/bdftops.ps [1.5],
lib/caption.ps [1.4], lib/cid2code.ps [1.5], lib/cidfmap [1.4],
lib/decrypt.ps [1.6], lib/docie.ps [1.4], lib/dvipdf [1.4],
lib/eps2eps [1.5], lib/eps2eps.bat [1.7], lib/eps2eps.cmd [1.4],
lib/errpage.ps [1.4], lib/fixmswrd.pl [1.3], lib/font2c [1.3],
lib/font2c.bat [1.4], lib/font2c.cmd [1.3], lib/font2c.ps [1.5],
lib/font2pcl.ps [1.4], lib/gsbj [1.3], lib/gsbj.bat [1.4], lib/gsdj [1.3],
lib/gsdj.bat [1.4], lib/gsdj500 [1.3], lib/gsdj500.bat [1.4],
lib/gslj [1.3], lib/gslj.bat [1.4], lib/gslp [1.3], lib/gslp.bat [1.4],
lib/gslp.ps [1.4], lib/gsnd [1.3], lib/gsnd.bat [1.4], lib/gsndt.bat [1.4],
lib/gsnup.ps [1.4], lib/gssetgs.bat [1.5], lib/gst.bat [1.4],
lib/gstt.bat [1.4], lib/image-qa.ps [1.5], lib/impath.ps [1.5],
lib/jispaper.ps [1.4], lib/landscap.ps [1.4], lib/level1.ps [1.4],
lib/lines.ps [1.4], lib/lp386.bat [1.3], lib/lp386r2.bat [1.3],
lib/lpgs.bat [1.4], lib/lpr2.bat [1.4], lib/lprsetup.sh [1.3],
lib/markhint.ps [1.4], lib/markpath.ps [1.4], lib/packfile.ps [1.4],
lib/pcharstr.ps [1.4], lib/pdf2dsc [1.5], lib/pdf2dsc.bat [1.4],
lib/pdf2dsc.ps [1.6], lib/pdf2ps [1.6], lib/pdf2ps.bat [1.7],
lib/pdf2ps.cmd [1.4], lib/pdfopt [1.6], lib/pdfopt.bat [1.6],
lib/pdfopt.ps [1.13], lib/pdfwrite.ps [1.9], lib/pf2afm [1.4],
lib/pf2afm.bat [1.5], lib/pf2afm.cmd [1.4], lib/pf2afm.ps [1.6],
lib/pfbtopfa [1.5], lib/pfbtopfa.ps [1.4], lib/pftogsf.bat [1.4],
lib/pj-gs.sh [1.3], lib/ppath.ps [1.4], lib/pphs [1.3], lib/pphs.ps [1.5],
lib/prfont.ps [1.4], lib/printafm [1.3], lib/printafm.ps [1.4],
lib/ps2ai.ps [1.4], lib/ps2ascii [1.6], lib/ps2ascii.bat [1.6],
lib/ps2ascii.cmd [1.4], lib/ps2ascii.ps [1.6], lib/ps2epsi [1.9],
lib/ps2epsi.bat [1.8], lib/ps2epsi.cmd [1.5], lib/ps2epsi.ps [1.7],
lib/ps2pdf [1.3], lib/ps2pdf.bat [1.8], lib/ps2pdf.cmd [1.3],
lib/ps2pdf12 [1.3], lib/ps2pdf12.bat [1.7], lib/ps2pdf12.cmd [1.3],
lib/ps2pdf13 [1.3], lib/ps2pdf13.bat [1.7], lib/ps2pdf13.cmd [1.4],
lib/ps2pdf14 [1.3], lib/ps2pdf14.bat [1.4], lib/ps2pdf14.cmd [1.3],
lib/ps2pdfwr [1.9], lib/ps2pdfxx.bat [1.12], lib/ps2ps [1.5],
lib/ps2ps.bat [1.6], lib/ps2ps.cmd [1.3], lib/pv.sh [1.3],
lib/rollconv.ps [1.3], lib/showchar.ps [1.4], lib/stcinfo.ps [1.4],
lib/stcolor.ps [1.4], lib/stocht.ps [1.6], lib/sysvlp.sh [1.3],
lib/traceimg.ps [1.4], lib/traceop.ps [1.4], lib/type1enc.ps [1.4],
lib/type1ops.ps [1.4], lib/uninfo.ps [1.4], lib/unix-lpr.sh [1.3],
lib/unprot.ps [1.4], lib/viewcmyk.ps [1.4], lib/viewgif.ps [1.4],
lib/viewjpeg.ps [1.5], lib/viewmiff.ps [1.4], lib/viewpbm.ps [1.4],
lib/viewpcx.ps [1.4], lib/viewps2a.ps [1.4], lib/wftopfa [1.3],
lib/wftopfa.ps [1.4], lib/winmaps.ps [1.4], lib/wmakebat.bat [1.3],
lib/wrfont.ps [1.4], lib/xlatmap [1.5], lib/zeroline.ps [1.4]: 2002/02/21
21:49:28 giles)

Removes a duplicate Id line. (lib/fixmswrd.pl [1.4]: 2002/02/21 21:53:01
giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (ansi2knr.c [1.5], bench.c [1.6], catmake [1.3],
dxmain.c [1.9], dxmainc.c [1.7], echogs.c [1.5], genarch.c [1.5],
genconf.c [1.7], gendev.c [1.4], genht.c [1.4], geninit.c [1.5],
gp_dvx.c [1.6], gp_iwatc.c [1.8], gp_mac.c [1.5], gp_macio.c [1.6],
gp_mktmp.c [1.4], gp_msdll.c [1.3], gp_mshdl.c [1.4], gp_msio.c [1.5],
gp_mslib.c [1.5], gp_mspol.c [1.3], gp_msprn.c [1.3], gp_mswin.c [1.9],
gp_ntfs.c [1.9], gp_os2.c [1.13], gp_os9.c [1.6], gp_stdia.c [1.5],
gp_stdin.c [1.4], gp_sysv.c [1.4], gp_unix.c [1.7], gp_vms.c [1.12],
gp_wgetv.c [1.6], gp_win32.c [1.4], gp_wsync.c [1.4], gs16spl.c [1.4],
gsdll.c [1.8], gserver.c [1.6], gspmdrv.c [1.4], instcopy [1.3],
scfdgen.c [1.4]: 2002/02/21 22:24:51 giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (zdosio.c [1.4], ziodevs.c [1.7], ziodevsc.c [1.6]:
2002/02/21 22:24:54 giles)

FAPI project : Changing the logics of loading GS fonts with FAPI : now all
fonts listed in fontmap are being loaded with GS font loader and then are
passed to FAPI in same way as embedded fonts. (lib/FAPIconfig [1.5]:
2002/02/26 17:49:12 igor)

Adds DELAYSAFER/.setsafe logic to pdf2dsc output, as needed for a security
update to gv. (lib/pdf2dsc.ps [1.7]: 2002/03/30 23:39:15 raph)

</pre><h2><a name="7.20-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- Fixes a %ld format with an int argument. (gdevpsu.c [1.8]:
2001/11/22 05:10:01 lpd)
	- Setting any of the pdfwrite xxxProfile "distiller" parameters
caused a garbage collection error. (gdevpsdp.c [1.9]: 2001/11/25 01:02:51
lpd)
	- some files were missing the RCS 'Id' line with the last
modification date. partial fix for Sourceforge bug #500922.
(gdevdsp.c [1.7], gdevhpij.c [1.5], gdevhpij.h [1.3], gdevmac.c [1.3],
gdevmac.h [1.2], gdevmacpictop.h [1.2], gdevmacttf.h [1.2],
gdevmacxf.c [1.3], gdevphex.c [1.4]: 2002/01/09 21:04:20 giles)
	- Don't signal invalidacces if the OutputFile parameter is set to
the current value as would be done by 'currentpagedevice setpagedevice'.
(gdevcgm.c [1.4], gdevmac.c [1.4]: 2002/01/15 04:44:09 rayjj)
	- epswrite generates "grestore gsave" while changing a clipping
path, so the internal graphic state and the output document's graphic state
become unsynchonized. Particularly this looses the current color. Source
Forge bug [ #502830 ] pdf2ps - bad color of objects (gdevps.c [1.20]:
2002/01/29 05:57:49 igorm)
	- Removes broken x11alpha driver, and installs an alias for x11
under that name, with default parameters changed to support antialiasing.
Fixes SourceForge bug #505692. (gdevx.c [1.9], gdevxalt.c [1.3]: 2002/01/30
20:08:41 raph)
	- The previous version of src/gdevps.c was checked in with
DOS/Windows (^M^J) EOLs rather than Unix (^J) EOLs, causing some C compilers
to reject it. (gdevps.c [1.21]: 2002/02/05 05:09:08 lpd)
	- psdf_end_binary didn't convert the stream status to an error code,
possibly causing incorrect error reporting. (gdevpsdu.c [1.11]: 2002/02/12
22:00:39 lpd)
	- Many files lacked double-inclusion protection, or implemented it
incorrectly. (gdevbjcl.h [1.3], gdevmacpictop.h [1.3], gdevmacttf.h [1.3],
png_.h [1.3]: 2002/02/20 01:32:47 lpd)
	- Changes XPutImage to use xdev-&gt;vinfo-&gt;depth rather than
xdev-&gt;color_info.depth. These are the same in all cases except a visual
depth of 15, in which the latter is 16. (gdevx.c [1.10]: 2002/02/20 19:39:02
raph)
	- improve pswrite with compatibility to interpreters which don't
consume ASCII85Decode EOD when reader stops immediately before it. Source
Forge bug #525044 "pswrite incompatible with some RIPs". Thanks to Paul
Vojta for spotting this. (gdevps.c [1.24]: 2002/03/13 16:03:50 igor)
	- Outputs PCLXL dash offset as unsigned integer rather than float,
bringing it into compliance with the spec. Thanks to Tobias Kunze for bug
report, analysis, and patch. (gdevpx.c [1.9]: 2002/03/20 20:10:06 raph)
	- epswrite was incompatible with HP LaserJet 4000 TN. Source Forge
bug #529202 "Wrong PostScript in pswrite prolog". (gdevpsu.c [1.11]:
2002/03/20 20:20:11 igor)
	- Fixes cut-n-paste error in commit of pclxl_setdash patch.
(gdevpx.c [1.10]: 2002/03/22 01:54:01 raph)
	- Fixes incorrect margins on IJS devices. Thanks to Dave Suffield
for the patch. (gdevijs.c [1.4]: 2002/03/28 20:44:35 raph)

Adds a reference to the v7.xx History file. (gdevmacxf.c [1.2]: 2001/10/24
22:33:38 giles)

Changes uses of 'defined' as an identifier to 'is_defined', since 'defined'
is a (non-standard) reserved word in gcc 2.96. (Patch from Red Hat.)
(gdevcdj.c [1.6]: 2001/11/07 07:48:57 lpd)

Updates pdfwrite to match Acrobat Distiller 5 more closely: adds
OffOptimizations and PreserveEPSInfo parameters; adds /ebook value for
PDFSETTINGS; changes some of the DCTEncode parameter values for
auto-filtered images; adds CreationDate and ModDate in Info dictionary;
always subsets non Type 1 fonts. (gdevpsdi.c [1.16]: 2001/12/09 00:07:57
lpd)

Don't allocate memory or call callbacks when display device does not have a
callback function. (gdevdsp.c [1.6]: 2001/12/18 07:02:53 ghostgum)

Remove C++ style (//) comments from two files to increase portability.
(gdevhpij.c [1.4], gdevphex.c [1.3], gdevxcmp.c [1.3]: 2001/12/19 20:53:46
jackiem)

Revert the accidental commit of this file. (gdevxcmp.c [1.4]: 2001/12/19
21:22:52 jackiem)

Remove C++ // comment from C file. (gdevwdib.c [1.4]: 2001/12/19 22:13:08
ghostgum)

Improve security for device related access to the file system and to pipes
by allowing the dangerous parameters to be locked (for example, OutputFile).
The locking is performed after command line parameters are established.
Locking is not turned on by default as a result of this change, but
-d.LockSafetyParams=true can be added to the command line to accomplish
this. Related to SF bug #474582 (sort of). (gdevcgm.c [1.3],
gdevmac.c [1.2]: 2001/12/22 00:44:01 rayjj)

Updates the extension of the golfer and tiger example files to '.eps' in the
install target. Also updates some documentation in source file comments.
(gdevcdj.c [1.7], gdevhl7x.c [1.6]: 2002/01/11 04:13:12 giles)

Adds IJS driver to Ghostscript. Includes complete IJS version 0.33
distribution. Also includes autoconf patch by Ralph Giles. (gdevijs.c [1.1]:
2002/01/31 20:46:52 raph)

Removes some unnecessary #includes from gdevpsdu.c. (gdevpsdu.c [1.12]:
2002/02/16 15:19:24 lpd)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(gdev3852.c [1.4], gdev3b1.c [1.3], gdev4081.c [1.4], gdev4693.c [1.4],
gdev8510.c [1.4], gdev8bcm.c [1.3], gdev8bcm.h [1.3], gdevadmp.c [1.4],
gdevatx.c [1.7], gdevbit.c [1.3], gdevbj10.c [1.5], gdevbjc.h [1.3],
gdevbjcl.c [1.3], gdevbjcl.h [1.4], gdevbmp.c [1.5], gdevbmp.h [1.3],
gdevbmpa.c [1.4], gdevbmpc.c [1.3], gdevccr.c [1.3], gdevcdj.c [1.8],
gdevcfax.c [1.4], gdevcgm.c [1.5], gdevcgml.c [1.3], gdevcgml.h [1.3],
gdevcgmx.h [1.3], gdevcif.c [1.4], gdevclj.c [1.3], gdevcljc.c [1.5],
gdevcp50.c [1.4], gdevcslw.c [1.3], gdevdcrd.c [1.3], gdevdcrd.h [1.3],
gdevdfax.c [1.5], gdevdjet.c [1.7], gdevdjtc.c [1.4], gdevdljm.c [1.5],
gdevdljm.h [1.5], gdevdm24.c [1.4], gdevdsp.c [1.8], gdevegaa.asm [1.3],
gdevepsc.c [1.4], gdevepsn.c [1.4], gdevescp.c [1.4], gdevevga.c [1.3],
gdevfax.c [1.3], gdevfax.h [1.3], gdevherc.c [1.3], gdevhl7x.c [1.7],
gdevhpij.c [1.6], gdevhpij.h [1.4], gdevifno.c [1.3], gdevijs.c [1.2],
gdevimgn.c [1.5], gdevjpeg.c [1.4], gdevl256.c [1.4], gdevl31s.c [1.3],
gdevlbp8.c [1.4], gdevlj56.c [1.4], gdevlp8k.c [1.3], gdevlxm.c [1.3],
gdevmac.c [1.5], gdevmac.h [1.3], gdevmacpictop.h [1.4], gdevmacttf.h [1.4],
gdevmacxf.c [1.4], gdevmeds.c [1.3], gdevmeds.h [1.3], gdevmgr.c [1.3],
gdevmgr.h [1.3], gdevmiff.c [1.4], gdevmswn.c [1.5], gdevmswn.h [1.3],
gdevmsxf.c [1.3], gdevn533.c [1.4], gdevo182.c [1.4], gdevokii.c [1.4],
gdevos2p.c [1.5], gdevp14.h [1.2], gdevp2up.c [1.3], gdevpbm.c [1.4],
gdevpccm.c [1.3], gdevpccm.h [1.4], gdevpcfb.c [1.3], gdevpcfb.h [1.3],
gdevpcl.c [1.6], gdevpcl.h [1.6], gdevpcx.c [1.3], gdevpe.c [1.3],
gdevphex.c [1.5], gdevpjet.c [1.4], gdevpm.c [1.5], gdevpm.h [1.3],
gdevpng.c [1.5], gdevpnga.c [1.5], gdevps.c [1.22], gdevpsdf.h [1.10],
gdevpsdi.c [1.17], gdevpsdp.c [1.10], gdevpsds.c [1.5], gdevpsds.h [1.5],
gdevpsdu.c [1.13], gdevpsim.c [1.7], gdevpsu.c [1.9], gdevpsu.h [1.5],
gdevpx.c [1.7], gdevpxat.h [1.4], gdevpxen.h [1.4], gdevpxop.h [1.3],
gdevpxut.c [1.3], gdevpxut.h [1.3], gdevs3ga.c [1.3], gdevsco.c [1.4],
gdevsgi.c [1.3], gdevsgi.h [1.2], gdevsj48.c [1.3], gdevsnfb.c [1.4],
gdevsppr.c [1.6], gdevstc.c [1.3], gdevstc.h [1.3], gdevstc1.c [1.3],
gdevstc2.c [1.3], gdevstc3.c [1.3], gdevstc4.c [1.3], gdevsun.c [1.3],
gdevsunr.c [1.5], gdevsvga.c [1.3], gdevsvga.h [1.3], gdevtfax.c [1.5],
gdevtfax.h [1.5], gdevtfnx.c [1.6], gdevtifs.c [1.5], gdevtifs.h [1.4],
gdevtknk.c [1.4], gdevupd.c [1.6], gdevvglb.c [1.4], gdevwddb.c [1.4],
gdevwdib.c [1.5], gdevwpr2.c [1.10], gdevwprn.c [1.4], gdevx.c [1.11],
gdevx.h [1.5], gdevxalt.c [1.4], gdevxcmp.c [1.5], gdevxcmp.h [1.3],
gdevxini.c [1.11], gdevxres.c [1.4], gdevxxf.c [1.6]: 2002/02/21 20:57:46
ray)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(png_.h [1.4], x_.h [1.4]: 2002/02/21 20:57:49 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (gdev3852.c [1.5], gdev3b1.c [1.4], gdev4081.c [1.5],
gdev4693.c [1.5], gdev8510.c [1.5], gdev8bcm.c [1.4], gdev8bcm.h [1.4],
gdevadmp.c [1.5], gdevatx.c [1.8], gdevbit.c [1.4], gdevbj10.c [1.6],
gdevbjc.h [1.4], gdevbjcl.c [1.4], gdevbjcl.h [1.5], gdevbmp.c [1.6],
gdevbmp.h [1.4], gdevbmpa.c [1.5], gdevbmpc.c [1.4], gdevccr.c [1.4],
gdevcdj.c [1.9], gdevcfax.c [1.5], gdevcgm.c [1.6], gdevcgml.c [1.4],
gdevcgml.h [1.4], gdevcgmx.h [1.4], gdevcif.c [1.5], gdevclj.c [1.4],
gdevcljc.c [1.6], gdevcp50.c [1.5], gdevcslw.c [1.4], gdevdcrd.c [1.4],
gdevdcrd.h [1.4], gdevdfax.c [1.6], gdevdjet.c [1.8], gdevdjtc.c [1.5],
gdevdljm.c [1.6], gdevdljm.h [1.6], gdevdm24.c [1.5], gdevdsp.c [1.9],
gdevegaa.asm [1.4], gdevepsc.c [1.5], gdevepsn.c [1.5], gdevescp.c [1.5],
gdevevga.c [1.4], gdevfax.c [1.4], gdevfax.h [1.4], gdevherc.c [1.4],
gdevhl7x.c [1.8], gdevhpij.c [1.7], gdevhpij.h [1.5], gdevifno.c [1.4],
gdevijs.c [1.3], gdevimgn.c [1.6], gdevjpeg.c [1.5], gdevl256.c [1.5],
gdevl31s.c [1.4], gdevlbp8.c [1.5], gdevlj56.c [1.5], gdevlp8k.c [1.4],
gdevlxm.c [1.4], gdevmac.c [1.6], gdevmac.h [1.4], gdevmacpictop.h [1.5],
gdevmacttf.h [1.5], gdevmacxf.c [1.5], gdevmeds.c [1.4], gdevmeds.h [1.4],
gdevmgr.c [1.4], gdevmgr.h [1.4], gdevmiff.c [1.5], gdevmswn.c [1.6],
gdevmswn.h [1.4], gdevmsxf.c [1.4], gdevn533.c [1.5], gdevo182.c [1.5],
gdevokii.c [1.5], gdevos2p.c [1.6], gdevp14.h [1.3], gdevp2up.c [1.4],
gdevpbm.c [1.5], gdevpccm.c [1.4], gdevpccm.h [1.5], gdevpcfb.c [1.4],
gdevpcfb.h [1.4], gdevpcl.c [1.7], gdevpcl.h [1.7], gdevpcx.c [1.4],
gdevpe.c [1.4], gdevphex.c [1.6], gdevpjet.c [1.5], gdevpm.c [1.6],
gdevpm.h [1.4], gdevpng.c [1.6], gdevpnga.c [1.6], gdevps.c [1.23],
gdevpsdf.h [1.11], gdevpsdi.c [1.18], gdevpsdp.c [1.11], gdevpsds.c [1.6],
gdevpsds.h [1.6], gdevpsdu.c [1.14], gdevpsim.c [1.8], gdevpsu.c [1.10],
gdevpsu.h [1.6], gdevpx.c [1.8], gdevpxat.h [1.5], gdevpxen.h [1.5],
gdevpxop.h [1.4], gdevpxut.c [1.4], gdevpxut.h [1.4], gdevs3ga.c [1.4],
gdevsco.c [1.5], gdevsgi.c [1.4], gdevsgi.h [1.3], gdevsj48.c [1.4],
gdevsnfb.c [1.5], gdevsppr.c [1.7], gdevstc.c [1.4], gdevstc.h [1.4],
gdevstc1.c [1.4], gdevstc2.c [1.4], gdevstc3.c [1.4], gdevstc4.c [1.4],
gdevsun.c [1.4], gdevsunr.c [1.6], gdevsvga.c [1.4], gdevsvga.h [1.4],
gdevtfax.c [1.6], gdevtfax.h [1.6], gdevtfnx.c [1.7], gdevtifs.c [1.6],
gdevtifs.h [1.5], gdevtknk.c [1.5], gdevupd.c [1.7], gdevvglb.c [1.5],
gdevwddb.c [1.5], gdevwdib.c [1.6], gdevwpr2.c [1.11], gdevwprn.c [1.5],
gdevx.c [1.12], gdevx.h [1.6], gdevxalt.c [1.5], gdevxcmp.c [1.6],
gdevxcmp.h [1.4], gdevxini.c [1.12], gdevxres.c [1.5], gdevxxf.c [1.7],
png_.h [1.5]: 2002/02/21 22:24:51 giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (x_.h [1.5]: 2002/02/21 22:24:54 giles)

Remove the return_if_error macro from ALL occurrences and clean up some of
the C-style problems with the FAPI code. Add some of the new rules about
macros to C-style.htm. (gdevxalt.c [1.6]: 2002/02/28 21:21:42 ray)

</pre><h2><a name="7.20-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- Repeated use of the same color space wrote multiple ColorSpace
resources rather than a single one. Fixes the pdfwrite part of SourceForge
bug #475219: separate changes to pdf_draw.ps and pdf_ops.ps fix the
interpreter part of the bug. (gdevpdfc.c [1.18]: 2001/11/06 17:34:30 lpd)
	- Reading from /dev/random can cause long blocking on Solaris 8, so
we only attempt it (on all systems) if non-blocking I/O is available, and we
try /dev/urandom first. Fixes SourceForge #482048. (gdevpdf.c [1.39]:
2001/11/21 22:14:22 lpd)
	- CIE color conversion could be very inaccurate if it didn't use
interpolation when cached sampled values were near zero. This fix detects
numerically sensitive areas and uses interpolation (which is computationally
expensive) only in those areas. Fixes SourceForge #465921.
(gdevpdfc.c [1.19]: 2001/12/09 00:03:37 lpd)
	- For images specified in general CIEBased color spaces, pdfwrite
would divide the image into tiny rectangles. If the output level is PDF 1.3
or higher, pdfwrite now converts the CIEBased color space to an ICCBased
space if possible. (gdevpdfc.c [1.20], gdevpdfc.h [1.1], gdevpdfk.c [1.1]:
2001/12/13 18:24:05 lpd)
	- the prototype for pdf_text_process was in a .c file rather than a
.h file. (gdevpdff.h [1.12], gdevpdft.c [1.37]: 2002/01/15 23:07:02 lpd)
	- pdfwrite incorrectly handled Metrics[2] and CDevProc by writing
Widths that differed from the widths in the underlying font. pdfwrite now
positions characters individually in this case, like Acrobat Distiller.
Fixes SourceForge #495414. (gdevpdff.c [1.23], gdevpdff.h [1.13],
gdevpdfs.c [1.8]: 2002/01/17 05:13:24 lpd)
	- Work around an apparent Acrobat Reader 5 bug -- it gives an error
for images with a color-key mask, at least for 1-bit-deep images using an
Indexed color space -- by converting the image to an ordinary masked image.
Fixes a PCL-&gt;PDF problem reported by a customer. (gdevpdfi.c [1.25]:
2002/01/17 17:01:38 lpd)
	- Setting the parameters for a stroked font could reset other text
state parameters, causing 'Font not set' and other errors from Acrobat.
Fixes SourceForge bug #505011. (gdevpdfs.c [1.9]: 2002/01/24 16:37:53 lpd)
	- pdfwrite often gave an error if a name with embedded special
characters was a key or value in a pdfmark dictionary. Fixes SourceForge
#505877. (gdevpdfr.c [1.5]: 2002/01/29 02:54:43 lpd)
	- pdfwrite could output Indexed color spaces with more than 256
entries, or images with more than 8 bits per component, neither of which PDF
supports. This patch causes the latter to revert to the
millions-of-tiny-rectangles representation, which is not adequate in the
long run, but is at least valid output. Fixes SourceForge #513910, for the
moment. (gdevpdfc.c [1.21], gdevpdfi.c [1.26]: 2002/02/11 16:26:20 lpd)
	- pdf_end_image_binary didn't propagate all error indications to its
caller. (gdevpdfj.c [1.8]: 2002/02/12 21:55:31 lpd)
	- (1) real_widths were missed in public_st_pdf_font; (2)
pdf_finalize_font_descriptor was called twice (form pdf_font_notify_proc and
from pdf_write_font_resources), if a font is garbage-collected after
pdf_close. Source Forge bug "[ 531983 ] ps2pdf coredumps on this ps file".
(gdevpdff.h [1.16], gdevpdfw.c [1.15]: 2002/03/27 16:46:06 igor)

Takes a small step towards fully ANSIfied code by removing all ANSI-testing
uses of __PROTOTYPES__ from code with an Aladdin/artofcode copyright.
(gdevpdfg.c [1.15]: 2001/10/25 04:38:34 lpd)

Updates pdfwrite to match Acrobat Distiller 5 more closely: adds
OffOptimizations and PreserveEPSInfo parameters; adds /ebook value for
PDFSETTINGS; changes some of the DCTEncode parameter values for
auto-filtered images; adds CreationDate and ModDate in Info dictionary;
always subsets non Type 1 fonts. (gdevpdf.c [1.40], gdevpdfe.c [1.11],
gdevpdfp.c [1.20], gdevpdfu.c [1.17], gdevpdfx.h [1.35]: 2001/12/09 00:07:57
lpd)

FAPI project : Define new device parameter .EmbedFontObjects to disable FAPI
for devices which embed fonts. (gdevpdfp.c [1.21]: 2002/01/08 11:11:24
igorm)

Prevent any attempt to set .EmbedFontObjects (like CoreDistVersion).
(gdevpdfp.c [1.22]: 2002/01/10 19:12:27 lpd)

Makes the cos_array_reorder procedure private (which it should have been
from the beginning). (gdevpdfo.c [1.10], gdevpdfo.h [1.7]: 2002/01/12
20:09:55 lpd)

Adds a CompressFonts parameter to pdfwrite to control whether embedded fonts
are compressed, to help debugging. The default value is true.
(gdevpdf.c [1.41], gdevpdfe.c [1.12], gdevpdfp.c [1.23], gdevpdfs.c [1.10],
gdevpdfu.c [1.18], gdevpdfx.h [1.36]: 2002/01/29 01:03:26 lpd)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(gdevpdf.c [1.42], gdevpdfb.c [1.7], gdevpdfc.c [1.22], gdevpdfc.h [1.2],
gdevpdfd.c [1.17], gdevpdfe.c [1.13], gdevpdff.c [1.24], gdevpdff.h [1.14],
gdevpdfg.c [1.16], gdevpdfg.h [1.10], gdevpdfi.c [1.27], gdevpdfj.c [1.9],
gdevpdfk.c [1.2], gdevpdfm.c [1.15], gdevpdfo.c [1.11], gdevpdfo.h [1.8],
gdevpdfp.c [1.24], gdevpdfr.c [1.6], gdevpdfs.c [1.11], gdevpdft.c [1.38],
gdevpdfu.c [1.19], gdevpdfv.c [1.11], gdevpdfw.c [1.13], gdevpdfx.h [1.37]:
2002/02/21 20:57:47 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (gdevpdf.c [1.43], gdevpdfb.c [1.8], gdevpdfc.c [1.23],
gdevpdfc.h [1.3], gdevpdfd.c [1.18], gdevpdfe.c [1.14], gdevpdff.c [1.25],
gdevpdff.h [1.15], gdevpdfg.c [1.17], gdevpdfg.h [1.11], gdevpdfi.c [1.28],
gdevpdfj.c [1.10], gdevpdfk.c [1.3], gdevpdfm.c [1.16], gdevpdfo.c [1.12],
gdevpdfo.h [1.9], gdevpdfp.c [1.25], gdevpdfr.c [1.7], gdevpdfs.c [1.12],
gdevpdft.c [1.39], gdevpdfu.c [1.20], gdevpdfv.c [1.12], gdevpdfw.c [1.14],
gdevpdfx.h [1.38]: 2002/02/21 22:24:51 giles)

Removes a last vestige of PDF 1.1 support (which was otherwise removed some
time ago) from pdfwrite. (gdevpdfu.c [1.21]: 2002/03/19 17:35:11 lpd)

</pre><h2><a name="7.20-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- Setting the same PDF color space repeatedly generated new
PostScript color spaces, stressing the garbage collector. Fixes the PDF
interpreter part of SourceForge bug #475219: a separate change to gdevpdfc.c
fixes the pdfwrite part of this bug. (lib/pdf_draw.ps [1.37],
lib/pdf_ops.ps [1.18]: 2001/11/06 17:33:08 lpd)
	- showpagecontents needs to be wrapped in a gsave/grestore as rev
1.23 indicates, but we can't wrap around the .pushpdf14devicefilter or the
grestore will change the device back to the original and clear the page.
Fixes SourceForge bug #476821 for Artifex customer 870. Also clean up some
non-standard indentation in the area. (lib/pdf_main.ps [1.36]: 2001/11/15
04:30:25 rayjj)
	- T* applied the leading horizontally when using a font in vertical
writing mode, but the PDF Reference says the leading is always applied
vertically. (lib/pdf_ops.ps [1.19]: 2001/12/22 07:24:50 masata-y)
	- Fix for "[ #505041 ] /typecheck in --setcolor--". Customer 150. An
error in counting the number of values by the PDF interpreter was causing an
incorrect number of values to be sent to setcolor. This in turn caused a
typecheck. (lib/pdf_main.ps [1.37]: 2002/01/30 00:43:29 dancoby)
	- Some PDF files don't have balanced q/Q operators (gsave/grestore)
that left extra dicts on the dictstack. Save the dictstack depth before the
page and pop any left over elements. Fix for SF #495088 for customer #870.
(lib/pdf_main.ps [1.38]: 2002/02/05 20:50:25 rayjj)
	- Extra dict was left on the ostack by rev 1.38 (introduced when
fixing SF bug #495088). Also allow bad images to be skipped (with a warning
message) as Adobe Reader does. Make PDF format error messages more
consistent. Fixes SF bug #513902 for Artifex customer #10.
(lib/pdf_draw.ps [1.38], lib/pdf_main.ps [1.40]: 2002/02/08 04:34:14 rayjj)
	- Another improvement for the hack in 'getfontmetrics', which deals
with encodings where the same character appears more than once. TeX-1.0a
creates Differences with multiple appearances of 'hyphen' character, some of
which specify zero width. Source Forge bug #517474 "Problem with hyphen in
PDF using Minion". See also #444366 and #467492. (lib/pdf_font.ps [1.27]:
2002/02/25 05:40:29 igor)
	- Characters &gt; 127 (0x7f) in font names of embedded fonts in PDF
files were being misinterpreted by the 'token' operator. Disable binary
encodings when processing PDF. Fixes SourceForge bug #525701 for Artifex
customer #901. (lib/pdf_main.ps [1.46]: 2002/03/05 17:48:06 ray)
	- Another place where Adobe Acrobat Reader tolerates badly formed
PDF files -- in this case streams with incorrect Length. Issue
pdfformaterror and continue. Buggy file from Artifex customer #671.
(lib/pdf_base.ps [1.18]: 2002/03/06 07:54:23 ray)
	- PDF files that specify the same embedded font file many times
would reload the FontFile each time, potentially severely impacting
performance. Skip loading the FontFile if the FontDescriptor already has the
font cached in /FontObject. Fixes SF bug #514956 for Artifex customer #870.
(lib/pdf_font.ps [1.29]: 2002/03/07 08:14:44 ray)
	- The /Filter parameter didn't properly handle an indirect
reference. Fixes SourceForge bug 533470 for Artifex customer #150.
(lib/pdf_base.ps [1.19]: 2002/03/22 20:26:19 ray)
	- Add handling of indirect objects some places that were missing.
Fixes SourceForge bug #533775. (lib/pdf_base.ps [1.20],
lib/pdf_draw.ps [1.43], lib/pdf_font.ps [1.30], lib/pdf_main.ps [1.48],
lib/pdf_ops.ps [1.23]: 2002/03/23 00:14:25 ray)

Add error message complaints when q (gsave) and Q (grestore) operators do
not balance. (lib/pdf_main.ps [1.39], lib/pdf_ops.ps [1.20]: 2002/02/05
22:35:10 rayjj)

Minor cleanup of warning and error messages within the PDF interpreter to
make the format consistent and to use pdfformaterror for all messages.
(lib/pdf_base.ps [1.15], lib/pdf_draw.ps [1.39], lib/pdf_font.ps [1.24],
lib/pdf_main.ps [1.41], lib/pdf_sec.ps [1.6]: 2002/02/14 17:25:53 rayjj)

Further warning message cleanup to use pdfformaterror and to use a
consistent format (starting with ' **** '. (lib/pdf_main.ps [1.42],
lib/pdf_sec.ps [1.7]: 2002/02/14 23:04:46 rayjj)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(lib/pdf_base.ps [1.16], lib/pdf_draw.ps [1.40], lib/pdf_font.ps [1.25],
lib/pdf_main.ps [1.43], lib/pdf_ops.ps [1.21], lib/pdf_sec.ps [1.8]:
2002/02/21 20:57:45 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (lib/pdf_base.ps [1.17], lib/pdf_draw.ps [1.41],
lib/pdf_font.ps [1.26], lib/pdf_main.ps [1.44], lib/pdf_ops.ps [1.22],
lib/pdf_sec.ps [1.9]: 2002/02/21 21:49:28 giles)

Makes the PDF interpreter run files under a level of 'save'. This improves
memory utilization significantly, although we don't understand why.
(lib/pdf_main.ps [1.45]: 2002/02/22 06:59:31 lpd)

Remove debug output inadvertently left in. (lib/pdf_font.ps [1.28]:
2002/02/26 18:37:07 ray)

Adds -dNOTRANSPARENCY flag, which disables all PDF 1.4 transparency
processing. (lib/pdf_draw.ps [1.42], lib/pdf_main.ps [1.47]: 2002/03/14
15:53:09 raph)

Temporary patch to disable FontObject caching. Fixes regression SF #533467,
but effectively removes the fix for #514956. (lib/pdf_font.ps [1.31]:
2002/03/28 19:52:09 raph)

</pre><h2><a name="7.20-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- Fixes a comment: invoking definefont on a dictionary that already
has a FID entry is, in fact, legal in LanguageLevel 2 and above.
(zbfont.c [1.9]: 2001/10/29 23:49:57 lpd)
	- The change v.1.14 had broken the branch of the font loader, which
works for the case of unequal font names in the font file and in the font
map. SourceForge bug 474581. Also cleans up potential stack imbalance
present since 1.1. (lib/gs_fonts.ps [1.15]: 2001/11/15 08:27:37 igorm)
	- "Native float" binary tokens and homogenous number arrays failed
to ignore the big/little-endian bit in the format field, causing them to
(usually) read incorrectly on little-endian systems. (bug reported by Pierre
Arnaud) (ibnum.c [1.3], ibnum.h [1.3]: 2001/11/16 22:30:40 lpd)
	- If the initial device couldn't be opened, the error message
indicating this wasn't being printed, because of a missing 'flush'. Fixes
SourceForge #481600. (lib/gs_init.ps [1.42]: 2001/11/16 22:45:25 lpd)
	- "gs --help" accessed an uninitialized pointer
gs_main_instance::i_ctx_p. Source Forge bug #482271. (iapi.c [1.2],
imain.c [1.21]: 2001/11/21 18:40:07 igorm)
	- lineedit_open and statementedit_open were declared "static" but
not defined. (These procedures are no longer used.) (ziodev.c [1.7]:
2001/11/22 04:55:31 lpd)
	- Fixes a compiler warning and several minor formatting
inconsistencies. (zmedia2.c [1.4]: 2001/11/22 05:04:24 lpd)
	- The private procedure gs_get_colorname_string was not declared
private. (zcsdevn.c [1.6]: 2001/11/22 05:38:27 lpd)
	- The private procedure dsc_is_section was not declared dsc_private.
(dscparse.c [1.8]: 2001/11/22 05:41:05 lpd)
	- The min, max, and unread procedures were not clearly marked as
being deprecated. (lib/gs_init.ps [1.43]: 2001/11/22 18:48:51 lpd)
	- Ghostscript didn't match a bug in Adobe's interpreters, which
byte-swap native reals in binary object sequences iff the native real format
is IEEE. (The PLRM says native reals should never be byte-swapped.) Fixes
SourceForge bug #489478. (ibnum.h [1.4], iscanbin.c [1.6]: 2001/12/07
04:28:34 lpd)
	- Repairs code problems with the fix for bug #224056: non-re-entrant
code, bad formatting, unused variables and computations, and a missing
#include. (zcolor2.c [1.5]: 2001/12/07 05:41:59 lpd)
	- CIE color conversion could be very inaccurate if it didn't use
interpolation when cached sampled values were near zero. This fix detects
numerically sensitive areas and uses interpolation (which is computationally
expensive) only in those areas. Fixes SourceForge #465921. (zcie.c [1.6],
zcrd.c [1.3]: 2001/12/09 00:03:37 lpd)
	- WMode 1 did not work for CIDFontType 2. SourceForge bug #91713.
Patch from Mr. Toshiya Suzuki. (zchar42.c [1.4]: 2001/12/12 16:45:09 igorm)
	- The constraint for FontBBox to be non-zero was not conforming and
now it is removed. Suggested by L. Peter Deutsch. (bfont.h [1.4],
zbfont.c [1.10], zfcid0.c [1.10], zfcid1.c [1.6]: 2001/12/19 11:49:44 igorm)
	- The previous fixes for writing binary objects were incorrect,
probably because an incorrect comment misled the author. Fixes SourceForge
#490914. (lib/gs_btokn.ps [1.6]: 2002/01/01 23:08:28 lpd)
	- Dictionaries in binary object sequences (a non-standard feature)
could cause an invalidaccess error if any of the keys or values were names.
(iscanbin.c [1.7]: 2002/01/01 23:08:56 lpd)
	- Some gsapi functions were not passing the user_errors argument to
the corresponding gs_main_run_string_* functions, and instead, these
functions were passing 0. (iapi.c [1.3]: 2002/01/03 20:09:46 jackiem)
	- some files were missing the RCS 'Id' line with the last
modification date. partial fix for Sourceforge bug #500922.
(dwnodll.c [1.2], gdevdsp.h [1.2], gdevdsp2.h [1.3], idisp.c [1.3],
zicc.c [1.3]: 2002/01/09 21:04:20 giles)
	- ifont.h requires gsmatix.h and gxfont.h for clean compilation. Not
having them was a warning on gcc, but an error on Borland CBuilder 5.5.
Thanks to Rod Webster for the fix. Closes Sourceforge bug #474246.
(iccfont.c [1.3]: 2002/01/09 21:48:00 giles)
	- Fix for #474544. Corrects inability to convert valid DeviceN tint
transform functions into type 4 functions. Valid operator names were not
being recognized unless the tint transform function had been bound. One of
two fixes required for this problem. Customer #710. (ifunc.h [1.4],
zfunc.c [1.7], zfunc0.c [1.4], zfunc3.c [1.3], zfunc4.c [1.8],
zshade.c [1.5]: 2002/01/11 05:09:22 dancoby)
	- ReleaseDC was missed in Windows client applications. SourceForge
bug #499903. (dwmain.c [1.7], dwmainc.c [1.9]: 2002/01/12 19:49:00 igorm)
	- pdfwrite incorrectly handled Metrics[2] and CDevProc by writing
Widths that differed from the widths in the underlying font. pdfwrite now
positions characters individually in this case, like Acrobat Distiller.
Fixes SourceForge #495414. (zchar1.c [1.9]: 2002/01/17 05:13:24 lpd)
	- Fix for #474544. This is the second of two fixes required for this
problem. This fix creates a type 0 function which implements a "color cube"
for those tint transform functions which cannot be converted into a type 4
function. Customer #710. Note: There is one more revision planned for this
effort. This revision will make the buildcolorcube operator into a more
general buildsampledfunction. This will allow its use in other situations.
(ifunc.h [1.5], lib/gs_lev2.ps [1.8], zcsdevn.c [1.7], zfunc.c [1.8]:
2002/01/17 05:53:40 dancoby)
	- Most of the calls of gs_[main_]init1 didn't check the return value
for errors. (imainarg.c [1.14]: 2002/01/18 00:43:10 lpd)
	- Improve security in a (mostly) backward compatible fashion adding
more flexible file access paths (PermitFile...) as user paramters and adding
the facility to return to NOSAFER mode after running jobs (files/procedures)
in SAFER mode. This should address SF bug #474582 and eliminate the need for
the RedHat PARANOIDSAFER patch. (icontext.c [1.8], icstate.h [1.6],
imainarg.c [1.15], iutil2.c [1.3], iutil2.h [1.3], lib/gs_fonts.ps [1.17],
lib/gs_init.ps [1.45], lib/gs_lev2.ps [1.9], zcontrol.c [1.4],
zfile.c [1.13], zusparam.c [1.4], zvmem.c [1.4]: 2002/01/24 06:33:33 rayjj)
	- Added check for return code from gs_main_init1 that was missed in
previous (security) update. (imainarg.c [1.16]: 2002/01/24 19:07:57 rayjj)
	- pdfwrite often gave an error if a name with embedded special
characters was a key or value in a pdfmark dictionary. Fixes SourceForge
#505877. (lib/gs_pdfwr.ps [1.13], zstring.c [1.3]: 2002/01/29 02:54:43 lpd)
	- .locksafe is not supposed to change the PermitFileWriting and
PermitFileControl paths (was setting them to empty arrays).
(lib/gs_init.ps [1.46]: 2002/01/31 21:17:25 rayjj)
	- Fix 3 of 3 for #474544 "Core dump - shfill error with DeviceN". 1.
Recognizes already encapsulated tint transform functions. 2. Generalizes the
color cube logic for use in other situations. 3. Uses the domain of the
alternate color space for the range of the tint transform function.
(lib/gs_lev2.ps [1.10], zfsample.c [1.1], zfunc.c [1.9]: 2002/02/06 02:35:11
dancoby)
	- Fix 4 of 4 for #474544 "Core dump - shfill error with DeviceN".
Corrects a problem with an unbalanced stack when determining the range of a
colorspace specified by a name. (lib/gs_lev2.ps [1.11]: 2002/02/06 07:18:34
dancoby)
	- Fixes handling of MetricsCount in z11_get_metrics. Thanks to Brian
Stell for the analysis and original version of the patch. (zfcid1.c [1.7]:
2002/02/12 21:58:47 raph)
	- Prevent .locksafe (and .setsafe) from resetting the current
pagedevice. Fixes SourceForge bug #516379. (lib/gs_init.ps [1.47]:
2002/02/14 01:23:31 rayjj)
	- Use a more rigorous condition to check the FontBBox validity when
computing default values for UnderlinePosition and UnderlineThickness.
Source Forge bug #510776 for Artifex customer #1110. (lib/gs_type1.ps [1.8]:
2002/02/14 03:23:47 igorm)
	- Previous revision caused a regression. This version is the actual
fix for SourceForge #510776 for Artifex customer #1110.
(lib/gs_type1.ps [1.9]: 2002/02/14 03:25:50 igorm)
	- Many files lacked double-inclusion protection, or implemented it
incorrectly. (dscparse.h [1.7], dwimg.h [1.5], dwinst.h [1.3],
dwmain.h [1.4], dwreg.h [1.2], dwsetup.h [1.3], dwtext.h [1.5],
dwuninst.h [1.3], gdevdsp.h [1.3], gdevdsp2.h [1.4], idisp.h [1.2],
ifapi.h [1.7]: 2002/02/20 01:32:47 lpd)
	- Ignore an invalid 'post' format 2.0 table in TrueType fonts. Fixes
SourceForge bug #523973 for Artifex customer #990. (lib/gs_ttf.ps [1.12]:
2002/03/04 06:32:35 ray)
	- Triggers an /undefined error rather than segfaulting in the case
where a directional shading dictionary is missing a Function element.
build_shading_function() returns a success code in these cases because
functions are optional in some shading types. Thanks to Alex Cherepanov for
the analysis and patch. (zshade.c [1.8]: 2002/03/04 22:20:34 raph)
	- Include gs_resmp.ps into the prelude with ADDMOD rather than
.runlibfile (suggested by Raymond J. Johnston), and increase MSVC compiler
heap for building gs_init.c with COMPILE_INITS=1. Source Forge bug "[ 526192
] Broken COMPILE_INITS". (lib/gs_res.ps [1.20]: 2002/03/06 08:55:16 igor)
	- Second attempt to fix COMPILE_INITS=1. This statically embeds all
gs_*.ps files, xlatmap and FAPIconfig. Source Forge bug "[ 526192 ] Broken
COMPILE_INITS". (lib/gs_cidfn.ps [1.23], lib/gs_fapi.ps [1.15],
lib/gs_res.ps [1.21]: 2002/03/07 10:52:06 igor)
	- "currentfile closefile" in lib/gs_* files doesn't work with
COMPILE_INITS=1, replacing it with .skipeof . Source Forge bug "[ 526192 ]
Broken COMPILE_INITS". (lib/gs_fapi.ps [1.16]: 2002/03/13 15:55:47 igor)
	- The file_cleanup routine used the wrong offset in the estack for
the enumerator causing a SEGV if the procedure of filenameforall stopped due
to error. Bug was introduced with diskn changes. (zfile.c [1.18]: 2002/03/15
07:43:34 ray)
	- Fixes a number of problems with Type11 incremental glyph loading
with MetricsCount=2. Thanks to Brian Stell for the patch. (zchar42.c [1.7],
zfcid1.c [1.10]: 2002/03/26 08:37:14 raph)
	- -dSAFER mode to allow opening a file that references the parent
directory as long as the PermitFileReading strings include a (*) string
(allow all reading) (zfile.c [1.19]: 2002/03/28 20:48:14 ray)
	- Cleanup some casting and other compiler warnings (minor).
(zfile.c [1.20]: 2002/03/29 04:37:50 ray)
	- Botched macro spelling in prototype corrected, also removing the
incorrect 'private' keyword. Clean up two *++esp; statements that gave gcc
warnings. (zfile.c [1.21]: 2002/03/29 18:04:04 ray)
	- remove a C++-style comment from portable code. (ifapi.h [1.11]:
2002/04/01 21:02:49 giles)

file dwtrace.h was initially added on branch HINTER. (dwtrace.h [1.1]:
2001/01/12 06:18:35 igorm)

Updates version number to 7.10 to indicate that this is now the development
branch. (lib/gs_init.ps [1.41]: 2001/10/20 09:25:22 raph)

Changes all procedures for getting glyph outline data to return a structure
that includes memory management information. This is a
NON-BACKWARD-COMPATIBLE change to both implementors and clients. It corrects
a serious design error: formerly these procedures encoded memory management
information in their return code, which was obscure and error-prone.
(ichar1.h [1.4], icharout.h [1.4], ifont42.h [1.4], zchar1.c [1.8],
zcharout.c [1.5], zfcid0.c [1.8], zfcid1.c [1.5], zfont42.c [1.6]:
2001/10/21 06:20:08 lpd)

FAPI project, UFST only, Type 1 and Type42 fonts. This version supports disk
fonts including FCOs, and embedded fonts, including incremental ones.
(iconf.c [1.4], icontext.c [1.7], icstate.h [1.5], imain.c [1.20],
lib/gs_fonts.ps [1.14], lib/gs_typ42.ps [1.3], lib/gs_type1.ps [1.6],
zbfont.c [1.8]: 2001/10/21 18:57:41 igorm)

FAPI project, UFST only, Type 1 and Type42 fonts. This version supports disk
fonts including FCOs, and embedded fonts, including incremental ones.
(fapiufst.c [1.1], ifapi.h [1.1], iplugin.c [1.1], iplugin.h [1.1],
lib/gs_fapi.ps [1.1], zfapi.c [1.1]: 2001/10/21 19:10:29 igorm)

FAPI project: improving error handling. (fapiufst.c [1.2], ifapi.h [1.2],
lib/gs_fapi.ps [1.2], zfapi.c [1.2]: 2001/10/22 16:22:29 igorm)

FAPI project : (1) upgrading with UFST 4.3, (2) implementing GS cache.
(fapiufst.c [1.3], ifapi.h [1.3], lib/gs_fapi.ps [1.3], zfapi.c [1.3]:
2001/11/11 23:09:16 igorm)

FAPI project: fixing memory management problems and missing closepath
importing outlines from UFST. (fapiufst.c [1.4], zfapi.c [1.4]: 2001/11/13
23:12:53 igorm)

Adds additional documentation about continuations on the PostScript e-stack.
(estack.h [1.3]: 2001/12/06 04:16:27 lpd)

Implementing a mapped resource category redefiner; Provide a map for CIDFont
category; Reorganize the mapping algorithm for FAPI. (lib/gs_cidcm.ps [1.6],
lib/gs_cidfm.ps [1.1], lib/gs_cidfn.ps [1.19], lib/gs_fapi.ps [1.4],
lib/gs_res.ps [1.17], lib/gs_resmp.ps [1.1], lib/gs_typ42.ps [1.4],
lib/gs_type1.ps [1.7], zfile.c [1.12]: 2001/12/08 11:31:20 igorm)

Updates pdfwrite to match Acrobat Distiller 5 more closely: adds
OffOptimizations and PreserveEPSInfo parameters; adds /ebook value for
PDFSETTINGS; changes some of the DCTEncode parameter values for
auto-filtered images; adds CreationDate and ModDate in Info dictionary;
always subsets non Type 1 fonts. (lib/gs_pdfwr.ps [1.12]: 2001/12/09
00:07:57 lpd)

FAPI project : Preparing environment for CID font processing; Fixing UFST
file names. (lib/gs_cidcm.ps [1.7], lib/gs_ciddc.ps [1.1],
lib/gs_cidfn.ps [1.20], zfcid0.c [1.9]: 2001/12/12 02:48:20 igorm)

FAPI project : implementing CID fonts with FAPI. (lib/gs_ciddc.ps [1.2],
lib/gs_cidfm.ps [1.2], lib/gs_fapi.ps [1.5], lib/gs_resmp.ps [1.2]:
2001/12/12 23:02:08 igorm)

Committing in . Modified Files: gs/src/ibnum.c Corrected syntax error
(ibnum.c [1.4]: 2001/12/13 07:07:45 joukj)

FAPI project : implementing WMode 1; Cleaning-up comments and formatting.
(fapiufst.c [1.5], ifapi.h [1.4], zfapi.c [1.5]: 2001/12/14 20:42:51 igorm)

Improve security for device related access to the file system and to pipes
by allowing the dangerous parameters to be locked (for example, OutputFile).
The locking is performed after command line parameters are established.
Locking is not turned on by default as a result of this change, but
-d.LockSafetyParams=true can be added to the command line to accomplish
this. Related to SF bug #474582 (sort of). (lib/gs_setpd.ps [1.9],
zdevice.c [1.4], zdevice2.c [1.5]: 2001/12/22 00:44:01 rayjj)

FAPI project : Making set_char_width to be public to access from FAPI
client. (lib/gs_cmap.ps [1.12]: 2001/12/28 18:53:02 igorm)

FAPI project : Provide a disk/embedded font recognition for CID fonts.
(lib/gs_fapi.ps [1.6], lib/gs_fonts.ps [1.16]: 2002/01/02 06:44:01 igorm)

FAPI project : implementing CDevProc and CIDDecoding. (fapiufst.c [1.6],
ifapi.h [1.5], lib/gs_ciddc.ps [1.3], lib/gs_fapi.ps [1.7], zfapi.c [1.6]:
2002/01/02 07:24:07 igorm)

FAPI project : Fixing CIDDecodings and QUIET. (fapiufst.c [1.7],
lib/gs_ciddc.ps [1.4], lib/gs_fapi.ps [1.8], zfapi.c [1.7]: 2002/01/03
14:16:18 igorm)

FAPI project : Implementing the horizontal/vertical glyph substitution.
(fapiufst.c [1.8], ifapi.h [1.6], zfapi.c [1.8]: 2002/01/03 17:51:04 igorm)

FAPI project : Define new device parameter .EmbedFontObjects to disable FAPI
for devices which embed fonts. (lib/gs_cidfm.ps [1.3], lib/gs_fapi.ps [1.9],
lib/gs_resmp.ps [1.3], zfapi.c [1.9]: 2002/01/08 11:11:24 igorm)

Change the unstopped error handler to print the operand stack in the same
order as the normal error handler, with the top of the stack at the right.
Fixes Sourceforge bug #496440. (lib/gs_init.ps [1.44]: 2002/01/10 02:37:40
ghostgum)

Changes the extension of the tiger and golfer example files to '.eps' to
accurately reflect their internal filetype. (examples/golfer.eps [1.1],
examples/tiger.eps [1.1]: 2002/01/10 22:21:34 giles)

FAPI project : Improve Type 42 processing. (lib/gs_fapi.ps [1.10],
zfapi.c [1.10]: 2002/01/16 19:43:47 igorm)

FAPI project : Implementing Type 2 fonts. (lib/gs_fapi.ps [1.11],
zfapi.c [1.11]: 2002/01/17 00:02:41 igorm)

FAPI project : Provide a transfer of GlobalSubrs through FAPI for embedded
Type 2 fonts. (fapiufst.c [1.9], zfapi.c [1.12]: 2002/01/18 11:03:06 igorm)

Remove some unintentional changes that crept into a previous update.
(lib/gs_init.ps [1.48]: 2002/02/14 01:47:10 rayjj)

This is an improvement from L. Peter Deutsch in the logic which tests the
size of the amount of data required for a function to be sampled. This
eliminates a possible math overflow and also tests for a negative size
value. This is part of bug 474544. (zfsample.c [1.2]: 2002/02/21 07:42:23
dan)

Removes a compiler warning on the 4th parameter to valid_cube_size(). Added
const conditional to the parameter. (zfsample.c [1.3]: 2002/02/21 08:12:35
dan)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(bfont.h [1.5], btoken.h [1.5], ccfont.h [1.3], dpmain.c [1.6],
dscparse.c [1.9], dscparse.h [1.8], dstack.h [1.4], dwdll.c [1.3],
dwdll.h [1.4], dwimg.c [1.4], dwimg.h [1.6], dwinst.cpp [1.3],
dwinst.h [1.4], dwmain.c [1.8], dwmain.h [1.5], dwmainc.c [1.10],
dwnodll.c [1.3], dwreg.c [1.2], dwreg.h [1.3], dwsetup.cpp [1.6],
dwsetup.h [1.4], dwtext.c [1.6], dwtext.h [1.6], dwuninst.cpp [1.3],
dwuninst.h [1.4], errors.h [1.5], estack.h [1.4],
examples/waterfal.ps [1.4], fapiufst.c [1.10], files.h [1.5],
gdevdsp.h [1.4], gdevdsp2.h [1.5], ghost.h [1.3], gs.c [1.7],
lib/gs_agl.ps [1.3], lib/gs_btokn.ps [1.7], lib/gs_ccfnt.ps [1.6],
lib/gs_ce_e.ps [1.3], lib/gs_cff.ps [1.11], lib/gs_cidcm.ps [1.8],
lib/gs_ciddc.ps [1.5], lib/gs_cidfm.ps [1.4], lib/gs_cidfn.ps [1.21],
lib/gs_cmap.ps [1.13], lib/gs_cmdl.ps [1.3], lib/gs_css_e.ps [1.3],
lib/gs_dbt_e.ps [1.3], lib/gs_diskf.ps [1.3], lib/gs_dpnxt.ps [1.3],
lib/gs_dps.ps [1.5], lib/gs_dps1.ps [1.3], lib/gs_dps2.ps [1.4],
lib/gs_dscp.ps [1.5], lib/gs_epsf.ps [1.3], lib/gs_fapi.ps [1.12],
lib/gs_fform.ps [1.3], lib/gs_fonts.ps [1.18], lib/gs_frsd.ps [1.5],
lib/gs_icc.ps [1.3], lib/gs_il1_e.ps [1.3], lib/gs_il2_e.ps [1.3],
lib/gs_init.ps [1.49], lib/gs_kanji.ps [1.3], lib/gs_ksb_e.ps [1.3],
lib/gs_l2img.ps [1.3], lib/gs_lev2.ps [1.12], lib/gs_lgo_e.ps [1.4],
lib/gs_lgx_e.ps [1.3], lib/gs_ll3.ps [1.11], lib/gs_mex_e.ps [1.3],
lib/gs_mgl_e.ps [1.4], lib/gs_mro_e.ps [1.3], lib/gs_pdf_e.ps [1.3],
lib/gs_pdfwr.ps [1.14], lib/gs_pfile.ps [1.3], lib/gs_rdlin.ps [1.3],
lib/gs_res.ps [1.18], lib/gs_resmp.ps [1.4], lib/gs_setpd.ps [1.10],
lib/gs_statd.ps [1.6], lib/gs_std_e.ps [1.3], lib/gs_sym_e.ps [1.3],
lib/gs_trap.ps [1.4], lib/gs_ttf.ps [1.10], lib/gs_typ32.ps [1.4],
lib/gs_typ42.ps [1.5], lib/gs_type1.ps [1.10], lib/gs_wan_e.ps [1.3],
lib/gs_wl1_e.ps [1.3], lib/gs_wl2_e.ps [1.3], lib/gs_wl5_e.ps [1.3],
lib/ht_ccsto.ps [1.2]: 2002/02/21 20:57:45 ray)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(ialloc.c [1.3], ialloc.h [1.3], iapi.c [1.4], iapi.h [1.3],
iastate.h [1.3], iastruct.h [1.3], ibnum.c [1.5], ibnum.h [1.5],
iccfont.c [1.4], iccinit0.c [1.3], icfontab.c [1.3], ichar.h [1.4],
ichar1.h [1.5], icharout.h [1.5], icid.h [1.3], icie.h [1.4],
icolor.h [1.3], iconf.c [1.5], iconf.h [1.2], icontext.c [1.9],
icontext.h [1.3], icremap.h [1.3], icsmap.h [1.3], icstate.h [1.7],
iddict.h [1.3], iddstack.h [1.3], idebug.c [1.5], idebug.h [1.3],
idict.c [1.5], idict.h [1.3], idictdef.h [1.3], idisp.c [1.4],
idisp.h [1.3], idosave.h [1.3], idparam.c [1.4], idparam.h [1.4],
idsdata.h [1.3], idstack.c [1.3], idstack.h [1.3], iesdata.h [1.3],
iestack.h [1.3], ifapi.h [1.8], ifcid.h [1.3], ifilter.h [1.4],
ifilter2.h [1.3], ifont.h [1.7], ifont1.h [1.4], ifont2.h [1.3],
ifont42.h [1.5], ifrpred.h [1.3], ifunc.h [1.6], ifwpred.h [1.3],
igc.c [1.6], igc.h [1.3], igcref.c [1.4], igcstr.c [1.4], igcstr.h [1.3],
igstate.h [1.4], iht.h [1.3], iimage.h [1.3], iimage2.h [1.3],
iinit.c [1.4], iinit.h [1.3], ilevel.h [1.3], ilocate.c [1.5],
imain.c [1.22], imain.h [1.4], imainarg.c [1.17], imainarg.h [1.4],
imemory.h [1.3], iminst.h [1.6], iname.c [1.4], iname.h [1.3],
inamedef.h [1.3], inameidx.h [1.3], inames.h [1.3], inamestr.h [1.3],
inobtokn.c [1.3], inouparm.c [1.3], interp.c [1.9], interp.h [1.3],
iosdata.h [1.3], iostack.h [1.3], ipacked.h [1.3], iparam.c [1.6],
iparam.h [1.3], iparray.h [1.3], ipcolor.h [1.3], iplugin.c [1.2],
iplugin.h [1.2], ireclaim.c [1.4], iref.h [1.6], isave.c [1.4],
isave.h [1.3], iscan.c [1.6], iscan.h [1.5], iscanbin.c [1.8],
iscanbin.h [1.3], iscannum.c [1.4], iscannum.h [1.3], isdata.h [1.3],
isstate.h [1.3], istack.c [1.3], istack.h [1.3], istkparm.h [1.3],
istream.h [1.3], istruct.h [1.3], itoken.h [1.3], iutil.c [1.4],
iutil.h [1.3], iutil2.c [1.4], iutil2.h [1.4], ivmem2.h [1.3],
ivmspace.h [1.3], main.h [1.4], oparc.h [1.3], opcheck.h [1.3],
opdef.h [1.4], oper.h [1.3], opextern.h [1.3], ostack.h [1.3], sbhc.c [1.4],
sbhc.h [1.3], sbwbs.c [1.3], sbwbs.h [1.3], sfilter1.c [1.7],
shcgen.c [1.3], shcgen.h [1.3], smtf.c [1.3], smtf.h [1.3], store.h [1.3],
zarith.c [1.5], zarray.c [1.3], zbfont.c [1.11], zbseq.c [1.5],
zcfont.c [1.3], zchar.c [1.5], zchar1.c [1.10], zchar2.c [1.3],
zchar32.c [1.3], zchar42.c [1.5], zcharout.c [1.6], zcharx.c [1.4],
zcid.c [1.4], zcie.c [1.7], zcolor.c [1.5], zcolor1.c [1.4],
zcolor2.c [1.6], zcontext.c [1.8], zcontrol.c [1.5], zcrd.c [1.4],
zcsdevn.c [1.8], zcsindex.c [1.4], zcspixel.c [1.3], zcssepr.c [1.9],
zdevcal.c [1.4], zdevice.c [1.5], zdevice2.c [1.6], zdfilter.c [1.3],
zdict.c [1.4], zdouble.c [1.3], zdpnext.c [1.4], zdps.c [1.5],
zdps1.c [1.4], zdscpars.c [1.13], zfapi.c [1.13], zfarc4.c [1.3],
zfbcp.c [1.4], zfcid.c [1.12], zfcid0.c [1.11], zfcid1.c [1.8],
zfcmap.c [1.10], zfdctd.c [1.7], zfdcte.c [1.6], zfdecode.c [1.4],
zfile.c [1.14], zfileio.c [1.13], zfilter.c [1.6], zfilter2.c [1.4],
zfilterx.c [1.3], zfmd5.c [1.3], zfont.c [1.4], zfont0.c [1.4],
zfont1.c [1.10], zfont2.c [1.5], zfont32.c [1.3], zfont42.c [1.7],
zfproc.c [1.10], zfrsd.c [1.5], zfsample.c [1.4], zfunc.c [1.10],
zfunc0.c [1.5], zfunc3.c [1.4], zfunc4.c [1.9], zfzlib.c [1.4],
zgeneric.c [1.4], zgstate.c [1.3], zhsb.c [1.3], zht.c [1.3], zht1.c [1.3],
zht2.c [1.3], zicc.c [1.4], zimage.c [1.6], zimage2.c [1.5],
zimage3.c [1.4], ziodev.c [1.8], ziodev2.c [1.4], zmath.c [1.4],
zmatrix.c [1.5], zmedia2.c [1.5], zmisc.c [1.3], zmisc1.c [1.4],
zmisc2.c [1.4], zmisc3.c [1.3], zpacked.c [1.3], zpaint.c [1.3],
zpath.c [1.3], zpath1.c [1.3], zpcolor.c [1.4], zrelbit.c [1.3],
zrop.c [1.3], zshade.c [1.6], zstack.c [1.3], zstring.c [1.4],
zsysvm.c [1.3], ztoken.c [1.7], ztrans.c [1.14], ztrap.c [1.3],
ztype.c [1.4], zupath.c [1.3], zusparam.c [1.5], zvmem.c [1.5],
zvmem2.c [1.4]: 2002/02/21 20:57:49 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (lib/gs_agl.ps [1.4], lib/gs_btokn.ps [1.8],
lib/gs_ccfnt.ps [1.7], lib/gs_ce_e.ps [1.4], lib/gs_cff.ps [1.12],
lib/gs_cidcm.ps [1.9], lib/gs_ciddc.ps [1.6], lib/gs_cidfm.ps [1.5],
lib/gs_cidfn.ps [1.22], lib/gs_cmap.ps [1.14], lib/gs_cmdl.ps [1.4],
lib/gs_css_e.ps [1.4], lib/gs_dbt_e.ps [1.4], lib/gs_diskf.ps [1.4],
lib/gs_dpnxt.ps [1.4], lib/gs_dps.ps [1.6], lib/gs_dps1.ps [1.4],
lib/gs_dps2.ps [1.5], lib/gs_dscp.ps [1.6], lib/gs_epsf.ps [1.4],
lib/gs_fapi.ps [1.13], lib/gs_fform.ps [1.4], lib/gs_fonts.ps [1.19],
lib/gs_frsd.ps [1.6], lib/gs_icc.ps [1.4], lib/gs_il1_e.ps [1.4],
lib/gs_il2_e.ps [1.4], lib/gs_init.ps [1.50], lib/gs_kanji.ps [1.4],
lib/gs_ksb_e.ps [1.4], lib/gs_l2img.ps [1.4], lib/gs_lev2.ps [1.13],
lib/gs_lgo_e.ps [1.5], lib/gs_lgx_e.ps [1.4], lib/gs_ll3.ps [1.12],
lib/gs_mex_e.ps [1.4], lib/gs_mgl_e.ps [1.5], lib/gs_mro_e.ps [1.4],
lib/gs_pdf_e.ps [1.4], lib/gs_pdfwr.ps [1.15], lib/gs_pfile.ps [1.4],
lib/gs_rdlin.ps [1.4], lib/gs_res.ps [1.19], lib/gs_resmp.ps [1.5],
lib/gs_setpd.ps [1.11], lib/gs_statd.ps [1.7], lib/gs_std_e.ps [1.4],
lib/gs_sym_e.ps [1.4], lib/gs_trap.ps [1.5], lib/gs_ttf.ps [1.11],
lib/gs_typ32.ps [1.5], lib/gs_typ42.ps [1.6], lib/gs_type1.ps [1.11],
lib/gs_wan_e.ps [1.4], lib/gs_wl1_e.ps [1.4], lib/gs_wl2_e.ps [1.4],
lib/gs_wl5_e.ps [1.4], lib/ht_ccsto.ps [1.3]: 2002/02/21 21:49:28 giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (bfont.h [1.6], btoken.h [1.6], ccfont.h [1.4],
dpmain.c [1.7], dscparse.c [1.10], dscparse.h [1.9], dstack.h [1.5],
dwdll.c [1.4], dwdll.h [1.5], dwimg.c [1.5], dwimg.h [1.7],
dwinst.cpp [1.4], dwinst.h [1.5], dwmain.c [1.9], dwmain.h [1.6],
dwmainc.c [1.11], dwnodll.c [1.4], dwreg.c [1.3], dwreg.h [1.4],
dwsetup.cpp [1.7], dwsetup.h [1.5], dwtext.c [1.7], dwtext.h [1.7],
dwuninst.cpp [1.4], dwuninst.h [1.5], errors.h [1.6], estack.h [1.5],
fapiufst.c [1.11], files.h [1.6], gdevdsp.h [1.5], gdevdsp2.h [1.6],
ghost.h [1.4], gs.c [1.8], ialloc.c [1.4], ialloc.h [1.4], iapi.c [1.5],
iapi.h [1.4], iastate.h [1.4], iastruct.h [1.4], ibnum.c [1.6],
ibnum.h [1.6], iccfont.c [1.5], iccinit0.c [1.4], icfontab.c [1.4],
ichar.h [1.5], ichar1.h [1.6], icharout.h [1.6], icid.h [1.4], icie.h [1.5],
icolor.h [1.4], iconf.c [1.6], iconf.h [1.3], icontext.c [1.10],
icontext.h [1.4], icremap.h [1.4], icsmap.h [1.4], icstate.h [1.8],
iddict.h [1.4], iddstack.h [1.4], idebug.c [1.6], idebug.h [1.4],
idict.c [1.6], idict.h [1.4], idictdef.h [1.4], idisp.c [1.5],
idisp.h [1.4], idosave.h [1.4], idparam.c [1.5], idparam.h [1.5],
idsdata.h [1.4], idstack.c [1.4], idstack.h [1.4], iesdata.h [1.4],
iestack.h [1.4], ifapi.h [1.9], ifcid.h [1.4], ifilter.h [1.5],
ifilter2.h [1.4], ifont.h [1.8], ifont1.h [1.5], ifont2.h [1.4],
ifont42.h [1.6], ifrpred.h [1.4], ifunc.h [1.7], ifwpred.h [1.4],
igc.c [1.7], igc.h [1.4], igcref.c [1.5], igcstr.c [1.5], igcstr.h [1.4],
igstate.h [1.5], iht.h [1.4], iimage.h [1.4], iimage2.h [1.4],
iinit.c [1.5], iinit.h [1.4], ilevel.h [1.4], ilocate.c [1.6],
imain.c [1.23], imain.h [1.5], imainarg.c [1.18], imainarg.h [1.5],
imemory.h [1.4], iminst.h [1.7], iname.c [1.5], iname.h [1.4],
inamedef.h [1.4], inameidx.h [1.4], inames.h [1.4], inamestr.h [1.4],
inobtokn.c [1.4], inouparm.c [1.4], interp.c [1.10], interp.h [1.4],
iosdata.h [1.4], iostack.h [1.4], ipacked.h [1.4], iparam.c [1.7],
iparam.h [1.4], iparray.h [1.4], ipcolor.h [1.4], iplugin.c [1.3],
iplugin.h [1.3], ireclaim.c [1.5], iref.h [1.7], isave.c [1.5],
isave.h [1.4], iscan.c [1.7], iscan.h [1.6], iscanbin.c [1.9],
iscanbin.h [1.4], iscannum.c [1.5], iscannum.h [1.4], isdata.h [1.4],
isstate.h [1.4], istack.c [1.4], istack.h [1.4], istkparm.h [1.4],
istream.h [1.4], istruct.h [1.4], itoken.h [1.4], iutil.c [1.5],
iutil.h [1.4], iutil2.c [1.5], iutil2.h [1.5], ivmem2.h [1.4],
ivmspace.h [1.4], main.h [1.5], oparc.h [1.4], opcheck.h [1.4],
opdef.h [1.5], oper.h [1.4], opextern.h [1.4], ostack.h [1.4], sbhc.c [1.5],
sbhc.h [1.4], sbwbs.c [1.4], sbwbs.h [1.4]: 2002/02/21 22:24:51 giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (sfilter1.c [1.8], shcgen.c [1.4], shcgen.h [1.4],
smtf.c [1.4], smtf.h [1.4], store.h [1.4], zarith.c [1.6], zarray.c [1.4],
zbfont.c [1.12], zbseq.c [1.6], zcfont.c [1.4], zchar.c [1.6],
zchar1.c [1.11], zchar2.c [1.4], zchar32.c [1.4], zchar42.c [1.6],
zcharout.c [1.7], zcharx.c [1.5], zcid.c [1.5], zcie.c [1.8],
zcolor.c [1.6], zcolor1.c [1.5], zcolor2.c [1.7], zcontext.c [1.9],
zcontrol.c [1.6], zcrd.c [1.5], zcsdevn.c [1.9], zcsindex.c [1.5],
zcspixel.c [1.4], zcssepr.c [1.10], zdevcal.c [1.5], zdevice.c [1.6],
zdevice2.c [1.7], zdfilter.c [1.4], zdict.c [1.5], zdouble.c [1.4],
zdpnext.c [1.5], zdps.c [1.6], zdps1.c [1.5], zdscpars.c [1.14],
zfapi.c [1.14], zfarc4.c [1.4], zfbcp.c [1.5], zfcid.c [1.13],
zfcid0.c [1.12], zfcid1.c [1.9], zfcmap.c [1.11], zfdctd.c [1.8],
zfdcte.c [1.7], zfdecode.c [1.5], zfile.c [1.15], zfileio.c [1.14],
zfilter.c [1.7], zfilter2.c [1.5], zfilterx.c [1.4], zfmd5.c [1.4],
zfont.c [1.5], zfont0.c [1.5], zfont1.c [1.11], zfont2.c [1.6],
zfont32.c [1.4], zfont42.c [1.8], zfproc.c [1.11], zfrsd.c [1.6],
zfsample.c [1.5], zfunc.c [1.11], zfunc0.c [1.6], zfunc3.c [1.5],
zfunc4.c [1.10], zfzlib.c [1.5], zgeneric.c [1.5], zgstate.c [1.4],
zhsb.c [1.4], zht.c [1.4], zht1.c [1.4], zht2.c [1.4], zicc.c [1.5],
zimage.c [1.7], zimage2.c [1.6], zimage3.c [1.5], ziodev.c [1.9],
ziodev2.c [1.5], zmath.c [1.5], zmatrix.c [1.6], zmedia2.c [1.6],
zmisc.c [1.4], zmisc1.c [1.5], zmisc2.c [1.5], zmisc3.c [1.4],
zpacked.c [1.4], zpaint.c [1.4], zpath.c [1.4], zpath1.c [1.4],
zpcolor.c [1.5], zrelbit.c [1.4], zrop.c [1.4], zshade.c [1.7],
zstack.c [1.4], zstring.c [1.5], zsysvm.c [1.4], ztoken.c [1.8],
ztrans.c [1.15], ztrap.c [1.4], ztype.c [1.5], zupath.c [1.4],
zusparam.c [1.6], zvmem.c [1.6], zvmem2.c [1.5]: 2002/02/21 22:24:54 giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (examples/waterfal.ps [1.5]: 2002/02/21 22:49:46 giles)

FAPI project : Fixing absent entries in Subrs array. (zfapi.c [1.15]:
2002/02/21 23:09:42 igor)

FAPI project : Removing an obsolete fixme comment. (lib/gs_ciddc.ps [1.7]:
2002/02/21 23:14:05 igor)

FAPI project : Fixing absent entries in Subrs array. (zfapi.c [1.16]:
2002/02/21 23:22:22 igor)

Makes 'save' create inner chunks for all chunks with at least a minimum
amount of free space (currently defined statically as 500 bytes), rather
than only for the chunk that was open at the time of the save. This makes
all of this space available for allocation within the scope of the save,
which can substantially improve memory utilization. (isave.c [1.6]:
2002/02/25 07:37:22 lpd)

FAPI project : (1) Fixing a bug in stringwidth; (2) replacing CheckRET macro
with return_if_error. (fapiufst.c [1.12], ifapi.h [1.10], zfapi.c [1.17]:
2002/02/25 10:02:12 igor)

FAPI project : Fixing bugs (1) in TrueType 'loca' format 1 and (2) in
'.notdef' charstring access. (fapiufst.c [1.13], zfapi.c [1.18]: 2002/02/25
17:21:09 igor)

Implementing Visual Trace service to graphics library, and Visual Trace
server for Windows. (dwdll.c [1.5], dwdll.h [1.6], dwimg.c [1.6],
dwmain.c [1.10], dwmainc.c [1.12], dwtrace.c [1.1], dwtrace.h [1.2],
iapi.c [1.6], iapi.h [1.5], imainarg.c [1.19]: 2002/02/26 16:09:15 igor)

FAPI project : Changing the logics of loading GS fonts with FAPI : now all
fonts listed in fontmap are being loaded with GS font loader and then are
passed to FAPI in same way as embedded fonts. (lib/gs_fapi.ps [1.14],
lib/gs_fonts.ps [1.20]: 2002/02/26 17:49:12 igor)

FAPI project : An unaligned bitmap was passed from UFST to
mem_mono_copy_mono. Creating a temporary aligned copy on necessity. Source
Forge bug #523073 "Segment fault in mem_mono_copy_mono". (fapiufst.c [1.14],
zfapi.c [1.19]: 2002/02/27 10:34:57 igor)

Remove the return_if_error macro from ALL occurrences and clean up some of
the C-style problems with the FAPI code. Add some of the new rules about
macros to C-style.htm. (dwtrace.c [1.2], zfapi.c [1.20]: 2002/02/28 21:21:42
ray)

Committing in . Long promised type cast changes neede to supress warnings on
OpenVMS devs.mak : In a condition in a Makefile for OpenVMS the ":" should
be surrounded by spaces. Modified Files: gs/src/devs.mak gs/src/imainarg.c
gs/src/zfile.c
----------------------------------------------------------------------
(imainarg.c [1.20], zfile.c [1.16]: 2002/03/07 08:35:16 joukj)

MS-Windows installer now clears the read-only attribute when copying files.
The installer was failing when the source files were stored unpacked on a
CD-ROM. (dwinst.cpp [1.5], dwinst.h [1.6]: 2002/03/12 20:55:22 ghostgum)

Add a new optional FEATURE, diskn.dev that provides emulation of %disk
devices present on some Adobe printers. This version is NOT multiple
instance safe, but is useful for embedded printers or for server systems
with a single Ghostscript instance. Documentation is in Language.htm.
Addresses SourceForge bug #493344 for Artifex customer #411. (files.h [1.7],
iinit.c [1.6], lib/gs_diskn.ps [1.1], lib/gs_init.ps [1.51],
lib/gs_lev2.ps [1.14], lib/gs_res.ps [1.22], lib/gs_statd.ps [1.8],
lib/gs_ttf.ps [1.13], zfile.c [1.17], zfrsd.c [1.7], ziodev2.c [1.6]:
2002/03/13 20:27:39 ray)

Adds multiple inclusion protection to the vdtrace header files.
(dwtrace.h [1.3]: 2002/03/14 04:26:44 giles)

Adds -dNOTRANSPARENCY flag, which disables all PDF 1.4 transparency
processing. (lib/gs_init.ps [1.52]: 2002/03/14 15:53:09 raph)

Removing return_if_error macro. (fapiufst.c [1.16]: 2002/03/14 19:19:13
igor)

Adds documentation for the macros in iref.h, and changes the names of
internal macros to upper case. (idebug.c [1.7], iref.h [1.8]: 2002/03/19
17:35:53 lpd)

Bumps the next-release version number to 7.20 to leave additional room for
stable releases. (lib/gs_init.ps [1.53]: 2002/03/22 00:05:52 giles)

</pre><h2><a name="7.20-Streams"></a>Streams</h2><pre>

Fixes problems:
	- The double-inclusion protection for two header files didn't use
the standard method. (scfx.h [1.3], scommon.h [1.4]: 2002/01/11 02:27:59
lpd)
	- On IA64 CPUs, objects were only aligned on 8-byte boundaries, not
16-byte. (It may be that only jmpbuf structures actually need 16-byte
alignment, but gcc and glibc malloc align all objects that way.) Fixes
SourceForge bug #502866. Also cleans up some minor coding issues in
genarch.c. (std.h [1.5]: 2002/01/16 16:09:20 lpd)
	- sclose and spskip incorrectly indicated that they returned a
'code' (per gserrors.h) rather than a 'status' (per scommon.h).
(stream.c [1.16]: 2002/02/12 21:52:16 lpd)
	- the 1-line comment at the head of sstring.h was garbled.
(sstring.h [1.4]: 2002/02/16 15:08:59 lpd)

Finishes removing support for pre-ANSI (a.k.a. "traditional" or "K&amp;R") C
compilers. (stdpre.h [1.5]: 2001/12/13 18:11:09 lpd)

Adds more tracing to the DCTEncode filter (under the -Zw switch).
(sdcte.c [1.5]: 2002/02/16 07:32:23 lpd)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(sa85d.c [1.4], sa85d.h [1.4], sa85x.h [1.4], sarc4.c [1.6], sarc4.h [1.3],
sbcp.c [1.4], sbcp.h [1.3], sbtx.h [1.3], scanchar.h [1.3], scantab.c [1.3],
scf.h [1.3], scfd.c [1.4], scfdtab.c [1.2], scfe.c [1.3], scfetab.c [1.3],
scfparam.c [1.3], scfx.h [1.4], scommon.h [1.5], sdcparam.c [1.4],
sdcparam.h [1.3], sdct.h [1.5], sdctc.c [1.3], sdctd.c [1.3], sdcte.c [1.6],
sddparam.c [1.3], sdeparam.c [1.5], seexec.c [1.5], sfilter.h [1.7],
sfilter2.c [1.4], sfxboth.c [1.3], sfxfd.c [1.7], sfxstdio.c [1.5],
shc.c [1.3], shc.h [1.3], siinterp.c [1.3], siinterp.h [1.3],
siscale.c [1.5], siscale.h [1.3], sisparam.h [1.3], sjpeg.h [1.3],
sjpegc.c [1.5], sjpegd.c [1.4], sjpege.c [1.4], slzwc.c [1.3],
slzwce.c [1.3], slzwd.c [1.4], slzwx.h [1.3], smd5.c [1.4], smd5.h [1.3],
spdiff.c [1.4], spdiffx.h [1.3], spngp.c [1.3], spngpx.h [1.3],
spprint.c [1.5], spprint.h [1.4], spsdf.c [1.6], spsdf.h [1.3],
srdline.h [1.3], srld.c [1.3], srle.c [1.3], srlx.h [1.4], sstring.c [1.3],
sstring.h [1.5], stat_.h [1.7], std.h [1.6], stdio_.h [1.5], stdpre.h [1.6],
stream.c [1.17], stream.h [1.9], strimpl.h [1.4], string_.h [1.3],
szlibc.c [1.4], szlibd.c [1.4], szlibe.c [1.3], szlibx.h [1.3],
szlibxx.h [1.3]: 2002/02/21 20:57:49 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (sa85d.c [1.5], sa85d.h [1.5], sa85x.h [1.5],
sarc4.c [1.7], sarc4.h [1.4], sbcp.c [1.5], sbcp.h [1.4], sbtx.h [1.4],
scanchar.h [1.4], scantab.c [1.4], scf.h [1.4], scfd.c [1.5],
scfdtab.c [1.3], scfe.c [1.4], scfetab.c [1.4], scfparam.c [1.4],
scfx.h [1.5], scommon.h [1.6], sdcparam.c [1.5], sdcparam.h [1.4],
sdct.h [1.6], sdctc.c [1.4], sdctd.c [1.4], sdcte.c [1.7], sddparam.c [1.4],
sdeparam.c [1.6], seexec.c [1.6], sfilter.h [1.8], sfilter2.c [1.5],
sfxboth.c [1.4], sfxfd.c [1.8], sfxstdio.c [1.6], shc.c [1.4], shc.h [1.4],
siinterp.c [1.4], siinterp.h [1.4], siscale.c [1.6], siscale.h [1.4],
sisparam.h [1.4], sjpeg.h [1.4], sjpegc.c [1.6], sjpegd.c [1.5],
sjpege.c [1.5], slzwc.c [1.4], slzwce.c [1.4], slzwd.c [1.5], slzwx.h [1.4],
smd5.c [1.5], smd5.h [1.4], spdiff.c [1.5], spdiffx.h [1.4], spngp.c [1.4],
spngpx.h [1.4], spprint.c [1.6], spprint.h [1.5], spsdf.c [1.7],
spsdf.h [1.4], srdline.h [1.4], srld.c [1.4], srle.c [1.4], srlx.h [1.5],
sstring.c [1.4], sstring.h [1.6], stat_.h [1.8], std.h [1.7],
stdio_.h [1.6], stdpre.h [1.7], stream.c [1.18], stream.h [1.10],
strimpl.h [1.5], string_.h [1.4], szlibc.c [1.5], szlibd.c [1.5],
szlibe.c [1.4], szlibx.h [1.4], szlibxx.h [1.4]: 2002/02/21 22:24:53 giles)

Adds support for compilation against a standard shared libjpeg. It is
believed that non-baseline compliant DCTEncoded data, permitted by early
versions of postscript, is now extremely rare and the prohibition against
SHARE_JPEG=1 may reasonably be removed. The autoconf build will prefer a
local copy of the jpeg source, in which case the D_MAX_BLOCKS_IN_MCU patch
will still be applied. If no such local copy is found, it will try to find a
shared library on the system. For all unix builds, if &#36;(JSRCDIR)/jmemsys.h
cannot be found, we define DONT_HAVE_JMEMSYS_H and include our own versions
of the libjpeg memory manager prototypes. The default allocator in the
shared library is overridden by the ghostscript one at link-time. While this
may be implementation-dependent, it appears to function as desired on at
least GNU/Linux and Solaris. Also changes the autoconf build to prefer local
zlib and libpng source, and cleans up some variable names. (sjpegc.c [1.7]:
2002/03/30 23:55:15 giles)

</pre><h2><a name="7.20-Library"></a>Library</h2><pre>

Fixes problems:
	- Change show_enum pointer enumeration to properly enumerate
underlying gs_text_enum structure. (gxchar.c [1.6]: 2001/10/26 16:28:02
raph)
	- Image DataSource procedures that did save/restore would clear the
tile cache which was not detected in image_render_mono resulting in images
being painted with (mostly) all black when the device was a halftoned device
e.g. pcxmono or tiffg3. Check for vailidity of the ht_cache and re-init the
image color clues if not valid. Also improve performance by preventing
restore from always clearing the ht_cache. Fixes SourceForge bug #436897 for
Artifex customer #710. (gsstate.c [1.12], gxht.c [1.3], gximage.h [1.3],
gximono.c [1.3], gxipixel.c [1.3], gzht.h [1.5]: 2001/11/06 22:40:05 rayjj)
	- Trailing comma in structure (compile error on AIX).
(gxfcmap.h [1.9]: 2001/11/07 18:00:09 rayjj)
	- Fix for 473305 and a revised fix for 422534. The fix for 422534
caused a problem detected by the regression testing. This was found with
test file 035-01.ps. Both problems were caused by an error in the logic for
comparing two halftones for equality. This logic is used to determine which
the halftone cache needs to be reloaded. In both cases, non equal halftones
were being considered equal. (gsdcolor.h [1.4], gxcht.c [1.4],
gxclrast.c [1.10], gxdcolor.c [1.4]: 2001/11/12 22:15:19 dancoby)
	- There was an unused variable 'code'; 'divide' was misspelled
'devide'; there was a &amp;&amp; without enclosing parentheses within a ||.
(gxshade1.c [1.10]: 2001/11/22 05:01:40 lpd)
	- Removes 2 undefined variables. (gsdevice.c [1.12]: 2001/11/22
05:05:41 lpd)
	- Removes an unused variable. (gsfcmap.c [1.15]: 2001/11/22 05:14:55
lpd)
	- gs_purge_font_from_char_caches wasn't declared in any header file.
(gsfont.c [1.5], gxfcache.h [1.3]: 2001/11/22 05:56:51 lpd)
	- CIE color conversion could be very inaccurate if it didn't use
interpolation when cached sampled values were near zero. This fix detects
numerically sensitive areas and uses interpolation (which is computationally
expensive) only in those areas. Fixes SourceForge #465921. (gscie.c [1.6],
gscie.h [1.5], gsciemap.c [1.8], gscrd.c [1.3]: 2001/12/09 00:03:37 lpd)
	- Image Type 4 images processed with the Interpolate turned on (as
from -dDOINTERPOLATE) left an uninitialized variable that could cause
extensive slowdown. Fix for SourceForge bug #491308 for Artifex customer
671. (gxiscale.c [1.3]: 2001/12/14 19:02:27 rayjj)
	- Don't signal invalidacces if the OutputFile parameter is set to
the current value as would be done by 'currentpagedevice setpagedevice'.
(gdevprn.c [1.7]: 2002/01/15 04:44:09 rayjj)
	- On IA64 CPUs, objects were only aligned on 8-byte boundaries, not
16-byte. (It may be that only jmpbuf structures actually need 16-byte
alignment, but gcc and glibc malloc align all objects that way.) Fixes
SourceForge bug #502866. Also cleans up some minor coding issues in
genarch.c. (gsmalloc.c [1.4], gxobj.h [1.3]: 2002/01/16 16:09:20 lpd)
	- pdfwrite incorrectly handled Metrics[2] and CDevProc by writing
Widths that differed from the widths in the underlying font. pdfwrite now
positions characters individually in this case, like Acrobat Distiller.
Fixes SourceForge #495414. (gxfont.h [1.6]: 2002/01/17 05:13:24 lpd)
	- The recent fix for #502866 required malloc to align blocks at
least as stringently as the compiler requires. Even though the ANSI C
specification appears to require this, and Ghostscript relies on it, Dan
reports that some C implementation doesn't do it. Additional patching to
deal with this problem will undoubtedly be required.... (gsmalloc.c [1.5]:
2002/01/18 00:31:25 lpd)
	- The check for unaligned return values from malloc still had a bug.
(gsmalloc.c [1.6]: 2002/01/18 18:27:08 lpd)
	- MSVC's malloc on x86 only aligns blocks mod 4, even though the
compiler aligns 'double' members of structures mod 8. Documents this fact in
the relevant places in the Ghostscript code, and removes the check that was
causing gsmalloc.c to produce warning messages. (gsmalloc.c [1.7],
gsmemory.h [1.4], gsmemraw.h [1.4], gxbitmap.h [1.3], gxobj.h [1.4]:
2002/01/22 08:04:28 lpd)
	- Improve security in a (mostly) backward compatible fashion adding
more flexible file access paths (PermitFile...) as user paramters and adding
the facility to return to NOSAFER mode after running jobs (files/procedures)
in SAFER mode. This should address SF bug #474582 and eliminate the need for
the RedHat PARANOIDSAFER patch. (gp.h [1.9], gp_dosfe.c [1.3],
gp_dosfs.c [1.3], gp_unifn.c [1.3], gsutil.c [1.5], gsutil.h [1.4]:
2002/01/24 06:33:33 rayjj)
	- When pdfwrite embedded a TrueType font with a generated format 6
cmap, it incorrectly added the character bias (0xf000) to the "first
character code" entry in the cmap sub-table. Fixes SourceForge #434707 and
probably some others. This fix also adds a set of compile-time options for
forcing embedded TTFs into particular formats for debugging.
(gdevpsft.c [1.10]: 2002/01/29 00:44:06 lpd)
	- Prevent Type2 fonts from needing more than 48 ostack elements.
Patch provided by Toshiya Suzuki-san (mpsuzuki). Also add checking to
prevent fonts that push more than 48 elements on the ostack from overflowing
the array (could caused SEGV). Fix for SourcForge bug #497537.
(gdevpsfx.c [1.11], gstype1.c [1.8], gstype2.c [1.12], gxtype1.c [1.10],
gxtype1.h [1.7]: 2002/01/29 19:13:25 rayjj)
	- The cached effective_clip_id was being set to the clip_id of the
clip_path, ignoring the viewclip path in some cases. Set the 'id' to
correctly reflect the path in effective_clip_path. Fixes SF bug #458769 for
Artifex customer #1130. (gspath.c [1.3]: 2002/02/05 00:29:59 rayjj)
	- Prevent large transparency buffer allocations from overflowing
unsigned int. Could lead to SEGV or buffer overflow. Also fix up some return
code handling when allocations fail in PDF 1.4 transparency logic. Fixes SF
bug #511914 for Artifex customer #680. (gdevp14.c [1.5]: 2002/02/05 08:13:50
rayjj)
	- gx_begin_image3x_generic passed uninitialized data to
gs_cspace_init_DevicePixel when Shape.MaskDict was absent, causing a garbage
collector crash. Fixes SourceForge bug #516530 (heap crash with
OTGuide.pdf). (based on proposed fix by igorm.) (gsipar3x.h [1.4],
gximag3x.c [1.8], gximono.c [1.4]: 2002/02/18 17:12:53 lpd)
	- Many files lacked double-inclusion protection, or implemented it
incorrectly. (gsdfilt.h [1.3], gxfapi.h [1.3], jerror_.h [1.3]: 2002/02/20
01:32:47 lpd)
	- Converting Type 1 to Type 2 fonts didn't adjust the coordinates of
stem hints, which are relative to the l.s.b. in Type 1 but not in Type 2.
(First part of two-part fix for SourceForge #520718.) (gdevpsfx.c [1.14]:
2002/02/22 07:07:47 lpd)
	- The Type 2 CharString interpreter ignored many hints. (Second part
of two-part fix for SourceForge #520718.) (gstype1.c [1.11],
gstype2.c [1.15], gxhint2.c [1.5], gxtype1.h [1.10]: 2002/02/22 15:28:21
lpd)
	- Fixes an out-of-date reference to the Type 2 CharString
documentation. (gstype2.c [1.16]: 2002/02/22 23:32:41 lpd)
	- Makes the standard memory manager scan all chunks, not just the
currently open one, for available free space. This is a long-planned,
long-overdue improvement that can improve memory utilization dramatically.
(gsalloc.c [1.14]: 2002/02/22 23:39:20 lpd)
	- Prevent image interpolation if the target device has less than 4
bits per component. This prevents interpolation from causing 'noise'
(stripes, shadows, etc.) in the output when the device is halftone dithered.
SourceForge bug 525708 for Artifex customer #710. (gxiscale.c [1.6]:
2002/03/06 19:15:15 ray)
	- The formula for dy6 in Type2 hflex1 instruction was wrong. Source
Forge bug #530136 "hflex1 arguments misinterpreted". Thanks to Felix Pahl
(fpahl) for spotting this. (gstype2.c [1.17]: 2002/03/20 20:25:33 igor)
	- Fixes a number of problems with Type11 incremental glyph loading
with MetricsCount=2. Thanks to Brian Stell for the patch.
(gstype42.c [1.17]: 2002/03/26 08:37:14 raph)
	- (1) real_widths were missed in public_st_pdf_font; (2)
pdf_finalize_font_descriptor was called twice (form pdf_font_notify_proc and
from pdf_write_font_resources), if a font is garbage-collected after
pdf_close. Source Forge bug "[ 531983 ] ps2pdf coredumps on this ps file".
(gsstruct.h [1.12]: 2002/03/27 16:46:06 igor)
	- gxfont.h didn't include gsmatrix.h, so many places using gxfont.h
had to include gsmatrix.h. (gxfont.h [1.9]: 2002/03/29 00:41:39 lpd)
	- gsfont.h didn't define gs_matrix as an opaque type, causing
clients of gsfont.h to include gsmatrix.h unnecessarily. (gsfont.h [1.5]:
2002/03/29 00:48:21 lpd)

file vdtrace.c was initially added on branch HINTER. (vdtrace.c [1.1]:
2001/01/12 06:19:36 igorm)

file vdtrace.h was initially added on branch HINTER. (vdtrace.h [1.1]:
2001/02/02 20:27:09 igorm)

Updates version number to 7.10 to indicate that this is now the development
branch. (gscdef.c [1.16]: 2001/10/20 09:25:22 raph)

Changes all procedures for getting glyph outline data to return a structure
that includes memory management information. This is a
NON-BACKWARD-COMPATIBLE change to both implementors and clients. It corrects
a serious design error: formerly these procedures encoded memory management
information in their return code, which was obscure and error-prone.
(gdevpsf.h [1.11], gdevpsf1.c [1.10], gdevpsf2.c [1.16], gdevpsft.c [1.9],
gdevpsfu.c [1.8], gdevpsfx.c [1.10], gsfcid.c [1.6], gsgdata.c [1.1],
gsgdata.h [1.1], gstype1.c [1.7], gstype1.h [1.3], gstype2.c [1.11],
gstype42.c [1.13], gxfcid.h [1.7], gxfont.h [1.4], gxfont1.h [1.6],
gxfont42.h [1.5], gxtype1.c [1.9], gxtype1.h [1.6]: 2001/10/21 06:20:08 lpd)

FAPI project, UFST only, Type 1 and Type42 fonts. This version supports disk
fonts including FCOs, and embedded fonts, including incremental ones.
(gconf.c [1.3], gsmemraw.h [1.3], gxfont.h [1.5]: 2001/10/21 18:57:41 igorm)

FAPI project, UFST only, Type 1 and Type42 fonts. This version supports disk
fonts including FCOs, and embedded fonts, including incremental ones.
(gxfapi.c [1.1], gxfapi.h [1.1]: 2001/10/21 19:10:29 igorm)

Takes a small step towards fully ANSIfied code by removing all ANSI-testing
uses of __PROTOTYPES__ from code with an Aladdin/artofcode copyright.
(gdevprn.h [1.7], gsroptab.c [1.3], gsstruct.h [1.9]: 2001/10/25 04:38:34
lpd)

Refactors the CIEBased color mapping code slightly to make the CIE =&gt; XYZ
step separately accessible. (The XYZ =&gt; device step is already exported
for rendering ICCBased color.) pdfwrite needs this for converting arbitrary
CIEBased spaces to ICCBased. (gscie.c [1.5], gscie.h [1.4],
gsciemap.c [1.7], gxcie.h [1.4]: 2001/11/06 04:47:37 lpd)

Improvement for FAPI project : Splitting set_cache_device in 2 parts to
allow computing the oversampling scale prior to zchar_set_cache.
(gxchar.c [1.7], gxchar.h [1.3]: 2001/11/06 22:02:33 igorm)

Changes uses of 'defined' as an identifier to 'is_defined', since 'defined'
is a (non-standard) reserved word in gcc 2.96. (Patch from Red Hat.)
(gsdparam.c [1.5]: 2001/11/07 07:48:57 lpd)

FAPI project : (1) upgrading with UFST 4.3, (2) implementing GS cache.
(gxfapi.c [1.2], gxfapi.h [1.2]: 2001/11/11 23:09:16 igorm)

FAPI project : Preparing environment for CID font processing; Fixing UFST
file names. (gxfapi.c [1.3]: 2001/12/12 02:48:20 igorm)

FAPI project : Making set_char_width to be public to access from FAPI
client. (gxchar.c [1.8], gxchar.h [1.4]: 2001/12/20 22:17:59 igorm)

Improve security for device related access to the file system and to pipes
by allowing the dangerous parameters to be locked (for example, OutputFile).
The locking is performed after command line parameters are established.
Locking is not turned on by default as a result of this change, but
-d.LockSafetyParams=true can be added to the command line to accomplish
this. Related to SF bug #474582 (sort of). (gdevprn.c [1.6],
gdevvec.c [1.13], gsdparam.c [1.6], gxdevcli.h [1.6], gxdevice.h [1.5]:
2001/12/22 00:44:01 rayjj)

FAPI project : Making set_char_width to be public to access from FAPI
client. (gdevpsfm.c [1.6], gxfcmap.h [1.10]: 2001/12/28 18:53:02 igorm)

Moves TrueType glyph flags to gxttf.h, where they should have been from the
beginning. (gstype42.c [1.14], gxttf.h [1.3]: 2002/02/11 16:27:58 lpd)

Minor tweaks to Ray's buffer allocation failure patch, as discussed on
gs-code-review. (gdevp14.c [1.6]: 2002/02/13 18:11:09 raph)

Remove pdf14_text_enum_t and related functions because they are unuseful.
This change helps for FAPI project. (gdevp14.c [1.7]: 2002/02/18 11:13:19
igor)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(ctype_.h [1.3], dirent_.h [1.3], dos_.h [1.3], errno_.h [1.3],
fcntl_.h [1.4], gconf.c [1.4], gconf.h [1.3], gdebug.h [1.4],
gdevabuf.c [1.4], gdevalph.c [1.3], gdevbbox.c [1.5], gdevbbox.h [1.3],
gdevcmap.c [1.3], gdevcmap.h [1.3], gdevdbit.c [1.3], gdevddrw.c [1.3],
gdevdflt.c [1.4], gdevdgbr.c [1.3], gdevdrop.c [1.4], gdevemap.c [1.3],
gdevhit.c [1.3], gdevht.c [1.4], gdevht.h [1.3], gdevm1.c [1.3],
gdevm16.c [1.3], gdevm2.c [1.3], gdevm24.c [1.3], gdevm32.c [1.3],
gdevm4.c [1.3], gdevm8.c [1.3], gdevmem.c [1.3], gdevmem.h [1.4],
gdevmpla.c [1.3], gdevmpla.h [1.3], gdevmr1.c [1.3], gdevmr2n.c [1.3],
gdevmr8n.c [1.3], gdevmrop.h [1.4], gdevmrun.c [1.3], gdevmrun.h [1.3],
gdevnfwd.c [1.4], gdevp14.c [1.8], gdevpipe.c [1.5], gdevplnx.c [1.3],
gdevplnx.h [1.3], gdevppla.c [1.3], gdevppla.h [1.3], gdevprn.c [1.8],
gdevprn.h [1.8], gdevprna.c [1.3], gdevprna.h [1.3], gdevpsf.h [1.12],
gdevpsf1.c [1.11], gdevpsf2.c [1.17], gdevpsfm.c [1.7], gdevpsft.c [1.11],
gdevpsfu.c [1.9], gdevpsfx.c [1.12], gdevrops.c [1.4], gdevtrac.c [1.3],
gdevvec.c [1.14], gdevvec.h [1.8], gp.h [1.10], gp_dosfe.c [1.4],
gp_dosfs.c [1.4], gp_getnv.c [1.3], gp_msdos.c [1.3], gp_nsync.c [1.3],
gp_psync.c [1.3], gp_strdl.c [1.3], gp_unifn.c [1.4], gp_unifs.c [1.7],
gpcheck.h [1.3], gpgetenv.h [1.3], gpmisc.c [1.10], gpmisc.h [1.3],
gpsync.h [1.3], gsalloc.c [1.12], gsalloc.h [1.3], gsalpha.c [1.3],
gsalpha.h [1.3], gsalphac.c [1.3], gsalphac.h [1.3], gsargs.c [1.5],
gsargs.h [1.5], gsbitcom.c [1.2], gsbitmap.h [1.3], gsbitops.c [1.4],
gsbitops.h [1.3], gsbittab.c [1.3], gsbittab.h [1.3], gsccode.h [1.5],
gsccolor.h [1.3], gscdef.c [1.17], gscdefs.h [1.3], gscdevn.c [1.7],
gscdevn.h [1.4], gschar.c [1.4], gschar.h [1.4], gschar0.c [1.4],
gscie.c [1.7], gscie.h [1.6], gsciemap.c [1.9], gscindex.h [1.3],
gsclipsr.c [1.3], gsclipsr.h [1.3], gscolor.c [1.6], gscolor.h [1.4],
gscolor1.c [1.5], gscolor1.h [1.3], gscolor2.c [1.7], gscolor2.h [1.4],
gscolor3.c [1.5], gscolor3.h [1.3], gscompt.h [1.3], gscoord.c [1.6],
gscoord.h [1.3], gscparam.c [1.8], gscpixel.c [1.4], gscpixel.h [1.3],
gscpm.h [1.3], gscrd.c [1.4], gscrd.h [1.3], gscrdp.c [1.3], gscrdp.h [1.3],
gscrypt1.c [1.3], gscrypt1.h [1.3], gscscie.c [1.5], gscsel.h [1.3],
gscsepnm.h [1.3], gscsepr.h [1.5], gscspace.c [1.5], gscspace.h [1.9],
gscssub.c [1.4], gscssub.h [1.3], gsdcolor.h [1.5], gsdevice.c [1.13],
gsdevice.h [1.4], gsdevmem.c [1.3], gsdfilt.c [1.4], gsdfilt.h [1.4],
gsdparam.c [1.7], gsdpnext.h [1.3], gsdps.c [1.3], gsdps.h [1.3],
gsdps1.c [1.3], gsdsrc.c [1.3], gsdsrc.h [1.4], gserror.h [1.3],
gserrors.h [1.3], gsexit.h [1.5], gsfcid.c [1.7], gsfcmap.c [1.16],
gsfcmap.h [1.5], gsfemu.c [1.3], gsflip.c [1.3], gsflip.h [1.3],
gsfname.c [1.3], gsfname.h [1.3], gsfont.c [1.6], gsfont.h [1.3],
gsfont0.c [1.3], gsfunc.c [1.5], gsfunc.h [1.5], gsfunc0.c [1.6],
gsfunc0.h [1.3], gsfunc3.c [1.5], gsfunc3.h [1.3], gsfunc4.c [1.8],
gsfunc4.h [1.3], gsfuncv.c [1.3], gsfuncv.h [1.3], gsgc.h [1.4],
gsgdata.c [1.2], gsgdata.h [1.2], gshsb.c [1.3], gshsb.h [1.3],
gsht.c [1.3], gsht.h [1.3], gsht1.c [1.4], gsht1.h [1.3], gshtscr.c [1.7],
gshtx.c [1.3], gshtx.h [1.3], gsicc.c [1.6], gsicc.h [1.4], gsimage.c [1.5],
gsimage.h [1.3], gsimpath.c [1.3], gsinit.c [1.4], gsio.h [1.6],
gsiodev.c [1.6], gsiodevs.c [1.3], gsipar3x.h [1.5], gsiparam.h [1.5],
gsiparm2.h [1.3], gsiparm3.h [1.5], gsiparm4.h [1.3], gsistate.c [1.5],
gsjconf.h [1.3], gslib.c [1.6], gslib.h [1.3], gsline.c [1.3],
gsline.h [1.3], gslparam.h [1.3], gsmalloc.c [1.8], gsmalloc.h [1.3],
gsmatrix.c [1.3], gsmatrix.h [1.3], gsmdebug.h [1.4], gsmemlok.c [1.4],
gsmemlok.h [1.3], gsmemory.c [1.5], gsmemory.h [1.5], gsmemraw.h [1.5],
gsmemret.c [1.3], gsmemret.h [1.3], gsmisc.c [1.13], gsnogc.c [1.8],
gsnogc.h [1.3], gsnorop.c [1.3], gsnotify.c [1.3], gsnotify.h [1.3],
gspaint.c [1.3], gspaint.h [1.3], gsparam.c [1.5], gsparam.h [1.9],
gsparam2.c [1.3], gsparams.c [1.3], gsparams.h [1.3], gsparamx.c [1.5],
gsparamx.h [1.4], gspath.c [1.4], gspath.h [1.3], gspath1.c [1.4],
gspath2.h [1.3], gspcolor.c [1.5], gspcolor.h [1.3], gspenum.h [1.3],
gsptype1.c [1.4], gsptype1.h [1.3], gsptype2.c [1.6], gsptype2.h [1.5],
gsrect.h [1.3], gsrefct.h [1.3], gsrop.c [1.3], gsrop.h [1.3],
gsropc.c [1.3], gsropc.h [1.3], gsropt.h [1.5], gsroptab.c [1.4],
gsshade.c [1.5], gsshade.h [1.4], gsstate.c [1.13], gsstate.h [1.3],
gsstruct.h [1.10], gsstype.h [1.3], gstext.c [1.7], gstext.h [1.4],
gstparam.h [1.8], gstrans.c [1.14], gstrans.h [1.7], gstrap.c [1.4],
gstrap.h [1.4], gstype1.c [1.9], gstype1.h [1.4], gstype2.c [1.13],
gstype42.c [1.15], gstypes.h [1.4], gsuid.h [1.3], gsutil.c [1.6],
gsutil.h [1.5], gsxfont.h [1.3], gx.h [1.3], gxacpath.c [1.4],
gxalloc.h [1.7], gxalpha.h [1.3], gxarith.h [1.3], gxband.h [1.3],
gxbcache.c [1.3], gxbcache.h [1.3], gxbitfmt.h [1.3], gxbitmap.h [1.4],
gxbitops.h [1.3], gxblend.c [1.3], gxblend.h [1.2], gxccache.c [1.6],
gxccman.c [1.3], gxcdevn.h [1.3], gxchar.c [1.9], gxchar.h [1.5],
gxchrout.c [1.3], gxchrout.h [1.3], gxcht.c [1.5], gxcid.h [1.4],
gxcie.h [1.5], gxcindex.h [1.3], gxclbits.c [1.5], gxcldev.h [1.5],
gxclfile.c [1.4], gxclimag.c [1.4], gxclio.h [1.3], gxclip.c [1.5],
gxclip.h [1.3], gxclip2.c [1.4], gxclip2.h [1.3], gxclipm.c [1.4],
gxclipm.h [1.3], gxclipsr.h [1.3], gxclist.c [1.4], gxclist.h [1.3],
gxcllzw.c [1.3], gxclmem.c [1.3], gxclmem.h [1.3], gxclpage.c [1.3],
gxclpage.h [1.3], gxclpath.c [1.10], gxclpath.h [1.7], gxclrast.c [1.11],
gxclread.c [1.4], gxclrect.c [1.3], gxclutil.c [1.6], gxclzlib.c [1.3],
gxcmap.c [1.4], gxcmap.h [1.3], gxcolor2.h [1.5], gxcomp.h [1.3],
gxcoord.h [1.3], gxcpath.c [1.4], gxcpath.h [1.3], gxcspace.h [1.5],
gxctable.c [1.4], gxctable.h [1.3], gxcvalue.h [1.3], gxdcconv.c [1.4],
gxdcconv.h [1.3], gxdcolor.c [1.5], gxdcolor.h [1.4], gxdda.h [1.3],
gxdevbuf.h [1.3], gxdevcli.h [1.7], gxdevice.h [1.6], gxdevmem.h [1.3],
gxdevrop.h [1.3], gxdht.h [1.5], gxdhtres.h [1.3], gxdither.c [1.3],
gxdither.h [1.3], gxfapi.c [1.4], gxfapi.h [1.4], gxfarith.h [1.4],
gxfcache.h [1.4], gxfcid.h [1.8], gxfcmap.h [1.11], gxfill.c [1.9],
gxfixed.h [1.4], gxfmap.h [1.4], gxfont.h [1.7], gxfont0.h [1.4],
gxfont1.h [1.7], gxfont42.h [1.6], gxfrac.h [1.4], gxftype.h [1.3],
gxfunc.h [1.4], gxgetbit.h [1.3], gxhint1.c [1.3], gxhint2.c [1.3],
gxhint3.c [1.4], gxht.c [1.4], gxht.h [1.3], gxhtbit.c [1.4],
gxhttile.h [1.3], gxhttype.h [1.3], gxi12bit.c [1.3], gxiclass.h [1.3],
gxicolor.c [1.4], gxidata.c [1.5], gxifast.c [1.5], gximag3x.c [1.9],
gximag3x.h [1.4], gximage.c [1.3], gximage.h [1.4], gximage1.c [1.6],
gximage2.c [1.3], gximage3.c [1.7], gximage3.h [1.5], gximage4.c [1.4],
gximono.c [1.5], gxino12b.c [1.3], gxiodev.h [1.3], gxiparam.h [1.3],
gxipixel.c [1.4], gxiscale.c [1.4], gxistate.h [1.7], gxline.h [1.3],
gxlum.h [1.3], gxmatrix.h [1.5], gxmclip.c [1.3], gxmclip.h [1.3],
gxobj.h [1.5]: 2002/02/21 20:57:46 ray)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(gxop1.h [1.3], gxp1fill.c [1.3], gxp1impl.h [1.3], gxpageq.c [1.3],
gxpageq.h [1.3], gxpaint.c [1.3], gxpaint.h [1.3], gxpath.c [1.3],
gxpath.h [1.3], gxpath2.c [1.3], gxpcache.h [1.3], gxpcmap.c [1.4],
gxpcolor.h [1.3], gxpcopy.c [1.4], gxpdash.c [1.3], gxpflat.c [1.3],
gxropc.h [1.3], gxrplane.h [1.3], gxsample.c [1.3], gxsample.h [1.3],
gxshade.c [1.7], gxshade.h [1.5], gxshade1.c [1.11], gxshade4.c [1.7],
gxshade4.h [1.3], gxshade6.c [1.4], gxstate.h [1.3], gxstdio.h [1.3],
gxstroke.c [1.3], gxsync.c [1.3], gxsync.h [1.3], gxtext.h [1.8],
gxtmap.h [1.3], gxttf.h [1.4], gxtype1.c [1.11], gxtype1.h [1.8],
gxxfont.h [1.3], gzacpath.h [1.3], gzcpath.h [1.3], gzht.h [1.6],
gzline.h [1.3], gzpath.h [1.4], gzstate.h [1.6], jerror_.h [1.4],
malloc_.h [1.3], math_.h [1.3], md5.c [1.3], md5.h [1.2], memory_.h [1.3],
pipe_.h [1.3], time_.h [1.4], unistd_.h [1.5], vmsmath.h [1.3],
windows_.h [1.3]: 2002/02/21 20:57:49 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (ctype_.h [1.4], dirent_.h [1.4], dos_.h [1.4],
errno_.h [1.4], fcntl_.h [1.5], gconf.c [1.5], gconf.h [1.4],
gdebug.h [1.5], gdevabuf.c [1.5], gdevalph.c [1.4], gdevbbox.c [1.6],
gdevbbox.h [1.4], gdevcmap.c [1.4], gdevcmap.h [1.4], gdevdbit.c [1.4],
gdevddrw.c [1.4], gdevdflt.c [1.5], gdevdgbr.c [1.4], gdevdrop.c [1.5],
gdevemap.c [1.4], gdevhit.c [1.4], gdevht.c [1.5], gdevht.h [1.4],
gdevm1.c [1.4], gdevm16.c [1.4], gdevm2.c [1.4], gdevm24.c [1.4],
gdevm32.c [1.4], gdevm4.c [1.4], gdevm8.c [1.4], gdevmem.c [1.4],
gdevmem.h [1.5], gdevmpla.c [1.4], gdevmpla.h [1.4], gdevmr1.c [1.4],
gdevmr2n.c [1.4], gdevmr8n.c [1.4], gdevmrop.h [1.5], gdevmrun.c [1.4],
gdevmrun.h [1.4], gdevnfwd.c [1.5], gdevp14.c [1.9], gdevpipe.c [1.6],
gdevplnx.c [1.4], gdevplnx.h [1.4], gdevppla.c [1.4], gdevppla.h [1.4],
gdevprn.c [1.9], gdevprn.h [1.9], gdevprna.c [1.4], gdevprna.h [1.4],
gdevpsf.h [1.13], gdevpsf1.c [1.12], gdevpsf2.c [1.18], gdevpsfm.c [1.8],
gdevpsft.c [1.12], gdevpsfu.c [1.10], gdevpsfx.c [1.13], gdevrops.c [1.5],
gdevtrac.c [1.4], gdevvec.c [1.15], gdevvec.h [1.9], gp.h [1.11],
gp_dosfe.c [1.5], gp_dosfs.c [1.5], gp_getnv.c [1.4], gp_msdos.c [1.4],
gp_nsync.c [1.4], gp_psync.c [1.4], gp_strdl.c [1.4], gp_unifn.c [1.5],
gp_unifs.c [1.8], gpcheck.h [1.4], gpgetenv.h [1.4], gpmisc.c [1.11],
gpmisc.h [1.4], gpsync.h [1.4], gsalloc.c [1.13], gsalloc.h [1.4],
gsalpha.c [1.4], gsalpha.h [1.4], gsalphac.c [1.4], gsalphac.h [1.4],
gsargs.c [1.6], gsargs.h [1.6], gsbitcom.c [1.3], gsbitmap.h [1.4],
gsbitops.c [1.5], gsbitops.h [1.4], gsbittab.c [1.4], gsbittab.h [1.4],
gsccode.h [1.6], gsccolor.h [1.4], gscdef.c [1.18], gscdefs.h [1.4],
gscdevn.c [1.8], gscdevn.h [1.5], gschar.c [1.5], gschar.h [1.5],
gschar0.c [1.5], gscie.c [1.8], gscie.h [1.7], gsciemap.c [1.10],
gscindex.h [1.4], gsclipsr.c [1.4], gsclipsr.h [1.4], gscolor.c [1.7],
gscolor.h [1.5], gscolor1.c [1.6], gscolor1.h [1.4], gscolor2.c [1.8],
gscolor2.h [1.5], gscolor3.c [1.6], gscolor3.h [1.4], gscompt.h [1.4],
gscoord.c [1.7], gscoord.h [1.4], gscparam.c [1.9], gscpixel.c [1.5],
gscpixel.h [1.4], gscpm.h [1.4], gscrd.c [1.5], gscrd.h [1.4],
gscrdp.c [1.4], gscrdp.h [1.4], gscrypt1.c [1.4], gscrypt1.h [1.4],
gscscie.c [1.6], gscsel.h [1.4], gscsepnm.h [1.4], gscsepr.h [1.6],
gscspace.c [1.6], gscspace.h [1.10], gscssub.c [1.5], gscssub.h [1.4],
gsdcolor.h [1.6], gsdevice.c [1.14], gsdevice.h [1.5], gsdevmem.c [1.4],
gsdfilt.c [1.5], gsdfilt.h [1.5], gsdparam.c [1.8], gsdpnext.h [1.4],
gsdps.c [1.4], gsdps.h [1.4], gsdps1.c [1.4], gsdsrc.c [1.4],
gsdsrc.h [1.5], gserror.h [1.4], gserrors.h [1.4], gsexit.h [1.6],
gsfcid.c [1.8], gsfcmap.c [1.17], gsfcmap.h [1.6], gsfemu.c [1.4],
gsflip.c [1.4], gsflip.h [1.4], gsfname.c [1.4], gsfname.h [1.4],
gsfont.c [1.7], gsfont.h [1.4], gsfont0.c [1.4], gsfunc.c [1.6],
gsfunc.h [1.6], gsfunc0.c [1.7], gsfunc0.h [1.4], gsfunc3.c [1.6],
gsfunc3.h [1.4], gsfunc4.c [1.9], gsfunc4.h [1.4], gsfuncv.c [1.4],
gsfuncv.h [1.4], gsgc.h [1.5], gsgdata.c [1.3], gsgdata.h [1.3],
gshsb.c [1.4], gshsb.h [1.4], gsht.c [1.4], gsht.h [1.4], gsht1.c [1.5],
gsht1.h [1.4], gshtscr.c [1.8], gshtx.c [1.4], gshtx.h [1.4], gsicc.c [1.7],
gsicc.h [1.5], gsimage.c [1.6], gsimage.h [1.4], gsimpath.c [1.4],
gsinit.c [1.5], gsio.h [1.7], gsiodev.c [1.7], gsiodevs.c [1.4],
gsipar3x.h [1.6], gsiparam.h [1.6], gsiparm2.h [1.4], gsiparm3.h [1.6],
gsiparm4.h [1.4], gsistate.c [1.6], gsjconf.h [1.4], gslib.c [1.7],
gslib.h [1.4], gsline.c [1.4], gsline.h [1.4], gslparam.h [1.4],
gsmalloc.c [1.9], gsmalloc.h [1.4], gsmatrix.c [1.4], gsmatrix.h [1.4],
gsmdebug.h [1.5], gsmemlok.c [1.5], gsmemlok.h [1.4], gsmemory.c [1.6],
gsmemory.h [1.6], gsmemraw.h [1.6], gsmemret.c [1.4], gsmemret.h [1.4],
gsmisc.c [1.14], gsnogc.c [1.9], gsnogc.h [1.4], gsnorop.c [1.4],
gsnotify.c [1.4], gsnotify.h [1.4], gspaint.c [1.4], gspaint.h [1.4],
gsparam.c [1.6], gsparam.h [1.10], gsparam2.c [1.4], gsparams.c [1.4],
gsparams.h [1.4], gsparamx.c [1.6], gsparamx.h [1.5], gspath.c [1.5],
gspath.h [1.4], gspath1.c [1.5], gspath2.h [1.4], gspcolor.c [1.6],
gspcolor.h [1.4], gspenum.h [1.4], gsptype1.c [1.5], gsptype1.h [1.4],
gsptype2.c [1.7], gsptype2.h [1.6], gsrect.h [1.4], gsrefct.h [1.4],
gsrop.c [1.4], gsrop.h [1.4], gsropc.c [1.4], gsropc.h [1.4],
gsropt.h [1.6], gsroptab.c [1.5], gsshade.c [1.6], gsshade.h [1.5],
gsstate.c [1.14], gsstate.h [1.4], gsstruct.h [1.11], gsstype.h [1.4],
gstext.c [1.8], gstext.h [1.5], gstparam.h [1.9], gstrans.c [1.15],
gstrans.h [1.8], gstrap.c [1.5], gstrap.h [1.5], gstype1.c [1.10],
gstype1.h [1.5], gstype2.c [1.14], gstype42.c [1.16], gstypes.h [1.5],
gsuid.h [1.4], gsutil.c [1.7], gsutil.h [1.6], gsxfont.h [1.4], gx.h [1.4],
gxacpath.c [1.5], gxalloc.h [1.8], gxalpha.h [1.4], gxarith.h [1.4],
gxband.h [1.4], gxbcache.c [1.4], gxbcache.h [1.4], gxbitfmt.h [1.4],
gxbitmap.h [1.5], gxbitops.h [1.4], gxblend.c [1.4], gxblend.h [1.3],
gxccache.c [1.7], gxccman.c [1.4], gxcdevn.h [1.4], gxchar.c [1.10],
gxchar.h [1.6], gxchrout.c [1.4], gxchrout.h [1.4], gxcht.c [1.6],
gxcid.h [1.5], gxcie.h [1.6], gxcindex.h [1.4], gxclbits.c [1.6],
gxcldev.h [1.6], gxclfile.c [1.5], gxclimag.c [1.5], gxclio.h [1.4],
gxclip.c [1.6], gxclip.h [1.4], gxclip2.c [1.5], gxclip2.h [1.4],
gxclipm.c [1.5], gxclipm.h [1.4], gxclipsr.h [1.4], gxclist.c [1.5],
gxclist.h [1.4], gxcllzw.c [1.4], gxclmem.c [1.4], gxclmem.h [1.4],
gxclpage.c [1.4], gxclpage.h [1.4], gxclpath.c [1.11], gxclpath.h [1.8],
gxclrast.c [1.12], gxclread.c [1.5], gxclrect.c [1.4], gxclutil.c [1.7],
gxclzlib.c [1.4], gxcmap.c [1.5], gxcmap.h [1.4], gxcolor2.h [1.6],
gxcomp.h [1.4], gxcoord.h [1.4], gxcpath.c [1.5], gxcpath.h [1.4],
gxcspace.h [1.6], gxctable.c [1.5], gxctable.h [1.4], gxcvalue.h [1.4],
gxdcconv.c [1.5], gxdcconv.h [1.4], gxdcolor.c [1.6], gxdcolor.h [1.5],
gxdda.h [1.4], gxdevbuf.h [1.4], gxdevcli.h [1.8], gxdevice.h [1.7],
gxdevmem.h [1.4], gxdevrop.h [1.4], gxdht.h [1.6], gxdhtres.h [1.4],
gxdither.c [1.4], gxdither.h [1.4], gxfapi.c [1.5], gxfapi.h [1.5],
gxfarith.h [1.5], gxfcache.h [1.5], gxfcid.h [1.9], gxfcmap.h [1.12],
gxfill.c [1.10], gxfixed.h [1.5], gxfmap.h [1.5], gxfont.h [1.8],
gxfont0.h [1.5], gxfont1.h [1.8], gxfont42.h [1.7], gxfrac.h [1.5],
gxftype.h [1.4], gxfunc.h [1.5], gxgetbit.h [1.4], gxhint1.c [1.4],
gxhint2.c [1.4], gxhint3.c [1.5], gxht.c [1.5], gxht.h [1.4],
gxhtbit.c [1.5], gxhttile.h [1.4], gxhttype.h [1.4], gxi12bit.c [1.4],
gxiclass.h [1.4], gxicolor.c [1.5], gxidata.c [1.6], gxifast.c [1.6],
gximag3x.c [1.10], gximag3x.h [1.5], gximage.c [1.4], gximage.h [1.5],
gximage1.c [1.7], gximage2.c [1.4], gximage3.c [1.8], gximage3.h [1.6],
gximage4.c [1.5], gximono.c [1.6], gxino12b.c [1.4], gxiodev.h [1.4],
gxiparam.h [1.4], gxipixel.c [1.5], gxiscale.c [1.5], gxistate.h [1.8],
gxline.h [1.4], gxlum.h [1.4], gxmatrix.h [1.6], gxmclip.c [1.4],
gxmclip.h [1.4], gxobj.h [1.6], gxop1.h [1.4], gxp1fill.c [1.4],
gxp1impl.h [1.4], gxpageq.c [1.4], gxpageq.h [1.4], gxpaint.c [1.4],
gxpaint.h [1.4], gxpath.c [1.4], gxpath.h [1.4], gxpath2.c [1.4],
gxpcache.h [1.4], gxpcmap.c [1.5], gxpcolor.h [1.4], gxpcopy.c [1.5],
gxpdash.c [1.4], gxpflat.c [1.4], gxropc.h [1.4], gxrplane.h [1.4],
gxsample.c [1.4], gxsample.h [1.4], gxshade.c [1.8], gxshade.h [1.6],
gxshade1.c [1.12], gxshade4.c [1.8], gxshade4.h [1.4], gxshade6.c [1.5],
gxstate.h [1.4], gxstdio.h [1.4], gxstroke.c [1.4], gxsync.c [1.4],
gxsync.h [1.4], gxtext.h [1.9], gxtmap.h [1.4], gxttf.h [1.5],
gxtype1.c [1.12], gxtype1.h [1.9], gxxfont.h [1.4], gzacpath.h [1.4],
gzcpath.h [1.4], gzht.h [1.7], gzline.h [1.4], gzpath.h [1.5],
gzstate.h [1.7], jerror_.h [1.5], malloc_.h [1.4], math_.h [1.4],
md5.c [1.4], md5.h [1.3], memory_.h [1.4], pipe_.h [1.4]: 2002/02/21
22:24:51 giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (time_.h [1.5], unistd_.h [1.6], vmsmath.h [1.4],
windows_.h [1.4]: 2002/02/21 22:24:54 giles)

Remove bbox_text_enum_t and related functions because they are unuseful.
This change helps for FAPI project. (gdevbbox.c [1.7]: 2002/02/22 08:37:19
igor)

Implementing Visual Trace service to graphics library, and Visual Trace
server for Windows. (vdtrace.c [1.2], vdtrace.h [1.2]: 2002/02/26 16:09:15
igor)

Remove the return_if_error macro from ALL occurrences and clean up some of
the C-style problems with the FAPI code. Add some of the new rules about
macros to C-style.htm. (gserror.h [1.5], vdtrace.h [1.3]: 2002/02/28
21:21:42 ray)

Improves comments to describe the alignment and padding requirement for
bitmaps. (gxbitmap.h [1.6]: 2002/03/05 16:56:33 lpd)

Corrected argument list for main(), and added int return type, in test
program and T value program. (md5.c [1.5]: 2002/03/11 20:08:50 lpd)

Add a new optional FEATURE, diskn.dev that provides emulation of %disk
devices present on some Adobe printers. This version is NOT multiple
instance safe, but is useful for embedded printers or for server systems
with a single Ghostscript instance. Documentation is in Language.htm.
Addresses SourceForge bug #493344 for Artifex customer #411.
(gsiodisk.c [1.1]: 2002/03/13 20:27:39 ray)

Adds multiple inclusion protection to the vdtrace header files.
(vdtrace.h [1.4]: 2002/03/14 04:26:44 giles)

Documents the rationale for the imager state / graphics state division.
(gxistate.h [1.9]: 2002/03/19 05:34:06 lpd)

Because of the introduction of CODE_VALUE_NOTDEF in v. 1.14 of gsfcmap.c,
pdfwrite could no longer embed non-standard CMaps. (gdevpsfm.c [1.9]:
2002/03/28 07:29:46 lpd)

Update release dates in preparation of the upcoming development release
(gscdef.c [1.19]: 2002/03/29 00:01:02 giles)

</pre><h2><a name="7.20-Other"></a>Other</h2><pre>

Fixes problems:
	- the configure script was setting ZSRCDIR to the empty string in
the case where SHARE_ZLIB=1, causing a syntax error on the libpng command
line. It is now set to a harmless default (configure.ac [1.2]: 2002/01/06
00:12:03 giles)
	- prefer 'src' over '.' for the spurious local include line for
zlib. Thanks to Peter Deutsch for the suggestion. (configure.ac [1.3]:
2002/01/09 20:20:27 giles)
	- some files were missing the RCS 'Id' line with the last
modification date. partial fix for Sourceforge bug #500922. (gp_mac.h [1.2],
macsysstat.h [1.2], macsystypes.h [1.2], vms_x_fix.h [1.2]: 2002/01/09
21:04:21 giles)
	- corrects the name of the autoconf generated makefile for the
purpose of dependencies (Makefile.in [1.3]: 2002/02/01 04:11:46 giles)
	- Many files lacked double-inclusion protection, or implemented it
incorrectly. (gsdll.h [1.4], vms_x_fix.h [1.3]: 2002/02/20 01:32:47 lpd)
	- Fixes the gdevx.o command line in the case when AC_PATH_X sets
x_includes to the empty string. Fixes SF #530429. (Makefile.in [1.6],
configure.ac [1.7]: 2002/03/28 19:35:03 raph)
	- Uses a default 'src' setting for PSRCDIR in the autoconf build
with shared libpng, as we do with zlib, preventing compiler confusion from
empty -I lines. Partial fix for SF bug #514898. (configure.ac [1.8]:
2002/03/28 19:52:28 giles)
	- improves X11 path settings in the autoconf build. We use
AC_PATH_XTRA instead of the previous "is it null" hack with AC_PATH_X. The
new macro also defines some additional libraries that may need to be
included. We currently don't use this information. (Makefile.in [1.7],
configure.ac [1.9]: 2002/03/28 20:40:25 giles)
	- remove -fno-common from the standard gcc LDFLAGS. It is only
required at compile time and doesn't need to be passed to the linker.
(Makefile.in [1.8]: 2002/03/28 23:12:09 giles)
	- verify that our default collection of compiler switches
(gcc-specific) work before using them. This allows the autoconf build to
work with non-gcc compilers. Completes the fix for SF Bug #514898.
(Makefile.in [1.9], configure.ac [1.10]: 2002/03/28 23:15:53 giles)
	- remove -fno-common from the default LDFLAGS (again) This was
inadvertently reverted in the previous revision. (Makefile.in [1.10]:
2002/03/29 22:04:58 giles)
	- removes -Wtraditional for the default gcc compiler flags for the
autoconf build as well. (configure.ac [1.11]: 2002/03/29 22:05:54 giles)
	- removes gcc-specific compiler flags from the autoconf makefile,
including the -fomit-frame-pointer optimization. Replaces the workaround for
const not working in gcc 2.7 with the more general autoconf macro
AC_C_CONST. Lists the defines generated by the configure script for
reference in the Makefile, but doesn't make use of them.
(Makefile.in [1.11], configure.ac [1.12]: 2002/03/30 03:24:10 giles)
	- the warning flag is -Wcast-qual not -Wqual-cast
(configure.ac [1.13]: 2002/03/30 03:44:36 giles)
	- 'echo -n' isn't portable. (configure.ac [1.15]: 2002/03/31
00:26:43 giles)

Adds basic support for GNU autoconf to the build system. (.cvsignore [1.3],
Makefile.in [1.1], autogen.sh [1.1], configure.ac [1.1]: 2002/01/04 05:47:50
giles)

Adds and rcs line to the autogen script. (autogen.sh [1.2]: 2002/01/06
06:56:02 giles)

Removes the check for an install program, since it unfortunately errors out
if the local fallback install-sh script from automake isn't present. We
continue to use src/instcopy in any case. Also some minor cleanup.
(.cvsignore [1.4], autogen.sh [1.3], configure.ac [1.4]: 2002/01/10 23:11:20
giles)

Checkin of IJS 0.33 to repository. (ijs/Makefile [1.1],
ijs/Makefile.in [1.1], ijs/README [1.1], ijs/common.mak [1.1],
ijs/configure [1.1], ijs/configure.in [1.1], ijs/ijs-config [1.1],
ijs/ijs-config.in [1.1], ijs/ijs.c [1.1], ijs/ijs.h [1.1],
ijs/ijs_client.c [1.1], ijs/ijs_client.h [1.1],
ijs/ijs_client_example.c [1.1], ijs/ijs_exec_unix.c [1.1],
ijs/ijs_exec_win.c [1.1], ijs/ijs_server.c [1.1], ijs/ijs_server.h [1.1],
ijs/ijs_server_example.c [1.1], ijs/ijs_spec.pdf [1.1],
ijs/ijs_spec.ps [1.1], ijs/ijs_spec.sgml [1.1], ijs/install-sh [1.1],
ijs/state.eps [1.1], ijs/state.fig [1.1], ijs/unistd_.h [1.1],
ijs/unix.mak [1.1], ijs/windows.mak [1.1]: 2002/01/31 19:09:46 raph)

Adds IJS driver to Ghostscript. Includes complete IJS version 0.33
distribution. Also includes autoconf patch by Ralph Giles.
(ijs/.cvsignore [1.1]: 2002/01/31 20:46:45 raph)

Adds IJS driver to Ghostscript. Includes complete IJS version 0.33
distribution. Also includes autoconf patch by Ralph Giles.
(Makefile.in [1.2], configure.ac [1.5]: 2002/01/31 20:47:02 raph)

Uses --with-ijs (instead of --without) in the configure option help.
(configure.ac [1.6]: 2002/02/01 04:16:15 giles)

Add AFPL specific LICENSE file required for common release banner change.
(LICENSE [1.1]: 2002/02/21 20:36:32 ray)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(Makefile.in [1.4], gp_mac.h [1.3], gp_mswin.h [1.5], gsdll.h [1.5],
gsdllos2.h [1.3], gsdllwin.h [1.4], gsjmorec.h [1.4], gspmdrv.h [1.3]:
2002/02/21 20:57:46 ray)

Update banner to the new format common to all releases (AFPL, GPL and
Artifex Software's commercial release). References file LICENSE.
(iutilasm.asm [1.3], macsysstat.h [1.3], macsystypes.h [1.3],
vms_x_fix.h [1.4]: 2002/02/21 20:57:49 ray)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (Makefile.in [1.5], gp_mac.h [1.4], gp_mswin.h [1.6],
gsdll.h [1.6], gsdllos2.h [1.4], gsdllwin.h [1.5], gsjmorec.h [1.5],
gspmdrv.h [1.4], iutilasm.asm [1.4], macsysstat.h [1.4],
macsystypes.h [1.4]: 2002/02/21 22:24:51 giles)

Reverts to marking files with the single Id cvs tag instead of the RCSfile
and Revision pair. (vms_x_fix.h [1.5]: 2002/02/21 22:24:54 giles)

Replace Windows icons with new versions that include 48x48 pixel and 32-bit
versions for Windows XP. Change the 16x16 pixel icons to use the full 'g'
instead of just the head. Use a restricted icon gswin16.ico for WinZip SE
which can't handle the new icon. (gswin.icx [1.1], gswin16.icx [1.1]:
2002/03/30 01:29:38 ghostgum)

Adds support for compilation against a standard shared libjpeg. It is
believed that non-baseline compliant DCTEncoded data, permitted by early
versions of postscript, is now extremely rare and the prohibition against
SHARE_JPEG=1 may reasonably be removed. The autoconf build will prefer a
local copy of the jpeg source, in which case the D_MAX_BLOCKS_IN_MCU patch
will still be applied. If no such local copy is found, it will try to find a
shared library on the system. For all unix builds, if &#36;(JSRCDIR)/jmemsys.h
cannot be found, we define DONT_HAVE_JMEMSYS_H and include our own versions
of the libjpeg memory manager prototypes. The default allocator in the
shared library is overridden by the ghostscript one at link-time. While this
may be implementation-dependent, it appears to function as desired on at
least GNU/Linux and Solaris. Also changes the autoconf build to prefer local
zlib and libpng source, and cleans up some variable names.
(Makefile.in [1.12], configure.ac [1.14]: 2002/03/30 23:55:15 giles)

Try the standard gcc compile flags only if we think we're using gcc to avoid
generating spurious warnings with some other compilers.
(configure.ac [1.16]: 2002/04/02 01:15:16 giles)

Returns the bbox device to the default build in response to user requests.
(Makefile.in [1.13]: 2002/04/03 18:25:03 giles)

</pre>

<hr>

<h1><a name="Version7.03"></a>Version 7.03 (2001-10-20)</h1>

<p>
This is a fully tested, stable release of Ghostscript. It fixes quite a
few issues with 7.02.

<p> Major changes include:

<ul>
<li>Integration of icclib 2.0.

<li>There was at least one embarassing pdfwrite bug, now fixed.

<li>Significant shading speedups, especially for worst-case files
such as Coons01.ps.

<li>The stdio logic is a lot more robust. 7.02 had some problems,
especially with trying to set stdin to non-blocking.

<li>The usual bug fixes. In particular, regression testing against
7.00 shows only one serious regression (nonsepqxd2distiller.pdf),
and numerous progressions.

</ul>

<p>
The following SourceForge bug numbers are currently open:
215256, 219798, 222727, 226477, 405342, 406689, 406979, 407342,
414947, 414985, 415016, 415142, 415170, 416131, 416830, 418241,
421057, 422532, 423838, 427193, 427314, 427347, 428891, 428973,
432040, 432657, 434277, 434707, 436099, 436897, 437285, 438679,
438957, 443745, 444791, 446344, 446672, 448199, 450663, 451456,
452155, 453969, 457838, 458261, 458500, 458769, 458775, 458780,
462221, 465720, 465921, 465936, 468386, 468762, 469518, 472681.

<h3><a name="7.03_Incompatible_changes"></a>Incompatible changes</h3>

<p>
No incompatible changes have been recorded for this version.

<pre>
</pre>

<h2><a name="7.03-Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- Add new Windows and Unix platform files to developer
documentation. (doc/Develop.htm [1.46]: 2001/09/23 08:54:03 ghostgum)
	- Adds a -dNOCCFONTS switch to disable use of compiled-in fonts.
(doc/Use.htm [1.32]: 2001/10/01 05:25:55 lpd)
	- Added potential workaround for DCTEncode filter problem where the
image has less rows than requested. (doc/Issues.htm [1.13]: 2001/10/03
17:24:23 jackiem)
	- Fixes reference counting for PDF 1.4 device filter stack.
Temporary patch to not free PDF 1.4 marking device for images (it was being
freed prematurely). (doc/Issues.htm [1.14]: 2001/10/17 17:28:10 raph)
	- Syncs with hpijs version 0.97, and fixes a documentation bug.
(doc/Devices.htm [1.33]: 2001/10/19 04:20:08 raph)
	- Documentation and version number change in preparation for 7.03
release. (doc/API.htm [1.11], doc/Bug-form.htm [1.23],
doc/Bug-info.htm [1.20], doc/C-style.htm [1.21], doc/Commprod.htm [1.15],
doc/Copying.htm [1.13], doc/Current.htm [1.13], doc/DLL.htm [1.15],
doc/Develop.htm [1.47], doc/Devices.htm [1.34], doc/Drivers.htm [1.21],
doc/Fonts.htm [1.22], doc/Helpers.htm [1.17], doc/History1.htm [1.13],
doc/History2.htm [1.13], doc/History3.htm [1.13], doc/History4.htm [1.13],
doc/History5.htm [1.15], doc/History6.htm [1.30], doc/History7.htm [1.4],
doc/Htmstyle.htm [1.18], doc/Install.htm [1.26], doc/Issues.htm [1.15],
doc/Language.htm [1.34], doc/Lib.htm [1.14], doc/Maintain.htm [1.23],
doc/Make.htm [1.36], doc/New-user.htm [1.30], doc/News.htm [1.89],
doc/Projects.htm [1.33], doc/Ps-style.htm [1.13], doc/Ps2epsi.htm [1.15],
doc/Ps2pdf.htm [1.32], doc/Psfiles.htm [1.22], doc/README [1.12],
doc/Readme.htm [1.31], doc/Release.htm [1.40], doc/Source.htm [1.13],
doc/Tester.htm [1.14], doc/Unix-lpr.htm [1.13], doc/Use.htm [1.33],
doc/Xfonts.htm [1.13], doc/gs-vms.hlp [1.12], man/dvipdf.1 [1.10],
man/font2c.1 [1.10], man/gs.1 [1.10], man/gslp.1 [1.10], man/gsnd.1 [1.10],
man/pdf2dsc.1 [1.10], man/pdf2ps.1 [1.12], man/pdfopt.1 [1.10],
man/pf2afm.1 [1.10], man/pfbtopfa.1 [1.11], man/printafm.1 [1.10],
man/ps2ascii.1 [1.10], man/ps2epsi.1 [1.10], man/ps2pdf.1 [1.14],
man/ps2pdfwr.1 [1.13], man/ps2ps.1 [1.17], man/wftopfa.1 [1.10]: 2001/10/20
08:44:30 raph)

</pre><h2><a name="7.03-Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- cvs2hist no longer worked in Python 2.1 and later: the regex and
regsub modules were superseded by re, and append() no longer accepted
multiple arguments to create a tuple. The fixes are backward compatible for
all versions of Python from 1.5 on. (toolbin/cvs2hist.py [1.7]: 2001/09/23
04:45:10 lpd)
	- The previous update to make cvs2hist use Python's re module rather
than the obsolete regex and regsub modules didn't change the code to use
match objects when necessary. Finishes fixing SourceForge #462777.
(toolbin/cvs2hist.py [1.8]: 2001/09/23 20:43:16 lpd)
	- Some print statements for debugging were accidentally left in the
code. (toolbin/cvs2hist.py [1.9]: 2001/09/23 21:05:12 lpd)
	- Committing in . Modified Files: gs/src/gp_stdia.c
gs/src/openvms.mmk gs/src/ziodevs.c patches for OpenVMS (openvms.mmk [1.10]:
2001/09/24 10:47:06 joukj)
	- Fixes for stdin as a result of using callouts. Use unbuffered
read, not non-blocking read. Change gp_stdin_read to use file pointer not
handle. Remove gp_stdin_init since we don't need to set non-blocking. Change
gp_stdin.c to use fread/fwrite to be more portable. Flush redirected stdout
correctly. Added casts to fix compiler warnings in dxmain.c. Corrected
header dependencies. Fixes SourceForge bug #467787. (dvx-tail.mak [1.5],
macos-mcp.mak [1.3], openvms.mak [1.16], openvms.mmk [1.11], os2.mak [1.19],
unix-aux.mak [1.5], watc.mak [1.16], winlib.mak [1.12]: 2001/10/12 21:37:08
ghostgum)
	- Committing in . Modified Files: gs/src/openvms.mmk OpenVMS needs
target : sources ^ this space is realy needed. Otherwise MMS/MMK chokes on
it!!!! (openvms.mmk [1.12]: 2001/10/15 10:24:21 joukj)
	- When building gsx and gsc, use the GS makefile macro as the shared
library name to link against, not a hard coded gs. (unix-dll.mak [1.6]:
2001/10/17 10:11:23 ghostgum)
	- Removes cheq.ps from list of example files installed.
(unixinst.mak [1.20]: 2001/10/17 19:48:36 raph)
	- Updates icclib to version 2.0, and integrates icclib changes. In
particular, icclib now accesses Ghostscript streams through the clean
icmFile object interface, rather than previous hack. Removes remnants of
previous hack, including gs_stdio.h header file and sread() and swrite()
functions in stream.c. (lib.mak [1.53]: 2001/10/19 21:52:50 raph)
	- Documentation and version number change in preparation for 7.03
release. (version.mak [1.36]: 2001/10/20 08:44:31 raph)
	- Updates default MSVC_VERSION to 6. (msvc32.mak [1.20]: 2001/10/20
08:45:39 raph)

</pre><h2><a name="7.03-Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- Committing in . Modified Files: gs/src/gp_stdia.c
gs/src/openvms.mmk gs/src/ziodevs.c patches for OpenVMS (gp_stdia.c [1.2],
ziodevs.c [1.4]: 2001/09/24 10:47:06 joukj)
	- add missing file descriptor variable to stdin function of
dxmainc.c. Fixes SourceForge bug #465214. (dxmainc.c [1.3]: 2001/09/28
22:04:03 ghostgum)
	- If gtk+ GUI can't be initialised, disable display device. This
allows gsx to be used without an X display. Partial fix for SourceForge bug
#450933. (dxmain.c [1.5]: 2001/10/12 11:10:37 ghostgum)
	- Fixes for stdin as a result of using callouts. Use unbuffered
read, not non-blocking read. Change gp_stdin_read to use file pointer not
handle. Remove gp_stdin_init since we don't need to set non-blocking. Change
gp_stdin.c to use fread/fwrite to be more portable. Flush redirected stdout
correctly. Added casts to fix compiler warnings in dxmain.c. Corrected
header dependencies. Fixes SourceForge bug #467787. (dxmain.c [1.6],
dxmainc.c [1.4], gp_stdia.c [1.3], gp_stdin.c [1.2]: 2001/10/12 21:37:08
ghostgum)
	- Proposed log message: Fix: Callout implementation of %stdin,
%stdout and %stderr now correctly allocates the streams in system memory.
This avoids a crash during garbage collection seen during frequent
open/close of stderr.. Fixes SourceForge bugs #427316, #442477.
(ziodevsc.c [1.3]: 2001/10/15 21:44:42 ghostgum)
	- When using STDIO_IMPLEMENTATION=, call gp_stdin_read with a file
pointer, not a file handle. (ziodevs.c [1.5]: 2001/10/17 21:12:44 ghostgum)
	- Use unbuffered read within gtk+ handler instead of using
non-blocking read. While waiting for stdin, allow gtk main loop to block to
avoid wasting CPU. (dxmain.c [1.7]: 2001/10/20 08:22:05 ghostgum)

</pre><h2><a name="7.03-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- If "distiller" image compression options were changed in the
middle of a file, the parameter list holding them might not be set back to
read mode when using them to compress an image, causing an error. Fixes
SourceForge #464938. (gdevpsdi.c [1.15]: 2001/09/25 22:00:44 lpd)
	- bmp16 and png16 devices now create 4 bit/pixel bitmaps instead of
8. bmp256 and png256 devices now use dci values which match the color
mapping functions. (gdevbmp.c [1.4], gdevpng.c [1.4]: 2001/09/28 22:06:21
ghostgum)
	- Don't omit zero length deltas when stroking so that linecap will
be produced by resulting PS or EPS file. SourceForge bug #466162.
(gdevps.c [1.19]: 2001/09/28 23:18:46 rayjj)
	- Fixes for stdin as a result of using callouts. Use unbuffered
read, not non-blocking read. Change gp_stdin_read to use file pointer not
handle. Remove gp_stdin_init since we don't need to set non-blocking. Change
gp_stdin.c to use fread/fwrite to be more portable. Flush redirected stdout
correctly. Added casts to fix compiler warnings in dxmain.c. Corrected
header dependencies. Fixes SourceForge bug #467787. (gdevsppr.c [1.5]:
2001/10/12 21:37:08 ghostgum)
	- When the display device fails to allocate memory for the bitmap,
set the memory device width and height to zero to prevent drawing on it.
Always call the display_size callback to prevent a lockup in the caller, and
if there is no memory tell the caller that the width and height are zero.
Add some casts to remove compiler warnings. Fixes SourceForge bug #430879.
(gdevdsp.c [1.5]: 2001/10/12 21:41:25 ghostgum)
	- Syncs with hpijs version 0.97, and fixes a documentation bug.
(gdevhpij.c [1.3]: 2001/10/19 04:20:07 raph)

</pre><h2><a name="7.03-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- pdfwrite didn't set the orig_matrix of standard fonts, sometimes
causing re-encoded characters to be written with a width of 0. Bug
introduced by fix for #439474, gdevpdff.c [1.19]. Fixes SourceForge #463400.
(gdevpdff.c [1.22]: 2001/10/05 05:40:41 lpd)
	- pdfwrite allowed AutoRotatePages to override DSC comments rather
than vice versa, and it interpreted "Portrait" in a DSC orientation comment
as "don't rotate" rather than as "rotate if necessary so that width &lt;
height." Fixes SourceForge #467259, although the result is not what the
submitter wanted. (gdevpdf.c [1.38], gdevpdfp.c [1.19], gdevpdfx.h [1.34]:
2001/10/07 05:33:11 lpd)

</pre><h2><a name="7.03-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- Pop the /None key in the SMask processing of the 'gs' in a PDF 1.4
document. Fixes SourceForge bug #459647 for Artifex customer Accusoft.
(lib/pdf_draw.ps [1.35]: 2001/10/05 18:25:16 rayjj)
	- Enhances -dDEBUG for encrypted PDF files to print strings after
decryption. (lib/pdf_sec.ps [1.5]: 2001/10/09 20:17:23 lpd)
	- If LastPage was greater than the number of pages in the document,
a rangecheck was generated. Instead, limit LastPage (silently) to the number
of pages in the document. If FirstPage is past end of document, issue a
warning. Also, if no pages are processed due to FirstPage &gt; LastPage,
give a clear error message. SourceForge bug #470025.
(lib/pdf_main.ps [1.35]: 2001/10/12 07:07:54 rayjj)
	- Changing the hack in PDF font processing, which chooses character
width with encodings where the same character appears more than once. New
code takes width for character code which appears in Differences. Source
Forge bugs #444366, #468389. (lib/pdf_font.ps [1.22]: 2001/10/14 01:28:05
igorm)
	- Fix for #471414. Thanks to Leon Bottou for his excellent analysis
and fix for this problem. Ghostscript was incorrectly handling a PDF shading
dictionary in which the /Function entry contained an array of function
dictionary references. An additonal oforce was required in the array
processing loop. (lib/pdf_draw.ps [1.36]: 2001/10/16 22:20:31 dancoby)
	- Applied two patches reported in
http://www.ghostscript.com/pipermail/gs-code-review/2001-October/001255.html
by Hideyuki Suzuki / hideyuki at sat dot t dot u-tokyo dot ac dot jp.
pdf_font.ps: automatic substitution &amp; transformation of CID-keyed fonts.
pdf_ops.ps: make spacings vertical when WMode is 1. (lib/pdf_font.ps [1.23],
lib/pdf_ops.ps [1.17]: 2001/10/19 16:42:47 masata-y)

</pre><h2><a name="7.03-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- Adds a -dNOCCFONTS switch to disable use of compiled-in fonts.
(lib/gs_ccfnt.ps [1.5], lib/gs_init.ps [1.39]: 2001/10/01 05:25:55 lpd)
	- After removing a compiled font with undefinefont, loading the font
or asking for its resourcestatus left extra information on the stack. Fixes
SourceForge #458818. (lib/gs_res.ps [1.16]: 2001/10/01 05:56:58 lpd)
	- Clean up PostScript files in examples directory to prevent
spurious bug reports caused when running more than a sigle file or running
chess.ps without cheq.ps in the current directory. Thanks to Russell Lang
for cleanup on DSC comment and structure. (examples/alphabet.ps [1.2],
examples/chess.ps [1.2], examples/colorcir.ps [1.2],
examples/doretree.ps [1.2], examples/escher.ps [1.2],
examples/golfer.ps [1.2], examples/grayalph.ps [1.2],
examples/snowflak.ps [1.2], examples/tiger.ps [1.2],
examples/vasarely.ps [1.2], examples/waterfal.ps [1.3]: 2001/10/01 21:28:25
rayjj)
	- Remove this file which was referenced from chess.ps -- now it is
included in chess.ps to prevent errors when cheq.ps could not be located.
(examples/cheq.ps [1.2]: 2001/10/01 21:33:05 rayjj)
	- When using a substitute for an unknown font, add an alias in
FontDirectory under the original requested font name.
(lib/gs_fonts.ps [1.12]: 2001/10/01 21:35:53 rayjj)
	- Undo previous 1.12 update. The PS file that exhibited the problem
was bad as was my testing against Adobe PS behaviour. Substituted fonts are
neither aliased, nor entered in the FontDirectory by Adobe PostScript. Fixes
regression bug with Genoa PS LL3 FTS test 313-01.ps.
(lib/gs_fonts.ps [1.13]: 2001/10/09 18:01:17 rayjj)
	- Fixing inaccurate coding in Type 2 font processing : when
GlobalSubrs absents, old code damages useful information in
charstring_font_refs_s::GlobalSubrs, possibly causing indeterministic error.
(zfont2.c [1.4]: 2001/10/11 17:55:32 igorm)
	- Fix : Making GlobalSubrs to be shared for all descendent fonts
within CFF CID font. 1/2 fix for Source Forge bug #468389 "rangecheck in
type2execchar" (lib/gs_cff.ps [1.10]: 2001/10/12 08:52:14 igorm)
	- Fixes for stdin as a result of using callouts. Use unbuffered
read, not non-blocking read. Change gp_stdin_read to use file pointer not
handle. Remove gp_stdin_init since we don't need to set non-blocking. Change
gp_stdin.c to use fread/fwrite to be more portable. Flush redirected stdout
correctly. Added casts to fix compiler warnings in dxmain.c. Corrected
header dependencies. Fixes SourceForge bug #467787. (dpmain.c [1.5],
dwmainc.c [1.8], idebug.c [1.4], igc.c [1.5], imain.c [1.19]: 2001/10/12
21:37:08 ghostgum)
	- Documentation and version number change in preparation for 7.03
release. (lib/gs_init.ps [1.40]: 2001/10/20 08:44:31 raph)

</pre><h2><a name="7.03-Streams"></a>Streams</h2><pre>

Fixes problems:
	- Updates icclib to version 2.0, and integrates icclib changes. In
particular, icclib now accesses Ghostscript streams through the clean
icmFile object interface, rather than previous hack. Removes remnants of
previous hack, including gs_stdio.h header file and sread() and swrite()
functions in stream.c. (stream.c [1.15]: 2001/10/19 21:52:50 raph)

</pre><h2><a name="7.03-Library"></a>Library</h2><pre>

Fixes problems:
	- Fixes nontermination of triangle subdivision in shading, as
triggered by FTS 446-01.ps. The criterion for whether a triangle spans more
than one pixel was too conservative, as it took the fill adjust into
account. (gxshade4.c [1.6]: 2001/10/01 21:16:47 raph)
	- Correct inverted Decode cases of ImageType 4 color range masks for
the Monochrome single bit per pixel case. Fixes SourceForge bug #462319 for
Artifex customer #671. (gxifast.c [1.4]: 2001/10/06 03:27:57 rayjj)
	- Fix : More error tolerance in type2 charstring interpreter. 2/2
fix for Source Forge bug #468389 "rangecheck in type2execchar". Thanks to L.
Peter Deutsch for participation and for the comment in code.
(gstype2.c [1.10]: 2001/10/12 08:55:24 igorm)
	- Fixes for stdin as a result of using callouts. Use unbuffered
read, not non-blocking read. Change gp_stdin_read to use file pointer not
handle. Remove gp_stdin_init since we don't need to set non-blocking. Change
gp_stdin.c to use fread/fwrite to be more portable. Flush redirected stdout
correctly. Added casts to fix compiler warnings in dxmain.c. Corrected
header dependencies. Fixes SourceForge bug #467787. (gp.h [1.8],
gxclutil.c [1.5], unistd_.h [1.4]: 2001/10/12 21:37:08 ghostgum)
	- Fixes reference counting for PDF 1.4 device filter stack.
Temporary patch to not free PDF 1.4 marking device for images (it was being
freed prematurely). (gdevp14.c [1.4], gsdfilt.c [1.3]: 2001/10/17 17:28:10
raph)
	- Updates icclib to version 2.0, and integrates icclib changes. In
particular, icclib now accesses Ghostscript streams through the clean
icmFile object interface, rather than previous hack. Removes remnants of
previous hack, including gs_stdio.h header file and sread() and swrite()
functions in stream.c. (gsicc.c [1.5], gsicc.h [1.3]: 2001/10/19 21:52:50
raph)
	- Documentation and version number change in preparation for 7.03
release. (gscdef.c [1.15]: 2001/10/20 08:44:31 raph)

</pre><h2><a name="7.03-Other"></a>Other</h2><pre>

Fixes problems:
	- Updates icclib to version 2.0, and integrates icclib changes. In
particular, icclib now accesses Ghostscript streams through the clean
icmFile object interface, rather than previous hack. Removes remnants of
previous hack, including gs_stdio.h header file and sread() and swrite()
functions in stream.c. (gs_stdio.h [1.3], icclib/Licence.txt [1.1],
icclib/NOTES [1.2], icclib/Readme.txt [1.1], icclib/icc.c [1.6],
icclib/icc.h [1.4], icclib/icc9809.h [1.2]: 2001/10/19 21:52:50 raph)

</pre><hr>

<h1><a name="Version7.02"></a>Version 7.02 (2001-09-22)</h1>

<p>
This is a prerelease of Ghostscript, in preparation for a forthcoming
fully tested, supported 7.0x release. We are skipping the 7.01 release
number because that number is now associated with CVS versions.

<p> Major changes include:

<ul>
<li>Compile and portability fixes, including the dreaded time.h
problem that affects up-to-date Linux builds.

<li>Big improvements in stdio, including a new -sstdout= redirect
switch. In addition, reading from stdin uses nonblocking I/O, so the
ugly -_ workaround is no longer necessary.

<li>Substantial pdfwrite improvements.

<li>128-bit encrypted files are now supported.

<li>The usual bug fixes.

</ul>

Release issues that will be fixed before next fully supported version:

<ul>

<li> Update icclib to 2.0.

<li> Update hpijs and Omni glue to latest versions.

<li> Make sure all source files are referenced in Develop.htm.

</ul>

<p>
The following SourceForge bug numbers are currently open:
215256, 219798, 222727, 224863, 226477, 405342, 406285, 406689,
406979, 407342, 411753, 413669, 414947, 414985, 415016, 415142,
415170, 415177, 415526, 416043, 416131, 416830, 418241, 418597,
421057, 422532, 423838, 426274, 427193, 427314, 427316, 427347,
428891, 428973, 430879, 431065, 432040, 432657, 433835, 434277,
434707, 435154, 436099, 436897, 437285, 438679, 438957, 441566,
442477, 443745, 444791, 446344, 446672, 446676, 446035, 447695,
448199, 450271, 450663, 451456, 452155, 452173, 453861, 453969,
457838, 458025, 458261, 458500, 458769, 458775, 458780, 458818,
459645, 459647, 459764, 460292, 462139, 462212, 462221, 462319,
462777, 463123, 463400.

<h3><a name="7.02_Incompatible_changes"></a>Incompatible changes</h3>

<p>
No incompatible changes have been recorded for this version.

<pre>
</pre>


<h2><a name="7.02-Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- Fixes a typo: gs_stable_memory should have been gs_memory_stable.
(doc/Develop.htm [1.41]: 2001/06/17 04:06:05 lpd)
	- The "Incompatible changes" sections for 6.62 and 6.61 were
duplicates of the section for 6.60. (doc/History6.htm [1.28]: 2001/07/28
23:02:56 lpd)

Increments version number after 7.00 release. Also fixes gs_init.ps to
consistently print minor revision number as two digits.
(doc/News.htm [1.86]: 2001/04/17 07:40:12 raph)

Documents the circumstances when no structure descriptor is needed.
(doc/Develop.htm [1.39]: 2001/04/20 19:44:18 lpd)

Adds documentation for the graphics library's implementation of clipping.
(doc/Develop.htm [1.40]: 2001/04/20 20:17:28 lpd)

Make copyright and AFPL license info at the end match other .htm files.
(doc/Humor.htm [1.3]: 2001/04/21 17:14:33 rayjj)

Added entry about confusing error messages. (doc/Issues.htm [1.10]:
2001/04/27 23:41:28 alexcher)

Clarifies the manpage for the ps2pdfwr wrapper script, mentioning the
-dSAFER option and adding a sentence describing the role of this particular
script. (man/ps2pdfwr.1 [1.10]: 2001/05/03 21:07:33 giles)

Adds a 'see also' reference to ps2pdf from the pdf2pdfwr manpage.
(man/ps2pdfwr.1 [1.11]: 2001/05/03 23:54:51 giles)

Restructures the C style guide to explicitly distinguish language
restrictions from purely stylistic issues. (Requested by Artifex engineer.)
(doc/C-style.htm [1.18]: 2001/05/25 00:35:41 lpd)

Updates hpijs driver to version 0.96. (doc/Devices.htm [1.30]: 2001/05/30
23:25:25 raph)

Minor documentation update for HPIJS driver (adds more supported devices).
(doc/Devices.htm [1.31]: 2001/05/30 23:58:44 raph)

updates the bug report for to reflect the public nature of the new bug lists
and tracker. (doc/Bug-form.htm [1.21]: 2001/06/05 02:30:47 giles)

corrects the spelling of Metrowerks CodeWarrior (doc/Bug-info.htm [1.18]:
2001/06/05 02:31:58 giles)

branches: 1.1.2; file COPYING was initially added on branch GS_6_5.
(doc/COPYING [1.1]: 2001/06/05 07:07:35 raph)

Changes release policy to preserve the original filenames of 3rd party
tarballs. (doc/Release.htm [1.38]: 2001/06/06 18:46:23 giles)

This revision allows the MSVC makefiles to work with spaces in the DEVSTUDIO
path. Also if DEVSTUDIO is set to empty then the PATH, LIB, INCLUDE
environment variables are used for building. The MSVC section of Make.htm
was enlarged. (doc/Make.htm [1.32]: 2001/06/12 23:06:19 dancoby)

Adds an explanation of why stable allocators are needed, rather than using
the system VM allocator for all stable objects. (doc/Develop.htm [1.42]:
2001/06/17 04:12:06 lpd)

Adds extern_inline for including inline procedures in header files.
(doc/C-style.htm [1.19]: 2001/06/17 05:09:07 lpd)

Adds and documents an operator &lt;prefix|null&gt; &lt;access_string&gt;
.tempfile &lt;filename&gt; &lt;file&gt; to create and open a temporary file,
using gp_open_scratch_file. (doc/Language.htm [1.32]: 2001/07/15 13:54:17
lpd)

Adds pphs, a utility for printing the Primary Hint Stream of a linearized
PDF file. (doc/Develop.htm [1.43], doc/Psfiles.htm [1.20]: 2001/07/15
16:25:02 lpd)

Adds documentation of the new macos build processes. (doc/Make.htm [1.33]:
2001/07/18 20:17:11 giles)

Makes explicit note of the requirement to update the 'incompatible changes'
section of the documentation with relevant commits.
(doc/Maintain.htm [1.19], doc/News.htm [1.87]: 2001/07/31 03:31:35 giles)

Adds documentation for the 'Fix:' prefix handling in changelog generation.
(doc/Maintain.htm [1.20]: 2001/07/31 08:06:48 giles)

Removes a reference to mailing separate bug fix notices to artifex made
obsolete by the commit announcement mailing list. (doc/Maintain.htm [1.21]:
2001/07/31 20:27:42 giles)

Documentation update : ps2ascii can't handle incremental fonts.
(doc/Issues.htm [1.11]: 2001/08/06 10:24:01 igorm)

Update to 1. add Active-X project suggested by a user. 2. Remove the DSC
processing project (completed). 3. provide minor update to the pswrite
project. 4. Update the ICC profile support project to reflect the partial
support now completed (in 7.00). (doc/Projects.htm [1.31]: 2001/08/17
19:42:49 rayjj)

Adds documentation for the -sPDFPassword command line option for encrypted
pdf files, introduced with the inclusion of pdf_sec.ps. (doc/Use.htm [1.29]:
2001/09/05 22:47:27 giles)

Notes that ps2pdf may cause a limitcheck on PostScript files with
unreasonably large coordinates; suggests using -r as a workaround. Responds
to SourceForge bug #461335. (doc/Ps2pdf.htm [1.30]: 2001/09/14 00:40:04 lpd)

Update documentation to describe how to build and install ghostscript as a
shared object on Unix. Fixes sourceforge bug #444593.
(doc/Install.htm [1.24], doc/Make.htm [1.34]: 2001/09/15 08:04:42 ghostgum)

Speed up reading stdin when using callouts. Add platform-specific functions
for reading stdin, to allow non-blocking reading of stdin if supported.
Fixes Sourceforge bug #416973. (doc/Develop.htm [1.44]: 2001/09/15 08:48:33
ghostgum)

Allow PostScript stdout to be redirected to stderr or a file. This is
required to avoid driver stdout being mixed with PostScript stdout. Options
are -sstdout=filename or -sstdout=%stderr. To reset redirection use
-sstdout=- or -sstdout=%stdout. Fixes Sourceforge bug #222534.
(doc/Use.htm [1.30]: 2001/09/22 07:33:35 ghostgum)

Updates version and date in documentation in preparation for 7.02
pre-release. (doc/API.htm [1.10], doc/Bug-form.htm [1.22],
doc/Bug-info.htm [1.19], doc/C-style.htm [1.20], doc/Commprod.htm [1.14],
doc/Copying.htm [1.12], doc/Current.htm [1.12], doc/DLL.htm [1.14],
doc/Develop.htm [1.45], doc/Devices.htm [1.32], doc/Drivers.htm [1.20],
doc/Fonts.htm [1.21], doc/Helpers.htm [1.16], doc/History1.htm [1.12],
doc/History2.htm [1.12], doc/History3.htm [1.12], doc/History4.htm [1.12],
doc/History5.htm [1.14], doc/History6.htm [1.29], doc/History7.htm [1.2],
doc/Htmstyle.htm [1.17], doc/Install.htm [1.25], doc/Issues.htm [1.12],
doc/Language.htm [1.33], doc/Lib.htm [1.13], doc/Maintain.htm [1.22],
doc/Make.htm [1.35], doc/New-user.htm [1.29], doc/News.htm [1.88],
doc/PUBLIC [1.5], doc/Projects.htm [1.32], doc/Ps-style.htm [1.12],
doc/Ps2epsi.htm [1.14], doc/Ps2pdf.htm [1.31], doc/Psfiles.htm [1.21],
doc/README [1.11], doc/Readme.htm [1.30], doc/Release.htm [1.39],
doc/Source.htm [1.12], doc/Tester.htm [1.13], doc/Unix-lpr.htm [1.12],
doc/Use.htm [1.31], doc/Xfonts.htm [1.12], doc/gs-vms.hlp [1.11],
man/dvipdf.1 [1.9], man/font2c.1 [1.9], man/gs.1 [1.9], man/gslp.1 [1.9],
man/gsnd.1 [1.9], man/pdf2dsc.1 [1.9], man/pdf2ps.1 [1.11],
man/pdfopt.1 [1.9], man/pf2afm.1 [1.9], man/pfbtopfa.1 [1.10],
man/printafm.1 [1.9], man/ps2ascii.1 [1.9], man/ps2epsi.1 [1.9],
man/ps2pdf.1 [1.13], man/ps2pdfwr.1 [1.12], man/ps2ps.1 [1.16],
man/wftopfa.1 [1.9]: 2001/09/22 16:26:21 raph)

</pre><h2><a name="7.02-Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- Removing the dependence of graphic library on PS interpreter.
Source Forge bug #415003. (lib.mak [1.48]: 2001/04/20 09:38:39 igorm)
	- Undoes makefile breakage introduced in previous version (for VMS).
(icclib.mak [1.3], lib.mak [1.50]: 2001/04/24 18:36:55 raph)
	- !ifndef COMPILED_INITS instead of !ifndef COMPILE_INITS Discovered
fixing bug #414985 from anonymous user (msvclib.mak [1.13]: 2001/04/28
00:53:46 alexcher)
	- Optimization for shading fill. The general path filling algorithm
subdivides fill region with trapezoid or rectangle subregions and then
paints each subregion with given color. If the color is shading, each
subregion to be subdivided into areas of constant color. But with radial
shading each area is a high order polygon, being subdivided into smaller
subregions, so as total number of subregions grows huge. Faster processing
is done here by changing the order of subdivision cycles : we first
subdivide the shading into areas of constant color, then apply the general
path filling algorithm (i.e. subdivide each area into trapezoids or
rectangles), using the filling path as clip mask. Source Forge bug #414022.
(lib.mak [1.51]: 2001/05/10 18:36:40 igorm)
	- Adobe PhotoShop 5+ duotone code assumes that setcolor operator
calls tint transform function if source colors don't make a subset of device
colors. Bug #224056, Customer #150 (int.mak [1.47]: 2001/06/07 14:48:24
alexcher)
	- index.html and gs.css weren't being copied to the installed
documentation directory. (unixinst.mak [1.19]: 2001/07/25 21:10:39 giles)
	- define previously undefined make variables. DISPLAY_DEV in
unix-gcc.mak. gdevdsp_h and gdevdsp2_h in int.mak. Add missing iref.h
dependency for idisp. Bug #415006. (devs.mak [1.46], int.mak [1.48],
unix-gcc.mak [1.22]: 2001/08/01 08:58:49 ghostgum)
	- Link Linux shared object as position independent code, instead of
just compiling the modules as position independent. Adds prefix to shared
object recursive make to allow install to a temporary location while
building a distribution. (unix-dll.mak [1.3]: 2001/08/01 09:42:01 ghostgum)
	- allow any value of JVERSION in the platform-specific makefiles to
reduce user confusion over minor version naming. We continue to support only
libjpeg v6*. Sourceforge bugs #457617 and #457838, September 2001.
(jpeg.mak [1.4]: 2001/09/05 21:46:35 giles)
	- Fix for MS-Windows graphics library. Remove references to
interpreter from gp_check_interrupts function in library. Make gslib.c
access gs_stdin not stdin. Correct the build paths for graphics devices. Add
missing graphics devices. (msvc32.mak [1.18], msvclib.mak [1.16],
winlib.mak [1.11]: 2001/09/22 07:07:02 ghostgum)
	- Prevent memory corruption when reading %statementedit. Allocate
lineedit buffer in correct memory space. Line being assembled is stored in a
PostScript string during callouts, so prevent zfilelineedit from reading
more than max_string_size bytes. Allocate extra space for trailing new-line
for statementedit, rather than fiddling the string length which broke when
sreadline reallocated the string. (int.mak [1.50]: 2001/09/22 07:26:45
ghostgum)
	- pdfwrite failed to recognize several of the standard screen spot
functions: Ellipse, Round, and Diamond weren't implemented, and several of
the others didn't match the PostScript implementation because of
float/double discrepancies. Also, pdfwrite wrote out halftone screens using
the adjusted ("actual") frequency and angle values rather than the requested
values. Fixes SourceForge #446676. (devs.mak [1.47]: 2001/09/22 16:27:04
lpd)

Increments version number after 7.00 release. Also fixes gs_init.ps to
consistently print minor revision number as two digits. (version.mak [1.34]:
2001/04/17 07:40:12 raph)

Committing in . Modified Files: gs/icclib/icc.c gs/src/gdevpdf.c
gs/src/gp_vms.c gs/src/gsnogc.c gs/src/icclib.mak gs/src/openvms.mmk
gs/src/x_.h Added Files: gs/src/vms_x_fix.h Patches for OpenVMS
(icclib.mak [1.2], openvms.mmk [1.7]: 2001/04/20 09:56:22 joukj)

Committing in . Modified Files: gs/src/lib.mak Patch for OpenVMS (little
delayed since it was merged first with another commit) (lib.mak [1.49]:
2001/04/20 10:39:44 joukj)

Committing in . Modified Files: gs/src/gdevpdf.c gs/src/imainarg.c
gs/src/openvms.mmk Merged in some patches by Rick Dyson, which affect
compilation on VMS only. (openvms.mmk [1.8]: 2001/04/25 08:19:41 joukj)

Committing in . Modified Files: gs/src/openvms.mak bringing openvms.mak in
sync. with new features( Icclib etc.) and with new compile strategy with
long variable names( as in openvms.mmk) Patch from Rick Dyson.
(openvms.mak [1.12]: 2001/04/25 13:24:20 joukj)

Changes gp_open_scratch_file() to use mkstemp() rather than mktemp() on gcc
builds, which avoids warnings. Adds CAPOPT variable to unix-gcc.mak to
select which function is used, so that builds will still succeed on systems
that don't have mkstemp(). (unix-gcc.mak [1.20]: 2001/05/07 19:05:46
jackiem)

Committing in . Modified Files: gs/src/openvms.mmk Enabling mkstemp on VMS.
(openvms.mmk [1.9]: 2001/05/08 12:28:38 joukj)

This file is a new utility intended for debug. It is not yet ready for prime
time, but is available for whoever wants to fix it. The main problems are:
1. It doesn't work for files that use chained filters such as [
/ASCII85Decode /FlateDecode ] 2. The PDF files that are written are
sometimes broken. GS gets an xref problem. This second problem may actually
due to lib/pdfwrite.ps since even when no conversion is done, the file is
bad. (toolbin/pdfinflt.ps [1.1]: 2001/05/31 04:54:51 rayjj)

branches: 1.1.2; file gnudevs.mak was initially added on branch GS_6_5.
(gnudevs.mak [1.1]: 2001/06/05 07:07:37 raph)

removes unnessary whitespace, which was breaking tmake.tcl. Part of
sourceforge bug #415170, 2001 April 10. (libpng.mak [1.7]: 2001/06/07
22:01:16 giles)

This revision allows the MSVC makefiles to work with spaces in the DEVSTUDIO
path. Also if DEVSTUDIO is set to empty then the PATH, LIB, INCLUDE
environment variables are used for building. The MSVC section of Make.htm
was enlarged. (msvc32.mak [1.16], msvccmd.mak [1.6], msvclib.mak [1.14],
msvctail.mak [1.6]: 2001/06/12 23:06:19 dancoby)

updates makefiles to use version 1.0.12 of the png library.
(all-arch.mak [1.9], bcwin32.mak [1.11], dvx-gcc.mak [1.11],
libpng.mak [1.8], msvc32.mak [1.17], msvclib.mak [1.15], openvms.mak [1.13],
os2.mak [1.17], ugcclib.mak [1.13], unix-gcc.mak [1.21],
unixansi.mak [1.15], unixtrad.mak [1.15], watc.mak [1.13],
watclib.mak [1.13], watcw32.mak [1.12]: 2001/07/10 01:39:57 giles)

drops support for libpng v0.89 and streamlines the library makefile.
(libpng.mak [1.9]: 2001/07/10 02:07:08 giles)

minor comment cleanup (libpng.mak [1.10]: 2001/07/10 03:14:33 giles)

branches: 1.1.2; Adds the makefile and script for the new macos build method
(macos-mcp.mak [1.1]: 2001/07/18 20:28:57 giles)

To reduce redraw flicker, do not allow Windows to erase the background since
we paint it ourselves. Paint areas outside the page with the window
background colour or light grey. Save and restore window size using
registry. Add "Paste" to system menu of text window. Make error message box
a child of text window to avoid it appearing behind the text window. To
allow user to read the error message, the text window is not automatically
destroyed in the event of an error. The user must close text window using
close button or system menu. If text window closed, return e_Fatal to poll
function to provide a cleaner exit without a stack dump. (winint.mak [1.8]:
2001/08/01 09:50:36 ghostgum)

Uses lynx instead of netscape to generate text versions of important
documentation files. (toolbin/pre [1.11]: 2001/08/18 02:50:09 giles)

Adds a C implementation of the Arcfour encryption filter. This is a
work-alike of the RC4 cipher used in PDF encryption. (int.mak [1.49],
lib.mak [1.52]: 2001/09/02 06:16:41 giles)

The Unix shared object loader 'gsx' depends on Gtk+ which causes it to fail
in an environment where X11 and Gtk+ are not available. Add a console only
loader 'gsc' which does not depend on X11 or Gtk+. This does not support the
'display' device. Fixes sourceforge bug #450933. (unix-dll.mak [1.4]:
2001/09/15 08:10:33 ghostgum)

Speed up reading stdin when using callouts. Add platform-specific functions
for reading stdin, to allow non-blocking reading of stdin if supported.
Fixes Sourceforge bug #416973. (dvx-tail.mak [1.4], macos-mcp.mak [1.2],
openvms.mak [1.14], os2.mak [1.18], unix-aux.mak [1.4], watc.mak [1.14],
winlib.mak [1.10]: 2001/09/15 08:48:33 ghostgum)

Change all interpreter builds to use callouts for stdio. Ghostscript library
builds still use file based stdio. (bcwin32.mak [1.12], dvx-gcc.mak [1.12],
gs.mak [1.5], openvms.mak [1.15], unix-gcc.mak [1.23], unixansi.mak [1.16],
unixtrad.mak [1.16], watc.mak [1.15], watcw32.mak [1.13]: 2001/09/15
08:55:32 ghostgum)

Correct makefile dependency for gsx/dxmainc.c. (unix-dll.mak [1.5]:
2001/09/22 07:21:00 ghostgum)

Add the needed object files when building Windows large executable.
(msvc32.mak [1.19]: 2001/09/22 07:24:33 ghostgum)

Updates version and date in documentation in preparation for 7.02
pre-release. (version.mak [1.35]: 2001/09/22 16:26:22 raph)

</pre><h2><a name="7.02-Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- null object was converted to -nostringval- Discovered during the
work on pdfopt. (lib/pdfwrite.ps [1.4]: 2001/04/28 01:01:38 alexcher)
	- On Windows GS enumerated "." and ".." as external resources and
failed with /invalidresource trying to load them later. (gp_ntfs.c [1.5]:
2001/05/04 20:27:40 alexcher)
	- pass #xx escaped characters in names through and fix the escape
logic to prevent a /typecheck in add. (lib/pdfwrite.ps [1.5]: 2001/05/31
04:38:42 rayjj)
	- Many scripts for invoking Ghostscript-based utilities didn't
properly handle file names that included spaces. Unix and DOS/Windows/OS/2
scripts required different fixes. (lib/dvipdf [1.2], lib/eps2eps [1.3],
lib/eps2eps.bat [1.5], lib/gssetgs.bat [1.3], lib/pdf2dsc.bat [1.2],
lib/pdf2ps [1.4], lib/pdf2ps.bat [1.5], lib/pdfopt [1.3],
lib/pdfopt.bat [1.3], lib/pf2afm.bat [1.3], lib/pfbtopfa [1.3],
lib/ps2ascii [1.3], lib/ps2epsi [1.7], lib/ps2epsi.bat [1.6],
lib/ps2epsi.cmd [1.3], lib/ps2pdf.bat [1.6], lib/ps2pdf12.bat [1.5],
lib/ps2pdf13.bat [1.5], lib/ps2pdf14.bat [1.2], lib/ps2pdfwr [1.6],
lib/ps2pdfxx.bat [1.10], lib/ps2ps [1.3], lib/ps2ps.bat [1.4]: 2001/06/22
16:09:22 lpd)
	- pdfopt gave an error if the input file had PageMode = /UseOutlines
but lacked an Outlines tree. Fixes SourceForge bug #410371.
(lib/pdfopt.ps [1.5]: 2001/07/01 07:16:28 lpd)
	- The first pass of pdfopt always estimated the size of the primary
hint stream as 0, which occasionally caused the second-pass fixup to fail.
Fixes SourceForge bug #409887. (lib/pdfopt.ps [1.7]: 2001/07/01 07:23:36
lpd)
	- If the OpenAction of a document referred to a Page object, pdfopt
would try to include the page in the "document-level objects" section of the
output, causing a rangecheck error. Fixes SourceForge bug #437724. Also adds
more tracing to pdfopt (with -dPDEBUG). (lib/pdfopt.ps [1.8]: 2001/07/02
15:50:19 lpd)
	- gp_open_scratch_file concatenated the temporary directory name
with the prefix even if the prefix was an absolute path; also, it didn't
check the length of the final file name, possibly leading to memory
corruption. (gp_iwatc.c [1.6], gp_mswin.c [1.6], gp_os2.c [1.10],
gp_vms.c [1.7]: 2001/07/15 13:57:50 lpd)
	- glyphshow procedure in ps2ascii lacks a pop in the for loop. Patch
from Leon Bottou. Source Forge bug #443361. (lib/ps2ascii.ps [1.3]:
2001/07/22 20:43:32 igorm)
	- pdfopt was broken because SAFER prevented it from opening its
output and temporary files, and from deleting its temporary files. Note:
this fix requires the .tempfile operator added in src/zfile.c [1.9].
(lib/pdfopt [1.4], lib/pdfopt.bat [1.4], lib/pdfopt.ps [1.9]: 2001/07/23
06:57:27 lpd)
	- Running font2c on any of the 35 standard fonts caused an
invalidaccess error if gs was built with compiled fonts (ccfonts.dev
"feature"). Fixes SourceForge #458816. (lib/font2c.ps [1.3]: 2001/09/13
23:16:29 lpd)
	- Fix for MS-Windows graphics library. Remove references to
interpreter from gp_check_interrupts function in library. Make gslib.c
access gs_stdin not stdin. Correct the build paths for graphics devices. Add
missing graphics devices. (gp_mslib.c [1.3], gp_mspol.c [1.1],
gp_mswin.c [1.7]: 2001/09/22 07:07:02 ghostgum)

Committing in . Modified Files: gs/icclib/icc.c gs/src/gdevpdf.c
gs/src/gp_vms.c gs/src/gsnogc.c gs/src/icclib.mak gs/src/openvms.mmk
gs/src/x_.h Added Files: gs/src/vms_x_fix.h Patches for OpenVMS
(gp_vms.c [1.6]: 2001/04/20 09:56:22 joukj)

branches: 1.1.2; file gp_gnrdl.c was initially added on branch GS_6_5.
(gp_gnrdl.c [1.1]: 2001/06/05 07:07:37 raph)

Change ps2pdfxx.bat to use lowercase output file extension to be consistent
with other platforms. This closes sourceforge bug #430129.
(lib/ps2pdfxx.bat [1.9]: 2001/06/15 05:32:56 jackiem)

Adds more tracing output to pdfopt with -dPDEBUG. (lib/pdfopt.ps [1.6]:
2001/07/01 07:20:30 lpd)

Adds more tracing (with -dPDEBUG) to lib/pdfwrite.ps, used by pdfopt.
(lib/pdfwrite.ps [1.6]: 2001/07/02 15:46:05 lpd)

Adds pphs, a utility for printing the Primary Hint Stream of a linearized
PDF file. (lib/pphs [1.1], lib/pphs.ps [1.1]: 2001/07/15 16:25:02 lpd)

Re-enables export of the hwnd parameter in the old dll interface. This is
required by macgsview. (gsdll.c [1.5]: 2001/07/18 20:16:24 giles)

Adds initial support for macos. (gp_macio.c [1.1]: 2001/07/18 20:20:50
giles)

branches: 1.1.2; Adds initial support for macos. (gp_mac.c [1.1]: 2001/07/18
20:20:50 giles)

branches: 1.1.2; Adds the makefile and script for the new macos build method
(macgenmcpxml.sh [1.1]: 2001/07/18 20:28:57 giles)

Adds descriptive labels to the output of the utility for printing linearized
PDF data. (lib/pphs.ps [1.2]: 2001/07/19 18:38:45 lpd)

Protect the export of 'hwndtext', required by macgsview, with platform
#ifdefs to avoid conflicts with the win32 dll build. (gsdll.c [1.6]:
2001/07/23 05:25:08 giles)

branches: 1.2.2; corrects line endings in gp_macio.c (gp_macio.c [1.2]:
2001/07/24 22:22:59 giles)

Improves the comments printed with dumps of Linearized PDF hint tables.
(lib/pphs.ps [1.3]: 2001/07/24 22:24:28 lpd)

Changes pdfopt to work around several Acrobat code and documentation bugs,
so that Acrobat now recognizes pdfopt output as "optimized". Fixes
SourceForge #438685. (lib/pdfopt.ps [1.10], lib/pdfwrite.ps [1.7]:
2001/07/30 07:16:32 lpd)

The Unix shared object loader 'gsx' depends on Gtk+ which causes it to fail
in an environment where X11 and Gtk+ are not available. Add a console only
loader 'gsc' which does not depend on X11 or Gtk+. This does not support the
'display' device. Fixes sourceforge bug #450933. (dxmainc.c [1.1]:
2001/09/15 08:10:33 ghostgum)

When using the Unix Gtk+ loader gsx, delay setting the default color map and
visual until the display device is opened. This may allow gsx to be used
when X11 is not available. May fix Sourceforge bug #450933. (dxmain.c [1.4]:
2001/09/15 08:14:21 ghostgum)

Speed up reading stdin when using callouts. Add platform-specific functions
for reading stdin, to allow non-blocking reading of stdin if supported.
Fixes Sourceforge bug #416973. (gp_stdia.c [1.1], gp_stdin.c [1.1],
ziodevs.c [1.3]: 2001/09/15 08:48:34 ghostgum)

Correct the stdin code in dxmainc.c (gsc) to be the same as gp_stdia.c.
(dxmainc.c [1.2]: 2001/09/22 07:16:50 ghostgum)

</pre><h2><a name="7.02-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- Prevent empty or invalid OutputFile values from causing SEGV in
psrgb, psgray and psmono. SourceForge bug #414151. (gdevpsu.c [1.5]:
2001/04/20 02:35:24 rayjj)
	- Corrects incorrect month value in TIFF headers. Need to increment
tm_mon by one to get actual month. Fix from Helge Blischke.
(gdevtifs.c [1.4]: 2001/04/20 06:36:00 rayjj)
	- epswrite now writes each page into separate file, if OutputFile
specifies format. SourceForge bug #228641. (gdevps.c [1.17],
gdevpsim.c [1.5], gdevpsu.c [1.6], gdevpsu.h [1.3]: 2001/05/05 11:04:22
igorm)
	- Writing each page to separate file, epswrite wrote wrong number of
pages to their trailers. (gdevps.c [1.18], gdevpsim.c [1.6],
gdevpsu.c [1.7], gdevpsu.h [1.4]: 2001/05/10 17:41:22 igorm)
	- Removes duplicate rc_decrement_only() in
pdf14_begin_typed_image(), so that the marking device is now deallocated
once. Fixes SourceForge bug #434705. (gdevpnga.c [1.4]: 2001/07/05 23:21:01
raph)

Committing in . Modified Files: gs/icclib/icc.c gs/src/gdevpdf.c
gs/src/gp_vms.c gs/src/gsnogc.c gs/src/icclib.mak gs/src/openvms.mmk
gs/src/x_.h Added Files: gs/src/vms_x_fix.h Patches for OpenVMS (x_.h [1.3]:
2001/04/20 09:56:22 joukj)

branches: 1.2.2; Updates hpijs driver to version 0.96. (gdevhpij.c [1.2],
gdevhpij.h [1.2]: 2001/05/30 23:25:25 raph)

branches: 1.1.2; file defs.h was initially added on branch GS_6_5.
(defs.h [1.1]: 2001/05/31 08:28:49 raph)

branches: 1.1.2; file gomni.c was initially added on branch GS_6_5.
(gomni.c [1.1]: 2001/05/31 08:28:49 raph)

branches: 1.1.2; file gdevln03.c was initially added on branch GS_6_5.
(gdevln03.c [1.1]: 2001/06/05 07:07:37 raph)

branches: 1.1.2; file gdevop4w.c was initially added on branch GS_6_5.
(gdevop4w.c [1.1]: 2001/06/05 07:07:37 raph)

branches: 1.1.2; file gdevxes.c was initially added on branch GS_6_5.
(gdevxes.c [1.1]: 2001/06/05 07:07:37 raph)

Adds knowledge of more paper sizes to PCL driver. Thanks to Jonathan Kamens
for the patch. (gdevpcl.c [1.5], gdevpcl.h [1.5]: 2001/07/15 06:38:38 raph)

branches: 1.1.2; Adds initial support for macos. (gdevmac.c [1.1],
gdevmac.h [1.1], gdevmacpictop.h [1.1], gdevmacttf.h [1.1]: 2001/07/18
20:20:50 giles)

branches: 1.1.2; Adds the remaining macos source files (gdevmacxf.c [1.1]:
2001/07/18 20:27:39 giles)

Added const to all printer device descriptors const gx_device_printer
gs_xxx_device = ... (gdev3852.c [1.3], gdev4081.c [1.3], gdev4693.c [1.3],
gdev8510.c [1.3], gdevadmp.c [1.3], gdevbj10.c [1.4], gdevcif.c [1.3],
gdevcljc.c [1.4], gdevcp50.c [1.3], gdevdjtc.c [1.3], gdevdm24.c [1.3],
gdevepsc.c [1.3], gdevepsn.c [1.3], gdevescp.c [1.3], gdevhl7x.c [1.5],
gdevimgn.c [1.4], gdevlbp8.c [1.3], gdevlj56.c [1.3], gdevmiff.c [1.3],
gdevn533.c [1.3], gdevo182.c [1.3], gdevokii.c [1.3], gdevpjet.c [1.3],
gdevsgi.c [1.2], gdevsnfb.c [1.3], gdevsppr.c [1.4], gdevsunr.c [1.4],
gdevtknk.c [1.3]: 2001/08/01 00:48:23 stefan911)

</pre><h2><a name="7.02-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- Empty pages included a Contents entry whose value was an empty
array: the spec allows this, and AR3 and 4 accept it, but AR5 rejects it.
(gdevpdf.c [1.34]: 2001/06/29 06:52:13 lpd)
	- When tiling with a bitmap, the /Type entry in the Pattern resource
was written twice. (Minor file size problem only, not a functional problem.)
(gdevpdfb.c [1.5]: 2001/06/29 17:04:17 lpd)
	- Some poorly designed PDF tools couldn't handle the fact that the
Contents stream of each page was not surrounded by q/Q. (The PDF spec does
not require this.) Fixes SourceForge bug #231390. (gdevpdfu.c [1.16]:
2001/07/02 18:07:55 lpd)
	- pdfwrite didn't set returned.current_char, so the "current
character" for kshow was 0 or a random value. Fixes SourceForge bug #420933.
(gdevpdfs.c [1.5]: 2001/07/02 19:09:23 lpd)
	- When producing text in a Type 3 (bitmap) font and using TL and '
for Y positioning, emitting a horizontal space character reset
text.use_leading, causing the line to be positioned incorrectly. Fixes
SourceForge bug #427159. (gdevpdft.c [1.33]: 2001/07/04 16:47:33 uid22160)
	- When producing text using a Type 3 (bitmap) font, the TL command
was used (incorrectly) when the new text position was directly below the
current text position, not (correctly) when the new text position was
directly below the beginning of the current text line. Fixes SourceForge bug
#228180. (gdevpdft.c [1.34]: 2001/07/04 18:06:39 uid22160)
	- Scaled fonts with PaintType = 2 (stroked) were painted with
incorrect stroked width. (gdevpdfs.c [1.6]: 2001/07/04 21:57:02 uid22160)
	- pdfwrite generated masked images, a PDF 1.3 feature, even when
CompatibilityLevel &lt; 1.3. Fixes item (2) of SourceForge bug #414104.
(gdevpdfj.c [1.7], gdevpdfv.c [1.6]: 2001/07/07 19:15:51 lpd)
	- pdfwrite could write out a Pattern image too large for Acrobat
Reader to handle, which would then never be referenced. Fixes item (4) of
SourceForge bug #414104. (gdevpdfv.c [1.7]: 2001/07/07 19:41:12 lpd)
	- MSVC requires that a label not be the last thing in a block.
(gdevpdfv.c [1.9]: 2001/07/08 13:46:25 lpd)
	- The algorithm for scaling down user coordinates to fall within
Acrobat Reader's limitations didn't work properly for stroked paths with
anisotropic CTMs, possibly producing large coordinates that led Acrobat (but
not Ghostscript) to display the resulting file incorrectly. Fixes
SourceForge bug #440476. (gdevpdfd.c [1.15], gdevpdfp.c [1.18],
gdevpdfx.h [1.30]: 2001/07/12 03:28:02 lpd)
	- pdfwrite didn't write transfer functions in the output for images,
and allowed lossy compressions on images even in the presence of peculiar
transfer functions (such as functions simulating indexed color spaces). This
fix writes transfer functions for images, prevents lossy compression if the
transfer function is not the identity, and undoes the hack that was
implemented earlier to work around this problem. Fixes SourceForge bug
#420257. (gdevpdf.c [1.35], gdevpdfg.c [1.13], gdevpdfi.c [1.22],
gdevpdfx.h [1.31]: 2001/07/12 05:47:07 lpd)
	- When writing text, the leading offset was sometimes ignored if
blank lines were followed by a non-blank line. Fixes SourceForge bug
#440490. (gdevpdft.c [1.35]: 2001/07/12 19:45:53 lpd)
	- If ConvertCMYKImagesToRGB was true, pdfwrite produced images with
the correct RGB data but with the color space still set to DeviceCMYK. (Fix
originally from Helge Blischke.) (gdevpdfi.c [1.23]: 2001/07/24 04:47:37
lpd)
	- The calculation of a scaling value for stroked paths was
incorrect, causing Inf and NaN values to be written in the PDF file. Fixes
SourceForge #444682. Bug was introduced by the fix for #440476.
(gdevpdfd.c [1.16]: 2001/07/27 22:28:31 lpd)
	- Some error codes were ignored, masking errors in writing embedded
fonts. (gdevpdfe.c [1.10]: 2001/07/31 06:32:42 lpd)
	- ICCBased color spaces were copied to the output even if the output
level was 1.2 (ICCBased color spaces were introduced in PDF 1.3).
(gdevpdfc.c [1.16]: 2001/08/02 20:29:07 lpd)
	- If an image used a color space that couldn't be represented in
PDF, an invalid file was produced, rather than falling back to the default
representation as tiny rectangles. (bug introduced by H. Blischke's color
space fix) (gdevpdfi.c [1.24]: 2001/08/03 16:12:16 lpd)
	- Type 1 fonts that did not use the standard 1000-unit cell, such as
some fonts in PostScript files produced by Windows NT 4.0, were written with
an incorrect FontMatrix. (The output was visually correct, because the font
size was scaled to compensate.) Fixes SourceForge #439474.
(gdevpdff.c [1.19], gdevpdff.h [1.11], gdevpdfs.c [1.7]: 2001/08/06 19:36:01
lpd)
	- If the base 14 fonts were being embedded, they would often be
embedded multiple times. Partially fixes SourceForge #438957.
(gdevpdff.c [1.20]: 2001/08/17 21:27:21 lpd)
	- The descriptors for embedded fonts were recomputed unnecessarily.
Part 1 of a two-part fix for SourceForge #451456. (gdevpdff.c [1.21]:
2001/08/29 19:03:59 lpd)
	- Uncolored Patterns with all bits set (equivalent to a solid color)
crashed pdfwrite. Fixes SourceForge #461330. (gdevpdfv.c [1.10]: 2001/09/15
06:12:29 lpd)
	- pdfwrite failed to recognize several of the standard screen spot
functions: Ellipse, Round, and Diamond weren't implemented, and several of
the others didn't match the PostScript implementation because of
float/double discrepancies. Also, pdfwrite wrote out halftone screens using
the adjusted ("actual") frequency and angle values rather than the requested
values. Fixes SourceForge #446676. (gdevpdfg.c [1.14]: 2001/09/22 16:27:04
lpd)

Committing in . Modified Files: gs/icclib/icc.c gs/src/gdevpdf.c
gs/src/gp_vms.c gs/src/gsnogc.c gs/src/icclib.mak gs/src/openvms.mmk
gs/src/x_.h Added Files: gs/src/vms_x_fix.h Patches for OpenVMS
(gdevpdf.c [1.32]: 2001/04/20 09:56:22 joukj)

Committing in . Modified Files: gs/src/gdevpdf.c gs/src/imainarg.c
gs/src/openvms.mmk Merged in some patches by Rick Dyson, which affect
compilation on VMS only. (gdevpdf.c [1.33]: 2001/04/25 08:19:41 joukj)

Changes the locally used BASE_ENCODING macro to an inline procedure
base_encoding_index. (Code hygeine only, no functional effect.)
(gdevpdfs.c [1.4]: 2001/06/29 17:05:35 lpd)

Makes pdfwrite recognize colored Patterns where all the pixels are the same
color, and convert them to uncolored Patterns. This is an important
optimization for files produced by certain applications (the test file came
from Freehand on the Mac). Fixes item (3) of SourceForge bug #414104.
(gdevpdfv.c [1.8]: 2001/07/08 04:27:48 lpd)

Capitalizes a macro, and replaces two other macros with variables.
(gdevpdfm.c [1.12]: 2001/07/15 22:53:23 lpd)

Interprets bookmarks (/OUT pdfmarks) lacking both Action and Dest keys as a
GoTo to the current page, to match Acrobat Distiller. SourceForge bug
(enhancement) #442111. (gdevpdfm.c [1.13]: 2001/07/24 22:28:42 lpd)

Changes pdfwrite to produce MediaBox values with up to 2 digits of decimal
fraction, rather than truncating to integers. SourceForge enhancement
request #440782. (gdevpdf.c [1.36], gdevpdfx.h [1.32]: 2001/07/25 23:16:44
lpd)

Changes the writing of Type 3 character bitmaps to use Decode in the image
dictionary, rather than BlackIs1 in the parameter dictionary, to invert the
data, because it takes slightly less space on the file. (gdevpdfb.c [1.6]:
2001/07/29 02:21:43 lpd)

Shrinks PDF output slightly by removing unnecessary spaces.
(gdevpdfo.c [1.8]: 2001/07/29 03:00:45 lpd)

Writes only the necessary Encoding entries for Type 3 bitmap fonts, rather
than always writing all 256 entries. Motivated by SourceForge #438957.
(gdevpdf.c [1.37], gdevpdft.c [1.36], gdevpdfw.c [1.12], gdevpdfx.h [1.33]:
2001/07/30 15:11:00 lpd)

Added const to all printer device descriptors const gx_device_printer
gs_xxx_device = ... (gdevpdff.c [1.18]: 2001/08/01 00:48:23 stefan911)

Converts all locally defined macros to upper case. (gdevpdfc.c [1.17]:
2001/08/03 06:43:52 lpd)

Shrinks pdfwrite output slightly by omitting the unnecessary space character
before strings and hex strings, as well as before names, arrays, and
dictionaries. (gdevpdfo.c [1.9]: 2001/08/14 02:29:16 lpd)

Committing in . Modified Files: gs/src/gdevpdfm.c gs/src/sarc4.c
gs/src/zcsdevn.c gs/src/zfile.c Some type casts added (gdevpdfm.c [1.14]:
2001/09/04 14:30:13 joukj)

</pre><h2><a name="7.02-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- 5-element DeviceN array (with attributes) messed up the operand
stack and failed. The attributes is an informational entry that can be
safely ignored. Bug #419509, Customer #150. (lib/pdf_draw.ps [1.30]:
2001/04/28 01:45:25 alexcher)
	- PDF files containing strings with codes that map to glyph names
that are not part of the font would error with undefined in --get--.
Substitute the .notdef glyph as Adobe Acrobat Reader apparently does.
(lib/pdf_font.ps [1.19]: 2001/05/12 00:11:42 rayjj)
	- .resolvefn4 used stream length as the length of the decompressed
data, truncated the PostScript procedure and caused syntax error in the
token operator because of the unmatched brackets. Reading directly from the
stream fixes the problem. Bugs #425919 (lib/pdf_draw.ps [1.31]: 2001/05/24
16:48:59 alexcher)
	- The March 1999 PDF 1.3 version of the specification had a change
to make the /FormType key and /Matrix key optional in a Form. While we had
already handled missing /Matrix key, the missing /FormType key was not
accounted for in all cases. Move this to the common DoForm code. Fix for
SourceForge bug #430556, Artifex customer #671. (lib/pdf_draw.ps [1.32]:
2001/06/13 05:30:29 rayjj)
	- Wrong entry name (BaseFont instead CIDFontName) was used while
resolving font resource to CIDFontType2 in PDF interpreter. Source Forge bug
#436892 (lib/pdf_font.ps [1.20]: 2001/07/09 19:27:37 igorm)
	- Workaround a SEGV caused by GC interaction with stderr file.
Needed to complete the fix for #430556, but the stderr bug remains open as
442477. (lib/pdf_main.ps [1.34]: 2001/07/18 20:42:48 rayjj)
	- Detect and load embedded Type1 fonts that are in PFB format (have
the 6 byte PFB header before each segment). Also ignore /Length values in
the streamdict keys that don't match the PFB segnment lengths. Issue warning
messages to stderr for all of these spec violations. SourceForge bug #430556
for Artifex customer #671. VS:
----------------------------------------------------------------------
(lib/pdf_font.ps [1.21]: 2001/07/18 20:45:35 rayjj)
	- This problem was a rangecheck error being reported in
.setindexedspace when the base colorspace was DeviceN. The cause was an
error in determining the number of components in the DeviceN space. This is
the second of two fixes for SF bugs 427165 (customer #1110) and 438682.
(lib/pdf_draw.ps [1.34]: 2001/08/21 23:54:30 dancoby)

Improvement: Prevents PDF files with more than 65534 page from failing due
to the dict size limit. The caches never hit on pages past 65534. Problem
was reported by a potential Artifex customer re their customer's files.
(lib/pdf_main.ps [1.33]: 2001/05/12 17:15:41 rayjj)

This is the fix for [ #427354 ] PDF checkboxes problem. The PDF annotation
handler was not correctly handling cases in which there was no appearance in
the appearance dictionary AP for the current appearance state AS. It should
not display anything in this case. (lib/pdf_draw.ps [1.33]: 2001/06/14
22:25:36 dancoby)

Updates pdf_sec.ps to use the new PDF 1.4 algorithms and 128 bit keylengths.
Rewritten to use C implementations of Arcfour (RC4 compatible cipher) and
MD5. Also fixes bug in processing of zero-length streams.
(lib/pdf_sec.ps [1.4]: 2001/09/19 07:12:13 raph)

</pre><h2><a name="7.02-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- GS didn't exit to shell when it was used with '--' option. The bug
was introduced in revision 1.7 when many references to exit() were replaced
with returns. Bug #416498 by Paul Vojta (imainarg.c [1.11]: 2001/04/19
23:39:39 ghostgum)
	- Removing the dependence of graphic library on PS interpreter.
Source Forge bug #415003. (zcssepr.c [1.8]: 2001/04/20 09:38:39 igorm)
	- Auto-rotation is enabled for non-null orientations. Auto rotation
now always rotates the image +90 degrees relative to the orientation. Bug
#416830 Customer #430 (zmedia2.c [1.3]: 2001/04/26 17:57:41 alexcher)
	- EPS files without a showpage could not be viewed if given as a
command line arg. Extra call to display_set_callback erased the page before
going to the GS&gt; prompt the first time. Only do display_set_callback as
part of init_2. (imain.c [1.13]: 2001/05/04 20:35:33 rayjj)
	- in global mode pdfmark with composite objects causes invalidaccess
because the objects are copied to local memory but the array is copied to
current memory. Now the array is copied to local memory too. Fix from Helge
Blischke with changes. (lib/gs_pdfwr.ps [1.11]: 2001/05/04 20:59:33
alexcher)
	- This IdiomSet replaces 3 procedures generated by Win2K driver in
level 1 mode for RGB source image and DeviceRGB, DeviceCMYK, and DeviceGray
color models. Original implementation uses transfer functions to simulate
the indexed color space. Currently, GS always ignore transfer functions. The
replacement procedure uses indexed color space directly. This Idiom should
really be in a file in the IdiomSet directory of the Resource path, but we
put it here until GS has a way to handle distribution and installation of
Resources. Customer #670, Bug #420257 (lib/gs_ll3.ps [1.9]: 2001/05/08
19:42:13 alexcher)
	- Add all page sizes supported in statusdict to the .pagetypenames
array so that these page sizes can be selected from the command line using
-sPAPERSIZE=... parameter. Also implement the STRICT that limits the
available known paper sizes to those Adobe had defined prior to Level 2 when
'setpagedevice' replaced this mess. SourceForge bug #427898
(lib/gs_statd.ps [1.5]: 2001/05/30 21:14:35 rayjj)
	- Fix for [ #419211 ] .parse_dsc_comments not robust. This change
modifies the DSC parser so that errors in DSC comments do not abort the file
processing. (zdscpars.c [1.11]: 2001/06/06 08:11:20 dancoby)
	- Adobe PhotoShop 5+ duotone code assumes that setcolor operator
calls tint transform function if source colors don't make a subset of device
colors. Bug #224056, Customer #150 (zcolor2.c [1.4]: 2001/06/07 14:48:24
alexcher)
	- When finding a %%Page line in the trailer due to incorrect DSC
comments, the DSC parser now returns CDSC_PAGE only if the parser treats it
as a valid page. Partial fix for SourceForge bug #435157. (dscparse.c [1.6]:
2001/06/23 10:21:24 ghostgum)
	- Fix for [ #435157 ] segmentation fault in dsc_page. Add test for
valid page data before using. (zdscpars.c [1.12]: 2001/06/27 00:25:08
dancoby)
	- Implementing CIDFont.CMap construction with period character (see
Ken Lunde, "CJKV Information Processing," O'RELILLY. 1999. p284) for any
compatible pair of CIDFont &amp; CMap. This feature complies with Adobe
CPSI. Thanks to Masatake Yamato for discovering this feature.
(lib/gs_cidcm.ps [1.5]: 2001/07/01 08:55:34 igorm)
	- Reading a TrueType font with an empty table could cause a
rangecheck error. (lib/gs_ttf.ps [1.9]: 2001/07/08 15:24:11 lpd)
	- pdfwrite didn't write transfer functions in the output for images,
and allowed lossy compressions on images even in the presence of peculiar
transfer functions (such as functions simulating indexed color spaces). This
fix writes transfer functions for images, prevents lossy compression if the
transfer function is not the identity, and undoes the hack that was
implemented earlier to work around this problem. Fixes SourceForge bug
#420257. (lib/gs_ll3.ps [1.10]: 2001/07/12 05:47:07 lpd)
	- zfilelineedit sometimes reallocates (resizes) buffer string
without updating reference to it from o-stack, so as console input after
callout reads undefined data. Fixed with copying new reference to o-stack
whenever it changes. Source Forge bug #437808 (ziodev.c [1.5]: 2001/07/16
08:38:14 igorm)
	- If a 'restore' had to restore page device parameters, it did so
before rather than after restoring the state of VM, possibly creating
dangling references. Fixes SourceForge #230694, #414588, #444565.
(lib/gs_setpd.ps [1.8], zdevice2.c [1.4]: 2001/07/30 07:11:38 lpd)
	- Ignore white space between %%DocumentData: and argument. Fix: Set
dsc-&gt;preview correctly to DOS EPS if both DOS EPS and EPSI previews are
present. Update to latest dscparse.c/h used in GSview. Change dscparse to
mark internal functions "dsc_private" not "private", so it can be compiled
as C++ (needed by GSview, not Ghostscript). (dscparse.c [1.7],
dscparse.h [1.6]: 2001/08/01 09:03:40 ghostgum)
	- Fixing wrong binding of .getmetrics32 with -dNOBIND.
(lib/gs_typ32.ps [1.3]: 2001/08/06 10:19:42 igorm)
	- Old hack about underline parameters in gs_type1.ps now conflicts
with QuarkXPress_4.1 3.0 0 procset. Disabling it for fonts, which have
degenerate FontBBox. Source Forge bug #441870. (lib/gs_type1.ps [1.5]:
2001/08/06 16:47:43 igorm)
	- The problem was a rangecheck error being reported in
.setdevicenspace with PDF files. The cause of the problem was not allowing
multiple copies of the name /None in DeviceN colorant specification. This is
the first of two fixes for SF bugs 427165 (customer #1110) and 438682.
(zcsdevn.c [1.4]: 2001/08/21 23:52:36 dancoby)
	- Work around a bug in the Adobe AGM_Core that results in areas
painted by the tint transform of a spot color being overpainted with white.
The symptom is missing graphics (lines, fills or text). SourceForge bug
#454415 for Artifex customer #190. (lib/gs_init.ps [1.37]: 2001/08/29
21:10:23 rayjj)
	- Fix a bug that the procedure for arraytype in cntdict leaves an
object. (lib/gs_btokn.ps [1.4]: 2001/09/04 22:59:52 masata-y)
	- If MaxLocalVM user parameter is set, perform garbage collection
before checking for potential VMerror. Without this fix, VMerror would be
issued even if a garbage collection would have freed enough memory to stay
below the MaxLocalVM limit. (ireclaim.c [1.3]: 2001/09/05 17:50:36 rayjj)
	- Prevent memory corruption when reading %statementedit. Allocate
lineedit buffer in correct memory space. Line being assembled is stored in a
PostScript string during callouts, so prevent zfilelineedit from reading
more than max_string_size bytes. Allocate extra space for trailing new-line
for statementedit, rather than fiddling the string length which broke when
sreadline reallocated the string. (zfile.c [1.11], ziodev.c [1.6]:
2001/09/22 07:26:46 ghostgum)

Increments version number after 7.00 release. Also fixes gs_init.ps to
consistently print minor revision number as two digits.
(lib/gs_init.ps [1.35]: 2001/04/17 07:40:12 raph)

Committing in . Modified Files: gs/src/gdevpdf.c gs/src/imainarg.c
gs/src/openvms.mmk Merged in some patches by Rick Dyson, which affect
compilation on VMS only. (imainarg.c [1.12]: 2001/04/25 08:19:41 joukj)

Added dot(.) composed font name(CIDFont.CMap) supports.
(lib/gs_cidcm.ps [1.3]: 2001/05/09 09:15:19 masata-y)

In zfilename, a string allocated by ialloc_string is put on the stack with
correct memory space. (zfileio.c [1.11]: 2001/05/09 09:25:24 masata-y)

The show operator doesn't clear the operand stack on interrupts. Source
Forge bug 209350. (zchar.c [1.4]: 2001/05/10 19:15:29 igorm)

Move jpeg_decompress structure enum/reloc handler from interp level to
stream utility level to support non-PostScript clients. (zfdcte.c [1.5]:
2001/05/30 17:38:45 rayjj)

Unwind to the revision 1.2, because CIDFont.CMap patch misses some important
CIDFont-CMap combinations. (lib/gs_cidcm.ps [1.4]: 2001/06/06 10:44:05
igorm)

If an ICC color space failed to load, Acrobat Reader uses the alternate
color space. Previous implementation ignored errors during load and used the
partial ICC space. This change signals an error and uses the alternate space
by catching the error in a stopped context in the interpreter.
(lib/gs_icc.ps [1.2]: 2001/06/12 16:02:39 rayjj)

Patch from Mr. Toshiya Suzuki : Implementing multi-dimensional CID ranges,
and fixing bugs about decoding text string with CID font : (1) when GS
consumes undefined byte sequence (which cannot be mapped to some glyphs), GS
aborts. (2) when selected CID font lacks the glyph for requested CID, GS
aborts. (3) "notdefrange" defines SINGLE CID for undefined byte sequences in
specified range, but current GS implementation take it as an offset to
calculate MULTIPLE CID. (4) "cidrange" operators accept only full range
specification (&lt;0000&gt; to &lt;FFFF&gt;) or 8 bit width range
(&lt;xxyy&gt; to &lt;xxzz&gt;). Source Forge bug #415163.
(lib/gs_cmap.ps [1.11], zfcid0.c [1.7]: 2001/06/16 19:02:31 igorm)

Committing in . Modified Files: gs/src/idisp.c gs/src/imain.c
gs/src/zfileio.c Some minor fixes (2 added includes and 1 type cast) needed
to compile cleanly on OpenVMS. (idisp.c [1.2], imain.c [1.14],
zfileio.c [1.12]: 2001/07/11 12:05:52 joukj)

Adds and documents an operator &lt;prefix|null&gt; &lt;access_string&gt;
.tempfile &lt;filename&gt; &lt;file&gt; to create and open a temporary file,
using gp_open_scratch_file. (zfile.c [1.9]: 2001/07/15 13:54:17 lpd)

Add the local and global vmstatus values to calculate the memory usage of a
resource. (lib/gs_res.ps [1.15]: 2001/07/15 16:13:39 masata-y)

Allows temporary files (created and opened with .tempfile) to be deleted
even if SAFER is set. (lib/gs_init.ps [1.36]: 2001/07/23 06:56:24 lpd)

To reduce redraw flicker, do not allow Windows to erase the background since
we paint it ourselves. Paint areas outside the page with the window
background colour or light grey. Save and restore window size using
registry. Add "Paste" to system menu of text window. Make error message box
a child of text window to avoid it appearing behind the text window. To
allow user to read the error message, the text window is not automatically
destroyed in the event of an error. The user must close text window using
close button or system menu. If text window closed, return e_Fatal to poll
function to provide a cleaner exit without a stack dump. (dwimg.c [1.3],
dwimg.h [1.4], dwmain.c [1.5], dwmainc.c [1.6], dwtext.c [1.4],
dwtext.h [1.4]: 2001/08/01 09:50:36 ghostgum)

Changed debugging flag variables to const. (igc.c [1.4], zvmem.c [1.3]:
2001/08/01 16:21:35 stefan911)

Adds missing dwreg.cpp and dwreg.h files needed by recent Windows updates
which save and restore window size using registry. (dwreg.c [1.1],
dwreg.h [1.1]: 2001/08/02 08:36:07 ghostgum)

Improves documentation of the op_def array elements and removes the obsolete
BEGIN/END_OP_DEFS macros, deprecated since 5.25. (opdef.h [1.3]: 2001/08/28
03:28:08 giles)

Adds a C implementation of the Arcfour encryption filter. This is a
work-alike of the RC4 cipher used in PDF encryption. (zfarc4.c [1.1]:
2001/09/02 06:16:41 giles)

Corrects indenting, and adds another missing header. (zfarc4.c [1.2]:
2001/09/02 07:09:13 giles)

Committing in . Modified Files: gs/src/gdevpdfm.c gs/src/sarc4.c
gs/src/zcsdevn.c gs/src/zfile.c Some type casts added (zcsdevn.c [1.5],
zfile.c [1.10]: 2001/09/04 14:30:13 joukj)

Change to debug output so that when the ptr is totally bogus, some useful
output will be generated before otype-&gt;ssize is dereferenced (which can
cause a memory access crash such as SEGV). No effect on non-debug code.
(ilocate.c [1.4]: 2001/09/06 15:46:13 rayjj)

Move misplaced comment block. (zvmem2.c [1.3]: 2001/09/06 16:01:23 rayjj)

.objectprinttest: do one more pop if the operator is executed without error.
.writeobjects: Before writing the header, check whether the written objects
are arrays or not. If they are arrays, they are left them on the stack. If
they are not arrays, they are removed from the stack.
(lib/gs_btokn.ps [1.5]: 2001/09/15 07:11:00 masata-y)

When using gswin32 (GUI version) and an error occurs or -? is used, do not
display an error message box. Add a message to the text window "Close this
window with the close button on the title bar or the system menu". Flash the
window to attract attention. Fixes sourceforge bug #459019. (dwmain.c [1.6],
dwtext.c [1.5]: 2001/09/15 08:36:53 ghostgum)

Speed up reading stdin when using callouts. Add platform-specific functions
for reading stdin, to allow non-blocking reading of stdin if supported.
Fixes Sourceforge bug #416973. (dpmain.c [1.4], dwmainc.c [1.7],
imain.c [1.15]: 2001/09/15 08:48:33 ghostgum)

When using stdio callouts without callback functions, flush stdout and
stderr. (imain.c [1.16]: 2001/09/15 09:17:10 ghostgum)

Don't initialize stdin if it is being handled by the caller.
(imain.c [1.17]: 2001/09/22 07:22:48 ghostgum)

Allow PostScript stdout to be redirected to stderr or a file. This is
required to avoid driver stdout being mixed with PostScript stdout. Options
are -sstdout=filename or -sstdout=%stderr. To reset redirection use
-sstdout=- or -sstdout=%stdout. Fixes Sourceforge bug #222534.
(imain.c [1.18], imain.h [1.3], imainarg.c [1.13], iminst.h [1.5]:
2001/09/22 07:33:35 ghostgum)

Updates version and date in documentation in preparation for 7.02
pre-release. (lib/gs_init.ps [1.38]: 2001/09/22 16:26:22 raph)

</pre><h2><a name="7.02-Streams"></a>Streams</h2><pre>

Fixes problems:
	- When input stream of an input filter reports EOF, old code reports
EOF for the filter. But if output buffer for the filter is not empty, EOF
status to be delayed until it empties. Source Forge bug #417127.
(stream.c [1.12]: 2001/05/05 10:12:23 igorm)
	- Non-stable memory was used for internal zlib data, causing
inconsistent heap state after 'restore' while zlib is active, and subsequent
crash. Source Forge bug #431057 (szlibc.c [1.3]: 2001/07/16 08:29:46 igorm)
	- Fixes numerous bugs in setting of DCT compression parameters.
Manual setting of parameters such as QFactor should now work. Also
ColorTransform now defaults to YCC instead of RGB color space so the default
quality and compression ratio should improve. Thanks to Dave Slattengren for
the initial version of this fix. (sdcparam.c [1.3], sdcte.c [1.4],
sdeparam.c [1.4]: 2001/09/01 23:54:57 raph)
	- fixes bounds overstepping in arcfour filter in the case where
write buffer space is smaller than read buffer space. (sarc4.c [1.5]:
2001/09/14 20:26:02 raph)

Set file_name.size = 0 when file_name.data is set to 0. (stream.c [1.13]:
2001/05/09 09:42:57 masata-y)

Move jpeg_decompress structure enum/reloc handler from interp level to
stream utility level to support non-PostScript clients. (sdcte.c [1.3]:
2001/05/30 17:38:45 rayjj)

Move jpeg_decompress structure enum/reloc handler from interp level to
stream utility level to support non-PostScript clients. (see also zfdcte.c
and sdcte.c) (sdct.h [1.4]: 2001/06/08 07:08:44 rayjj)

Adds a comment describing the function and return value of sreadbuf.
(stream.c [1.14]: 2001/06/17 04:28:10 lpd)

Adds extern_inline for including inline procedures in header files.
(stdpre.h [1.4]: 2001/06/17 05:09:07 lpd)

These changes were originally put into the GS_6_5 branch on 2001/03/13. They
are needed for using the current version of teh graphics library with the
PCL6 code. Short description of changes: stat_.h: Added definition of
stat_is_dir for use with MSVC. Not used in Ghostscript. gsptype1.c: Changes
in image_PaintProc. This routine is used in gs_makepixmappattern.
gs_makepixmappattern is only used in test8 (in gslib.c - a test module) and
gs_makebitmappattern_xform. gs_makebitmappatern_xform is not used in
Ghostscript. It is used in pcl6. (stat_.h [1.6]: 2001/08/07 22:13:29
dancoby)

Makes the spprint* procedures use sputc rather than sputs for printing
converted values. Speeds up one set of customer ps2pdf conversions by 2.5%.
(spprint.c [1.4]: 2001/08/25 06:59:04 lpd)

Adds a C implementation of the Arcfour encryption filter. This is a
work-alike of the RC4 cipher used in PDF encryption. (sarc4.c [1.1],
sarc4.h [1.1]: 2001/09/02 06:16:41 giles)

adds a missing header file for e_rangecheck. (sarc4.c [1.2]: 2001/09/02
06:27:18 giles)

Corrects indenting, and adds another missing header. (sarc4.c [1.3],
sarc4.h [1.2]: 2001/09/02 07:09:13 giles)

Committing in . Modified Files: gs/src/gdevpdfm.c gs/src/sarc4.c
gs/src/zcsdevn.c gs/src/zfile.c Some type casts added (sarc4.c [1.4]:
2001/09/04 14:30:13 joukj)

</pre><h2><a name="7.02-Library"></a>Library</h2><pre>

Fixes problems:
	- When copying a device, copy the static procs if needed before
calling finish_copydevice, so that the correct finish_copydevice is used.
(gsdevice.c [1.9]: 2001/04/12 08:45:02 ghostgum)
	- Removing the dependence of graphic library on PS interpreter.
Source Forge bug #415003. (gscsepr.c [1.10], gscspace.h [1.7]: 2001/04/20
09:38:38 igorm)
	- Removing the dependence of graphic library on PS interpreter.
Source Forge bug #415003. (gscsepr.c [1.11]: 2001/04/20 10:07:48 igorm)
	- Optimization for shading fill. The general path filling algorithm
subdivides fill region with trapezoid or rectangle subregions and then
paints each subregion with given color. If the color is shading, each
subregion to be subdivided into areas of constant color. But with radial
shading each area is a high order polygon, being subdivided into smaller
subregions, so as total number of subregions grows huge. Faster processing
is done here by changing the order of subdivision cycles : we first
subdivide the shading into areas of constant color, then apply the general
path filling algorithm (i.e. subdivide each area into trapezoids or
rectangles), using the filling path as clip mask. Source Forge bug #414022.
(gsptype2.c [1.5], gsptype2.h [1.3], gxfill.c [1.8]: 2001/05/10 18:35:14
igorm)
	- If the OutputFile name was not NULL terminated, the strcmp would
fail in unpredictable ways. (gsdevice.c [1.10]: 2001/05/12 00:08:36 rayjj)
	- dev_color_eq used wrong number of components for halftones. Source
Forge bug #422534. (gsht1.c [1.3], gxcht.c [1.3]: 2001/05/12 14:51:52 igorm)
	- Current code for /All separations marks all planes in the
alternate color space, not the destination color space. This is wrong, but
gx_concretize_Separation() doesn't have access to the destination device
color space. This fix makes tint value 1 print as black in any alternate
color space. It printed as white in DeviceCMYK before. Bug #423838
(gscsepr.c [1.12]: 2001/05/25 13:54:01 alexcher)
	- Prevent SEGV caused by freeing memory not owned. Variable 'code'
was overwritten, losing the get_outline return code that was needed for the
decision to free the glyph_string.data. Problem detected with PCL. Bug was
introduced in rev 1.10. (gstype42.c [1.12]: 2001/05/31 04:34:23 rayjj)
	- Include &lt;time.h&gt; as required by Debian systems with glibc
2.2. Fixes SourceForge bugs 413747, 417180, 417181, 417182. (time_.h [1.3]:
2001/06/07 21:04:52 raph)
	- FunctionType 4 functions that contained conditionals (if/ifelse)
would report the length of their symbolic definition incorrectly;
FunctionType 4 functions that had to return their symbolic definition in
pieces would loop forever. Fixes SourceForge bug #427191. (gsfunc4.c [1.6]:
2001/07/04 01:23:46 lpd)
	- Changes clip logic in gx_image_cached_char() to affect the imaging
device, so that clipping is reliably effective. Fixes SF bug #433821 (and
probably others). (gxccache.c [1.5]: 2001/07/05 20:36:55 raph)
	- Removes duplicate rc_decrement_only() in
pdf14_begin_typed_image(), so that the marking device is now deallocated
once. Fixes SourceForge bug #434705. (gdevp14.c [1.3]: 2001/07/05 23:21:00
raph)
	- Prevent non-persistent name_arrays of size==0 from causing a
VMerror if alloc of size 0 returns a NULL. Detected with
SeparationColorNames from the PCL code. (gscparam.c [1.7]: 2001/07/06
17:02:25 rayjj)
	- If the FontMatrix of a CFF CIDFont was the default [0.001 0 0
0.001 0 0], it was not written, causing the FontMatrices of the subfonts to
be scaled by 1000. (The Adobe documentation isn't at all clear about this.)
Fixes SourceForge bug #428595. (gdevpsf2.c [1.14]: 2001/07/07 06:28:08 lpd)
	- Before processing an image that uses the current color, call
gs_state_color_load to ensure that if the current color is a pattern, the
pattern is loaded. (This parallels existing code used for filling paths and
processing text.) This prevents a SEGV caused when pdfwrite dereferenced a 0
pointer to pdc-&gt;colors.pattern.p_tile. Fixes SourceForge bug #422089 for
Artifex Customer #1110. (gsimage.c [1.4]: 2001/07/10 22:04:20 lpd)
	- The algorithm for scaling down user coordinates to fall within
Acrobat Reader's limitations didn't work properly for stroked paths with
anisotropic CTMs, possibly producing large coordinates that led Acrobat (but
not Ghostscript) to display the resulting file incorrectly. Fixes
SourceForge bug #440476. (gdevvec.c [1.12], gdevvec.h [1.7]: 2001/07/12
03:28:02 lpd)
	- -sOutputFile=%stdout handling was broken by rev. 1.4 is fixed by
giving priority to iodevices when there is a leading %, but if the iodevice
is not recognized, attempting to parse as a format. Fix for SourceForge bugs
436895 and 428738, Artifex customer #680 (gsdevice.c [1.11]: 2001/07/12
14:10:55 rayjj)
	- gp_open_scratch_file concatenated the temporary directory name
with the prefix even if the prefix was an absolute path; also, it didn't
check the length of the final file name, possibly leading to memory
corruption. (gp_unifs.c [1.6]: 2001/07/15 13:57:50 lpd)
	- An incorrect optimization in the conversion of Type 1 to Type 2
CharStrings could cause character shapes to be mangled. This probably only
affected embedded fonts in PDF output. Fixes SourceForge #444374.
(gdevpsfx.c [1.9]: 2001/07/26 03:04:51 lpd)
	- Acrobat Reader would not accept embedded TrueType fonts with a
zero-length glyf table. Fixes SourceForge #429156. (gdevpsft.c [1.8]:
2001/07/30 07:03:18 lpd)
	- An embedded CFF font could not be larger than 64K. Fixes
SourceForge #445400. (gdevpsf2.c [1.15]: 2001/07/31 06:39:06 lpd)
	- For CIEBasedDEF(G) color spaces the interpolated values from the
Table need to be scaled to the range given by RangeABC. Fixes SourceForge
bug #440278 reported by Artifex customer #10. (gsciemap.c [1.6]: 2001/08/03
15:26:35 rayjj)
	- Correct a problem with white lines appearing in an image at or
near band boundaries. Problem caused by different handling for the last
image pixel at a band boundary versus the remaining pixels. Replaced it with
uniform handling. Fixes SourceForge bug #436899 reported by Artifex customer
#150. Also included are three lines of source code clean up in the same
section. (gxicolor.c [1.3]: 2001/08/06 21:22:31 dancoby)
	- Writing a Type 2 font subset with undefined glyphs in the Encoding
produced invalid output. Fixes SourceForge #451399. (gdevpsf.h [1.10],
gdevpsfu.c [1.7]: 2001/08/16 13:36:37 lpd)
	- The problem was a rangecheck error being reported in
.setdevicenspace with PDF files. The cause of the problem was not allowing
multiple copies of the name /None in DeviceN colorant specification. This is
the first of two fixes for SF bugs 427165 (customer #1110) and 438682.
(gscdevn.c [1.6], gscspace.h [1.8]: 2001/08/21 23:52:36 dancoby)
	- Most of the Type 1 hinting code was executed even when hinting was
disabled. Part 2 of a two-part fix for SourceForge #451456.
(gxhint3.c [1.3]: 2001/08/29 19:04:55 lpd)
	- Quark Xpress turns off garbage collection with -2 vmreclaim when
embedding EPS files which can lead to rampant allocation that is only
reclaimed when GC is reenabled. When the GC is disabled, reduce the
threshold from 2 Gb to 8 Mb. Fixes SourceForge bugs: 444370 and 438676.
(gsalloc.c [1.10]: 2001/09/05 17:54:31 rayjj)
	- Fixes some typos in the comment for FORCE_GC_LIMIT.
(gsalloc.c [1.11]: 2001/09/05 18:03:39 lpd)
	- Copying a parameter list failed to copy persistent aggregates if
the target list used a different allocator from the source list, possibly
causing crashes at 'restore'. Fixes SourceForge #461007. (gsparamx.c [1.4]:
2001/09/14 04:23:11 lpd)
	- The sin and cos operators in Type 4 (PostScript Calculator)
Functions expected their argument in radians, not degrees. (gsfunc4.c [1.7]:
2001/09/17 06:01:12 lpd)
	- Fix for MS-Windows graphics library. Remove references to
interpreter from gp_check_interrupts function in library. Make gslib.c
access gs_stdin not stdin. Correct the build paths for graphics devices. Add
missing graphics devices. (gslib.c [1.5]: 2001/09/22 07:07:02 ghostgum)

Committing in . Modified Files: gs/icclib/icc.c gs/src/gdevpdf.c
gs/src/gp_vms.c gs/src/gsnogc.c gs/src/icclib.mak gs/src/openvms.mmk
gs/src/x_.h Added Files: gs/src/vms_x_fix.h Patches for OpenVMS
(gsnogc.c [1.7]: 2001/04/20 09:56:22 joukj)

Changes gp_open_scratch_file() to use mkstemp() rather than mktemp() on gcc
builds, which avoids warnings. Adds CAPOPT variable to unix-gcc.mak to
select which function is used, so that builds will still succeed on systems
that don't have mkstemp(). (gp_unifs.c [1.5]: 2001/05/07 19:05:46 jackiem)

This fixes a minor omission that prevents ghostscript from building on at
least some platforms. After an #ifndef, a #define isn't done.
(gsptype2.h [1.4]: 2001/05/11 23:12:11 jackiem)

fix: If the ICC profile fails to load completely, or is missing a WhitePoint
a valid default is needed to prevent a divide by zero. The WhitePoint is the
same as the ICC default illuminant, D50. SourceForge bug 432130 for Artifex
customer #150 as well as bug 427156, customers #880 and #1110 and bug
414984. (gsicc.c [1.3]: 2001/06/12 15:32:20 rayjj)

If an ICC color space failed to load, Acrobat Reader uses the alternate
color space. Previous implementation ignored errors during load and used the
partial ICC space. This change signals an error and uses the alternate space
by catching the error in a stopped context in the interpreter.
(gsicc.c [1.4]: 2001/06/12 16:02:39 rayjj)

Patch from Mr. Toshiya Suzuki : Implementing multi-dimensional CID ranges,
and fixing bugs about decoding text string with CID font : (1) when GS
consumes undefined byte sequence (which cannot be mapped to some glyphs), GS
aborts. (2) when selected CID font lacks the glyph for requested CID, GS
aborts. (3) "notdefrange" defines SINGLE CID for undefined byte sequences in
specified range, but current GS implementation take it as an offset to
calculate MULTIPLE CID. (4) "cidrange" operators accept only full range
specification (&lt;0000&gt; to &lt;FFFF&gt;) or 8 bit width range
(&lt;xxyy&gt; to &lt;xxzz&gt;). Source Forge bug #415163. (gdebug.h [1.3],
gsfcmap.c [1.14], gsmisc.c [1.12], gxfcmap.h [1.8]: 2001/06/16 19:02:32
igorm)

Notes that the 'foreign' member of the vm_spaces.memories allocator array is
not used (always zero). (gsgc.h [1.3]: 2001/06/17 04:03:52 lpd)

Makes embedded CFF fonts in PDF files omit the FontBBox if it is [0 0 0 0].
This should only be a minor optimization, but SourceForge bug #428595 claims
that Acrobat Reader cares. (gdevpsf2.c [1.13]: 2001/07/06 05:17:31 lpd)

Changed debugging flag variables to const. (gshtscr.c [1.6],
gsmdebug.h [1.3], gxchar.c [1.5], gxclimag.c [1.3], gxclip.c [1.4]:
2001/08/01 16:21:34 stefan911)

Changed fill patterns for unallocated memory to const (gsmemory.c [1.3]:
2001/08/02 00:12:08 stefan911)

These changes were originally put into the GS_6_5 branch on 2001/03/13. They
are needed for using the current version of teh graphics library with the
PCL6 code. Short description of changes: stat_.h: Added definition of
stat_is_dir for use with MSVC. Not used in Ghostscript. gsptype1.c: Changes
in image_PaintProc. This routine is used in gs_makepixmappattern.
gs_makepixmappattern is only used in test8 (in gslib.c - a test module) and
gs_makebitmappattern_xform. gs_makebitmappatern_xform is not used in
Ghostscript. It is used in pcl6. (gsptype1.c [1.3]: 2001/08/07 22:13:29
dancoby)

Improves documentation for gs_string and gs_bytestring types; adds
gs_free_[const_]bytestring procedures. (gsmemory.c [1.4], gsmemory.h [1.3],
gstypes.h [1.3]: 2001/08/25 06:46:21 lpd)

Speed up reading stdin when using callouts. Add platform-specific functions
for reading stdin, to allow non-blocking reading of stdin if supported.
Fixes Sourceforge bug #416973. (gp.h [1.7], unistd_.h [1.3]: 2001/09/15
08:48:33 ghostgum)

Improves poor performance of shadings in some cases, notably Coons01.ps.
Long, thin triangles are now cut in half, rather than into four smaller
triangles. Thus, the mesh is more regular. (gxshade4.c [1.5]: 2001/09/22
16:15:43 raph)

Updates version and date in documentation in preparation for 7.02
pre-release. (gscdef.c [1.14]: 2001/09/22 16:26:22 raph)

</pre><h2><a name="7.02-Other"></a>Other</h2><pre>

Committing in . Modified Files: gs/icclib/icc.c gs/src/gdevpdf.c
gs/src/gp_vms.c gs/src/gsnogc.c gs/src/icclib.mak gs/src/openvms.mmk
gs/src/x_.h Added Files: gs/src/vms_x_fix.h Patches for OpenVMS
(icclib/icc.c [1.4], vms_x_fix.h [1.1]: 2001/04/20 09:56:22 joukj)

This is the fix for [ #425014 ] Compile error on AIX in icc.c. The control87
is not defined on AIX systems (or probably on anything but x86 systems).
This was suggested by Graeme Gill. (icclib/icc.c [1.5]: 2001/06/06 08:14:14
dancoby)

branches: 1.1.2; Adds initial support for macos. (gp_mac.h [1.1]: 2001/07/18
20:20:50 giles)

branches: 1.1.2; Adds the remaining macos source files (macsysstat.h [1.1],
macsystypes.h [1.1]: 2001/07/18 20:27:39 giles)

Adds generated macos build files to .cvsignore (.cvsignore [1.2]: 2001/07/31
20:03:20 giles)

</pre><hr>

<h1><a name="Version7.00"></a>Version 7.00 (2001-04-08)</h1>

<p>
This is the official 7.0 AFPL Ghostscript release. Most of the changes
since 6.64 are quite minor, with the exception of one fix for ICC
profile support.

<p>
All problems registered on SourceForge numbered 414588 or lower are
closed, except for the following: 209350 215256, 219798, 221582,
222534, 222727, 224056, 224863, 226477, 226584, 227684, 228180,
228641, 230694, 231390, 404255, 404482, 405342, 406285, 406689,
406696, 406979, 407342, 409887, 410371, 411753, 413114, 413669,
413747, 414022, 414104, 414588.

<h3><a name="7.00_Incompatible_changes"></a>Incompatible changes</h3>

<pre>
</pre>

<h2><a name="7.00-Documentation"></a>Documentation</h2><pre>

Updates broken and obsolete offsite links in the documenation.
(doc/Devices.htm [1.28], doc/Fonts.htm [1.18], doc/Language.htm [1.30],
doc/Lib.htm [1.11], doc/Maintain.htm [1.17], doc/Make.htm [1.29],
doc/New-user.htm [1.26], doc/Projects.htm [1.29], doc/Ps2epsi.htm [1.12],
doc/Readme.htm [1.27]: 2001/04/08 04:42:55 giles)

Updates version number and date in preparation for 7.00 release.
(doc/API.htm [1.9], doc/Bug-form.htm [1.20], doc/Bug-info.htm [1.17],
doc/C-style.htm [1.17], doc/Commprod.htm [1.13], doc/Copying.htm [1.11],
doc/Current.htm [1.11], doc/DLL.htm [1.13], doc/Develop.htm [1.38],
doc/Devices.htm [1.29], doc/Drivers.htm [1.19], doc/Fonts.htm [1.19],
doc/Helpers.htm [1.15], doc/History1.htm [1.11], doc/History2.htm [1.11],
doc/History3.htm [1.11], doc/History4.htm [1.11], doc/History5.htm [1.13],
doc/History6.htm [1.27], doc/Htmstyle.htm [1.16], doc/Install.htm [1.22],
doc/Issues.htm [1.9], doc/Language.htm [1.31], doc/Lib.htm [1.12],
doc/Maintain.htm [1.18], doc/Make.htm [1.30], doc/New-user.htm [1.27],
doc/News.htm [1.84], doc/Projects.htm [1.30], doc/Ps-style.htm [1.11],
doc/Ps2epsi.htm [1.13], doc/Ps2pdf.htm [1.29], doc/Psfiles.htm [1.19],
doc/README [1.10], doc/Readme.htm [1.28], doc/Release.htm [1.35],
doc/Source.htm [1.11], doc/Tester.htm [1.12], doc/Unix-lpr.htm [1.11],
doc/Use.htm [1.27], doc/Xfonts.htm [1.11], doc/gs-vms.hlp [1.10],
man/dvipdf.1 [1.8], man/font2c.1 [1.8], man/gs.1 [1.8], man/gslp.1 [1.8],
man/gsnd.1 [1.8], man/pdf2dsc.1 [1.8], man/pdf2ps.1 [1.10],
man/pdfopt.1 [1.8], man/pf2afm.1 [1.8], man/pfbtopfa.1 [1.9],
man/printafm.1 [1.8], man/ps2ascii.1 [1.8], man/ps2epsi.1 [1.8],
man/ps2pdf.1 [1.12], man/ps2pdfwr.1 [1.9], man/ps2ps.1 [1.15],
man/wftopfa.1 [1.8]: 2001/04/09 06:20:01 raph)

</pre><h2><a name="7.00-Procedures"></a>Procedures</h2><pre>

Completes the change of default X directories to /usr/X11R6. Last commit on
this was inadvertently incomplete. (unix-gcc.mak [1.19],
unixansi.mak [1.14]: 2001/04/07 23:34:40 raph)

Updates version number and date in preparation for 7.00 release.
(version.mak [1.33]: 2001/04/09 06:20:03 raph)

</pre><h2><a name="7.00-Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- Correct the Unix executable handing of the display device formats
of 8bit and 24bit per pixel RGB. (dxmain.c [1.3]: 2001/04/08 08:40:29
ghostgum)
	- Ghostscript should return to the caller, not exit. Remove exit()
from gp_do_exit() for all platforms except VMS. (gp_dvx.c [1.4],
gp_iwatc.c [1.5], gp_os9.c [1.4], gp_unix.c [1.5]: 2001/04/08 08:43:24
ghostgum)

</pre><h2><a name="7.00-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- AR4 doesn't like fonts with empty FontBBox which happens when the
font contains only space characters. Small BBox causes AR 4 to display a
hairline. So we use the full BBox. (gdevpdfw.c [1.11]: 2001/04/08 14:12:56
alexcher)

</pre><h2><a name="7.00-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- Ghostscript should return to the caller, not exit. Remove exit()
from gp_do_exit() for all platforms except VMS. (gs.c [1.6]: 2001/04/08
08:43:24 ghostgum)
	- Need a cast to (gs_memory_t *) to prevent errors on some
compliers. Change provided by Nelson H. F. Beebe. (zfdctd.c [1.6]:
2001/04/09 05:15:57 rayjj)
	- Setting an ICC color space now invalidates the joint cache, so
that TransformPQR gets computed. The profile is explicitly loaded so that
the TransformPQR procedures have access to the white point. Also, the
photometric interpretation of the hack for /All separation color spaces is
reversed. Fixes Fixed_Original.pdf from Michael Jahn and Adobe tech note
5002_EPSF_Spec.pdf. (zicc.c [1.2]: 2001/04/09 06:09:58 raph)

Updates version number and date in preparation for 7.00 release.
(lib/gs_init.ps [1.34]: 2001/04/09 06:20:03 raph)

</pre><h2><a name="7.00-Library"></a>Library</h2><pre>

Fixes problems:
	- Setting an ICC color space now invalidates the joint cache, so
that TransformPQR gets computed. The profile is explicitly loaded so that
the TransformPQR procedures have access to the white point. Also, the
photometric interpretation of the hack for /All separation color spaces is
reversed. Fixes Fixed_Original.pdf from Michael Jahn and Adobe tech note
5002_EPSF_Spec.pdf. (gscsepr.c [1.9], gsicc.c [1.2], gsicc.h [1.2]:
2001/04/09 06:09:58 raph)

</pre>

<!-- [2.0 end contents] ==================================================== -->

<!-- [3.0 begin visible trailer] =========================================== -->
<hr>

<p>
<small>Copyright &copy; 2000-2006 Artifex Software, Inc.  All rights reserved.</small>

<p>
This software is provided AS-IS with no warranty, either express or
implied.

This software is distributed under license and may not be copied, modified
or distributed except as expressly authorized under the terms of that
license.  Refer to licensing information at http://www.artifex.com/
or contact Artifex Software, Inc.,  7 Mt. Lassen Drive - Suite A-134,
San Rafael, CA  94903, U.S.A., +1(415)492-9861, for further information.

<p>
<small>Ghostscript version 9.20, 26 September 2016

<!-- [3.0 end visible trailer] ============================================= -->

</body>
</html>
