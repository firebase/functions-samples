<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=us-ascii">
<title>History of Ghostscript versions 6.n</title>
<!--
	WARNING: do not use Pete Kaiser's emacs function "gs-toc" alone to
	re-create the table of contents here, because it will replace the
	hand-edited TOC subheads with a separate subhead for each H2 in
	the body of the file.  Or if you do, first look at the original
	TOC to see how to edit it for visual conciseness.
-->
<link rel="stylesheet" type="text/css" href="gs.css" title="Ghostscript Style">
</head>

<body>
<!-- [1.0 begin visible header] ============================================ -->

<!-- [1.1 begin headline] ================================================== -->

<table width="100%" border="0">
<tr><th align="center" bgcolor="#CCCC00"><font size=6>History of Ghostscript versions 6.n</font>
</table>

<!-- [1.1 end headline] ==================================================== -->

<!-- [1.2 begin table of contents] ========================================= -->

<h2>Table of contents</h2>

<blockquote><ul>
<li><a href="#Version6.64">Version 6.64 (2001-04-07)</a>
<ul>
<li><a href="#6.64_Incompatible_changes">Incompatible changes</a>,
    <a href="#6.64-Documentation">Documentation</a>,
    <a href="#6.64-Procedures">Procedures</a>,
    <a href="#6.64-Utilities">Utilities</a>,
    <a href="#6.64-Drivers">Drivers</a>,
    <a href="#6.64-PDF_writer">PDF writer</a>,
    <a href="#6.64-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#6.64-Interpreter">Interpreter</a>,
    <a href="#6.64-Streams">Streams</a>,
    <a href="#6.64-Library">Library</a>,
    <a href="#6.64-Other">Other</a>
</ul>
<li><a href="#Version6.63">Version 6.63 (2001-03-31)</a>
<ul>
<li><a href="#6.63_Incompatible_changes">Incompatible changes</a>,
    <a href="#6.63-Documentation">Documentation</a>,
    <a href="#6.63-Procedures">Procedures</a>,
    <a href="#6.63-Utilities">Utilities</a>,
    <a href="#6.63-Drivers">Drivers</a>,
    <a href="#6.63-PDF_writer">PDF writer</a>,
    <a href="#6.63-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#6.63-Interpreter">Interpreter</a>,
    <a href="#6.63-Streams">Streams</a>,
    <a href="#6.63-Library">Library</a>
</ul>
<li><a href="#Version6.62">Version 6.62 (2001-03-19)</a>
<ul>
<li><a href="#6.62-Documentation">Documentation</a>,
    <a href="#6.62-Procedures">Procedures</a>,
    <a href="#6.62-Utilities">Utilities</a>,
    <a href="#6.62-Drivers">Drivers</a>,
    <a href="#6.62-PDF_writer">PDF writer</a>,
    <a href="#6.62-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#6.62-Interpreter">Interpreter</a>,
    <a href="#6.62-Streams">Streams</a>,
    <a href="#6.62-Library">Library</a>,
    <a href="#6.62-Other">Other</a>
</ul>
<li><a href="#Version6.61">Version 6.61 (2001-02-21)</a>
<ul>
<li><a href="#6.61-Documentation">Documentation</a>,
    <a href="#6.61-Procedures">Procedures</a>,
    <a href="#6.61-Utilities">Utilities</a>,
    <a href="#6.61-Drivers">Drivers</a>,
    <a href="#6.61-PDF_writer">PDF writer</a>,
    <a href="#6.61-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#6.61-Interpreter">Interpreter</a>,
    <a href="#6.61-Streams">Streams</a>,
    <a href="#6.61-Library">Library</a>,
    <a href="#6.61-Other">Other</a>
</ul>
<li><a href="#Version6.60">Version 6.60 (2000-12-31)</a>
<ul>
<li><a href="#6.60_Incompatible_changes">Incompatible changes</a>,
    <a href="#6.60-Documentation">Documentation</a>,
    <a href="#6.60-Procedures">Procedures</a>,
    <a href="#6.60-Utilities">Utilities</a>,
    <a href="#6.60-Drivers">Drivers</a>,
    <a href="#6.60-PDF_writer">PDF writer</a>,
    <a href="#6.60-PDF_Interpreter">PDF Interpreter</a>,
    <a href="#6.60-Interpreter">Interpreter</a>,
    <a href="#6.60-Streams">Streams</a>,
    <a href="#6.60-Library">Library</a>,
    <a href="#6.60-Other">Other</a>
</ul>
<li><a href="#Version6.30">Version 6.30 (2000-10-03)</a>
<ul>
<li><a href="#6.30_Incompatible_changes">Incompatible changes</a>,
    <a href="#6.30 Documentation">Documentation</a>,
    <a href="#6.30 Procedures">Procedures</a>,
    <a href="#6.30 Utilities">Utilities</a>,
    <a href="#6.30 Drivers">Drivers</a>,
    <a href="#6.30 PDF writer">PDF writer</a>,
    <a href="#6.30 Interpreter (PDF)">Interpreter (PDF)</a>,
    <a href="#6.30 Interpreter">Interpreter</a>,
    <a href="#6.30 Streams">Streams</a>,
    <a href="#6.30 Library">Library</a>,
    <a href="#6.30 ???Other???">???Other???</a>
</ul>
<li><a href="#Version6.23">Version 6.23 (2000-08-07)</a>
<ul>
<li><a href="#6.23_Incompatible_changes">Incompatible changes</a>,
    <a href="#6.23 Documentation">Documentation</a>,
    <a href="#6.23 Procedures">Procedures</a>,
    <a href="#6.23 Utilities">Utilities</a>,
    <a href="#6.23 Drivers">Drivers</a>,
    <a href="#6.23 PDF writer">PDF writer</a>,
    <a href="#6.23 Interpreter (PDF)">Interpreter (PDF)</a>,
    <a href="#6.23 Interpreter">Interpreter</a>,
    <a href="#6.23 Library">Library</a>
</ul>
<li><a href="#Version6.22">Version 6.22 (2000-07-05)</a>
<ul>
<li><a href="#6.22_Incompatible_changes">Incompatible changes</a>,
    <a href="#6.22 Documentation">Documentation</a>,
    <a href="#6.22 Procedures">Procedures</a>,
    <a href="#6.22 Utilities">Utilities</a>,
    <a href="#6.22 Drivers">Drivers</a>,
    <a href="#6.22 PDF writer">PDF writer</a>,
    <a href="#6.22 Interpreter (PDF)">Interpreter (PDF)</a>,
    <a href="#6.22 Interpreter">Interpreter</a>,
    <a href="#6.22 Streams">Streams</a>,
    <a href="#6.22 Library">Library</a>
</ul>
<li><a href="#Version6.21">Version 6.21 (2000-04-28)</a>
<ul>
<li><a href="#6.21_Incompatible_changes">Incompatible changes</a>,
    <a href="#6.21 Documentation">Documentation</a>,
    <a href="#6.21 Procedures">Procedures</a>,
    <a href="#6.21 Utilities">Utilities</a>,
    <a href="#6.21 Drivers">Drivers</a>,
    <a href="#6.21 PDF writer">PDF writer</a>,
    <a href="#6.21 Interpreter (PDF)">Interpreter (PDF)</a>,
    <a href="#6.21 Interpreter">Interpreter</a>,
    <a href="#6.21 Streams">Streams</a>,
    <a href="#6.21 Library">Library</a>
</ul>
<li><a href="#Version6.20">Version 6.20 (2000-04-06)</a>
<ul>
<li><a href="#6.20_Incompatible_changes">Incompatible changes</a>,
    <a href="#6.20 Documentation">Documentation</a>,
    <a href="#6.20 Procedures">Procedures</a>,
    <a href="#6.20 Utilities">Utilities</a>,
    <a href="#6.20 Drivers">Drivers</a>,
    <a href="#6.20 PDF writer">PDF writer</a>,
    <a href="#6.20 Interpreter (PDF)">Interpreter (PDF)</a>,
    <a href="#6.20 Interpreter">Interpreter</a>,
    <a href="#6.20 Streams">Streams</a>,
    <a href="#6.20 Library">Library</a>
</ul>
<li>(Versions 6.02 - 6.19 deliberately omitted.)
<li><a href="#Version6.01">Version 6.01 (2000-03-17)</a>
<ul>
<li><a href="#6.01_Incompatible_changes">Incompatible changes</a>,
    <a href="#6.01 Documentation">Documentation</a>,
    <a href="#6.01 Procedures">Procedures</a>,
    <a href="#6.01 Utilities">Utilities</a>,
    <a href="#6.01 Drivers">Drivers</a>,
    <a href="#6.01 PDF writer">PDF writer</a>,
    <a href="#6.01 Interpreter (PDF)">Interpreter (PDF)</a>,
    <a href="#6.01 Interpreter">Interpreter</a>,
    <a href="#6.01 Streams">Streams</a>,
    <a href="#6.01 Library">Library</a>
</ul>
<li><a href="#Version6.0">Version 6.0 (2000-02-03)</a>
<ul>
<li><a href="#6.0_Documentation">Documentation</a>,
    <a href="#6.0_Procedures">Procedures</a>,
    <a href="#6.0_Utilities">Utilities</a>,
    <a href="#6.0_Drivers">Drivers</a>,
    <a href="#6.0_Platforms">Platforms</a>,
    <a href="#6.0_Fonts">Fonts</a>,
    <a href="#6.0_PDF_writer">PDF writer</a>,
    <a href="#6.0_Interpreter_PDF">Interpreter (PDF)</a>,
    <a href="#6.0_Interpreter">Interpreter</a>,
    <a href="#6.0_Streams">Streams</a>,
    <a href="#6.0_Library">Library</a>
</ul>
</ul></blockquote>

<!-- [1.2 end table of contents] =========================================== -->

<!-- [1.3 begin hint] ====================================================== -->

<p>
This document is a record of changes in Ghostscript releases numbered 6.n.
For earlier versions, see the the history documents:

<blockquote>
<a href="History5.htm">History of Ghostscript versions 5.n</a><br>
<a href="History4.htm">History of Ghostscript versions 4.n</a><br>
<a href="History3.htm">History of Ghostscript versions 3.n</a><br>
<a href="History2.htm">History of Ghostscript versions 2.n</a><br>
<a href="History1.htm">History of Ghostscript versions 1.n</a>
</blockquote>

<p>For other information, see the <a href="Readme.htm">Ghostscript
overview</a>.

<!-- [1.3 end hint] ======================================================== -->

<hr>

<!-- [1.0 end visible header] ============================================== -->

<!-- [2.0 begin contents] ================================================== -->

<p>
Within each release, news appears in the following order: Incompatible
changes, Documentation, Procedures, Utilities, Drivers, Platforms, Fonts,
PDF writer (included under Drivers through fileset 5.88), Interpreter,
Streams (included under Interpreter through release 2.9.9), Library.
Changes marked with a * were made available as patches to a previous
release.

<hr>

<h1><a name="Version6.64"></a>Version 6.64 (2001-04-07)</h1>

<p>
This is probably the last beta release before 7.0. Most of the patches
since last time are bug and portability fixes.

<p>
All problems registered on SourceForge numbered 414104 or lower are
closed, except for the following: 209350, 215256, 219798, 221582,
222534, 222727, 224056, 224863, 226477, 226584, 227684, 227709,
228180, 228641, 230694, 231390, 404255, 404482, 405342, 406285,
406689, 406696, 406979, 407342, 409887, 410371, 411753, 413114,
413669, 413747, 414022, 414104.

<h3><a name="6.64_Incompatible_changes"></a>Incompatible changes</h3>

<pre>
(Library)
	- The gs_logical_operation_t type now has a bit indicating
PDF 1.4 transparency.
(Build process)
	- The default directories for XLIBDIR and XINCLUDE now point
to /usr/X11R6. 


</pre><h2><a name="6.64-Documentation"></a>Documentation</h2><pre>

1. Removing the article "Minor Bugs. kshow doesn't restore currentfont after
running proc." due to fixed. 2. Adding article "Buffering in input filters"
to "Differences from Adobe Implementation". (doc/Issues.htm [1.6]:
2001/04/03 15:53:01 igorm)

Updates Glenn Ramsey's email address in the Epson 300 documentation.
(doc/Devices.htm [1.24]: 2001/04/04 04:25:00 raph)

Adds request for code-review submissions to identify intended branches.
(doc/Maintain.htm [1.14]: 2001/04/04 07:22:48 raph)

Move SourceForge bug #226943 to the "Other implementation" section of this
document. The %ram% device has never been a user or customer issue, but it
might be handy to have. (doc/Projects.htm [1.27]: 2001/04/04 16:36:36 rayjj)

Updates to documentation. Location of main ftp site is now
ftp://mirror.cs.wisc.edu/pub/mirrors/ghost. Correct some links to the
www.cs.wisc.edu web site. Remove the statement that the Inprise compiler is
used for Windows distribution archives. (doc/Bug-info.htm [1.14],
doc/Fonts.htm [1.16], doc/Install.htm [1.20], doc/Make.htm [1.26],
doc/New-user.htm [1.23], doc/Release.htm [1.32], doc/Tester.htm [1.10]:
2001/04/05 08:49:57 ghostgum)

Adds issues from SourceForge bug numbers: 232334, 233403, 406643. Also adds
missing bug ID for #228808. (doc/Issues.htm [1.7]: 2001/04/05 14:44:39
rayjj)

Various documenation fixups. Removes pointer to external pdf_sec.ps now that
the full implementation is in our distribution. Adds note on the
class="offset" attribute to the html style guidelines. (doc/API.htm [1.5],
doc/Bug-form.htm [1.18], doc/Htmstyle.htm [1.13], doc/New-user.htm [1.24],
doc/Psfiles.htm [1.17], doc/Readme.htm [1.25]: 2001/04/06 11:27:00 giles)

Uses better test for avoiding crash on "gs -h". Also updates API document.
Thanks to Russell Lang. (doc/API.htm [1.6]: 2001/04/07 00:08:08 raph)

adds a last few doc fixups before the 6.64 beta release.
(doc/Bug-info.htm [1.15], doc/C-style.htm [1.15], doc/Htmstyle.htm [1.14]:
2001/04/07 00:15:02 giles)

Integrates patch from hpijs 0.94 so that Ghostscript can use hpijs drivers.
(doc/Devices.htm [1.25]: 2001/04/07 00:33:29 raph)

Corrections to interpreter API documentation. If "gs -h" executed,
gsapi_exit() must be called next. Assign copyright to artofcode LLC.
(doc/API.htm [1.7]: 2001/04/07 01:17:50 ghostgum)

Updates version number and date in preparation for 6.64 release. Updates
Develop.htm to accurately list source files. (doc/API.htm [1.8],
doc/Bug-form.htm [1.19], doc/Bug-info.htm [1.16], doc/C-style.htm [1.16],
doc/Commprod.htm [1.12], doc/Copying.htm [1.10], doc/Current.htm [1.10],
doc/DLL.htm [1.12], doc/Develop.htm [1.36], doc/Devices.htm [1.26],
doc/Drivers.htm [1.18], doc/Fonts.htm [1.17], doc/Helpers.htm [1.14],
doc/History1.htm [1.10], doc/History2.htm [1.10], doc/History3.htm [1.10],
doc/History4.htm [1.10], doc/History5.htm [1.12], doc/History6.htm [1.25],
doc/Htmstyle.htm [1.15], doc/Install.htm [1.21], doc/Issues.htm [1.8],
doc/Language.htm [1.29], doc/Lib.htm [1.10], doc/Maintain.htm [1.15],
doc/Make.htm [1.27], doc/New-user.htm [1.25], doc/News.htm [1.83],
doc/Projects.htm [1.28], doc/Ps-style.htm [1.10], doc/Ps2epsi.htm [1.11],
doc/Ps2pdf.htm [1.28], doc/Psfiles.htm [1.18], doc/README [1.9],
doc/Readme.htm [1.26], doc/Release.htm [1.33], doc/Source.htm [1.10],
doc/Tester.htm [1.11], doc/Unix-lpr.htm [1.10], doc/Use.htm [1.26],
doc/Xfonts.htm [1.10], doc/gs-vms.hlp [1.9], man/dvipdf.1 [1.7],
man/font2c.1 [1.7], man/gs.1 [1.7], man/gslp.1 [1.7], man/gsnd.1 [1.7],
man/pdf2dsc.1 [1.7], man/pdf2ps.1 [1.9], man/pdfopt.1 [1.7],
man/pf2afm.1 [1.7], man/pfbtopfa.1 [1.8], man/printafm.1 [1.7],
man/ps2ascii.1 [1.7], man/ps2epsi.1 [1.7], man/ps2pdf.1 [1.11],
man/ps2pdfwr.1 [1.8], man/ps2ps.1 [1.14], man/wftopfa.1 [1.7]: 2001/04/07
07:55:24 raph)

Trivial doc patch. (doc/Develop.htm [1.37]: 2001/04/07 07:58:50 raph)

Documentation fixups for broken internal links. (doc/Devices.htm [1.27],
doc/Maintain.htm [1.16], doc/Make.htm [1.28], doc/Release.htm [1.34]:
2001/04/07 08:18:53 giles)

</pre><h2><a name="6.64-Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- Speed up shading type 1. (lib.mak [1.47]: 2001/04/05 08:32:28
igorm)

Adds target to OS/2 makefile to build distribution zip archive. Disables
multiple image windows for OS/2 because we can't tell when subsequent
windows are closed. To allow multiple windows we would need to rewrite
gspmdrv.c. (os2.mak [1.14]: 2001/04/01 10:13:24 ghostgum)

Remove the bmpa*** devices from the default build. These are example devices
to demonstrate async rendering but do not have any advantages to users over
the bmp*** devices, and their inclusion requires thread support which is not
available on all systems. Resolves SourceForge bug #213799.
(unix-gcc.mak [1.15], unixansi.mak [1.11], unixtrad.mak [1.11]: 2001/04/03
20:04:46 rayjj)

updates to support libpng v1.0.9. (all-arch.mak [1.7], bcwin32.mak [1.9],
dvx-gcc.mak [1.9], libpng.mak [1.5], msvc32.mak [1.14], msvclib.mak [1.11],
openvms.mak [1.10], os2.mak [1.15], ugcclib.mak [1.10], unix-gcc.mak [1.16],
unixansi.mak [1.12], unixtrad.mak [1.12], watc.mak [1.11],
watclib.mak [1.11], watcw32.mak [1.10]: 2001/04/04 07:51:15 giles)

updates to support libpng v1.0.10. OS/2 makefile fixup for v1.0.9 and above
from Russell Lang. (all-arch.mak [1.8], bcwin32.mak [1.10],
dvx-gcc.mak [1.10], libpng.mak [1.6], msvc32.mak [1.15], msvclib.mak [1.12],
openvms.mak [1.11], os2.mak [1.16], ugcclib.mak [1.11], unix-gcc.mak [1.17],
unixansi.mak [1.13], unixtrad.mak [1.13], watc.mak [1.12],
watclib.mak [1.12], watcw32.mak [1.11]: 2001/04/06 07:27:22 giles)

Integrates patch from hpijs 0.94 so that Ghostscript can use hpijs drivers.
(contrib.mak [1.23]: 2001/04/07 00:33:29 raph)

Changes default XLIBDIR and XINCLUDE to /usr/X11R6, which is far more likely
than the previous values. (contrib.mak [1.24], ugcclib.mak [1.12],
unix-gcc.mak [1.18], unixtrad.mak [1.14]: 2001/04/07 06:50:27 raph)

Updates version number and date in preparation for 6.64 release. Updates
Develop.htm to accurately list source files. (version.mak [1.32]: 2001/04/07
07:55:25 raph)

</pre><h2><a name="6.64-Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- -dDELAYSAFER flag added; append operator fixed in Windows and OS/2
scripts; literal newlines removed from sed script. Bugs #223896, #230699
(lib/ps2epsi [1.5], lib/ps2epsi.bat [1.4], lib/ps2epsi.cmd [1.2],
lib/ps2epsi.ps [1.5]: 2001/04/04 04:45:42 alexcher)
	- The fileposition operator cannot be used on some data sources. Use
.fileposition (if on Ghostscript) and make some other changes to make this
portable to other PostScript interpreters. SourceForge bug #223005.
(lib/image-qa.ps [1.3]: 2001/04/04 04:54:53 rayjj)
	- Previous fix had OutputFile set to a debug value. Restoring it to
NUL (lib/ps2epsi.bat [1.5]: 2001/04/04 05:19:33 alexcher)
	- Adds whitespace to sed command in ps2epsi, needed on RH Linux 6.2.
(lib/ps2epsi [1.6]: 2001/04/04 21:05:00 raph)

</pre><h2><a name="6.64-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- JPEG data made GC-traceable to prevent early freeing. Bug # 227090
gdevjpeg.c gdevpsdu.c sdeparam.c zfdctd.c zfdcte.c : JPEG control structure
is allocated with a descriptor. sdct.h : defines descriptors for JPEG
structures. sjpegc.c : implements the linked list of JPEG core blocks
sjpegd.c sjpege.c : corrects the initialization order of (de)compress
struct's gsstruct.h : yet another macro for a structure with 1 string and 1
ptr (gdevjpeg.c [1.3], gdevpsdu.c [1.10]: 2001/04/04 19:20:27 alexcher)

Integrates patch from hpijs 0.94 so that Ghostscript can use hpijs drivers.
(gdevhpij.c [1.1], gdevhpij.h [1.1]: 2001/04/07 00:33:29 raph)

</pre><h2><a name="6.64-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- Emits W or W* after path construction operators when outputting
clip paths in the pdfwrite driver, to be correct with respect to the PDF
spec. (gdevpdfd.c [1.14]: 2001/04/07 07:12:52 raph)

</pre><h2><a name="6.64-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- The search area for %%EOF at the end of PDF file is increased to
4K to cover a file generated by Distiller 3.02b for AIX 4.1.1 Customer #580
(lib/pdf_main.ps [1.31]: 2001/04/07 01:34:23 alexcher)
	- A comment is corrected to match the source.
(lib/pdf_main.ps [1.32]: 2001/04/07 01:47:00 alexcher)

PDF 1.4 improvements: Fixes garbage collection of device filter stack.
Forces idempotent path drawing in transparency mode. Corrects handling of
Group at toplevel page. (lib/pdf_draw.ps [1.29], lib/pdf_main.ps [1.30]:
2001/04/06 22:23:44 raph)

</pre><h2><a name="6.64-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- Windows poll function now returns a code to interrupt Ghostscript
if the text window is closing. Don't show message box on exit if user closed
the text window. (dwmain.c [1.4], dwtext.c [1.3]: 2001/04/03 11:12:58
ghostgum)
	- equality operation between a pointer and enum constant (with 0
value) is a syntax error on CodeWarrior. Replacing the enum with NULL. From
Bernd Heller (zdscpars.c [1.10]: 2001/04/04 05:25:32 alexcher)
	- Register /All and /None in the name table on look-up. Otherwise an
attempt to set the separation color space fails with /undefined
(zcssepr.c [1.7]: 2001/04/04 16:09:15 alexcher)
	- JPEG data made GC-traceable to prevent early freeing. Bug # 227090
gdevjpeg.c gdevpsdu.c sdeparam.c zfdctd.c zfdcte.c : JPEG control structure
is allocated with a descriptor. sdct.h : defines descriptors for JPEG
structures. sjpegc.c : implements the linked list of JPEG core blocks
sjpegd.c sjpege.c : corrects the initialization order of (de)compress
struct's gsstruct.h : yet another macro for a structure with 1 string and 1
ptr (zfdctd.c [1.4], zfdcte.c [1.4]: 2001/04/04 19:20:27 alexcher)
	- Set default size of MAX_ESTACK to 5000. This is the minimal fix
recommended by L. Peter Deutsch in the followup to SourceForge bug #224095.
This should be fixed later to handle automatic stack expansion. The
approaches are defined by Peter as #2 and #3. Interim resolution to
SorceForge bug #224095. (interp.c [1.8]: 2001/04/06 06:42:45 rayjj)
	- Apparently Japanese Windows uses WM_USER+1 internally and
conflicts with gswin32c messages starting from WM_USER+1. So gswin32c
messages are moved to WM_USER+101 range. Fix from Akira Kakuto
(dwmainc.c [1.4]: 2001/04/06 08:36:02 ghostgum)
	- Do not put Windows stdin into binary mode if it is the console
because this returns CR and LF each time the Enter key is pressed. This
caused Ghostscript to not pause at following showpage prompts.
(dwmainc.c [1.5]: 2001/04/06 08:43:29 ghostgum)
	- Genoa FTS 035-07.ps got a SEGV error caused by data being
allocated in non-GC memory, but pointer enumumeration giving these pointers
to the GC for tracing. Since these objects didn't have GC type headers bad
things happened. Also change one of the allocations in sjpegc.c to immovable
that was not -- this change was not needed to prevent the crash.
(zfdctd.c [1.5]: 2001/04/07 00:33:22 rayjj)
	- Compressed fonts are now recognized as narrow during font
substitution. Customer #580 (lib/gs_fonts.ps [1.11]: 2001/04/07 01:07:01
alexcher)
	- two small issues with compilation under xlc on IBM AIX RS6000, a
name conflict with structures names (u)int64, and trailing commas in enum
declarations. Patch from Dan Coby. Sourceforge bug #414328.
(dscparse.h [1.4]: 2001/04/07 07:28:33 giles)

Adds target to OS/2 makefile to build distribution zip archive. Disables
multiple image windows for OS/2 because we can't tell when subsequent
windows are closed. To allow multiple windows we would need to rewrite
gspmdrv.c. (dpmain.c [1.3]: 2001/04/01 10:13:24 ghostgum)

updates to support libpng v1.0.10. OS/2 makefile fixup for v1.0.9 and above
from Russell Lang. (imain.c [1.11]: 2001/04/06 07:27:22 giles)

Removed unecessary include of Macintosh QDOffscreen.h header (iapi.h [1.2]:
2001/04/06 22:57:46 bdheller)

Uses better test for avoiding crash on "gs -h". Also updates API document.
Thanks to Russell Lang. (imain.c [1.12]: 2001/04/07 00:08:08 raph)

Updates version number and date in preparation for 6.64 release. Updates
Develop.htm to accurately list source files. (lib/gs_init.ps [1.33]:
2001/04/07 07:55:25 raph)

Removes \r\n line ends inadvertently added. (dscparse.h [1.5]: 2001/04/07
08:07:17 raph)

</pre><h2><a name="6.64-Streams"></a>Streams</h2><pre>

Fixes problems:
	- JPEG data made GC-traceable to prevent early freeing. Bug # 227090
gdevjpeg.c gdevpsdu.c sdeparam.c zfdctd.c zfdcte.c : JPEG control structure
is allocated with a descriptor. sdct.h : defines descriptors for JPEG
structures. sjpegc.c : implements the linked list of JPEG core blocks
sjpegd.c sjpege.c : corrects the initialization order of (de)compress
struct's gsstruct.h : yet another macro for a structure with 1 string and 1
ptr (sdct.h [1.3], sdeparam.c [1.3], sjpegc.c [1.3], sjpegd.c [1.3],
sjpege.c [1.3]: 2001/04/04 19:20:27 alexcher)
	- Genoa FTS 035-07.ps got a SEGV error caused by data being
allocated in non-GC memory, but pointer enumumeration giving these pointers
to the GC for tracing. Since these objects didn't have GC type headers bad
things happened. Also change one of the allocations in sjpegc.c to immovable
that was not -- this change was not needed to prevent the crash.
(sjpegc.c [1.4]: 2001/04/07 00:33:22 rayjj)

</pre><h2><a name="6.64-Library"></a>Library</h2><pre>

Fixes problems:
	- Register /All and /None in the name table on look-up. Otherwise an
attempt to set the separation color space fails with /undefined
(gscsepr.c [1.8]: 2001/04/04 16:09:15 alexcher)
	- JPEG data made GC-traceable to prevent early freeing. Bug # 227090
gsstruct.h : yet another macro for a structure with 1 string and 1 ptr
(gsstruct.h [1.8]: 2001/04/04 18:45:08 alexcher)
	- Speed up shading type 1. (gsshade.c [1.4], gxshade1.c [1.9]:
2001/04/05 08:32:28 igorm)
	- Some compilers complain that: "Argument of type "stream *" is
incompatible with parameter of type "FILE *". Thanks to Nelson Beebe for
finding this (on SGI). (gs_stdio.h [1.2]: 2001/04/06 03:19:07 rayjj)
	- Fixes crashes in Type 4 function evaluator when stack is empty.
(gsfunc4.c [1.5]: 2001/04/06 22:22:38 raph)

Adds a lop_pdf14 field to logical operators, which is used to force non-
idempotent drawing of paths. (gsropt.h [1.4]: 2001/04/05 23:21:15 raph)

PDF 1.4 improvements: Fixes garbage collection of device filter stack.
Forces idempotent path drawing in transparency mode. Corrects handling of
Group at toplevel page. (gdevp14.c [1.2], gsstate.c [1.11]: 2001/04/06
22:23:44 raph)

</pre><h2><a name="6.64-Other"></a>Other</h2><pre>

Fixes problems:
	- two small issues with compilation under xlc on IBM AIX RS6000, a
name conflict with structures names (u)int64, and trailing commas in enum
declarations. Patch from Dan Coby. Sourceforge bug #414328.
(icclib/icc.c [1.2], icclib/icc.h [1.2]: 2001/04/07 07:28:33 giles)

Removes \r\n line ends inadvertently added. (icclib/icc.c [1.3],
icclib/icc.h [1.3]: 2001/04/07 08:07:16 raph)

</pre><hr>

<h1><a name="Version6.63"></a>Version 6.63 (2001-03-31)</h1>

<p>
This is the second beta release for the upcoming 7.0 release. This
fileset contains a number of stability improvements for the new
display device, integration of PDF 1.4 rendering with all devices, and
the usual round of bug fixes.

<p>
All problems registered on SourceForge numbered 411753 or lower are
closed, except for the following: 201955, 202735, 206652, 209350,
213799, 215256, 219798, 220967, 221582, 222534, 222727, 223005,
223754, 223896, 223992, 224056, 224095, 224863, 226477, 226584,
226943, 227090, 227684, 227709, 228180, 228641, 230694, 230699,
231390, 232334, 233403, 404255, 404482, 405313, 406285, 406643,
406689, 406696, 406979, 407342, 409887, 410371, 410722, 411753.

<h3><a name="6.63_Incompatible_changes"></a>Incompatible changes</h3>

<pre>
(Library)
	- The gs_text_enum_common structure has a new imaging_dev field
which is used by the bbox device to intercept low-level drawing
operations when drawing text.
	- There is a new pdf14 device filter used for rendering PDF 1.4
documents.


</pre><h2><a name="6.63-Documentation"></a>Documentation</h2><pre>

Moves the following SourceForge bugs to the Issues.htm documentation:
201955, 220967, 223992. (doc/Issues.htm [1.2]: 2001/03/20 07:36:30 rayjj)

Added 2 issues related to JPEG in PDF, Bug 226391 (doc/Issues.htm [1.3]:
2001/03/20 16:41:28 alexcher)

Adds %printer% device to Windows to allow a printer to be specified as
-sOutputFile="%printer%Printer Name". This replaces the use of
"\\spool\Printer Name" for all but Windows 3.1/Win32s. Unlike the old
\\spool\, the new %printer% device does not write a large temporary file.
(doc/Install.htm [1.17]: 2001/03/26 11:28:20 ghostgum)

Change the search order for the Ghostscript Windows DLL to try the
executable directory before the location specified in the GS_DLL environment
variable. (doc/Install.htm [1.18]: 2001/03/27 09:35:22 ghostgum)

Some attributes of Catalog object are lost during PDF to PDF conversion
(doc/Issues.htm [1.4]: 2001/03/27 21:03:18 alexcher)

Increments version number after 6.62 release. (doc/News.htm [1.81]:
2001/03/28 21:27:15 raph)

Updates dates in preparation for 6.63 beta release. News updated.
(doc/API.htm [1.4], doc/Bug-form.htm [1.17], doc/Bug-info.htm [1.13],
doc/C-style.htm [1.14], doc/Commprod.htm [1.11], doc/Copying.htm [1.9],
doc/Current.htm [1.9], doc/DLL.htm [1.11], doc/Develop.htm [1.35],
doc/Devices.htm [1.23], doc/Drivers.htm [1.17], doc/Fonts.htm [1.15],
doc/Helpers.htm [1.13], doc/History1.htm [1.9], doc/History2.htm [1.9],
doc/History3.htm [1.9], doc/History4.htm [1.9], doc/History5.htm [1.11],
doc/History6.htm [1.23], doc/Htmstyle.htm [1.12], doc/Install.htm [1.19],
doc/Issues.htm [1.5], doc/Language.htm [1.28], doc/Lib.htm [1.9],
doc/Maintain.htm [1.13], doc/Make.htm [1.25], doc/New-user.htm [1.22],
doc/News.htm [1.82], doc/Projects.htm [1.26], doc/Ps-style.htm [1.9],
doc/Ps2epsi.htm [1.10], doc/Ps2pdf.htm [1.27], doc/Psfiles.htm [1.16],
doc/README [1.8], doc/Readme.htm [1.24], doc/Release.htm [1.31],
doc/Source.htm [1.9], doc/Tester.htm [1.9], doc/Unix-lpr.htm [1.9],
doc/Use.htm [1.25], doc/Xfonts.htm [1.9], doc/gs-vms.hlp [1.8],
man/dvipdf.1 [1.6], man/font2c.1 [1.6], man/gs.1 [1.6], man/gslp.1 [1.6],
man/gsnd.1 [1.6], man/pdf2dsc.1 [1.6], man/pdf2ps.1 [1.8],
man/pdfopt.1 [1.6], man/pf2afm.1 [1.6], man/pfbtopfa.1 [1.7],
man/printafm.1 [1.6], man/ps2ascii.1 [1.6], man/ps2epsi.1 [1.6],
man/ps2pdf.1 [1.10], man/ps2pdfwr.1 [1.7], man/ps2ps.1 [1.13],
man/wftopfa.1 [1.6]: 2001/04/01 01:10:54 raph)

</pre><h2><a name="6.63-Procedures"></a>Procedures</h2><pre>

Adds %printer% device to Windows to allow a printer to be specified as
-sOutputFile="%printer%Printer Name". This replaces the use of
"\\spool\Printer Name" for all but Windows 3.1/Win32s. Unlike the old
\\spool\, the new %printer% device does not write a large temporary file.
(winlib.mak [1.9]: 2001/03/26 11:28:20 ghostgum)

Adds Windows %printer% device to MS Visual C++ build. (msvc32.mak [1.13]:
2001/03/26 12:00:07 ghostgum)

Adds icclib subdirectory to tarballs. (toolbin/makeset.tcl [1.7]: 2001/03/28
21:24:00 raph)

Increments version number after 6.62 release. (version.mak [1.30]:
2001/03/28 21:27:15 raph)

Applies PDF 1.4 rendering with all devices. Previously, only pnga device
contained PDF 1.4 rendering capabilities. Now, when the PDF 1.4 imaging
model is detected in the source file, it installs the pdf 1.4 rendering
device as a device filter. (lib.mak [1.46]: 2001/04/01 00:30:41 raph)

Updates dates in preparation for 6.63 beta release. News updated.
(version.mak [1.31]: 2001/04/01 01:10:55 raph)

</pre><h2><a name="6.63-Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- closefile added for procedure based stdio to prevent disabled
stream from appearing valid. (ziodevsc.c [1.2]: 2001/03/27 09:37:10
ghostgum)
	- Avoid rangecheck error when character code exceeds 255. Support
zero-size bitmap used by some fonts for space character.
(lib/bdftops.ps [1.3]: 2001/03/27 20:53:36 alexcher)
	- BATCH parameter is added to all bdftops* scripts
(lib/bdftops [1.2], lib/bdftops.bat [1.3], lib/bdftops.cmd [1.2]: 2001/03/27
21:15:55 alexcher)
	- Corrects memory allocation of command line arguments in the
programs which load the Ghostscript interpreter DLL / shared object.
(dxmain.c [1.2]: 2001/03/31 10:09:47 ghostgum)

Adds %printer% device to Windows to allow a printer to be specified as
-sOutputFile="%printer%Printer Name". This replaces the use of
"\\spool\Printer Name" for all but Windows 3.1/Win32s. Unlike the old
\\spool\, the new %printer% device does not write a large temporary file.
(gp_msprn.c [1.1]: 2001/03/26 11:28:20 ghostgum)

</pre><h2><a name="6.63-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- AutoFilter.* options now select lossless compression for the image
smaller than 64 pixels in any dimension. Bug # 226391 from a free user.
(gdevpsdi.c [1.14]: 2001/03/24 04:17:07 alexcher)
	- In the display device, allow NULL as a valid value for
DisplayHandle. Correct the code which requires the device to be closed
before changing the DisplayHandle and DisplayFormat parameters. SourceForge
bug # 411101. (gdevdsp.c [1.2]: 2001/03/28 08:46:15 ghostgum)
	- mdev-&gt;memory member was set to 0 causing gx_device_enum_ptr()
not enumerate mdev. This led to freeing of mdev by GC and memory exceptions
during de-allocation of the display device. (gdevdsp.c [1.3]: 2001/03/28
21:50:56 alexcher)
	- Correct memory allocation problems in the display device. Return
correct pointers from display_enum_ptrs so that the memory device and bitmap
are not moved or prematurely freed. Adds a finalize procedure. Change the
memory device to not forward to the display device. Mark the memory device
as retained so it gets freed at the correct time. (gdevdsp.c [1.4],
gdevdsp2.h [1.2]: 2001/03/29 07:26:57 ghostgum)
	- Prevents the buffered mode of the x11 device from missing updates
from the bitmap buffer to the X display. Fix for Artifex customer #1130
(gdevx.c [1.8]: 2001/03/30 18:22:28 rayjj)

Adds Tumble parameter to mswinpr2 device for specifying the duplex
arrangement. Adds QueryUser to the parameters returned by
win_pr2_get_params, so that it works from the command line.
(gdevwpr2.c [1.8]: 2001/03/26 09:44:08 ghostgum)

Adds %printer% device to Windows to allow a printer to be specified as
-sOutputFile="%printer%Printer Name". This replaces the use of
"\\spool\Printer Name" for all but Windows 3.1/Win32s. Unlike the old
\\spool\, the new %printer% device does not write a large temporary file.
(gdevwpr2.c [1.9]: 2001/03/26 11:28:20 ghostgum)

Applies PDF 1.4 rendering with all devices. Previously, only pnga device
contained PDF 1.4 rendering capabilities. Now, when the PDF 1.4 imaging
model is detected in the source file, it installs the pdf 1.4 rendering
device as a device filter. (gdevp14.h [1.1]: 2001/04/01 00:30:41 raph)

Change: The Ghostscript 'pwrite' function name conflicted with the standard
pwrite function defined in unistd.h on several systems. To avoid confusion
with the standard function change the name to stream_write. Also change
'pputc' to 'stream_putc' and 'pputs' to 'stream_puts'. Fixes SourceForge bug
#410772. Fix by Ray Johnston. (gdevps.c [1.16], gdevpsdu.c [1.9],
gdevpsu.c [1.4]: 2001/04/01 00:35:26 raph)

</pre><h2><a name="6.63-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- coordinate range is reduced to +/- 16383 to satisfy actual AR4
restrictions. When CTM was scaled to reduce the range, line width in stroke
and CTM in fill were wrong. Bug # 409105 from raf_mellen at
users.sourceforge.net (gdevpdfd.c [1.12]: 2001/03/21 04:25:48 alexcher)
	- ARTICLE pdfmark generated invalid bead object if /Page key was
left out. Bug # 227651 from mbentley at users.sourceforge.net
(gdevpdfm.c [1.10]: 2001/03/21 05:10:31 alexcher)
	- initial values of fill and stroke color didn't change when
ProcessColorModel changed. An attempt to set white color in CMYK mode was
ignored because it was considered equal to the default color. Bug #410441
from a free user. (gdevpdf.c [1.30]: 2001/03/22 15:12:48 alexcher)
	- pdf_reset_graphics() didn't set correct default color (black) in
/DeviceCMYK color model. An attempt to set white color was ignored because
it was considered equal to the default color causing white objects rendered
black. Bug #410441 from a free user. (gdevpdfg.c [1.11]: 2001/03/23 22:04:19
alexcher)
	- Maximum depth of an outline tree increased from 8 to 32. Bug
#410595 from a free user. (gdevpdfx.h [1.29]: 2001/03/23 22:18:28 alexcher)

Change: The Ghostscript 'pwrite' function name conflicted with the standard
pwrite function defined in unistd.h on several systems. To avoid confusion
with the standard function change the name to stream_write. Also change
'pputc' to 'stream_putc' and 'pputs' to 'stream_puts'. Fixes SourceForge bug
#410772. Fix by Ray Johnston. (gdevpdf.c [1.31], gdevpdfb.c [1.4],
gdevpdfc.c [1.15], gdevpdfd.c [1.13], gdevpdfe.c [1.9], gdevpdfg.c [1.12],
gdevpdfj.c [1.6], gdevpdfm.c [1.11], gdevpdfo.c [1.7], gdevpdfs.c [1.3],
gdevpdft.c [1.32], gdevpdfu.c [1.15], gdevpdfw.c [1.10]: 2001/04/01 00:35:26
raph)

</pre><h2><a name="6.63-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- OmniForm generates PDF files with endobj missing in some objects.
Adobe Acrobat Reader ignores this. Generally speaking, Ghostscript does not
attempt to accept files that grossly fail to obey the Adobe specification
and are produced by software other than a very few extremely widespread
applications. However work-around for this case is easy and unlikely to
break anything. SourceForge bug #406694. (lib/pdf_base.ps [1.14]: 2001/03/20
05:04:59 alexcher)
	- URI action was not converted to corresponding pdfmark and lost
during PDF to PDF conversion. Bug #409245, patch Leon Bottou with some
changes. (lib/pdf_main.ps [1.28]: 2001/03/24 23:59:23 alexcher)

Implementation of security hooks for PDF reader by Geoffrey Keating is
merged into the main GS code base. (lib/pdf_sec.ps [1.3]: 2001/03/25
02:03:44 alexcher)

Applies PDF 1.4 rendering with all devices. Previously, only pnga device
contained PDF 1.4 rendering capabilities. Now, when the PDF 1.4 imaging
model is detected in the source file, it installs the pdf 1.4 rendering
device as a device filter. (lib/pdf_main.ps [1.29]: 2001/04/01 00:30:41
raph)

</pre><h2><a name="6.63-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- flush procedure based stdout and stderr on exit. (imain.c [1.8]:
2001/03/27 09:38:39 ghostgum)
	- Fix for CIDFontType 0 : 1. Erroneous glyphs are drawn by cshow
(with -dNOCACHE); 2. Glyphs written in horizontal direction instead vertical
(with anti-aliasing); 3. Erroneous glyphs and awkward metrics (with
anti-aliasing and -dNOCACHE); Patches 1 &amp; 3 from Hideyuki Suzuki
(hideyuki), improved by igorm. SourceForge bug #222683. (zchar1.c [1.7]:
2001/03/27 09:56:39 igorm)
	- Changes to introduce the min_left stream state variable set this
to 1 for procedure streams, which caused 1 character to be retained in the
stream buffer which was not passed to the client. This broke the DLL
interface where procedure callouts were used to get the string from the
callback. Procedure streams have no need for EOD lookahead (to force
closure) so the correct min_left value is 0. SourceForge bug #404331.
(zfproc.c [1.9]: 2001/03/29 04:09:40 rayjj)
	- After recognizing a number the scanner wrongly interpreted it as a
name, if the number ends at the end of input buffer. Change from Raph.
SourceForge bug #224205. (iscannum.c [1.3]: 2001/03/29 13:27:59 igorm)
	- Correct the Windows virtual key code passed from the image window
to the console. (dwimg.c [1.2]: 2001/03/31 10:07:48 ghostgum)
	- Put Windows console stdout and stderr in binary mode. Ignore the
initial callout for stdout and stderr as the procedure stream acquires a
buffer. (dwmainc.c [1.2], imain.c [1.9]: 2001/03/31 10:08:43 ghostgum)
	- Corrects memory allocation of command line arguments in the
programs which load the Ghostscript interpreter DLL / shared object.
(dpmain.c [1.2], dwmain.c [1.2], dwmainc.c [1.3]: 2001/03/31 10:09:47
ghostgum)
	- When gswin32 text window is closed, exit the interpreter on next
access to stdin and then destroy the text window. (dwmain.c [1.3],
dwtext.c [1.2], imain.c [1.10]: 2001/03/31 10:11:55 ghostgum)

Change the search order for the Ghostscript Windows DLL to try the
executable directory before the location specified in the GS_DLL environment
variable. (dwdll.c [1.2]: 2001/03/27 09:35:22 ghostgum)

Update mail address from bug-gs@aladdin.com to bug-gs@ghostscript.com.
(imainarg.c [1.10]: 2001/03/28 18:30:35 rayjj)

Increments version number after 6.62 release. (lib/gs_init.ps [1.32]:
2001/03/28 21:27:15 raph)

Applies PDF 1.4 rendering with all devices. Previously, only pnga device
contained PDF 1.4 rendering capabilities. Now, when the PDF 1.4 imaging
model is detected in the source file, it installs the pdf 1.4 rendering
device as a device filter. (zdfilter.c [1.2]: 2001/04/01 00:30:41 raph)

Change: The Ghostscript 'pwrite' function name conflicted with the standard
pwrite function defined in unistd.h on several systems. To avoid confusion
with the standard function change the name to stream_write. Also change
'pputc' to 'stream_putc' and 'pputs' to 'stream_puts'. Fixes SourceForge bug
#410772. Fix by Ray Johnston. (zfcmap.c [1.9]: 2001/04/01 00:35:26 raph)

</pre><h2><a name="6.63-Streams"></a>Streams</h2><pre>

Fixes problems:
	- Changes to introduce the min_left stream state variable set this
to 1 for procedure streams, which caused 1 character to be retained in the
stream buffer which was not passed to the client. This broke the DLL
interface where procedure callouts were used to get the string from the
callback. Procedure streams have no need for EOD lookahead (to force
closure) so the correct min_left value is 0. SourceForge bug #404331.
(stream.c [1.11], stream.h [1.8]: 2001/03/29 04:09:40 rayjj)

Change: The Ghostscript 'pwrite' function name conflicted with the standard
pwrite function defined in unistd.h on several systems. To avoid confusion
with the standard function change the name to stream_write. Also change
'pputc' to 'stream_putc' and 'pputs' to 'stream_puts'. Fixes SourceForge bug
#410772. Fix by Ray Johnston. (spprint.c [1.3], spprint.h [1.3],
spsdf.c [1.5]: 2001/04/01 00:35:26 raph)

</pre><h2><a name="6.63-Library"></a>Library</h2><pre>

Fixes problems:
	- The old code can mis-identify ShadingType 1 function as constant
due to testing it at insufficient set of points. Replacing it with slower
accurate code. SourceForge bug #228714. (gxshade.c [1.6], gxshade.h [1.4],
gxshade1.c [1.8]: 2001/03/25 10:18:50 igorm)
	- Fix for CIDFontType 0 : 1. Erroneous glyphs are drawn by cshow
(with -dNOCACHE); 2. Glyphs written in horizontal direction instead vertical
(with anti-aliasing); 3. Erroneous glyphs and awkward metrics (with
anti-aliasing and -dNOCACHE); Patches 1 &amp; 3 from Hideyuki Suzuki
(hideyuki), improved by igorm. SourceForge bug #222683. (gxchar.c [1.4]:
2001/03/27 09:56:39 igorm)
	- Adds imaging_dev field to text enumeration, so that bbox device
can intercept low level drawing operations caused by implementation of
forwarded high level text operations. (gdevbbox.c [1.4], gstext.c [1.6],
gxccache.c [1.4], gxtext.h [1.7]: 2001/04/01 00:33:36 raph)

Applies PDF 1.4 rendering with all devices. Previously, only pnga device
contained PDF 1.4 rendering capabilities. Now, when the PDF 1.4 imaging
model is detected in the source file, it installs the pdf 1.4 rendering
device as a device filter. (gdevp14.c [1.1], gsdfilt.c [1.2],
gsdfilt.h [1.2]: 2001/04/01 00:30:41 raph)

Change: The Ghostscript 'pwrite' function name conflicted with the standard
pwrite function defined in unistd.h on several systems. To avoid confusion
with the standard function change the name to stream_write. Also change
'pputc' to 'stream_putc' and 'pputs' to 'stream_puts'. Fixes SourceForge bug
#410772. Fix by Ray Johnston. (gdevpsf1.c [1.9], gdevpsfm.c [1.5],
gdevpsft.c [1.7], gsfunc4.c [1.4]: 2001/04/01 00:35:26 raph)

</pre><hr>

<h1><a name="Version6.62"></a>Version 6.62 (2001-03-19)</h1>

<p>
This is the first beta release for the upcoming 7.0 release. This fileset
adds ICC profile support using Graeme Gill's icclib, and the new DLL
interface from Russell Lang.

<p>
All problems registered on SourceForge numbered 409245 or lower are
closed, except for the following: 201955, 202735, 206652, 209350,
213799, 215256, 219677, 219798, 220967, 221582, 222534, 222683,
222727, 223005, 223091, 223754, 223896, 223992, 224056, 224095,
224134, 224205, 224863, 226364, 226391, 226462, 226477, 226584,
226943, 227090, 227190, 227276, 227382, 227651, 227684, 227709,
228180, 228354, 228423, 228641, 228714, 228788, 228808, 229439,
230694, 230699, 231390, 232334, 232696, 233403, 404255, 404255,
404482, 404933, 405313, 406285, 406643, 406689, 406694, 406696,
406699, 406979, 407342, 409105, 409133, 409244, 409245. Note that,
since the 6.61 release, SourceForge has renumbered all bugs in the
1xxxxx range by adding 100000 (thus, they are now 2xxxxxx).


<h2><a name="6.62-Documentation"></a>Documentation</h2><pre>

Increments version number to 6.62 as part of 6.61 release process.
(doc/News.htm [1.77]: 2001/02/24 01:56:01 raph)

Adds Epson Stylus Color 300 support to uniprint, also some code cleanups.
Thanks to Glenn Ramsey and Gunther Hess for the patch.
(doc/Devices.htm [1.20]: 2001/03/03 00:45:01 raph)

Added documentation for Ghostscript interpreter API as used by Windows and
OS/2 DLL and Linux shared object. (doc/API.htm [1.1], doc/DLL.htm [1.8],
doc/Readme.htm [1.20]: 2001/03/13 07:12:06 ghostgum)

Documentation changes in preparation for 6.62 beta release.
(doc/API.htm [1.2], doc/Bug-form.htm [1.15], doc/Bug-info.htm [1.11],
doc/C-style.htm [1.12], doc/Commprod.htm [1.9], doc/Copying.htm [1.7],
doc/Current.htm [1.7], doc/DLL.htm [1.9], doc/Develop.htm [1.33],
doc/Devices.htm [1.21], doc/Drivers.htm [1.15], doc/Fonts.htm [1.13],
doc/Helpers.htm [1.10], doc/History1.htm [1.7], doc/History2.htm [1.7],
doc/History3.htm [1.7], doc/History4.htm [1.7], doc/History5.htm [1.9],
doc/History6.htm [1.19], doc/Htmstyle.htm [1.10], doc/Install.htm [1.15],
doc/Language.htm [1.26], doc/Lib.htm [1.7], doc/Maintain.htm [1.11],
doc/Make.htm [1.23], doc/New-user.htm [1.20], doc/News.htm [1.78],
doc/Projects.htm [1.24], doc/Ps-style.htm [1.7], doc/Ps2epsi.htm [1.8],
doc/Ps2pdf.htm [1.25], doc/Psfiles.htm [1.14], doc/README [1.6],
doc/Readme.htm [1.21], doc/Release.htm [1.29], doc/Source.htm [1.7],
doc/Tester.htm [1.7], doc/Unix-lpr.htm [1.7], doc/Use.htm [1.23],
doc/Xfonts.htm [1.7], doc/gs-vms.hlp [1.6], man/dvipdf.1 [1.4],
man/font2c.1 [1.4], man/gs.1 [1.4], man/gslp.1 [1.4], man/gsnd.1 [1.4],
man/pdf2dsc.1 [1.4], man/pdf2ps.1 [1.6], man/pdfopt.1 [1.4],
man/pf2afm.1 [1.4], man/pfbtopfa.1 [1.5], man/printafm.1 [1.4],
man/ps2ascii.1 [1.4], man/ps2epsi.1 [1.4], man/ps2pdf.1 [1.8],
man/ps2pdfwr.1 [1.5], man/ps2ps.1 [1.11], man/wftopfa.1 [1.4]: 2001/03/17
01:26:48 raph)

Updates Changes and History6 files from cvs commit logs, in preparation for
6.62 beta release. (doc/Changes.htm [1.22], doc/History6.htm [1.20]:
2001/03/17 01:30:16 raph)

There was a spelling error in Juan Manuel Acosta's name. His entry is also
moved to "major contributers" section. (doc/Helpers.htm [1.11]: 2001/03/19
16:46:05 alexcher)

Updates date for 6.62 release to 2001-03-19. (doc/API.htm [1.3],
doc/Bug-form.htm [1.16], doc/Bug-info.htm [1.12], doc/C-style.htm [1.13],
doc/Commprod.htm [1.10], doc/Copying.htm [1.8], doc/Current.htm [1.8],
doc/DLL.htm [1.10], doc/Develop.htm [1.34], doc/Devices.htm [1.22],
doc/Drivers.htm [1.16], doc/Fonts.htm [1.14], doc/Helpers.htm [1.12],
doc/History1.htm [1.8], doc/History2.htm [1.8], doc/History3.htm [1.8],
doc/History4.htm [1.8], doc/History5.htm [1.10], doc/History6.htm [1.21],
doc/Htmstyle.htm [1.11], doc/Install.htm [1.16], doc/Language.htm [1.27],
doc/Lib.htm [1.8], doc/Maintain.htm [1.12], doc/Make.htm [1.24],
doc/New-user.htm [1.21], doc/News.htm [1.79], doc/Projects.htm [1.25],
doc/Ps-style.htm [1.8], doc/Ps2epsi.htm [1.9], doc/Ps2pdf.htm [1.26],
doc/Psfiles.htm [1.15], doc/README [1.7], doc/Readme.htm [1.22],
doc/Release.htm [1.30], doc/Source.htm [1.8], doc/Tester.htm [1.8],
doc/Unix-lpr.htm [1.8], doc/Use.htm [1.24], doc/Xfonts.htm [1.8],
doc/gs-vms.hlp [1.7], man/dvipdf.1 [1.5], man/font2c.1 [1.5],
man/gs.1 [1.5], man/gslp.1 [1.5], man/gsnd.1 [1.5], man/pdf2dsc.1 [1.5],
man/pdf2ps.1 [1.7], man/pdfopt.1 [1.5], man/pf2afm.1 [1.5],
man/pfbtopfa.1 [1.6], man/printafm.1 [1.5], man/ps2ascii.1 [1.5],
man/ps2epsi.1 [1.5], man/ps2pdf.1 [1.9], man/ps2pdfwr.1 [1.6],
man/ps2ps.1 [1.12], man/wftopfa.1 [1.5]: 2001/03/19 17:26:17 raph)

Inital version of this file that will be used to capture notes about minor
bugs or compatibility that are identified when action will not be undertaken
immediately. (doc/Issues.htm [1.1]: 2001/03/19 19:27:04 rayjj)

</pre><h2><a name="6.62-Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- Minor changes to fix compilation on VMS, thanks to Jacob
=JoukJansen for the patch. (devs.mak [1.42]: 2001/03/01 22:16:02 raph)
	- Corrects whitespace for new entries in devs.mak for VMS build.
Thanks to Jouk Jansen. (devs.mak [1.44]: 2001/03/13 20:01:35 raph)
	- Fixes SourceForge bug #219677. Adds debug and debugclean targets
to MSVC++ makefile that build in the debugobj and debugbin directories.
Fixes BEGINFILES and BEGINFILES2 so that 'make clean' removes all files.
(msvc32.mak [1.10], winlib.mak [1.7]: 2001/03/16 22:53:18 ghostgum)
	- /None and /All separations are now supported. SourceForge bug
#228354. (lib.mak [1.45]: 2001/03/18 19:15:50 igorm)
	- Adds lib directory to MS-Windows distribution archive. Change
copyright message in MS-Windows setup program to artofcode LLC. Thanks to
Russell Lang for the patch. (winint.mak [1.7]: 2001/03/19 17:12:45 raph)

Increments version number to 6.62 as part of 6.61 release process.
(version.mak [1.27]: 2001/02/24 01:56:01 raph)

Provide alternate %stdin/out/err implementation using procedure based
streams and callouts. Previous stdio implementation with
STDIO_IMPLEMENTATION= New callout stdio implementation with
STDIO_IMPLEMENTATION=c Bug fix to zflush and zpeekstring. New stdio stream
code is in ziodevsc.c which will be in next commit. (bcwin32.mak [1.5],
dvx-gcc.mak [1.6], gs.mak [1.3], int.mak [1.43], msvc32.mak [1.7],
msvclib.mak [1.7], openvms.mak [1.7], os2.mak [1.10], ugcclib.mak [1.7],
unix-gcc.mak [1.10], unixansi.mak [1.8], unixtrad.mak [1.8], watc.mak [1.7],
watclib.mak [1.7], watcw32.mak [1.6]: 2001/03/12 04:05:19 ghostgum)

Adds device filter pipeline, which will be used by PDF 1.4 and other
enhanced imaging operations. (int.mak [1.44], lib.mak [1.43]: 2001/03/13
00:41:10 raph)

Implement new Ghostscript interpreter API for DLL or shared object.
Reimplement old DLL interface using new API. See iapi.h and iapi.c for new
API. For unix, build using "make so". Added loader programs for Ghostscript
interpreter library for Linux (dxmain.c), Windows (dw*.c) and OS/2
(dpmain.c). Add new "display" device for use with the new API. Linux
dxmain.c uses the "display" device, Gtk+ and GdkRgb for faster drawing than
the "x11" device. (devs.mak [1.43], gsdll2.def [1.2], gsdll32.def [1.2],
int.mak [1.45], msvc32.mak [1.8], os2.mak [1.11], unix-dll.mak [1.1],
unix-gcc.mak [1.11], winint.mak [1.6], winlib.mak [1.6]: 2001/03/13 07:09:28
ghostgum)

When building the Linux shared object, separate directories soobj and sobin
are used to prevent 'make' from mixing the object files and building a
corrupt executable. Added 'API.htm' to the installed documentation files.
(unix-dll.mak [1.2], unix-gcc.mak [1.12], unixinst.mak [1.18]: 2001/03/15
09:11:28 ghostgum)

Change AFPL Ghostscript path on Windows and OS/2 platforms from c:/aladdin
to c:/gs. (bcwin32.mak [1.6], msvc32.mak [1.9], msvclib.mak [1.8],
watc.mak [1.8], watclib.mak [1.8], watcw32.mak [1.7]: 2001/03/16 22:19:16
ghostgum)

Integrates ICC profile input support from Jan Stoeckenius. Also includes
slightly modified version of icclib (icc.h, icc.c, icc9809.h) by Graeme
Gill. (bcwin32.mak [1.7], devs.mak [1.45], dvx-gcc.mak [1.7], gs.mak [1.4],
icclib.mak [1.1], int.mak [1.46], lib.mak [1.44], msvc32.mak [1.11],
msvclib.mak [1.9], openvms.mak [1.8], os2.mak [1.12], ugcclib.mak [1.8],
unix-gcc.mak [1.13], unixansi.mak [1.9], unixtrad.mak [1.9],
version.mak [1.28], watc.mak [1.9], watclib.mak [1.9], watcw32.mak [1.8],
wctail.mak [1.3], winlib.mak [1.8]: 2001/03/17 01:15:42 raph)

Moves patched icclib 1.23 files into the new icclib/ subdirectory, with
makefile changes to match. Adds missing COPYRIGHT and other documentation to
icclib. Thanks to L. Peter Deutsch for pointing out the need.
(bcwin32.mak [1.8], dvx-gcc.mak [1.8], msvc32.mak [1.12],
msvclib.mak [1.10], openvms.mak [1.9], os2.mak [1.13], ugcclib.mak [1.9],
unix-gcc.mak [1.14], unixansi.mak [1.10], unixtrad.mak [1.10],
watc.mak [1.10], watclib.mak [1.10], watcw32.mak [1.9]: 2001/03/19 17:11:15
raph)

Updates date for 6.62 release to 2001-03-19. (version.mak [1.29]: 2001/03/19
17:26:18 raph)

</pre><h2><a name="6.62-Utilities"></a>Utilities</h2><pre>

Replace many references to exit() with returns. (gp_dvx.c [1.3],
gp_os2.c [1.7], gp_unix.c [1.4]: 2001/03/12 03:50:02 ghostgum)

Cleanup of MS-Windows and OS/2 code. Remove old 16-bit MS-Windows code.
Remove references to stdout/err, replacing with eprintf(). Remove global
variables. Disable mswindll and os2dll devices if a callback function is not
provided. (gp_mswin.c [1.4], gp_os2.c [1.8]: 2001/03/12 03:56:13 ghostgum)

stdio implementation using callouts. Missing file from last commit.
(ziodevsc.c [1.1]: 2001/03/12 04:11:28 ghostgum)

Implement new Ghostscript interpreter API for DLL or shared object.
Reimplement old DLL interface using new API. See iapi.h and iapi.c for new
API. For unix, build using "make so". Added loader programs for Ghostscript
interpreter library for Linux (dxmain.c), Windows (dw*.c) and OS/2
(dpmain.c). Add new "display" device for use with the new API. Linux
dxmain.c uses the "display" device, Gtk+ and GdkRgb for faster drawing than
the "x11" device. (dxmain.c [1.1], gp_msdll.c [1.1], gp_mswin.c [1.5],
gp_os2.c [1.9], gsdll.c [1.4]: 2001/03/13 07:09:28 ghostgum)

Integrates ICC profile input support from Jan Stoeckenius. Also includes
slightly modified version of icclib (icc.h, icc.c, icc9809.h) by Graeme
Gill. (icc.c [1.1]: 2001/03/17 01:15:42 raph)

Moves patched icclib 1.23 files into the new icclib/ subdirectory, with
makefile changes to match. Adds missing COPYRIGHT and other documentation to
icclib. Thanks to L. Peter Deutsch for pointing out the need. (icc.c [1.2]:
2001/03/19 17:11:15 raph)

</pre><h2><a name="6.62-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- to achieve page independence, every page must in the general case
set page parameters. To preserve duplexing the page cannot set page
parameters. New code checks the current page size and sets it only if it is
necessary. Bug #404376 reported by bannis at users.sourceforge.net
(gdevpsu.c [1.3]: 2001/03/03 03:27:03 alexcher)

Adds Epson Stylus Color 300 support to uniprint, also some code cleanups.
Thanks to Glenn Ramsey and Gunther Hess for the patch. (gdevupd.c [1.4],
lib/stc300.upp [1.1], lib/stc300bl.upp [1.1], lib/stc300bm.upp [1.1]:
2001/03/03 00:45:01 raph)

Cleanup of MS-Windows and OS/2 code. Remove old 16-bit MS-Windows code.
Remove references to stdout/err, replacing with eprintf(). Remove global
variables. Disable mswindll and os2dll devices if a callback function is not
provided. (gdevmswn.c [1.3], gdevpm.c [1.3], gdevwdib.c [1.3],
gdevwpr2.c [1.6], gdevwprn.c [1.3]: 2001/03/12 03:56:13 ghostgum)

Redirect all user messages from stdout and stderr to outwrite() and
errwrite(). This is needed to allow stdout/err to be redirected to the
caller for DLL / shared object builds. (gdev4693.c [1.2], gdevcdj.c [1.5],
gdevhl7x.c [1.4], gdevifno.c [1.2], gdevimgn.c [1.3], gdevos2p.c [1.4],
gdevsppr.c [1.3], gdevsunr.c [1.3], gdevupd.c [1.5], gdevwddb.c [1.3],
gdevwpr2.c [1.7]: 2001/03/13 06:51:39 ghostgum)

Implement new Ghostscript interpreter API for DLL or shared object.
Reimplement old DLL interface using new API. See iapi.h and iapi.c for new
API. For unix, build using "make so". Added loader programs for Ghostscript
interpreter library for Linux (dxmain.c), Windows (dw*.c) and OS/2
(dpmain.c). Add new "display" device for use with the new API. Linux
dxmain.c uses the "display" device, Gtk+ and GdkRgb for faster drawing than
the "x11" device. (gdevdsp.c [1.1], gdevdsp.h [1.1], gdevdsp2.h [1.1],
gdevmswn.c [1.4], gdevpm.c [1.4]: 2001/03/13 07:09:28 ghostgum)

Adds typed image rendering to pnga (prototype PDF 1.4) device.
(gdevpnga.c [1.3]: 2001/03/17 00:16:53 raph)

Integrates ICC profile input support from Jan Stoeckenius. Also includes
slightly modified version of icclib (icc.h, icc.c, icc9809.h) by Graeme
Gill. (gdevpx.c [1.6]: 2001/03/17 01:15:42 raph)

</pre><h2><a name="6.62-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- properly include unistd_.h in files that call unlink()
(gdevpdf.c [1.29]: 2001/03/16 22:12:34 giles)

Redirect all user messages from stdout and stderr to outwrite() and
errwrite(). This is needed to allow stdout/err to be redirected to the
caller for DLL / shared object builds. (gdevpdfm.c [1.9]: 2001/03/13
06:51:39 ghostgum)

Integrates ICC profile input support from Jan Stoeckenius. Also includes
slightly modified version of icclib (icc.h, icc.c, icc9809.h) by Graeme
Gill. (gdevpdfc.c [1.14]: 2001/03/17 01:15:42 raph)

</pre><h2><a name="6.62-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- When the stream is located in an external file (i.e. the stream
dictionary contains an /F entry) GS fails with "typecheck in .knownget"
because of a minor bug in stack handling in pdf_base.ps. Bug #229425, the
fix from Andreas Bolsch &lt;meromorphic at users.sourceforge.net&gt;
(lib/pdf_base.ps [1.13]: 2001/03/04 16:59:19 alexcher)
	- GS can override image interpolation using INTERPOLATE or
NOINTERPOLATE flags. These flags had no effect on PDF because the PDF
interpreter is bound earlier than image operator is redefined. New version
takes image and imagemask values from systemdict at run time.
(lib/pdf_draw.ps [1.27]: 2001/03/11 05:15:26 alexcher)

Integrates ICC profile input support from Jan Stoeckenius. Also includes
slightly modified version of icclib (icc.h, icc.c, icc9809.h) by Graeme
Gill. (lib/pdf_draw.ps [1.28], lib/pdf_ops.ps [1.16]: 2001/03/17 01:15:41
raph)

</pre><h2><a name="6.62-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- Allocate filter in local VM when currentglobal is false. Prevents
a problem with some QuarkXpress ProcSets that turn off vmreclaim and expect
save/restore to free memory which only works on local VM. Fix for problem
reported by Artifex customer #150, file "japan.ps". (zfilter.c [1.5]:
2001/02/28 00:39:26 rayjj)
	- Speed-up JPEG decompression by increasing file buffer to 2K. This
avoids installation of an intermediate buffering filter that resulted in a
byte-by-byte filling of the buffer to the JPEG code. When the buffer was not
full enough a recoverable error would result in a round trip for the next
byte. Fixes SourcForge bug #405342 for Artifex customer #350.
(zfile.c [1.7]: 2001/03/02 03:06:50 alexcher)
	- Removes Category dictionary from dictionary stack during the
execution of the /Font resourceforall procedure, needed for proper access
from the procedure to underlying dictionary. Fixes SourceForge bug #224973.
(lib/gs_cidcm.ps [1.2]: 2001/03/03 15:09:12 igorm)
	- GS didn't accept packed array as data source in image with
multiple data sources. From internal bug report. (zimage2.c [1.4]:
2001/03/12 22:53:22 alexcher)
	- ztype9mapcid now allocates string in global memory space to match
allocation of contents. Thanks to Masatake YAMATO for the patch.
(zfcid0.c [1.6]: 2001/03/13 19:57:06 raph)
	- Define to DefaultGray, DefaultRGB, DefaultCMYK color spaces to
allow UseCIEColor to work. SourceForge bugs #216461, #219676.
(lib/gs_ll3.ps [1.8]: 2001/03/14 12:00:37 igorm)
	- /None and /All separations are now supported. SourceForge bug
#228354. (zcssepr.c [1.6]: 2001/03/18 19:17:50 igorm)

Increments version number to 6.62 as part of 6.61 release process.
(lib/gs_init.ps [1.30]: 2001/02/24 01:56:01 raph)

Replace many references to exit() with returns. (errors.h [1.3], gs.c [1.3],
igcref.c [1.3], imain.c [1.4], imainarg.c [1.7], imainarg.h [1.3],
zcontext.c [1.7]: 2001/03/12 03:50:02 ghostgum)

Provide alternate %stdin/out/err implementation using procedure based
streams and callouts. Previous stdio implementation with
STDIO_IMPLEMENTATION= New callout stdio implementation with
STDIO_IMPLEMENTATION=c Bug fix to zflush and zpeekstring. New stdio stream
code is in ziodevsc.c which will be in next commit. (errors.h [1.4],
files.h [1.3], imain.c [1.5], iminst.h [1.3], interp.c [1.7], zfile.c [1.8],
zfileio.c [1.10], zfproc.c [1.8], ziodev.c [1.4]: 2001/03/12 04:05:19
ghostgum)

This fix corrects a problem with VM usage in the DSC parser. Previously the
dictionary dsc_dict was allocated in global VM but the DSC parser would try
to insert items while in local VM mode. This fix forces the DSC parser into
global VM mode. (lib/gs_dscp.ps [1.4]: 2001/03/12 22:41:22 dancoby)

Adds device filter pipeline, which will be used by PDF 1.4 and other
enhanced imaging operations. (zdfilter.c [1.1]: 2001/03/13 00:41:10 raph)

Redirect all user messages from stdout and stderr to outwrite() and
errwrite(). This is needed to allow stdout/err to be redirected to the
caller for DLL / shared object builds. (gs.c [1.4], idebug.c [1.3],
igc.c [1.3], imain.c [1.6], imainarg.c [1.8]: 2001/03/13 06:51:39 ghostgum)

Implement new Ghostscript interpreter API for DLL or shared object.
Reimplement old DLL interface using new API. See iapi.h and iapi.c for new
API. For unix, build using "make so". Added loader programs for Ghostscript
interpreter library for Linux (dxmain.c), Windows (dw*.c) and OS/2
(dpmain.c). Add new "display" device for use with the new API. Linux
dxmain.c uses the "display" device, Gtk+ and GdkRgb for faster drawing than
the "x11" device. (dpmain.c [1.1], dpmainc.c [1.3], dwdll.c [1.1],
dwdll.cpp [1.3], dwdll.h [1.3], dwimg.c [1.1], dwimg.cpp [1.4],
dwimg.h [1.3], dwmain.c [1.1], dwmain.cpp [1.3], dwmain.h [1.3],
dwmainc.c [1.1], dwmainc.cpp [1.4], dwnodll.c [1.1], dwnodll.cpp [1.3],
dwtext.c [1.1], dwtext.cpp [1.3], dwtext.h [1.3], files.h [1.4], gs.c [1.5],
iapi.c [1.1], iapi.h [1.1], iconf.c [1.3], idisp.c [1.1], idisp.h [1.1],
imain.c [1.7], imainarg.c [1.9], iminst.h [1.4], main.h [1.3]: 2001/03/13
07:09:28 ghostgum)

Interpolation overriding is modified to support - colorimage; old version
did nothing - ImageType 3 dictionaries; old version did nothing - local data
source in global mode; old version failed (lib/gs_init.ps [1.31]: 2001/03/13
22:50:03 alexcher)

Integrates ICC profile input support from Jan Stoeckenius. Also includes
slightly modified version of icclib (icc.h, icc.c, icc9809.h) by Graeme
Gill. (icie.h [1.3], lib/gs_icc.ps [1.1], zcie.c [1.5], zicc.c [1.1]:
2001/03/17 01:15:41 raph)

</pre><h2><a name="6.62-Streams"></a>Streams</h2><pre>

Fixes problems:
	- eexecDecode filter returned EOF immediately if the input stream
was shorter than 9 characters. New code may misidentify short streams but
old code always failed. (seexec.c [1.4]: 2001/02/23 03:00:13 alexcher)

Replace many references to exit() with returns. (stdpre.h [1.3]: 2001/03/12
03:50:02 ghostgum)

Redirect all user messages from stdout and stderr to outwrite() and
errwrite(). This is needed to allow stdout/err to be redirected to the
caller for DLL / shared object builds. (std.h [1.4]: 2001/03/13 06:51:39
ghostgum)

Integrates ICC profile input support from Jan Stoeckenius. Also includes
slightly modified version of icclib (icc.h, icc.c, icc9809.h) by Graeme
Gill. (stream.c [1.10]: 2001/03/17 01:15:42 raph)

Minor patch to header files so that unlink() prototype doesn't conflict when
const is disabled through #define. (stdio_.h [1.4]: 2001/03/17 01:18:34
raph)

</pre><h2><a name="6.62-Library"></a>Library</h2><pre>

Fixes problems:
	- Minor changes to fix compilation on VMS, thanks to Jacob
=JoukJansen for the patch. (gstrans.c [1.13]: 2001/03/01 22:16:02 raph)
	- gp_file_name_sizeof is increased to 260 bytes, == MAX_PATH on MS
Windows. The platform-specific fix is too difficult because some platforms
may have very long or unlimited file names. Bug #231514 submitted by
anonymous user. (gp.h [1.6]: 2001/03/03 04:38:19 alexcher)
	- When objects were resized or trimmed, the objects o_size was not
being updated if the rounded_size didn't change. This could lead to
alignment issues on some systems (causing a crash). Problem reported by
Artifex customer #460. (gsalloc.c [1.9]: 2001/03/12 00:04:28 rayjj)
	- Some device color components were missed while serializing
halftone to clist, causing segment fault during playback. Changes use proper
number of device color components to be written to clist and read from it.
SourceForge bug #211449. (gxclpath.c [1.9], gxclrast.c [1.9]: 2001/03/13
08:38:03 igorm)
	- kshow now restores currentfont if changed while running proc.
Fixes SourceForge bug #221715. (gxchar.c [1.3]: 2001/03/14 13:03:49 igorm)
	- properly include unistd_.h in files that call unlink()
(gsiodev.c [1.5], gxclfile.c [1.3]: 2001/03/16 22:12:34 giles)
	- /None and /All separations are now supported. SourceForge bug
#228354. (gscsepr.c [1.7]: 2001/03/18 19:17:50 igorm)

Replace many references to exit() with returns. (gsargs.c [1.3],
gsargs.h [1.4], gsexit.h [1.3], gxalloc.h [1.6]: 2001/03/12 03:50:02
ghostgum)

Adds device filter pipeline, which will be used by PDF 1.4 and other
enhanced imaging operations. (gsdfilt.c [1.1], gsdfilt.h [1.1],
gsstate.c [1.10], gzstate.h [1.5]: 2001/03/13 00:41:10 raph)

Redirect all user messages from stdout and stderr to outwrite() and
errwrite(). This is needed to allow stdout/err to be redirected to the
caller for DLL / shared object builds. (gp_unifs.c [1.4], gsargs.c [1.4],
gsinit.c [1.3], gsio.h [1.5], gslib.c [1.4], gsmisc.c [1.10],
gxclutil.c [1.4]: 2001/03/13 06:51:39 ghostgum)

Implement new Ghostscript interpreter API for DLL or shared object.
Reimplement old DLL interface using new API. See iapi.h and iapi.c for new
API. For unix, build using "make so". Added loader programs for Ghostscript
interpreter library for Linux (dxmain.c), Windows (dw*.c) and OS/2
(dpmain.c). Add new "display" device for use with the new API. Linux
dxmain.c uses the "display" device, Gtk+ and GdkRgb for faster drawing than
the "x11" device. (gsexit.h [1.4]: 2001/03/13 07:09:29 ghostgum)

Integrates ICC profile input support from Jan Stoeckenius. Also includes
slightly modified version of icclib (icc.h, icc.c, icc9809.h) by Graeme
Gill. (gs_stdio.h [1.1], gscdef.c [1.12], gscie.c [1.4], gscie.h [1.3],
gsciemap.c [1.5], gscolor.c [1.5], gscolor1.c [1.4], gscscie.c [1.4],
gscspace.h [1.6], gscssub.c [1.3], gsicc.c [1.1], gsicc.h [1.1],
gxcie.h [1.3], gxshade.c [1.5], icc.h [1.1]: 2001/03/17 01:15:42 raph)

Minor patch to header files so that unlink() prototype doesn't conflict when
const is disabled through #define. (unistd_.h [1.2]: 2001/03/17 01:18:34
raph)

Moves patched icclib 1.23 files into the new icclib/ subdirectory, with
makefile changes to match. Adds missing COPYRIGHT and other documentation to
icclib. Thanks to L. Peter Deutsch for pointing out the need. (icc.h [1.2]:
2001/03/19 17:11:15 raph)

</pre><h2><a name="6.62-Other"></a>Other</h2><pre>

Cleanup of MS-Windows and OS/2 code. Remove old 16-bit MS-Windows code.
Remove references to stdout/err, replacing with eprintf(). Remove global
variables. Disable mswindll and os2dll devices if a callback function is not
provided. (gp_mswin.h [1.3]: 2001/03/12 03:56:13 ghostgum)

Implement new Ghostscript interpreter API for DLL or shared object.
Reimplement old DLL interface using new API. See iapi.h and iapi.c for new
API. For unix, build using "make so". Added loader programs for Ghostscript
interpreter library for Linux (dxmain.c), Windows (dw*.c) and OS/2
(dpmain.c). Add new "display" device for use with the new API. Linux
dxmain.c uses the "display" device, Gtk+ and GdkRgb for faster drawing than
the "x11" device. (gp_mswin.h [1.4], gsdll.h [1.3], gsdllwin.h [1.3]:
2001/03/13 07:09:28 ghostgum)

Integrates ICC profile input support from Jan Stoeckenius. Also includes
slightly modified version of icclib (icc.h, icc.c, icc9809.h) by Graeme
Gill. (icc9809.h [1.1]: 2001/03/17 01:15:42 raph)

Moves patched icclib 1.23 files into the new icclib/ subdirectory, with
makefile changes to match. Adds missing COPYRIGHT and other documentation to
icclib. Thanks to L. Peter Deutsch for pointing out the need.
(icc9809.h [1.2], icclib/COPYRIGHT [1.1], icclib/NOTES [1.1],
icclib/README [1.1], icclib/icc.c [1.1], icclib/icc.h [1.1],
icclib/icc9809.h [1.1]: 2001/03/19 17:11:14 raph)

</pre><hr>

<h1><a name="Version6.61"></a>Version 6.61 (2001-02-21)</h1>

<p>
The primary updates in this fileset are in the PDF 1.4 transparency and
blending code (available for testing with the pnga driver). The usual
bug fixes are also present.

<p>
All problems registered on SourceForge numbered 133403 or lower are
closed, except for the following: 101814, 101955, 102735, 106652,
109350, 111449, 113116, 113799, 114084, 115256, 116461, 119676,
119677, 119798, 120967, 121582, 121715, 122534, 122683, 122727,
123005, 123091, 123754, 123896, 123992, 124056, 124095, 124134,
124205, 124863, 124973, 126364, 126391, 126462, 126477, 126584,
126943, 127090, 127190, 127244, 127276, 127382, 127651, 127684,
127709, 127802, 128180, 128354, 128423, 128641, 128714, 128808,
129425, 129439, 130694, 130699, 131001, 131390, 131514, 132334,
132696, 133403.


<h2><a name="6.61-Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- Ps-style.htm was missing from the index/blurbs in Readme.htm Adds
a note about documentation to the "Adding and Removing Files" section, and
moves that section to Maintain.htm from Release.htm. Closes sourceforge bug
#126771 (doc/Maintain.htm [1.9], doc/Readme.htm [1.18],
doc/Release.htm [1.27]: 2001/02/09 01:59:35 giles)

Brings prototypes for fill_path, stroke_path, and fill_trapezoid in sync
with code. New description for fill_trapezoid, as the parameters changed
considerably. (doc/Drivers.htm [1.13]: 2001/01/04 19:08:25 raph)

Adds a link to Adobe's Technote #5407 regarding transparency.
(doc/Language.htm [1.24]: 2001/01/07 18:21:55 giles)

Updates png and zlib urls to the new canonical domain. Patch from Tobias
Burnus. (doc/Devices.htm [1.18], doc/Make.htm [1.20],
doc/New-user.htm [1.18]: 2001/01/07 18:36:35 giles)

Increments CVS version number to 6.61 as part of (very delayed) 6.60 release
process. (doc/News.htm [1.75]: 2001/02/03 01:23:03 raph)

Added DOPDFMARKS to allow pdfmark to be called for annotations, links and
cropboxes for PDF files on any device. Fixes SourceForge bug # 127062.
(doc/Use.htm [1.21]: 2001/02/09 23:38:12 ghostgum)

Added addition comments about how to build GS on am IBM RS6000 under AIX
version 4.3.3 using the IBM C compiler (xlc) version 5.
(doc/Make.htm [1.21]: 2001/02/20 06:09:31 dancoby)

Updates dates and version numbers in preparation for 6.61 release.
(doc/Bug-form.htm [1.14], doc/Bug-info.htm [1.10], doc/C-style.htm [1.11],
doc/Commprod.htm [1.8], doc/Copying.htm [1.6], doc/Current.htm [1.6],
doc/DLL.htm [1.7], doc/Develop.htm [1.32], doc/Devices.htm [1.19],
doc/Drivers.htm [1.14], doc/Fonts.htm [1.12], doc/Helpers.htm [1.9],
doc/History1.htm [1.6], doc/History2.htm [1.6], doc/History3.htm [1.6],
doc/History4.htm [1.6], doc/History5.htm [1.8], doc/History6.htm [1.17],
doc/Htmstyle.htm [1.9], doc/Install.htm [1.14], doc/Language.htm [1.25],
doc/Lib.htm [1.6], doc/Maintain.htm [1.10], doc/Make.htm [1.22],
doc/New-user.htm [1.19], doc/News.htm [1.76], doc/PUBLIC [1.4],
doc/Projects.htm [1.23], doc/Ps-style.htm [1.6], doc/Ps2epsi.htm [1.7],
doc/Ps2pdf.htm [1.24], doc/Psfiles.htm [1.13], doc/README [1.5],
doc/Readme.htm [1.19], doc/Release.htm [1.28], doc/Source.htm [1.6],
doc/Tester.htm [1.6], doc/Unix-lpr.htm [1.6], doc/Use.htm [1.22],
doc/Xfonts.htm [1.6], doc/gs-vms.hlp [1.5], man/dvipdf.1 [1.3],
man/font2c.1 [1.3], man/gs.1 [1.3], man/gslp.1 [1.3], man/gsnd.1 [1.3],
man/pdf2dsc.1 [1.3], man/pdf2ps.1 [1.5], man/pdfopt.1 [1.3],
man/pf2afm.1 [1.3], man/pfbtopfa.1 [1.4], man/printafm.1 [1.3],
man/ps2ascii.1 [1.3], man/ps2epsi.1 [1.3], man/ps2pdf.1 [1.7],
man/ps2pdfwr.1 [1.4], man/ps2ps.1 [1.10], man/wftopfa.1 [1.3]: 2001/02/22
07:30:37 raph)

</pre><h2><a name="6.61-Procedures"></a>Procedures</h2><pre>

Updates png and zlib urls to the new canonical domain. Patch from Tobias
Burnus. (libpng.mak [1.4], zlib.mak [1.3]: 2001/01/07 18:36:35 giles)

First cut of the PDF 1.4 transparency and blending operations.
(contrib.mak [1.21], lib.mak [1.42]: 2001/01/14 00:25:27 raph)

Increments CVS version number to 6.61 as part of (very delayed) 6.60 release
process. (version.mak [1.25]: 2001/02/03 01:23:03 raph)

Continuing development of PDF 1.4 transparency and blending. This round of
commits implements groups, including non-isolated and knockout variants.
Also, moves the build rule for the pnga device from contrib to devs.
(contrib.mak [1.22], devs.mak [1.41]: 2001/02/22 07:27:10 raph)

Updates dates and version numbers in preparation for 6.61 release.
(version.mak [1.26]: 2001/02/22 07:30:39 raph)

</pre><h2><a name="6.61-Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- Temporary _.at file was not deleted. (lib/pdf2ps.bat [1.4]:
2001/02/03 16:12:29 alexcher)
	- Added -dSAFER (lib/pdf2ps.cmd [1.2]: 2001/02/03 18:31:12 alexcher)
	- Defines prototypes for fputs only for (broken) Sun platforms, to
avoid type mismatches when compiling with -Dconst=. Fixes SourceForge bug
133358. (echogs.c [1.3]: 2001/02/22 03:59:39 raph)

branches: 1.1.2; file vdtrace.c was initially added on branch HINTER.
(vdtrace.c [1.1]: 2001/01/12 06:19:36 igorm)

branches: 1.1.2; file _type1.c was initially added on branch HINTER.
(_type1.c [1.1]: 2001/02/02 20:27:09 igorm)

Converted to SAFER mode. (lib/pf2afm [1.2], lib/pf2afm.bat [1.2],
lib/pf2afm.cmd [1.2], lib/pf2afm.ps [1.3]: 2001/02/03 21:31:40 alexcher)

</pre><h2><a name="6.61-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- Changes tiff12nc to output correct number of bytes for odd widths.
(gdevtfnx.c [1.5]: 2001/02/03 18:50:01 raph)
	- Added down cast from gx_device_printer to gx_device_fax The fix is
suggested by the user. (gdevdfax.c [1.4]: 2001/02/12 21:02:51 alexcher)
	- pswrite ProcSet is reordered to eliminate forward references and
please a simplistic parser used by one of GS customers. (gdevps.c [1.15]:
2001/02/21 05:52:07 alexcher)

First cut of the PDF 1.4 transparency and blending operations.
(gdevpnga.c [1.1]: 2001/01/14 00:25:27 raph)

Continuing development of PDF 1.4 transparency and blending. This round of
commits implements groups, including non-isolated and knockout variants.
Also, moves the build rule for the pnga device from contrib to devs.
(gdevpnga.c [1.2]: 2001/02/22 07:27:10 raph)

</pre><h2><a name="6.61-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- in pdfwrite mode kshow called its procedure in infinite loop
bacause the character indes was not updated. Unexpected number of calls to
the procedure often caused various errors such as /stackunderfloe.
(gdevpdfs.c [1.2]: 2001/02/06 21:42:38 alexcher)
	- imagemask used the color of previous object if the object had
smaller clipping path than imagemask. Deferred grestore and setcolor were
transposed. (gdevpdfi.c [1.21]: 2001/02/07 03:49:27 alexcher)

</pre><h2><a name="6.61-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- skip all bytes after the end of the stream in the inline image
until EOL or EI is found. Some buggy PDF files require this. Fix: In PDF 1.3
/Matrix key in XObject is optional. Add unitary matrix to the form
dictionary if XObject has none. (lib/pdf_draw.ps [1.25]: 2001/02/02 22:08:33
alexcher)

Added DOPDFMARKS to allow pdfmark to be called for annotations, links and
cropboxes for PDF files on any device. Fixes SourceForge bug # 127062.
(lib/pdf_main.ps [1.27]: 2001/02/09 23:38:12 ghostgum)

Continuing development of PDF 1.4 transparency and blending. This round of
commits implements groups, including non-isolated and knockout variants.
Also, moves the build rule for the pnga device from contrib to devs.
(lib/pdf_draw.ps [1.26]: 2001/02/22 07:27:10 raph)

</pre><h2><a name="6.61-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- cvs operator did't report rangecheck when source operand is a name
or string and it's longer than the destination string. Bug # 130975
(iutil.c [1.3]: 2001/02/05 20:43:40 alexcher)
	- memmove() was used without portability header file memory_.h
(ztrans.c [1.13]: 2001/02/13 19:45:38 alexcher)
	- New TransformPQR implements a relative colorimetric intent by
scaling the XYZ values relative to the white and black points. Bug #129771
(lib/gs_lev2.ps [1.7]: 2001/02/21 04:23:44 alexcher)

branches: 1.1.2; file dwtrace.h was initially added on branch HINTER.
(dwtrace.h [1.1]: 2001/01/12 06:18:35 igorm)

branches: 1.1.2; file dwtrace.cpp was initially added on branch HINTER.
(dwtrace.cpp [1.1]: 2001/01/12 06:22:06 igorm)

Increments CVS version number to 6.61 as part of (very delayed) 6.60 release
process. (lib/gs_init.ps [1.29]: 2001/02/03 01:23:03 raph)

</pre><h2><a name="6.61-Streams"></a>Streams</h2><pre>

Minor patches for clean VMS compile. Thanks to Jacob (=Jouk) Jansen.
(stdio_.h [1.3]: 2001/02/02 07:52:26 raph)

</pre><h2><a name="6.61-Library"></a>Library</h2><pre>

Fixes problems:
	- egcc - 2.91.66 generates incorrect code for dda_step_add(dxx4,
dxx4); Using the intermediate variable now to wark around the problem. This
bug corrupted memory block headers and caused random crashes.
(gxifast.c [1.3]: 2001/01/25 21:36:17 alexcher)

Changes gx_image_cached_char so that it now images to the device in the text
enumeration, rather than the current device. This change gives more
flexibility for implementations of begin_text to interpose a device of their
own for actual imaging. (gxccache.c [1.3]: 2001/01/04 19:39:24 raph)

Updates documentation in gxdevcli.h on creating device instances.
(gxdevcli.h [1.4]: 2001/01/14 00:24:30 raph)

First cut of the PDF 1.4 transparency and blending operations.
(gxblend.c [1.1], gxblend.h [1.1]: 2001/01/14 00:25:27 raph)

Minor patches for clean VMS compile. Thanks to Jacob (=Jouk) Jansen.
(gsnogc.c [1.6], gxblend.c [1.2]: 2001/02/02 07:52:25 raph)

Continuing development of PDF 1.4 transparency and blending. This round of
commits implements groups, including non-isolated and knockout variants.
Also, moves the build rule for the pnga device from contrib to devs.
(gstrans.c [1.12], gxdevcli.h [1.5]: 2001/02/22 07:27:10 raph)

</pre><h2><a name="6.61-Other"></a>Other</h2><pre>

branches: 1.1.2; file _type1.h was initially added on branch HINTER.
(_type1.h [1.1]: 2001/01/12 06:22:23 igorm)

branches: 1.1.2; file vdtrace.h was initially added on branch HINTER.
(vdtrace.h [1.1]: 2001/02/02 20:27:09 igorm)

</pre><hr>

<h1><a name="Version6.60"></a>Version 6.60 (2000-12-31)</h1>

<p>
This long-overdue fileset includes major new developer documentation, major
improvements in the PDF writer (for embedded fonts and for DSC comments),
and lots of bug fixes.  Unfortunately, for unknown reasons, the release
"smoke test" loops forever on the file data/ps/screen.ps -- but only when
compiled in 'production' mode, not in 'debug' mode.  We suspect a gcc bug,
but don't have the time to track it down before the end of the millennium.

<p>
All problems registered on SourceForge numbered 127190 or lower are closed,
except for the following: 101814, 101955, 102735, 105289, 106652, 109350,
111449, 113116, 113799, 114084, 115256, 116461, 117260, 119676, 119677,
119798, 120967, 121582, 121715, 122426, 122532, 122534, 122683, 122727,
123005, 123091, 123702, 123754, 123867, 123896, 123992, 124042, 124056,
124095, 124134, 124205, 124863, 124973, 126364, 126391, 126462, 126477,
126506, 126584, 126771, 126943, 127062, 127090, 127190.

<h3><a name="6.60_Incompatible_changes"></a>Incompatible changes</h3>

<pre>
(Interpreter)
	- With WMode = 1, CID-keyed fonts with no Metrics2 now use default
metrics computed from FontBBox rather than the horizontal metrics.
(PDF interpreter)
	- The interpreter now skips to the next EOL after reading the data
following the ID operator.
	- The incorrectly named ViewerOrientation DSC comment is now
corrected to ViewingOrientation.
(Streams)
	- All decoding filters that recognize an EOD in the source data
must now have an init procedure that sets state-&gt;min_left = 1.
(Library)
	- The glyph_data, subr_data, and seac_data procedures in a Type 1
font (gs_type1_data_procs), and the glyph_data procedure passed to
psf_{check,get}_outline_glyphs, must now return 1 iff the outline string was
newly allocated and should be freed by the caller, like the get_outline
procedure of Type 42 fonts (gs_type42_data).
	- The ip_state structure is renamed ip_state_t, and has a new
member, free_char_string.
	- The incorrectly named ViewerOrientation DSC comment is now
corrected to ViewingOrientation, and the viewer_orientation members of
the DSC parsing structure are corrected to viewing_orientation.



</pre><h2><a name="6.60-Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- An isolated ampersand needed to be converted to the HTML form.
(doc/Bug-form.htm [1.12]: 2000/11/04 17:53:57 lpd)
	- cvs2hist was generating invalid anchor names and not escaping
special charaters. also enable '-r' commandline option, and pass '-b' if
it's not specified for default branch logs only. Changes.htm now passes the
validator. Minor url cleanup in Release.htm (doc/Changes.htm [1.19],
doc/Release.htm [1.23]: 2000/11/10 01:52:35 giles)
	- Removes obsolete documentation reference to -DUsePrinterImages and
clarifies the entry for the replacing -DPrinted. Fixes sourceforge bug #
121907. (doc/Use.htm [1.16]: 2000/11/20 20:34:23 giles)
	- Type 1 CharStrings loaded from disk for type 0 CIDFonts were never
freed, except by garbage collection (which doesn't reclaim chunks with only
a small amount of surviving data). In practice, this probably only affects
the PDF writer. (doc/News.htm [1.71]: 2000/11/23 23:34:23 lpd)
	- The pswrite device couldn't write to pipes. The fix involved
expanding the API for opening device OutputFiles so that the individual
driver could specify whether it required, requested, or did not want a
positionable file. Fixes SourceForge bug # 122223. (doc/Use.htm [1.17]:
2000/11/29 02:25:13 lpd)
	- The default ps2pdf "distiller parameters" weren't documented
correctly; the parameter values for the other PDFSETTINGS (screen, printer,
prepress) weren't documented at all; the xxxImageDownsampleThreshold
parameters were incorrectly documented as xxxDownsampleThreshold.
(doc/Ps2pdf.htm [1.22]: 2000/12/19 17:55:55 lpd)
	- The documentation of the -dSAFER command line switch was
inaccurate. (doc/Use.htm [1.18]: 2000/12/23 01:33:06 lpd)
	- documentation for gs_cidcm.ps and gs_dscp.ps was missing.
(doc/Psfiles.htm [1.11]: 2000/12/29 02:17:12 lpd)

Adds developer documentation on the color mapping pipeline.
(doc/Develop.htm [1.16]: 2000/11/03 04:53:00 lpd)

switch to Tobias Burnus' stylesheet for the B-D html documentation, along
with some minor cleanups (doc/Bug-form.htm [1.10], doc/Bug-info.htm [1.8],
doc/C-style.htm [1.6], doc/Commprod.htm [1.4], doc/Copying.htm [1.4],
doc/Current.htm [1.4], doc/DLL.htm [1.4], doc/Develop.htm [1.17],
doc/Devices.htm [1.14], doc/Drivers.htm [1.10], doc/gs.css [1.1]: 2000/11/03
06:42:42 giles)

update remaining file links in Develop.htm to &lt;dl&gt; format, plus
additional cleanup (doc/Commprod.htm [1.5], doc/DLL.htm [1.5],
doc/Develop.htm [1.18], doc/Devices.htm [1.15], doc/Drivers.htm [1.11]:
2000/11/03 20:15:55 giles)

Lists all the monochrome TIFF drivers individually, rather than as a class.
(doc/Devices.htm [1.16]: 2000/11/03 23:33:18 lpd)

Switches the rest of the human-maintained html documentation to the new
stylesheet. We now pass validator.w3.org for HTML 4.01 with the exception of
an error I couldn't figure out in Bug-form.htm. (doc/Bug-form.htm [1.11],
doc/Fonts.htm [1.9], doc/Helpers.htm [1.7], doc/Hershey.htm [1.3],
doc/Htmstyle.htm [1.7], doc/Humor.htm [1.2], doc/Install.htm [1.10],
doc/Language.htm [1.21], doc/Lib.htm [1.4], doc/Maintain.htm [1.7],
doc/Make.htm [1.17], doc/New-user.htm [1.15], doc/Projects.htm [1.20],
doc/Ps-style.htm [1.4], doc/Ps2epsi.htm [1.5], doc/Ps2pdf.htm [1.19],
doc/Psfiles.htm [1.10], doc/Public.htm [1.4], doc/Readme.htm [1.15],
doc/Release.htm [1.22], doc/Source.htm [1.4], doc/Tester.htm [1.4],
doc/Unix-lpr.htm [1.4], doc/Use.htm [1.15], doc/Xfonts.htm [1.4],
doc/index.html [1.2]: 2000/11/04 05:00:00 giles)

updated News.htm to use gs.css (doc/News.htm [1.70]: 2000/11/04 21:59:35
giles)

Adds documentation on Ghostscript's object-oriented coding conventions, and
more documentation on error generation. (doc/C-style.htm [1.7],
doc/Develop.htm [1.19]: 2000/11/07 07:34:57 lpd)

Expands the description of the color mapping process.
(doc/Develop.htm [1.20]: 2000/11/09 05:41:46 lpd)

updates history files 1-4 (historical) to valid html4 and the new stylesheet
(doc/History1.htm [1.4], doc/History2.htm [1.4], doc/History3.htm [1.4],
doc/History4.htm [1.4]: 2000/11/28 22:55:34 giles)

updates the version 5.x history file to the conforming html4
(doc/History5.htm [1.6]: 2000/12/01 00:47:08 giles)

Adds documentation on creating a release directory on the Wisconsin server,
including checking the version numbers of the third-party libraries.
(doc/Release.htm [1.24]: 2000/12/05 21:16:25 lpd)

Updates documentation to reflect recent improvements in text and DSC comment
handling. (doc/Ps2pdf.htm [1.20]: 2000/12/09 08:01:56 lpd)

Documents the change from ViewerOrientation to ViewingOrientation in the DSC
parser. (doc/News.htm [1.72]: 2000/12/09 19:53:48 lpd)

Makes the PDF writer extract orientation and bounding box information from
DSC comments, if present. The orientation is used to set Rotate if
AutoRotatePages is not selected; the bounding box is not yet used for
anything. (doc/Ps2pdf.htm [1.21]: 2000/12/09 19:54:55 lpd)

adds a brief blurb for Develop.htm (doc/Readme.htm [1.16]: 2000/12/11
19:39:36 giles)

In the developer documentation, breaks down several long file lists into
shorter, more focused ones. (doc/Develop.htm [1.21]: 2000/12/12 19:52:49
lpd)

Adds some additional documentation on halftones. (doc/Develop.htm [1.22]:
2000/12/15 01:46:57 lpd)

Adds additional documentation on makefile conventions, and improves a few
other areas. (doc/Develop.htm [1.23]: 2000/12/18 06:45:23 lpd)

Adds more documentation on makefiles, .dev files, and related topics.
(doc/Develop.htm [1.24]: 2000/12/20 05:09:31 lpd)

Adds more developer documentation on the PostScript interpreter; divides up
some lists of files to provide more helpful detail. (doc/Develop.htm [1.25]:
2000/12/20 20:15:41 lpd)

Documents the preferred line breaking and indentation format for assignment
statements, including chain assignments. (doc/C-style.htm [1.8]: 2000/12/22
16:58:55 lpd)

Makes some minor corrections and improvements to the developer
documentation. (doc/Develop.htm [1.26]: 2000/12/28 05:57:18 lpd)

Adds substantial new material on coding conventions for structures, classes,
and subclasses. (doc/C-style.htm [1.9]: 2000/12/28 07:12:38 lpd)

Documents about 15 additional non-standard operators (the ones most likely
to be used in future code). (doc/Develop.htm [1.27],
doc/Language.htm [1.22]: 2000/12/28 18:29:49 lpd)

Documents the need to run hrefcov as part of the release process; also fixes
some minor inaccuracies. (doc/Release.htm [1.25]: 2000/12/29 02:12:08 lpd)

Adds more files to the developer "roadmap" documentation.
(doc/Develop.htm [1.28]: 2000/12/29 02:18:47 lpd)

Adds the Fontmaps and the contributed drivers to the developer documentation
"roadmap", which is now complete. (doc/Develop.htm [1.29]: 2000/12/29
02:33:40 lpd)

Adds some developer documentation on design principles.
(doc/Develop.htm [1.30]: 2000/12/30 22:07:37 lpd)

Removes or updates no longer appropriate references to Aladdin Enterprises.
(doc/Commprod.htm [1.6], doc/Fonts.htm [1.10], doc/Install.htm [1.11],
doc/Make.htm [1.18], doc/New-user.htm [1.16], doc/Projects.htm [1.21],
doc/Use.htm [1.19]: 2000/12/31 21:43:59 lpd)

Updates documentation for the Windows uninstall program to reflect the name
change from Aladdin Ghostscript to AFPL Ghostscript.
(doc/Install.htm [1.12]: 2000/12/31 22:26:08 lpd)

Updates repository for 6.60 release. (doc/Bug-form.htm [1.13],
doc/Bug-info.htm [1.9], doc/C-style.htm [1.10], doc/Commprod.htm [1.7],
doc/Copying.htm [1.5], doc/Current.htm [1.5], doc/DLL.htm [1.6],
doc/Develop.htm [1.31], doc/Devices.htm [1.17], doc/Drivers.htm [1.12],
doc/Fonts.htm [1.11], doc/Helpers.htm [1.8], doc/History1.htm [1.5],
doc/History2.htm [1.5], doc/History3.htm [1.5], doc/History4.htm [1.5],
doc/History5.htm [1.7], doc/History6.htm [1.15], doc/Htmstyle.htm [1.8],
doc/Install.htm [1.13], doc/Language.htm [1.23], doc/Lib.htm [1.5],
doc/Maintain.htm [1.8], doc/Make.htm [1.19], doc/New-user.htm [1.17],
doc/News.htm [1.73], doc/Projects.htm [1.22], doc/Ps-style.htm [1.5],
doc/Ps2epsi.htm [1.6], doc/Ps2pdf.htm [1.23], doc/Psfiles.htm [1.12],
doc/Readme.htm [1.17], doc/Release.htm [1.26], doc/Source.htm [1.5],
doc/Tester.htm [1.5], doc/Unix-lpr.htm [1.5], doc/Use.htm [1.20],
doc/Xfonts.htm [1.5], doc/gs-vms.hlp [1.4], man/dvipdf.1 [1.2],
man/eps2eps.1 [1.3], man/font2c.1 [1.2], man/gs.1 [1.2], man/gslp.1 [1.2],
man/gsnd.1 [1.2], man/pdf2dsc.1 [1.2], man/pdf2ps.1 [1.4],
man/pdfopt.1 [1.2], man/pf2afm.1 [1.2], man/pfbtopfa.1 [1.3],
man/printafm.1 [1.2], man/ps2ascii.1 [1.2], man/ps2epsi.1 [1.2],
man/ps2pdf.1 [1.6], man/ps2pdfwr.1 [1.3], man/ps2ps.1 [1.9],
man/wftopfa.1 [1.2]: 2001/01/01 00:24:05 lpd)

</pre><h2><a name="6.60-Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- cvs2hist was generating invalid anchor names and not escaping
special charaters. also enable '-r' commandline option, and pass '-b' if
it's not specified for default branch logs only. Changes.htm now passes the
validator. Minor url cleanup in Release.htm (toolbin/cvs2hist.py [1.4]:
2000/11/10 01:52:35 giles)
	- The OS/2 platform code would no longer compile, because the stdio
files are no longer available. (fix from rjl) (os2.mak [1.9]: 2000/12/05
01:16:26 lpd)
	- Embedded font subsets always used similar sequences of prefixes,
making it likely that combining multiple PDF files would lead to clashes;
the code now generates truly random prefixes, using an external source of
random data. (devs.mak [1.39]: 2000/12/10 00:12:23 lpd)
	- Fixes a couple of dependency lists that had gotten out of sync.
(devs.mak [1.40]: 2000/12/10 00:17:51 lpd)
	- Seek was broken and PDF interpreter failed when
FILE_IMPLEMENTATION=fd The implementation of streams using direct OS calls
is extended to support MSVC &amp;&amp; Win32. close_.h is replaced by more
general unistd_.h (lib.mak [1.40]: 2000/12/19 03:35:40 alexcher)
	- In the previous fix unistd__h was misspelt as unistd_h .
(lib.mak [1.41]: 2000/12/19 05:35:53 alexcher)
	- The recent change for localized man pages didn't update 2 of the 3
top-level Unix makefiles. (unixansi.mak [1.7], unixtrad.mak [1.7]:
2000/12/23 16:29:53 lpd)
	- The list of doc files to be installed had gotten out of date
(Develop.htm, Maintain.htm, and Ps-style.htm were missing).
(unixinst.mak [1.16]: 2000/12/23 16:30:36 lpd)
	- unixinst.mak was checked in with the previous fix only partly
done. (unixinst.mak [1.17]: 2000/12/23 16:34:12 lpd)

Collect some stray configuration related externs into iconf.h
(int.mak [1.40]: 2000/11/04 06:12:02 rayjj)

Adds DSC parsing capability to the PostScript interpreter, with an optional
'feature' to use the DSC Orientation comments to compensate for sloppy
PostScript producers that don't emit an appropriate setpagedevice command.
(int.mak [1.41]: 2000/11/05 18:33:53 lpd)

Adds the 'hook' for passing DSC comments to the PDF writer, but doesn't
actually process any of the comments. NOTE: Part of this code was
accidentally included in the recent fix for local/global VM problems in the
PostScript code for using the DSC parser. (devs.mak [1.36]: 2000/11/07
18:54:26 lpd)

Reorganizes some text-writing code in anticipation of adding CIDFont and
CMap support. (devs.mak [1.37]: 2000/11/17 22:11:44 lpd)

Avoids exporting empty LD_RUN_PATH environment variable to the link process.
This was causing binaries to search the current directory for libraries,
which was a security hole. Fixes SourceForge bug 122532. (ugcclib.mak [1.6],
unixlink.mak [1.3]: 2000/11/28 00:14:48 raph)

Updates the date and version checker for compatibility with the newest
documentation standards; also makes it check the makefile values of JVERSION
and PVERSION against the currently installed third-party source code.
(toolbin/pre [1.9]: 2000/12/05 21:14:14 lpd)

Extensively revises and updates the pdfwrite text handling code to support
processing and embedding of all types of fonts (except for Type 3 and
CIDFontType 1, which are defined by PostScript procedures), and all variants
of 'show' (including kshow and glyphshow). In particular, Type 0 fonts with
all FMapTypes (including CMap-based), CIDFontType 0 and 2 fonts, and both
standard and non-standard CMaps are supported. (devs.mak [1.38],
int.mak [1.42], lib.mak [1.38]: 2000/12/08 23:35:37 lpd)

removes a spurious import of the cgi module (toolbin/cvs2hist.py [1.5]:
2000/12/11 19:40:23 giles)

Splits off the code for downsampling an oversampled character bitmap into a
separate file. (lib.mak [1.39]: 2000/12/14 00:14:52 lpd)

Adds a '-t' option to enable text output rather than html, replacing the old
behavior, which was to return text unless a version string was passed with
'-v'. The version string is now set to 'CVS' if no explicit version is
passed, and this is used in the named anchors within the html output.
(toolbin/cvs2hist.py [1.6]: 2000/12/23 09:38:10 giles)

Adds support for localized manpages to the make 'install' target. On unix
the makefile will now intall any files with the &#36;MAN1EXT extension it finds
under locale subdirs of the man directory that are listed in the MAN_LCDIRS
variable. The &#36;man1dir is correspondingly removed from unix-gcc.mak. Also
adds separate targets: install-doc install-man install-examples
install-libdata (unix-gcc.mak [1.9], unixinst.mak [1.15]: 2000/12/23
10:10:37 giles)

Improves the set of files checked by hrefcov +lib.
(toolbin/hrefcov.tcl [1.5]: 2000/12/29 02:16:13 lpd)

Adds a script for batch-converting PostScript files to PDF, intended to be
useful for testing. (toolbin/many2pdf.tcl [1.1]: 2000/12/31 22:28:09 lpd)

Updates repository for 6.60 release. (toolbin/pre [1.10],
version.mak [1.24]: 2001/01/01 00:24:06 lpd)

</pre><h2><a name="6.60-Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- pdfopt.ps used the "unresolved?" procedure from pdf_base.ps, which
has been replaced by the slightly different "resolved?" procedure.
(lib/pdfopt.ps [1.4]: 2000/12/01 04:15:52 lpd)
	- The OS/2 platform code would no longer compile, because the stdio
files are no longer available. (fix from rjl) (gp_os2.c [1.5]: 2000/12/05
01:16:26 lpd)
	- File flush method uses file member in stream. On Windows and OS/2
it is NULL for %stdout or %stderr. So the standard flush method is
installed. (gp_msio.c [1.3], gp_os2.c [1.6]: 2000/12/19 03:44:24 alexcher)
	- /NullEncode filter no longer supports fileposition. Replacing
fileposition with .fileposition (lib/impath.ps [1.3]: 2000/12/28 17:06:07
alexcher)
	- _.at file was not deleted in BAT file; SAFER option added to CMD
file. (lib/eps2eps.bat [1.4], lib/eps2eps.cmd [1.2]: 2000/12/30 18:45:37
alexcher)

Improves documentation of cid2code.ps by adding a complete usage example.
(lib/cid2code.ps [1.3]: 2000/11/30 18:22:11 lpd)

Adds extensive documentation to genconf.c; also brings it into line with
current Ghostscript coding standards. (genconf.c [1.4]: 2000/12/20 04:20:34
lpd)

Safe mode implemented using DELAYSAFER flag. (lib/pdf2dsc [1.3],
lib/pdf2dsc.bat [1.1], lib/pdf2dsc.ps [1.3]: 2000/12/29 05:03:49 alexcher)

</pre><h2><a name="6.60-Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- In PDF output, color values of 1.0 were usually written as 0.999.
(bug introduced in version 6.22) (gdevpsdu.c [1.8]: 2000/11/12 07:13:26 lpd)
	- The pswrite device couldn't write to pipes. The fix involved
expanding the API for opening device OutputFiles so that the individual
driver could specify whether it required, requested, or did not want a
positionable file. Fixes SourceForge bug # 122223. (gdevps.c [1.13],
gdevpx.c [1.5]: 2000/11/29 02:25:13 lpd)
	- Invalid (uninitialized) StripByteCount was being left in file for
the tiff12nc and tiff24nc devices. Needed to call gdev_tiff_end_strip().
(gdevtfnx.c [1.4]: 2000/12/15 06:09:27 rayjj)
	- Fixes bug introduced in gdevxini.c revision 1.5. Don't overwrite
the pixmap handle provided in the GHOSTVIEW environment variable.
(gdevxini.c [1.10]: 2000/12/15 10:18:47 ghostgum)
	- The pswrite device produced an extra page if the transfer function
didn't map "1 setgray" to device white. (gdevps.c [1.14]: 2000/12/21
03:58:54 lpd)

</pre><h2><a name="6.60-PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- kshow caused the PDF writer to revert to bitmapped fonts. Fixes
SourceForge bug # 104118. (gdevpdft.c [1.21]: 2000/11/06 04:17:14 lpd)
	- The PDF writer didn't handle stroked fonts correctly (they were
filled instead of stroked). (gdevpdf.c [1.23], gdevpdfd.c [1.11],
gdevpdft.c [1.22], gdevpdfx.h [1.23]: 2000/11/12 06:52:08 lpd)
	- When mixing filled and stroked fonts, the color wasn't set
correctly. (gdevpdft.c [1.23]: 2000/11/12 07:14:30 lpd)
	- The PDF writer incorrectly assumed that in PDF 1.3, the standard
Latin character set was the PostScript 3 extended set (it's actually the old
PostScript Level 2 set). (gdevpdft.c [1.28]: 2000/11/20 18:13:55 lpd)
	- Embedded CIDFontType 2 fonts had an incorrect BoundingBox.
(gdevpdff.c [1.14]: 2000/12/09 06:53:25 lpd)
	- Embedded font subsets always used similar sequences of prefixes,
making it likely that combining multiple PDF files would lead to clashes;
the code now generates truly random prefixes, using an external source of
random data. (gdevpdf.c [1.26], gdevpdfe.c [1.8], gdevpdff.c [1.15],
gdevpdff.h [1.9], gdevpdfx.h [1.27]: 2000/12/10 00:12:23 lpd)
	- Non-embedded Multiple Master instances weren't identified as such
(font Subtype = /MMType1). (gdevpdfw.c [1.7]: 2000/12/11 08:52:01 lpd)
	- pdfwrite would crash if a bitmap character was larger than 10Kb
(compressed). The fix simply raises the limit to 1 Mb. (gdevpdft.c [1.30]:
2000/12/13 01:33:37 lpd)
	- When processing DSC comments, some constant strings weren't copied
to the heap, possibly causing memory access errors. (gdevpdfp.c [1.16]:
2000/12/16 07:02:35 lpd)
	- If the same standard (base 14) font was loaded more than once
(because of save/restore), the PDF file could contain fonts that had
suffixed names (e.g., Helvetica~2) but with data missing as though they were
standard fonts, upsetting Acrobat Reader. Fixes SourceForge bug # 101905.
THIS FIX IS IN A VERY FRAGILE AREA AND MAY INTRODUCE NEW PROBLEMS.
(gdevpdff.c [1.16]: 2000/12/16 08:00:53 lpd)
	- The previous fix for copying DSC comment keys to the heap was
unnecessarily complex. (gdevpdfp.c [1.17]: 2000/12/16 19:28:51 lpd)
	- Resource usage wasn't tracked separately for Form XObjects (BP/EP
pdfmarks), producing non-compliant files that caused errors from Acrobat.
Fixes SourceForge bug # 102146. (gdevpdf.c [1.28], gdevpdff.c [1.17],
gdevpdff.h [1.10], gdevpdfm.c [1.8], gdevpdfo.c [1.6], gdevpdfo.h [1.6],
gdevpdft.c [1.31], gdevpdfu.c [1.14], gdevpdfw.c [1.8], gdevpdfx.h [1.28]:
2000/12/16 19:36:32 lpd)
	- Strict type correctness is required on VMS system. Contributed by
Jouk Jansen joukj@hrem.stm.tudelft.nl (gdevpdfw.c [1.9]: 2000/12/18 21:58:03
alexcher)

Adds the 'hook' for passing DSC comments to the PDF writer, but doesn't
actually process any of the comments. NOTE: Part of this code was
accidentally included in the recent fix for local/global VM problems in the
PostScript code for using the DSC parser. (gdevpdfp.c [1.13]: 2000/11/07
18:54:26 lpd)

Changes the internal indication of whether to allow font subsetting from a
Boolean to OK, YES, NO. (Unfortunately, I no longer remember why this change
is needed.) (gdevpdfe.c [1.6], gdevpdff.c [1.10], gdevpdff.h [1.5],
gdevpdft.c [1.24]: 2000/11/14 06:57:21 lpd)

When writing PDF output, adds the ability to convert text in Type 0 fonts to
text in the descendant leaf fonts. This completes the handling of text
output except for CID-keyed fonts. (gdevpdft.c [1.25]: 2000/11/14 16:47:09
lpd)

Reorganizes some text-writing code in anticipation of adding CIDFont and
CMap support. (gdevpdff.c [1.11], gdevpdff.h [1.6], gdevpdft.c [1.26]:
2000/11/17 22:11:44 lpd)

Makes glyphshow no longer revert to bitmapped fonts. Also adds a CIDFont
pseudo-resource, in anticipation of adding CID-keyed font support.
(gdevpdff.c [1.12], gdevpdff.h [1.7], gdevpdft.c [1.27], gdevpdfx.h [1.24]:
2000/11/20 08:31:20 lpd)

Extensively revises and updates the pdfwrite text handling code to support
processing and embedding of all types of fonts (except for Type 3 and
CIDFontType 1, which are defined by PostScript procedures), and all variants
of 'show' (including kshow and glyphshow). In particular, Type 0 fonts with
all FMapTypes (including CMap-based), CIDFontType 0 and 2 fonts, and both
standard and non-standard CMaps are supported. (gdevpdf.c [1.24],
gdevpdfe.c [1.7], gdevpdff.c [1.13], gdevpdff.h [1.8], gdevpdfs.c [1.1],
gdevpdft.c [1.29], gdevpdfu.c [1.13], gdevpdfw.c [1.6], gdevpdfx.h [1.25]:
2000/12/08 23:35:38 lpd)

If ParseDSCCommentsForDocInfo is set to true, copies information from DSC
comments Creator, CreationDate, For, and Title into the output's Info
dictionary. (gdevpdfp.c [1.14]: 2000/12/09 07:49:22 lpd)

Makes the PDF writer extract orientation and bounding box information from
DSC comments, if present. The orientation is used to set Rotate if
AutoRotatePages is not selected; the bounding box is not yet used for
anything. (gdevpdf.c [1.25], gdevpdfp.c [1.15], gdevpdfx.h [1.26]:
2000/12/09 19:54:54 lpd)

Slightly changes the initialization of the random offset for font subset
prefixes, to work better with low-resolution clocks such as those typical on
PCs. (gdevpdf.c [1.27]: 2000/12/16 19:31:10 lpd)

</pre><h2><a name="6.60-PDF_Interpreter"></a>PDF Interpreter</h2><pre>

Fixes problems:
	- Type 0 fonts with a non-standard (embedded) CMap didn't work at
all. (lib/pdf_font.ps [1.15]: 2000/12/02 20:41:52 lpd)
	- The PDF interpreter ignored the CIDToGIDMap entry in (embedded)
CIDFontType 2 fonts, producing incorrect output if the map wasn't /Identity.
(lib/pdf_font.ps [1.16]: 2000/12/07 23:41:10 lpd)
	- GS didn't dereference indirect objects in Widths array.
(lib/pdf_font.ps [1.17]: 2000/12/17 19:06:19 alexcher)
	- Fixes a slight oversight in the true/false/null improvement for
the PDF interpreter. (lib/pdf_base.ps [1.12]: 2000/12/26 04:10:12 lpd)
	- When a non-TrueType font was substituted for a TrueType font, the
Encoding in the font descriptor was ignored. This hack was intended to fix
SF bug # 104702, an invalid PDF file, but it broke another case. Removal of
the hack makes GS render both cases similar to AR 4.
(lib/pdf_font.ps [1.18]: 2000/12/26 04:29:30 alexcher)
	- The PDF interpreter didn't rotate the CropBox for landscape pages,
producing incorrect output if the input of ps2pdf was a landscape PDF file.
(lib/pdf_main.ps [1.26]: 2000/12/31 01:07:18 lpd)

Improves font substitution by taking the "Narrow" property into account.
Fixes SourceForge bug 116460. Fix due to Leon Bottou.
(lib/pdf_font.ps [1.13]: 2000/11/05 17:36:28 raph)

Wraps the showpagecontents call in gsave/grestore, so that the graphics
state for drawing annotations is pristine. Fixes Sourceforge bug 123310.
(lib/pdf_main.ps [1.23]: 2000/11/25 22:00:21 raph)

The published PDF specification says the Encoding name "must be" one of the
3 predefined Encodings, implying that an error should occur if it isn't.
However, Acrobat Reader simply ignores unknown names, and since there are
some buggy applications that rely on this, we do the same.
(lib/pdf_font.ps [1.14]: 2000/11/28 18:55:24 alexcher)

The PDF specification says that the 'xref' must be on a line by itself. The
code formerly used readline and linene to check this. However, Acrobat
Reader only requires the line to begin with 'xref', and there are enough
applications producing non-compliant PDF files that we have to do this too.
(lib/pdf_main.ps [1.24]: 2000/12/18 03:41:35 alexcher)

AI8 writes bogus encoding array [0 1 0 0 0 0 0 0] AR doesn't care. So we
have to straighten it up here. (lib/pdf_draw.ps [1.24]: 2000/12/20 19:02:24
alexcher)

Makes the PDF interpreter handle true, false, and null specially, rather
than by dictionary lookup, so that the PostScript interpreter can still
process these names using the special fast case for names defined only in
systemdict. (lib/pdf_base.ps [1.11], lib/pdf_main.ps [1.25]: 2000/12/26
04:08:44 lpd)

</pre><h2><a name="6.60-Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- The recently updated code for activating the DSC comment parser
had several local/global VM problems, causing invalidaccess errors.
(lib/gs_dps2.ps [1.3], lib/gs_init.ps [1.27], lib/gs_pdfwr.ps [1.7]:
2000/11/07 18:51:24 lpd)
	- There was still a bug in the code for passing DSC comments to the
PDF writer, causing typecheck errors. (lib/gs_pdfwr.ps [1.8]: 2000/11/07
19:27:14 lpd)
	- If the procedure of a FunctionType 4 Function was syntactically
valid but exceeded the maximum stack depth, an attempt was made to free a
string as an object, causing memory corruption. (zfunc4.c [1.6]: 2000/11/11
17:34:06 lpd)
	- Disk-based TrueType fonts caused a memory leak. (Currently, there
are no such fonts, but CIDFontType 2 fonts, and directly-accessed TrueType
fonts, should be made disk-based.) (zfcid1.c [1.4]: 2000/11/22 08:32:07 lpd)
	- Type 1 CharStrings loaded from disk for type 0 CIDFonts were never
freed, except by garbage collection (which doesn't reclaim chunks with only
a small amount of surviving data). In practice, this probably only affects
the PDF writer. (zfcid0.c [1.5]: 2000/11/23 23:34:22 lpd)
	- Single-byte notdef ranges in CMaps incorrectly incremented the CID
number, rather than assigning the same CID to all characters in the range.
(lib/gs_cmap.ps [1.9]: 2000/11/29 06:58:36 lpd)
	- In dictionaries, an int lookup key sometimes didn't match a real
stored key, and vice versa. Fixes SourceForge bug # 123678. (idict.c [1.3]:
2000/11/30 07:13:08 lpd)
	- Further tweaking of the logic to clear end_status flags in a
pipeline in the continuation of a procedure write, making it more aggressive
than the previous fix, but less aggressive than the original code. This is a
revised fix for Sourceforge bug 119777. (zfproc.c [1.7]: 2000/12/02 19:58:45
raph)
	- 'gstate' was allowed in global VM even if the current graphics
state included references to structures in local VM (which is, in fact,
normally the case) and the save level was non-zero: this could create a
dangling pointer after the 'restore'. This "fix" is a workaround that simply
prohibits doing this, but a correct fix would copy any such structures.
(zdps1.c [1.3]: 2000/12/02 20:39:37 lpd)
	- The first call of check_psc_function in gs_build_function_4 didn't
initialize size to 0, causing the computed value of size to be garbage,
possibly leading to a VMerror or memory corruption. (zfunc4.c [1.7]:
2000/12/03 16:56:31 alexcher)
	- The font_info procedure for PostScript fonts other than Type 1
didn't return information from the FontInfo dictionary (Copyright,
FamilyName, FullName, Notice), causing this information to be omitted when
embedding the font in a PDF file. (ifont.h [1.6], zbfont.c [1.7],
zfont.c [1.3], zfont1.c [1.9]: 2000/12/03 23:35:30 lpd)
	- The %%ViewingOrientation: DSC comment was misspelled
%%ViewerOrientation:. This also corrects the CDSC_VIEWINGORIENTATION enum
value (formerly CDSC_VIEWERORIENTATION, and the viewing_orientation members
of the CDSCPAGE structure and the CDSC structure (formerly
viewer_orientation). (dscparse.c [1.3], dscparse.h [1.3], zdscpars.c [1.8]:
2000/12/09 18:28:23 lpd)
	- Unitialized member of CDSCPAGE caused random crashes.
(dscparse.c [1.4]: 2000/12/13 07:18:46 alexcher)
	- systemdict was being created too small for LanguageLevel 3
systems. (It expanded properly, but left a sandbar.) (iinit.c [1.3]:
2000/12/26 04:25:54 lpd)
	- Expanding a permanent dictionary (systemdict or userdict)
destroyed the single-definition bookkeeping for names defined in that
dictionary, slowing down subsequent interpretation. (idict.c [1.4]:
2000/12/26 06:09:58 lpd)
	- Fix to dscparse.c for parsing DOS EPS files. Code now looks for
%!PS-Adobe- at the start of the PostScript section, not at the start of the
DOS EPS header. (dscparse.c [1.5]: 2000/12/28 01:45:01 ghostgum)

Collect some stray configuration related externs into iconf.h
(imain.c [1.3], imainarg.c [1.5]: 2000/11/04 06:12:02 rayjj)

branches: 1.1.2; Collect some stray configuration related externs into
iconf.h (iconf.h [1.1]: 2000/11/04 06:12:02 rayjj)

Add COMPILE_INITS information line to -h help output. (imainarg.c [1.6]:
2000/11/04 06:13:42 rayjj)

Adds DSC parsing capability to the PostScript interpreter, with an optional
'feature' to use the DSC Orientation comments to compensate for sloppy
PostScript producers that don't emit an appropriate setpagedevice command.
(lib/gs_dscp.ps [1.1], zdscpars.c [1.1]: 2000/11/05 18:33:52 lpd)

branches: 1.1.2; Adds DSC parsing capability to the PostScript interpreter,
with an optional 'feature' to use the DSC Orientation comments to compensate
for sloppy PostScript producers that don't emit an appropriate setpagedevice
command. (dscparse.c [1.1], dscparse.h [1.1]: 2000/11/05 18:33:53 lpd)

Polishes the DSC parser interface: improves comments and formatting, and
fixes a couple of very minor glitches. (zdscpars.c [1.2]: 2000/11/06
07:34:21 lpd)

branches: 1.3.2; ... and fixes an overlooked const discrepancy.
(zdscpars.c [1.3]: 2000/11/06 07:35:51 lpd)

branches: 1.2.2; Fix: The recently updated code for activating the DSC
comment parser had several local/global VM problems, causing invalidaccess
errors. (lib/gs_dscp.ps [1.2]: 2000/11/07 18:51:25 lpd)

Return code variables (code and comment_code) in zparse_dsc_comments(). need
to be signed. (zdscpars.c [1.4]: 2000/11/08 00:54:48 dancoby)

Rewrites .parse_dsc_comment to use the parameter list machinery, removing a
little functionally duplicated code; changes two incorrect uints to ints
(fix from dan@artifex.com); adds additional comment types (BoundingBox,
PageBoundingBox, BeginDefaults, EndDefaults) to the interface.
(zdscpars.c [1.5]: 2000/11/08 07:07:32 lpd)

DSC parser changes: adds %%ViewerOrientation to DSC parser; doesn't flag an
error if %%Pages is absent but one %%Page is found; frees memory if
initialization fails; recognizes general whitespace in some places where
only spaces were recognized before. (changes from gsview@ghostgum.com.au)
(dscparse.c [1.2], dscparse.h [1.2]: 2000/11/13 05:44:58 lpd)

Adds DSC comment tracing to ps2pdf, if -dDEBUG is specified on the command
line. (lib/gs_pdfwr.ps [1.9]: 2000/11/13 17:03:51 lpd)

Adds %%EndDefaults, %%For:, and %%ViewerOrientation: to the set of DSC
comments handled by the .parse_dsc_comments operator. (zdscpars.c [1.6]:
2000/11/13 17:06:18 lpd)

Slightly simplifies the code for creating the internal representation of
CMaps. (lib/gs_cmap.ps [1.8]: 2000/11/16 00:32:00 lpd)

Changes .buildshading to always apply a ReusableStreamDecode filter to file
and stream DataSources, so that multiple passes over the stream work. This
patch closes SourceForge bug 121810. (lib/gs_ll3.ps [1.7]: 2000/11/16
00:37:32 raph)

Makes single-byte CMap ranges convert into a single range in the internal
representation, rather than (largest - smallest + 1) separate single-element
ranges. (lib/gs_cmap.ps [1.10]: 2000/11/29 07:10:27 lpd)

Adds documentation for the procedures declared in ifont.h. (ifont.h [1.5]:
2000/12/03 23:14:28 lpd)

Extensively revises and updates the pdfwrite text handling code to support
processing and embedding of all types of fonts (except for Type 3 and
CIDFontType 1, which are defined by PostScript procedures), and all variants
of 'show' (including kshow and glyphshow). In particular, Type 0 fonts with
all FMapTypes (including CMap-based), CIDFontType 0 and 2 fonts, and both
standard and non-standard CMaps are supported. (lib/gs_cidfn.ps [1.18]:
2000/12/08 23:35:38 lpd)

Makes the default value of ParseDSCCommentsForDocInfo true rather than
false. (lib/gs_pdfwr.ps [1.10]: 2000/12/09 08:00:52 lpd)

Changes the parsing of the DSC Orientation comments to return -1 .. 3 rather
than 0 or 1. (lib/gs_dscp.ps [1.3], zdscpars.c [1.7]: 2000/12/09 17:52:29
lpd)

Changes .parse_dsc_comments to distinguish (document default)
ViewingOrientation from PageViewingOrientation, as for [Page]Orientation.
(zdscpars.c [1.9]: 2000/12/09 19:52:49 lpd)

Updates the comments with a new proposal for speeding up name lookup in the
interpreter. (dstack.h [1.3]: 2000/12/26 01:20:58 lpd)

The old code caused gswin crash when console window closes.
(dwimg.cpp [1.3]: 2000/12/26 13:41:40 igorm)

New flag DELAYSAFER added to defer activation of safety checks. SAFER=false
=&gt; no safety checks SAFER=true, DELAYSAFER=false =&gt; safety checks
always SAFER=true, DELAYSAFER=true =&gt; safety checks after .setsafe
(lib/gs_init.ps [1.28]: 2000/12/29 04:13:56 alexcher)

</pre><h2><a name="6.60-Streams"></a>Streams</h2><pre>

Fixes problems:
	- Seek was broken and PDF interpreter failed when
FILE_IMPLEMENTATION=fd The implementation of streams using direct OS calls
is extended to support MSVC &amp;&amp; Win32. close_.h is replaced by more
general unistd_.h (sfxfd.c [1.6]: 2000/12/19 03:35:40 alexcher)

</pre><h2><a name="6.60-Library"></a>Library</h2><pre>

Fixes problems:
	- Several places in the band list code didn't call s_init_state to
initialize locally allocated stream states: this is now required (see the
"Incompatible changes" section above). We suspect there are a few more
places that will need this fix. (gxclbits.c [1.3], gxcldev.h [1.4],
gxclread.c [1.3], gxclutil.c [1.3]: 2000/11/05 00:34:24 lpd)
	- Fixes infinite loops when writing large bitmaps into clist. Now,
cmd_put_bits never requests an allocation in the clist buffer larger than
cbuf_size. (gxclbits.c [1.4]: 2000/11/05 18:44:57 raph)
	- Works around an Acrobat Reader 4 bug that causes AR4 to draw a
single pixel, rather than nothing, when filling a subpath consisting only of
a moveto. (gdevvec.c [1.8]: 2000/11/07 16:42:28 lpd)
	- The PDF writer didn't handle stroked fonts correctly (they were
filled instead of stroked). (gdevvec.c [1.9], gdevvec.h [1.5]: 2000/11/12
06:52:08 lpd)
	- The pdfwrite and pswrite drivers could emit a lineto or rlineto
without a moveto at the beginning of the path. (bug introduced very
recently, by a workaround for an Acrobat Reader bug) (gdevvec.c [1.10]:
2000/11/14 07:41:08 lpd)
	- Attempting to write a CFF Type 2 font larger than 32K but smaller
than 64K caused a rangecheck. (gdevpsf2.c [1.8]: 2000/11/19 17:48:08 lpd)
	- Computing the default width or the fixed width for a CIDFont or
TrueType font could do a huge amount of unnecessary work. (Probably only
affects the PDF writer.) (gsfont.c [1.3]: 2000/11/20 21:09:09 lpd)
	- The Type 1 to Type 2 CharString converter (currently used only by
the PDF writer) often didn't detect invalid CharStrings as input.
(gdevpsfx.c [1.6]: 2000/11/21 02:33:55 lpd)
	- The code for writing a CIDFontType0 CFF font mistook Type 2
CharStrings for Type 1, and tried to convert them to Type 2. (This currently
affects only the PDF writer.) (gdevpsf2.c [1.9]: 2000/11/21 02:35:59 lpd)
	- Disk-based TrueType fonts caused a memory leak. (Currently, there
are no such fonts, but CIDFontType 2 fonts, and directly-accessed TrueType
fonts, should be made disk-based.) (gdevpsft.c [1.5], gstype42.c [1.10]:
2000/11/22 08:32:07 lpd)
	- Type 1 CharStrings loaded from disk for type 0 CIDFonts were never
freed, except by garbage collection (which doesn't reclaim chunks with only
a small amount of surviving data). In practice, this probably only affects
the PDF writer. (gsfcid.c [1.5], gstype1.c [1.6], gstype2.c [1.9],
gxfont1.h [1.5], gxtype1.c [1.8], gxtype1.h [1.5]: 2000/11/23 23:34:22 lpd)
	- The pswrite device couldn't write to pipes. The fix involved
expanding the API for opening device OutputFiles so that the individual
driver could specify whether it required, requested, or did not want a
positionable file. Fixes SourceForge bug # 122223. (gdevpipe.c [1.4],
gdevvec.c [1.11], gdevvec.h [1.6], gsdevice.c [1.8]: 2000/11/29 02:25:13
lpd)
	- The change for freeing transient CharStrings introduced two bugs,
possibly causing the code to free data twice, or to free data that should be
retained. (gdevpsfx.c [1.8]: 2000/11/30 05:58:19 lpd)
	- Allocates graphics state path in stable memory. This prevents
paths in Type 3 fonts allocated inside a save ... setcachedevice ... restore
sequence from being prematurely freed. Fixes SourceForge bug 101549.
(gspath1.c [1.3], gsstate.c [1.6]: 2000/12/04 21:13:55 raph)
	- An inadvertent change caused the graphics state not to be freed on
grestore. This fix, due to lpd, restores the freeing statement.
(gsstate.c [1.7]: 2000/12/05 09:24:57 raph)
	- The pointers to the substituted color spaces in the graphics state
weren't included in the structure descriptor, causing memory access errors
if UseCIEColor was used. (gsstate.c [1.8]: 2000/12/11 04:06:22 alexcher)
	- In TrueType fonts, glyph outlines starting with an off-curve point
didn't render correctly, replacing the curve with a pair of straight lines.
(gstype42.c [1.11]: 2000/12/12 22:27:56 alexcher)
	- Strict type correctness is required on VMS system. Contributed by
Jouk Jansen joukj@hrem.stm.tudelft.nl (gdevpsf2.c [1.12], gsfcmap.c [1.13]:
2000/12/18 21:58:03 alexcher)
	- Seek was broken and PDF interpreter failed when
FILE_IMPLEMENTATION=fd The implementation of streams using direct OS calls
is extended to support MSVC &amp;&amp; Win32. close_.h is replaced by more
general unistd_.h (gpmisc.c [1.9]: 2000/12/19 03:35:40 alexcher)
	- Fixes a subtle logic bug in the scan line path filling code, which
unfortunately involved rewriting the code from scratch. The new code is also
somewhat subtle, and may contain new bugs: DON'T TRUST IT YET. Fixes
SourceForge bug # 117066. (gxfill.c [1.7]: 2000/12/23 06:02:39 lpd)
	- Embedded Type 1 fonts omitted StdVW. (Acrobat Reader requires
this, even though the Type 1 specification says it is optional.)
(gdevpsf1.c [1.8]: 2000/12/29 01:18:55 lpd)

Adds developer documentation on the color mapping pipeline. (gxfrac.h [1.3]:
2000/11/03 04:53:00 lpd)

Improves the documentation of the minimum responsibilities of the 'process'
procedure in a text enumerator. (gxtext.h [1.6]: 2000/11/06 00:44:37 lpd)

Adds a param_string_from_transient_string macro, to parallel
param_string_from_string for non-permanent C strings. (gsparam.h [1.8]:
2000/11/08 06:56:50 lpd)

Adds a macro for declaring suffix subclasses with 5 added pointers (in
addition to the existing 1, 2, 3, 4, and 6). (gsstruct.h [1.6]: 2000/11/21
16:46:55 lpd)

Adds a procedure for testing whether a glyph is a "notdef" in a font,
necessary for fixing a memory consumption problem when accessing type 0
CIDFonts. (gsfont.c [1.4], gxfont.h [1.3]: 2000/11/23 23:23:40 lpd)

Speeds up the slow case of fixed_mult_quo by nearly a factor of 2, by using
a tiny bit of numerical analysis. (gsmisc.c [1.9], gxfixed.h [1.3]:
2000/11/24 06:53:23 lpd)

Improves the performance of embedded font writing by freeing strings when no
longer needed, and by removing redundant computation. (Currently relevant
only to the PDF writer.) (gdevpsf1.c [1.7], gdevpsf2.c [1.10],
gdevpsfu.c [1.5], gdevpsfx.c [1.7]: 2000/11/24 07:10:41 lpd)

Adds a procedure for creating an Identity CMap, needed by the PDF writer.
(gsfcmap.c [1.11], gxfcmap.h [1.6]: 2000/11/26 04:08:41 lpd)

Implements the stopgap measure of increasing fill_adjust for Coons patch
shading, to cover the dropouts caused by incorrect triangulation of the mesh
surface. See SourceForge Bug 119588 for a more thorough analysis.
(gsptype2.c [1.4], gxshade4.c [1.4]: 2000/11/29 01:31:30 raph)

Adds an internal unique ID to CMap structures (gs_cmap_t), for use as a
cache or comparison key. (gsfcmap.c [1.12], gxfcmap.h [1.7]: 2000/11/29
05:50:03 lpd)

The old code did not comply ISO/IEC C language standard and compiled wrongly
to Mac, causing halftone problem on Mac. (gshtscr.c [1.5]: 2000/11/29
14:41:34 igorm)

Adds macros for suffix subclass structures with 7 or 8 additional pointers
(1-6 and 9 existed already). (gsstruct.h [1.7]: 2000/12/04 01:11:53 lpd)

Extensively revises and updates the pdfwrite text handling code to support
processing and embedding of all types of fonts (except for Type 3 and
CIDFontType 1, which are defined by PostScript procedures), and all variants
of 'show' (including kshow and glyphshow). In particular, Type 0 fonts with
all FMapTypes (including CMap-based), CIDFontType 0 and 2 fonts, and both
standard and non-standard CMaps are supported. (gdevpsf.h [1.9],
gdevpsf2.c [1.11], gdevpsfm.c [1.4], gdevpsft.c [1.6], gdevpsfu.c [1.6]:
2000/12/08 23:35:38 lpd)

Moves definitions of gs_state_do_ptrs and gs_state_num_ptrs from gsstate.c
to gzstate.h since they depend on the contents of struct gs_state_s defined
there. (gsstate.c [1.9], gzstate.h [1.4]: 2000/12/11 12:52:16 alexcher)

Splits off the code for downsampling an oversampled character bitmap into a
separate file. (gsbitcom.c [1.1], gsbitops.c [1.3]: 2000/12/14 00:14:52 lpd)

branches: 1.1.2; Fix: Seek was broken and PDF interpreter failed when
FILE_IMPLEMENTATION=fd The implementation of streams using direct OS calls
is extended to support MSVC &amp;&amp; Win32. close_.h is replaced by more
general unistd_.h (unistd_.h [1.1]: 2000/12/19 03:35:40 alexcher)

Brings gxfill.c up to date with current coding standards (except for adding
_t to the names of locally defined structure types); also puts #ifdef
FILL_TRAPEZOIDS around a little more code that tests 'if (fill_trapezoids)'.
(gxfill.c [1.6]: 2000/12/21 16:10:36 lpd)

Updates repository for 6.60 release. (gscdef.c [1.11]: 2001/01/01 00:24:06
lpd)

</pre><h2><a name="6.60-Other"></a>Other</h2><pre>

Fixes problems:
	- Seek was broken and PDF interpreter failed when
FILE_IMPLEMENTATION=fd The implementation of streams using direct OS calls
is extended to support MSVC &amp;&amp; Win32. close_.h is replaced by more
general unistd_.h (close_.h [1.3]: 2000/12/19 03:35:40 alexcher)

</pre><hr>

<h1><a name="Version6.30"></a>Version 6.30 (2000-10-03)</h1>

<p>
This fileset consists of xxx.

<p>
All problems registered on SourceForge numbered 110922 or lower are closed,
except for the following: 101549, 101814, 101905, 101955, 102146, 102735,
104118, 105289, 105558, 106340, 106652, 109350, 110445, 110898, 110922.

<p>
The following projects are in a partially completed state:

<ul>

<li>CID-keyed fonts in the PDF writer (gdevpdf[eftw].c) -- barely started.

</ul>


<h2><a name="6.24_Incompatible_changes"></a>Incompatible changes</h2><pre>

(Procedures)
	- The -Zv and -ZV switches now trace alpha/transparency features.
	- The program name is now AFPL Ghostscript rather than Aladdin
Ghostscript.
	- The default Windows installation directory is now c:\gs rather
than c:\Aladdin.
(Utilities)
	- lib/pdfeof.ps is deleted; its functionality is included in the
standard code.
(Drivers)
	- The X driver now implements sync_output using XSync(False) rather
than XFlush().
(Library)
	- gdev_vector_dopath now never returns 1.
	- Color space types now have a new, required, "equal" procedure.


</pre><h2><a name="6.30 Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- the "User parameters" section was incorrectly titled "Device
parameters". (doc/Language.htm [1.11]: 2000/08/17 17:00:42 lpd)

Initializes files for the 6.24 fileset. (doc/News.htm [1.57]: 2000/08/09
16:54:01 lpd)

Adds Alex Cherepanov to the roster of helpers. (doc/Helpers.htm [1.2]:
2000/08/09 16:54:39 lpd)

Documents the -dDEVICE{WIDTH,HEIGHT}POINTS= switches. (doc/Use.htm [1.10]:
2000/08/17 01:31:52 lpd)

Notes the change in the return value of gdev_vector_dopath.
(doc/News.htm [1.58]: 2000/08/20 00:20:42 lpd)

Changes text to make it clear that Yves Arrouye no longer maintains the BJC
drivers that he wrote. (doc/Devices.htm [1.11]: 2000/08/21 14:38:27 lpd)

Puts the logic for detecting garbage after %%EOF (and some similar invalid
constructs) back into the main code, making it produce a message on stderr.
(doc/Psfiles.htm [1.6]: 2000/08/23 02:22:39 lpd)

Documents the deletion of lib/pdfeof.ps. (doc/News.htm [1.59]: 2000/08/23
02:23:54 lpd)

Starts to implement the PDF 1.4 transparency features. All API and operator
additions are now implemented (at least as stubs) and documented, as is
bookkeeping for the new scalar graphics state members (but not for the soft
masks or the transparency group stack). (doc/Language.htm [1.12]: 2000/08/23
21:46:31 lpd)

Adds a project to avoid DCT-decoding followed by DCT-encoding images when
writing PDF files. (doc/Projects.htm [1.16]: 2000/08/24 03:43:12 lpd)

Adds a new equality-testing virtual procedure for color spaces.
(doc/News.htm [1.60]: 2000/08/24 05:42:30 lpd)

Brings the (still mostly stubbed) transparency code to a more
self-consistent state. (doc/Language.htm [1.13]: 2000/08/30 01:34:40 lpd)

Completes the parsing of .{begin,end}transparency{group,mask}, except for
the TransferFunction for masks. The specification is still subject to
change. (doc/Language.htm [1.14]: 2000/08/30 15:03:36 lpd)

Divides the list of documents according to whether the document is for
users, for developers, or both. (doc/Readme.htm [1.11]: 2000/08/30 21:24:00
lpd)

Adds more documentation for the transparency rendering stack.
(doc/Language.htm [1.15]: 2000/08/31 03:34:41 lpd)

Adds a requirement to only use ANSI standard C library facilities.
(doc/C-style.htm [1.2]: 2000/09/08 04:53:14 lpd)

Changes the -Zv switch to trace alpha/transparency-related features.
(doc/News.htm [1.61], doc/Use.htm [1.11]: 2000/09/10 05:23:10 lpd)

Implements another chunk of the PDF 1.4 transparency features, fixing some
bugs in the previous code. (doc/Language.htm [1.16]: 2000/09/10 05:26:27
lpd)

Documents the addition of (limited) PDF 1.4 output capabilities.
(doc/Ps2pdf.htm [1.16]: 2000/09/11 02:08:58 lpd)

Moves the Matte entry of soft mask images from the main structure to the
mask structures, and changes Matted to has_Matte. (doc/Language.htm [1.17]:
2000/09/11 04:08:13 lpd)

Documents division of bug-gs mailbox into bug-gs, bug-gs-dev, and
bug-gs-beta. (doc/Bug-form.htm [1.7], doc/Bug-info.htm [1.5]: 2000/09/15
23:44:21 lpd)

Adds a paragraph explaining why and how the AFPL is not an Open Source /
Free Software license. (doc/PUBLIC [1.2], doc/Public.htm [1.2]: 2000/09/18
22:26:32 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript; also updates many internal references from
Aladdin Ghostscript to AFPL Ghostscript, and from Aladdin Enterprises to
artofcode LLC. (doc/Bug-form.htm [1.8], doc/Bug-info.htm [1.6],
doc/C-style.htm [1.3], doc/Changes.htm [1.17], doc/Commprod.htm [1.2],
doc/Copying.htm [1.2], doc/Current.htm [1.2], doc/DLL.htm [1.2],
doc/Devices.htm [1.12], doc/Drivers.htm [1.7], doc/Fonts.htm [1.7],
doc/Helpers.htm [1.3], doc/History1.htm [1.2], doc/History2.htm [1.2],
doc/History3.htm [1.2], doc/History4.htm [1.2], doc/History5.htm [1.4],
doc/History6.htm [1.12], doc/Htmstyle.htm [1.5], doc/Install.htm [1.6],
doc/Language.htm [1.18], doc/Lib.htm [1.2], doc/Maintain.htm [1.3],
doc/Make.htm [1.14], doc/New-user.htm [1.11], doc/News.htm [1.62],
doc/PUBLIC [1.3], doc/Projects.htm [1.17], doc/Ps2epsi.htm [1.3],
doc/Ps2pdf.htm [1.17], doc/Psfiles.htm [1.7], doc/Public.htm [1.3],
doc/Readme.htm [1.12], doc/Release.htm [1.18], doc/Source.htm [1.2],
doc/Tester.htm [1.2], doc/Unix-lpr.htm [1.2], doc/Use.htm [1.12],
doc/Xfonts.htm [1.2], doc/gs-vms.hlp [1.2]: 2000/09/19 21:37:50 lpd)

Updates README from Readme.htm. (doc/README [1.3]: 2000/09/19 23:39:31 lpd)

Changes the default Windows installation directory from c:\Aladdin to c:\gs.
(doc/Install.htm [1.7], doc/News.htm [1.63]: 2000/09/22 05:32:17 lpd)

Replaces the OpenVMS installation instructions with an improved set
contributed by a user. (doc/Helpers.htm [1.4], doc/Install.htm [1.8]:
2000/09/22 20:33:19 lpd)

Adds a project for fixing PDF files that have gotten mangled by EOL
conversion. (doc/Projects.htm [1.18]: 2000/09/25 14:40:37 lpd)

Adds a reference to PreScript, another free text extraction program based on
Ghostscript. (doc/New-user.htm [1.12]: 2000/09/26 01:04:40 lpd)

Documentation changes in preparation for 6.30 release. Replaced some contact
information, updated version numbers. (doc/Bug-form.htm [1.9],
doc/Bug-info.htm [1.7], doc/Commprod.htm [1.3], doc/Copying.htm [1.3],
doc/Current.htm [1.3], doc/DLL.htm [1.3], doc/Devices.htm [1.13],
doc/Drivers.htm [1.8], doc/Fonts.htm [1.8], doc/Helpers.htm [1.5],
doc/History1.htm [1.3], doc/History2.htm [1.3], doc/History3.htm [1.3],
doc/History4.htm [1.3], doc/History5.htm [1.5], doc/History6.htm [1.13],
doc/Htmstyle.htm [1.6], doc/Install.htm [1.9], doc/Language.htm [1.19],
doc/Lib.htm [1.3], doc/Maintain.htm [1.4], doc/Make.htm [1.15],
doc/New-user.htm [1.13], doc/News.htm [1.64], doc/Projects.htm [1.19],
doc/Ps2epsi.htm [1.4], doc/Ps2pdf.htm [1.18], doc/Psfiles.htm [1.8],
doc/README [1.4], doc/Readme.htm [1.13], doc/Release.htm [1.19],
doc/Source.htm [1.3], doc/Tester.htm [1.3], doc/Unix-lpr.htm [1.3],
doc/Use.htm [1.13], doc/Xfonts.htm [1.3], doc/gs-vms.hlp [1.3]: 2000/10/04
04:33:27 raph)

Bring version numbers and dates up to date. Small bug fix in toolbin/pre to
make it able to handle months with leading zeros. (doc/C-style.htm [1.4],
doc/Helpers.htm [1.6], man/ps2ps.1 [1.7]: 2000/10/04 05:18:54 raph)

</pre><h2><a name="6.30 Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- The PostScript image writing drivers (psmono/gray/rgb) didn't set
the page size in the output, and didn't produce DSC-compliant output.
(devs.mak [1.31]: 2000/08/09 06:55:45 lpd)
	- The FlateEncode and zlibEncode filters didn't implement the
"Effort" parameter. (fix from Alex Cherepanov) (int.mak [1.28]: 2000/08/09
16:55:24 lpd)
	- Because "-" as an OutputFile now references the %stdout IODevice,
it no longer worked in configurations without a PostScript interpreter.
Fixing this required factoring out the stdin/out/err IODevices and providing
an implementation that didn't reference the PostScript interpreter.
(int.mak [1.32], lib.mak [1.34], ugcclib.mak [1.3]: 2000/09/07 06:14:45 lpd)
	- Configurations including PDF but not PostScript didn't include all
the PostScript LL3 features needed to interpret PDF 1.3 et seq.
(int.mak [1.33]: 2000/09/07 06:35:06 lpd)
	- Cleans up some missing and incorrect dependencies.
(devs.mak [1.33], int.mak [1.34], lib.mak [1.35]: 2000/09/11 04:43:09 lpd)
	- The definition of PSRCDIR was inconsistent with the definition of
PVERSION. (openvms.mak [1.5]: 2000/09/22 04:05:40 lpd)
	- The pgnm and pnm drivers didn't properly detect the presence of
gray shades or color in images, sometimes causing gray or color information
to be lost in the output. (fix contributed by a user) (devs.mak [1.35]:
2000/09/23 04:52:56 lpd)

Initializes files for the 6.24 fileset. (version.mak [1.19]: 2000/08/09
16:54:02 lpd)

Adds a mention of the Color LaserJet 4500 as a color PCL XL printer.
(devs.mak [1.32]: 2000/08/17 20:43:50 lpd)

Changes text to make it clear that Yves Arrouye no longer maintains the BJC
drivers that he wrote. (contrib.mak [1.19]: 2000/08/21 14:38:28 lpd)

Puts the logic for detecting garbage after %%EOF (and some similar invalid
constructs) back into the main code, making it produce a message on stderr.
(unixinst.mak [1.12]: 2000/08/23 02:22:39 lpd)

Starts to implement the PDF 1.4 transparency features. All API and operator
additions are now implemented (at least as stubs) and documented, as is
bookkeeping for the new scalar graphics state members (but not for the soft
masks or the transparency group stack). (int.mak [1.29], lib.mak [1.30]:
2000/08/23 21:46:31 lpd)

Adds a new equality-testing virtual procedure for color spaces.
(lib.mak [1.31]: 2000/08/24 05:42:30 lpd)

Partly implements opacity and shape mask bookkeeping. gsave/grestore/etc.
and banding don't do the right thing yet. (int.mak [1.30],
version.mak [1.20]: 2000/08/25 01:46:48 lpd)

Brings the (still mostly stubbed) transparency code to a more
self-consistent state. (lib.mak [1.32]: 2000/08/30 01:34:40 lpd)

Finishes the code for parsing ImageType 103 (soft-mask) images.
(int.mak [1.31], lib.mak [1.33]: 2000/08/30 04:30:05 lpd)

*** empty log message *** (int.mak [1.35]: 2000/09/14 19:46:05 alexcher)

Undoes uncommented and in some cases inappropriate changes. (int.mak [1.36]:
2000/09/18 06:28:58 lpd)

Updates license notices to reference the AFPL (like the rest of Ghostscript)
rather than simply saying "All rights reserved". (toolbin/3way.tcl [1.2],
toolbin/cvs2hist.py [1.2], toolbin/errlist.tcl [1.2],
toolbin/gsindent [1.2], toolbin/gsmake.tcl [1.4], toolbin/headers.tcl [1.2],
toolbin/leaks.tcl [1.2], toolbin/makegnu.tcl [1.2],
toolbin/makeset.tcl [1.4], toolbin/pre [1.6], toolbin/precheck.tcl [1.2],
toolbin/suite.tcl [1.2], toolbin/tmake.tcl [1.2]: 2000/09/19 17:30:25 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, and changes internal references in various
scripts. (toolbin/3way.tcl [1.3], toolbin/cvs2hist.py [1.3],
toolbin/errlist.tcl [1.3], toolbin/gsindent [1.3], toolbin/gsmake.tcl [1.5],
toolbin/headers.tcl [1.3], toolbin/leaks.tcl [1.3],
toolbin/makegnu.tcl [1.3], toolbin/makeset.tcl [1.5], toolbin/pre [1.7],
toolbin/precheck.tcl [1.3], toolbin/suite.tcl [1.3],
toolbin/tmake.tcl [1.3]: 2000/09/19 18:10:51 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (all-arch.mak [1.5], bcwin32.mak [1.3], cfonts.mak [1.2],
contrib.mak [1.20], devs.mak [1.34], dvx-gcc.mak [1.4], dvx-head.mak [1.2],
dvx-tail.mak [1.3], dwmain.rc [1.2], dwsetup.def [1.2], dwsetup.rc [1.2],
dwuninst.def [1.2], dwuninst.rc [1.3]: 2000/09/19 19:00:08 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gs.mak [1.2], gs16spl.rc [1.2], gsdll2.rc [1.2],
gsdll32.rc [1.2]: 2000/09/19 19:00:25 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gsos2.rc [1.2], gspmdrv.rc [1.2]: 2000/09/19 19:00:30 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gswin.rc [1.2]: 2000/09/19 19:00:33 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (int.mak [1.37], jpeg.mak [1.3], lib.mak [1.36],
libpng.mak [1.2], msvc32.mak [1.5], msvccmd.mak [1.5], msvclib.mak [1.5],
msvctail.mak [1.4], openvms.mak [1.4], openvms.mmk [1.5], os2.mak [1.7],
pcwin.mak [1.2]: 2000/09/19 19:00:45 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (ugcclib.mak [1.4], unix-aux.mak [1.3], unix-end.mak [1.2],
unix-gcc.mak [1.7], unixansi.mak [1.5], unixhead.mak [1.2],
unixinst.mak [1.13], unixlink.mak [1.2], unixtrad.mak [1.5],
version.mak [1.21], watc.mak [1.5], watclib.mak [1.5], watcw32.mak [1.4],
wccommon.mak [1.3], wctail.mak [1.2], winint.mak [1.5], winlib.mak [1.4],
winplat.mak [1.2], wmin.mak [1.2], zlib.mak [1.2]: 2000/09/19 19:00:52 lpd)

Add commands to make the target GLGENDIR and BINDIR directories so that a
clean build works automatically. (msvctail.mak [1.5]: 2000/09/21 15:14:37
rayjj)

Changes the default Windows installation directory from c:\Aladdin to c:\gs.
(dwsetup.rc [1.3]: 2000/09/22 05:32:17 lpd)

Changes the default Windows Start Menu Folder from "Aladdin" to
"Ghostscript". (dwsetup.rc [1.4]: 2000/09/22 05:35:02 lpd)

Updates the makefiles from libpng version 1.0.5 to 1.0.8.
(all-arch.mak [1.6], bcwin32.mak [1.4], dvx-gcc.mak [1.5], libpng.mak [1.3],
msvc32.mak [1.6], msvclib.mak [1.6], openvms.mak [1.6], openvms.mmk [1.6],
os2.mak [1.8], ugcclib.mak [1.5], unix-gcc.mak [1.8], unixansi.mak [1.6],
unixtrad.mak [1.6], watc.mak [1.6], watclib.mak [1.6], watcw32.mak [1.5]:
2000/09/25 15:06:28 lpd)

Documentation changes in preparation for 6.30 release. Replaced some contact
information, updated version numbers. (version.mak [1.22]: 2000/10/04
04:33:29 raph)

Bring version numbers and dates up to date. Small bug fix in toolbin/pre to
make it able to handle months with leading zeros. (toolbin/pre [1.8]:
2000/10/04 05:18:54 raph)

</pre><h2><a name="6.30 Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- ps2pdf13.cmd set the output PDF version to 1.2 rather than 1.3.
(lib/ps2pdf13.cmd [1.2]: 2000/09/10 19:32:44 lpd)
	- The OpenVMS Fontmap had gotten badly out of date; specifically, it
didn't reference the URW++ fonts distributed with Ghostscript.
(lib/Fontmap.VMS [1.2]: 2000/09/22 03:30:21 lpd)

Puts the logic for detecting garbage after %%EOF (and some similar invalid
constructs) back into the main code, making it produce a message on stderr.
(lib/pdfeof.ps [1.2]: 2000/08/23 02:22:39 lpd)

Adds script / batch / command files for producing PDF 1.4 output.
(lib/ps2pdf14 [1.1], lib/ps2pdf14.bat [1.1], lib/ps2pdf14.cmd [1.1]:
2000/09/10 19:33:47 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, and changes a few other internal
references. (lib/Fontmap.ATB [1.2], lib/Fontmap.ATM [1.2],
lib/Fontmap.GS [1.2], lib/Fontmap.OS2 [1.2], lib/Fontmap.SGI [1.2],
lib/Fontmap.Sol [1.2], lib/Fontmap.Ult [1.2], lib/addxchar.ps [1.2],
lib/afmdiff.awk [1.2], lib/align.ps [1.2], lib/bdftops.ps [1.2],
lib/caption.ps [1.2], lib/cbjc600.ppd [1.2], lib/cbjc800.ppd [1.2],
lib/cid2code.ps [1.2], lib/docie.ps [1.2], lib/errpage.ps [1.2],
lib/font2c.ps [1.2], lib/font2pcl.ps [1.2], lib/gslp.ps [1.2],
lib/gsnup.ps [1.2], lib/image-qa.ps [1.2], lib/impath.ps [1.2],
lib/jispaper.ps [1.2], lib/lines.ps [1.2], lib/markhint.ps [1.2],
lib/markpath.ps [1.2], lib/packfile.ps [1.2], lib/pcharstr.ps [1.2],
lib/pdf2dsc.ps [1.2], lib/pdfopt.ps [1.3], lib/pdfwrite.ps [1.3],
lib/pfbtopfa.ps [1.2], lib/ppath.ps [1.2], lib/ps2ai.ps [1.2],
lib/ps2ascii.ps [1.2], lib/ps2epsi [1.4], lib/ps2epsi.ps [1.4],
lib/showchar.ps [1.2], lib/stcinfo.ps [1.2], lib/stcolor.ps [1.2],
lib/stocht.ps [1.3], lib/traceimg.ps [1.2], lib/traceop.ps [1.2],
lib/type1enc.ps [1.2], lib/type1ops.ps [1.2], lib/uninfo.ps [1.2],
lib/unprot.ps [1.2], lib/viewcmyk.ps [1.2], lib/viewgif.ps [1.2],
lib/viewmiff.ps [1.2], lib/viewpbm.ps [1.2], lib/viewpcx.ps [1.2],
lib/viewps2a.ps [1.2], lib/wftopfa.ps [1.2], lib/winmaps.ps [1.2],
lib/wrfont.ps [1.2], lib/zeroline.ps [1.2]: 2000/09/19 18:29:11 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (bench.c [1.3], echogs.c [1.2]: 2000/09/19 19:00:08 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (genarch.c [1.2], genconf.c [1.3], gendev.c [1.2],
genht.c [1.2], geninit.c [1.3], gp_dvx.c [1.2], gp_iwatc.c [1.4],
gp_mktmp.c [1.2], gp_mshdl.c [1.2], gp_msio.c [1.2], gp_mslib.c [1.2],
gp_mswin.c [1.3], gp_ntfs.c [1.4], gp_os2.c [1.4], gp_os9.c [1.3],
gp_sysv.c [1.2], gp_unix.c [1.3], gp_vms.c [1.4], gp_wgetv.c [1.3],
gp_win32.c [1.2], gp_wsync.c [1.2], gs16spl.c [1.2]: 2000/09/19 19:00:23
lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gsdll.c [1.3], gserver.c [1.2]: 2000/09/19 19:00:27 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gspmdrv.c [1.2]: 2000/09/19 19:00:31 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (scfdgen.c [1.2]: 2000/09/19 19:00:48 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (zdosio.c [1.2]: 2000/09/19 19:00:53 lpd)

When GSC environment variable is not set, gssetgs.bat fails to set it, which
makes ps2pdf.bat and several other scripts fail on Windows NT 4.0 with the
following misleading error message: "_.at" This file doesn't have a program
associated with it ... This change fixes the problem.
(lib/gssetgs.bat [1.2]: 2000/10/01 15:25:37 alexcher)

</pre><h2><a name="6.30 Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- The PostScript image writing drivers (psmono/gray/rgb) didn't set
the page size in the output, and didn't produce DSC-compliant output.
(gdevps.c [1.11], gdevpsci.c [1.2], gdevpsim.c [1.3], gdevpsu.c [1.1],
gdevpsu.h [1.1]: 2000/08/09 06:55:45 lpd)
	- the user-contributed cfax driver didn't correctly handle page
widths other than the standard fax widths, and didn't write the required
end-of-document marker. (gdevcfax.c [1.2]: 2000/08/17 04:43:25 lpd)
	- Setting parameters for the PS/PDF writer reset any unspecified
*Dict parameter dictionaries to the empty dictionary, rather than leaving
them alone. (gdevpsdp.c [1.6]: 2000/08/18 03:18:59 lpd)
	- BJC printers with different X and Y resolution produced incorrect
output. Also removes the comment asking users to report problems to Yves
Arrouye, since he no longer maintains this code. (gdevcdj.c [1.3]:
2000/08/21 14:43:17 lpd)
	- The emulation of XPutImage (Ghostscript*useXPutImage: 0) was
broken. (gdevx.c [1.6]: 2000/08/21 17:23:26 lpd)
	- Dictionary-valued device parameters for high-level devices could
be freed while the device still referred to them. (gdevpsdp.c [1.7]:
2000/08/31 15:55:46 lpd)
	- Cleans up some missing and incorrect dependencies.
(gdevsco.c [1.2]: 2000/09/11 04:43:09 lpd)
	- Works around a gcc code generation bug that sometimes caused gray
colors to be written out as RGB in PDF files. (Minor performance issue
only.) (gdevpsdu.c [1.6]: 2000/09/11 21:12:12 lpd)
	- The pgnm and pnm drivers didn't properly detect the presence of
gray shades or color in images, sometimes causing gray or color information
to be lost in the output. (fix contributed by a user) (gdevpbm.c [1.3]:
2000/09/23 04:52:57 lpd)

In the X Windows driver, changes XFlush() to XSync(False) so that updates
will actually complete before the command prompt appears. (gdevx.c [1.5],
gdevxini.c [1.8]: 2000/08/19 03:31:44 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gdev3852.c [1.2], gdev3b1.c [1.2], gdev4081.c [1.2],
gdev8510.c [1.2], gdev8bcm.c [1.2], gdev8bcm.h [1.2], gdevadmp.c [1.2],
gdevatx.c [1.6], gdevbit.c [1.2], gdevbj10.c [1.3], gdevbjc.h [1.2],
gdevbjcl.c [1.2], gdevbjcl.h [1.2], gdevbmp.c [1.3], gdevbmp.h [1.2],
gdevbmpa.c [1.3], gdevbmpc.c [1.2], gdevccr.c [1.2], gdevcdj.c [1.4],
gdevcfax.c [1.3], gdevcgm.c [1.2], gdevcgml.c [1.2], gdevcgml.h [1.2],
gdevcgmx.h [1.2], gdevcif.c [1.2], gdevclj.c [1.2], gdevcljc.c [1.2],
gdevcp50.c [1.2], gdevcslw.c [1.2], gdevdcrd.c [1.2], gdevdcrd.h [1.2],
gdevdfax.c [1.3], gdevdjet.c [1.6], gdevdjtc.c [1.2], gdevdljm.c [1.4],
gdevdljm.h [1.4], gdevdm24.c [1.2], gdevegaa.asm [1.2], gdevepsc.c [1.2],
gdevepsn.c [1.2], gdevescp.c [1.2], gdevevga.c [1.2], gdevfax.c [1.2],
gdevfax.h [1.2], gdevherc.c [1.2], gdevhl7x.c [1.3], gdevimgn.c [1.2],
gdevjpeg.c [1.2], gdevl256.c [1.3], gdevl31s.c [1.2], gdevlbp8.c [1.2],
gdevlj56.c [1.2], gdevlp8k.c [1.2], gdevlxm.c [1.2], gdevmeds.c [1.2]:
2000/09/19 19:00:11 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gdevmeds.h [1.2], gdevmgr.c [1.2], gdevmgr.h [1.2],
gdevmiff.c [1.2], gdevmswn.c [1.2], gdevmswn.h [1.2], gdevmsxf.c [1.2],
gdevn533.c [1.2], gdevo182.c [1.2], gdevokii.c [1.2], gdevos2p.c [1.3],
gdevp2up.c [1.2], gdevpbm.c [1.2], gdevpccm.c [1.2], gdevpccm.h [1.3],
gdevpcfb.c [1.2], gdevpcfb.h [1.2], gdevpcl.c [1.4]: 2000/09/19 19:00:14
lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gdevpcl.h [1.4], gdevpcx.c [1.2], gdevpe.c [1.2]: 2000/09/19
19:00:17 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gdevphex.c [1.2], gdevpjet.c [1.2], gdevpm.c [1.2],
gdevpm.h [1.2], gdevpng.c [1.3], gdevps.c [1.12], gdevpsdf.h [1.8],
gdevpsdi.c [1.12], gdevpsdp.c [1.8], gdevpsds.c [1.4], gdevpsds.h [1.4],
gdevpsdu.c [1.7], gdevpsim.c [1.4], gdevpsu.c [1.2], gdevpsu.h [1.2],
gdevpx.c [1.4], gdevpxat.h [1.3], gdevpxen.h [1.3], gdevpxop.h [1.2],
gdevpxut.c [1.2], gdevpxut.h [1.2], gdevs3ga.c [1.2], gdevsco.c [1.3],
gdevsj48.c [1.2], gdevsnfb.c [1.2], gdevsppr.c [1.2], gdevstc.c [1.2],
gdevstc.h [1.2], gdevstc1.c [1.2], gdevstc2.c [1.2], gdevstc3.c [1.2],
gdevstc4.c [1.2], gdevsun.c [1.2]: 2000/09/19 19:00:20 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gdevsunr.c [1.2], gdevsvga.c [1.2], gdevsvga.h [1.2],
gdevtfax.c [1.4], gdevtfax.h [1.4], gdevtfnx.c [1.3], gdevtifs.c [1.3],
gdevtifs.h [1.3], gdevtknk.c [1.2], gdevupd.c [1.3], gdevvglb.c [1.3],
gdevwddb.c [1.2], gdevwdib.c [1.2], gdevwpr2.c [1.5], gdevwprn.c [1.2],
gdevx.c [1.7], gdevx.h [1.4], gdevxalt.c [1.2], gdevxcmp.c [1.2],
gdevxcmp.h [1.2], gdevxini.c [1.9], gdevxres.c [1.3], gdevxxf.c [1.5]:
2000/09/19 19:00:23 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (png_.h [1.2]: 2000/09/19 19:00:47 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (x_.h [1.2]: 2000/09/19 19:00:52 lpd)

</pre><h2><a name="6.30 PDF writer"></a>PDF writer</h2><pre>

Fixes problems:
	- The SrcPg entry in ANN pdfmarks was (effectively) ignored. (bug
introduced between 5.50 and 6.01.) (gdevpdfm.c [1.5]: 2000/08/31 18:49:59
lpd)
	- When CompatibilityLevel &lt; 1.4, transparency was ignored rather
than being rendered explicitly. (gdevpdfg.c [1.9]: 2000/09/11 21:13:49 lpd)

Works around the bug in Acrobat Reader (all versions) that apparently treats
stroked fonts as filled fonts, ignoring the PaintType. (gdevpdft.c [1.15]:
2000/08/31 03:23:26 lpd)

Adds the ability to write some PDF 1.4 constructs: graphics state parameters
AIS, BM, ca/CA, and TK, and images with soft masks (except for Matte).
(gdevpdfg.c [1.8], gdevpdfg.h [1.8], gdevpdfi.c [1.18]: 2000/09/11 02:14:09
lpd)

Adds the ability to write PDF 1.4 soft-masked images. (gdevpdfi.c [1.19],
gdevpdfo.c [1.4], gdevpdfo.h [1.4], gdevpdfv.c [1.2]: 2000/09/11 04:10:42
lpd)

Replaces "Distiller" with our program name in the Info Producer string.
(gdevpdf.c [1.20], gdevpdfm.c [1.6], gdevpdfu.c [1.11], gdevpdfx.h [1.21]:
2000/09/12 02:03:35 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gdevpdf.c [1.21], gdevpdfb.c [1.2], gdevpdfc.c [1.12],
gdevpdfd.c [1.10], gdevpdfe.c [1.4], gdevpdff.c [1.8], gdevpdff.h [1.4],
gdevpdfg.c [1.10], gdevpdfg.h [1.9], gdevpdfi.c [1.20], gdevpdfj.c [1.5],
gdevpdfm.c [1.7], gdevpdfo.c [1.5], gdevpdfo.h [1.5], gdevpdfp.c [1.10],
gdevpdfr.c [1.4], gdevpdft.c [1.16], gdevpdfu.c [1.12], gdevpdfv.c [1.3],
gdevpdfw.c [1.5], gdevpdfx.h [1.22]: 2000/09/19 19:00:17 lpd)

</pre><h2><a name="6.30 Interpreter (PDF)"></a>Interpreter (PDF)</h2><pre>

Fixes problems:
	- PDF files with embedded CID fonts with FontName != BaseFont
(prohibited by the PDF specification, but produced by some Adobe software)
caused an error. (lib/pdf_font.ps [1.11], lib/pdf_ops.ps [1.8]: 2000/08/08
22:29:12 lpd)
	- Setting the color (fill or stroke) sometimes overwrote the color
associated with an outer gsave level. (lib/pdf_ops.ps [1.9]: 2000/08/24
01:55:37 lpd)
	- The PDF text rendering modes that included clipping (modes 4-7)
didn't work. The fix is a bit of a hack, but it's much closer to being
right. (lib/pdf_ops.ps [1.12]: 2000/08/31 02:05:55 lpd)
	- The new code for detecting whether a page used any transparency
features could cause an error. (lib/pdf_main.ps [1.14]: 2000/09/10 18:48:26
lpd)
	- Filters with indirect object parameters caused an error. (Fix from
Artifex.) (lib/pdf_base.ps [1.9]: 2000/09/14 00:38:05 lpd)
	- The page dictionary was left on the operand stack while the page
was being rendered, causing the sc[n]/SC[N] operators to give an error if
the color consisted of only a single value. (bug introduced after 6.23)
(lib/pdf_main.ps [1.18]: 2000/09/18 06:38:38 lpd)

Puts the logic for detecting garbage after %%EOF (and some similar invalid
constructs) back into the main code, making it produce a message on stderr.
(lib/pdf_main.ps [1.11]: 2000/08/23 02:22:39 lpd)

Implements the op, OP, and OPM (overprint control) elements of ExtGStates.
(lib/pdf_draw.ps [1.17], lib/pdf_ops.ps [1.10]: 2000/08/24 02:26:52 lpd)

Implements the new PDF 1.4 scalar graphics state parameters (ca, CA, SMask,
AIS, BM, TK). The implementation of SMask is a stub.
(lib/pdf_draw.ps [1.18], lib/pdf_ops.ps [1.11]: 2000/08/24 03:04:29 lpd)

If a PDF file is invalid but repairable, prints out the Producer as part of
the warning message. (lib/pdf_main.ps [1.12]: 2000/08/24 04:18:40 lpd)

Adds most of the code needed to support PDF 1.4 transparency groups and soft
masks in the graphics state. (lib/pdf_draw.ps [1.19], lib/pdf_ops.ps [1.13]:
2000/09/08 04:54:10 lpd)

Implements another chunk of the PDF 1.4 transparency features, fixing some
bugs in the previous code. (lib/pdf_draw.ps [1.20], lib/pdf_main.ps [1.13],
lib/pdf_ops.ps [1.14]: 2000/09/10 05:26:27 lpd)

Moves the Matte entry of soft mask images from the main structure to the
mask structures, and changes Matted to has_Matte. (lib/pdf_draw.ps [1.21]:
2000/09/11 04:08:13 lpd)

Renders pages that use any transparency features as transparency groups.
(lib/pdf_main.ps [1.15]: 2000/09/12 20:36:23 lpd)

*** empty log message *** (lib/pdf_main.ps [1.16]: 2000/09/15 03:51:54
alexcher)

Undoes uncommented and in some cases inappropriate changes.
(lib/pdf_main.ps [1.17]: 2000/09/18 06:28:58 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, and changes a few other internal
references. (lib/pdf_base.ps [1.10], lib/pdf_draw.ps [1.22],
lib/pdf_font.ps [1.12], lib/pdf_main.ps [1.19], lib/pdf_ops.ps [1.15],
lib/pdf_sec.ps [1.2]: 2000/09/19 18:29:11 lpd)

</pre><h2><a name="6.30 Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- The FlateEncode and zlibEncode filters didn't implement the
"Effort" parameter. (fix from Alex Cherepanov) (zfzlib.c [1.2]: 2000/08/09
16:55:25 lpd)
	- The *ACSImageDict parameter dictionaries weren't being set for the
/default configuration; the *ACSImageDict parameters were never recognized,
because their names were spelled incorrectly as *ACSDict. (Two separate
bugs.) (lib/gs_pdfwr.ps [1.5]: 2000/08/18 03:20:12 lpd)
	- When given an array of the wrong size, a number of operators
produced a limitcheck error rather than a rangecheck. (idparam.c [1.2],
idparam.h [1.2], zcie.c [1.3], zfont1.c [1.7], zfunc.c [1.5],
zfunc0.c [1.2], zimage2.c [1.2], zimage3.c [1.2], zpcolor.c [1.2],
zshade.c [1.3]: 2000/08/23 01:45:08 lpd)
	- The stub implementations of .{set,current}{opacity,shape}mask
didn't {pop the argument}{push null}. (ztrans.c [1.2]: 2000/08/24 03:03:18
lpd)
	- The BeOS C compiler objected to some int/bool mismatches.
(icontext.c [1.5]: 2000/08/31 03:51:29 lpd)
	- If changing LanguageLevels caused a dictionary to grow, memory
could be corrupted. (zmisc2.c [1.2]: 2000/08/31 14:43:58 lpd)
	- Because "-" as an OutputFile now references the %stdout IODevice,
it no longer worked in configurations without a PostScript interpreter.
Fixing this required factoring out the stdin/out/err IODevices and providing
an implementation that didn't reference the PostScript interpreter.
(ziodev.c [1.2], ziodevs.c [1.1]: 2000/09/07 06:14:45 lpd)
	- .LocalDefaults was stored in a local array in the (global)
ColorSpace category dictionary, causing memory anomalies with multiple
contexts. (lib/gs_ll3.ps [1.6], lib/gs_res.ps [1.13]: 2000/09/20 07:15:11
lpd)
	- A missing cast caused the picky OpenVMS compiler to complain.
(zdevcal.c [1.3]: 2000/09/22 04:18:17 lpd)
	- Attempting to show an undefined character code in a TrueType font
with no .notdef entry caused an error. (lib/gs_ttf.ps [1.8]: 2000/09/23
18:47:06 lpd)

Initializes files for the 6.24 fileset. (lib/gs_init.ps [1.21]: 2000/08/09
16:54:02 lpd)

Adds the PDF "overprint mode" to the graphics state. THE ACTUAL
FUNCTIONALITY IS NOT IMPLEMENTED YET. (zcssepr.c [1.4]: 2000/08/23 17:54:16
lpd)

Starts to implement the PDF 1.4 transparency features. All API and operator
additions are now implemented (at least as stubs) and documented, as is
bookkeeping for the new scalar graphics state members (but not for the soft
masks or the transparency group stack). (ztrans.c [1.1]: 2000/08/23 21:46:31
lpd)

Partly implements opacity and shape mask bookkeeping. gsave/grestore/etc.
and banding don't do the right thing yet. (igstate.h [1.2], ztrans.c [1.3]:
2000/08/25 01:46:48 lpd)

Implements some minor improvements to the freelist algorithms that can
produce nearly a factor of 2 speedup in some allocation-intensive
situations. (isave.c [1.2]: 2000/08/26 03:21:34 lpd)

Brings the (still mostly stubbed) transparency code to a more
self-consistent state. (ztrans.c [1.4]: 2000/08/30 01:34:40 lpd)

Finishes the code for parsing ImageType 103 (soft-mask) images.
(ztrans.c [1.5]: 2000/08/30 04:30:06 lpd)

Completes the parsing of .{begin,end}transparency{group,mask}, except for
the TransferFunction for masks. The specification is still subject to
change. (ztrans.c [1.6]: 2000/08/30 15:03:36 lpd)

*Really* finishes the transparency rendering stack operators (the previous
version didn't even compile), except for TransferFunction. (ztrans.c [1.7]:
2000/08/30 21:11:55 lpd)

Implements another chunk of the PDF 1.4 transparency features, fixing some
bugs in the previous code. (lib/gs_ll3.ps [1.4], ztrans.c [1.8]: 2000/09/10
05:26:27 lpd)

Checks that the TransferFunction of a soft mask is 1-in, 1-out; sets Matted
correctly in the soft mask parameters passed to the graphics library.
(ztrans.c [1.9]: 2000/09/11 02:10:28 lpd)

Moves the Matte entry of soft mask images from the main structure to the
mask structures, and changes Matted to has_Matte. (ztrans.c [1.10]:
2000/09/11 04:08:13 lpd)

Upgrades the proposed driver interface transparency extension from comments
to macros, changing the name 'discard_transparency_level' to
'discard_transparency_layer'. (ztrans.c [1.11]: 2000/09/11 20:13:31 lpd)

*** empty log message *** (lib/gs_init.ps [1.22], zmatrix.c [1.2]:
2000/09/14 19:46:05 alexcher)

Undoes uncommented and in some cases inappropriate changes.
(lib/gs_init.ps [1.23], zmatrix.c [1.3]: 2000/09/18 06:28:58 lpd)

Updates the license notice to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript. (examples/waterfal.ps [1.2]: 2000/09/19
18:03:40 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, and changes a few other internal
references. (lib/gs_agl.ps [1.2], lib/gs_btokn.ps [1.3],
lib/gs_ccfnt.ps [1.4], lib/gs_ce_e.ps [1.2], lib/gs_cff.ps [1.7],
lib/gs_cidfn.ps [1.17], lib/gs_cmap.ps [1.6], lib/gs_cmdl.ps [1.2],
lib/gs_css_e.ps [1.2], lib/gs_dbt_e.ps [1.2], lib/gs_diskf.ps [1.2],
lib/gs_dpnxt.ps [1.2], lib/gs_dps.ps [1.4], lib/gs_dps1.ps [1.2],
lib/gs_dps2.ps [1.2], lib/gs_epsf.ps [1.2], lib/gs_fform.ps [1.2],
lib/gs_fonts.ps [1.9], lib/gs_frsd.ps [1.4], lib/gs_il1_e.ps [1.2],
lib/gs_il2_e.ps [1.2], lib/gs_init.ps [1.24], lib/gs_kanji.ps [1.2],
lib/gs_ksb_e.ps [1.2], lib/gs_l2img.ps [1.2], lib/gs_lev2.ps [1.6],
lib/gs_lgo_e.ps [1.3], lib/gs_lgx_e.ps [1.2], lib/gs_ll3.ps [1.5],
lib/gs_mex_e.ps [1.2], lib/gs_mgl_e.ps [1.3], lib/gs_mro_e.ps [1.2],
lib/gs_pdf_e.ps [1.2], lib/gs_pdfwr.ps [1.6], lib/gs_pfile.ps [1.2],
lib/gs_rdlin.ps [1.2], lib/gs_res.ps [1.12], lib/gs_setpd.ps [1.5],
lib/gs_statd.ps [1.4], lib/gs_std_e.ps [1.2], lib/gs_sym_e.ps [1.2],
lib/gs_trap.ps [1.3], lib/gs_ttf.ps [1.7], lib/gs_typ32.ps [1.2],
lib/gs_typ42.ps [1.2], lib/gs_type1.ps [1.4], lib/gs_wan_e.ps [1.2],
lib/gs_wl1_e.ps [1.2], lib/gs_wl2_e.ps [1.2], lib/gs_wl5_e.ps [1.2]:
2000/09/19 18:29:11 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (bfont.h [1.3], btoken.h [1.4], ccfont.h [1.2],
dpmainc.c [1.2], dstack.h [1.2], dwdll.cpp [1.2], dwdll.h [1.2],
dwimg.cpp [1.2], dwimg.h [1.2], dwinst.cpp [1.2], dwinst.h [1.2],
dwmain.cpp [1.2], dwmain.h [1.2], dwmainc.cpp [1.3], dwnodll.cpp [1.2],
dwsetup.cpp [1.3], dwsetup.h [1.2], dwtext.cpp [1.2], dwtext.h [1.2],
dwuninst.cpp [1.2], dwuninst.h [1.2], errors.h [1.2], estack.h [1.2],
files.h [1.2]: 2000/09/19 19:00:09 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (ghost.h [1.2], gs.c [1.2]: 2000/09/19 19:00:23 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (ialloc.c [1.2], ialloc.h [1.2], iastate.h [1.2],
iastruct.h [1.2], ibnum.c [1.2], ibnum.h [1.2], iccfont.c [1.2],
iccinit0.c [1.2], icfontab.c [1.2], ichar.h [1.3], ichar1.h [1.3],
icharout.h [1.2], icid.h [1.2], icie.h [1.2], icolor.h [1.2], iconf.c [1.2],
icontext.c [1.6], icontext.h [1.2], icremap.h [1.2], icsmap.h [1.2],
icstate.h [1.4], iddict.h [1.2], iddstack.h [1.2], idebug.c [1.2],
idebug.h [1.2], idict.c [1.2], idict.h [1.2], idictdef.h [1.2],
idosave.h [1.2], idparam.c [1.3], idparam.h [1.3], idsdata.h [1.2],
idstack.c [1.2], idstack.h [1.2], iesdata.h [1.2], iestack.h [1.2],
ifcid.h [1.2], ifilter.h [1.3], ifilter2.h [1.2], ifont.h [1.4],
ifont1.h [1.3], ifont2.h [1.2], ifont42.h [1.3], ifrpred.h [1.2],
ifunc.h [1.3], ifwpred.h [1.2], igc.c [1.2]: 2000/09/19 19:00:41 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (igc.h [1.2], igcref.c [1.2], igcstr.c [1.3], igcstr.h [1.2],
igstate.h [1.3], iht.h [1.2], iimage.h [1.2], iimage2.h [1.2],
iinit.c [1.2], iinit.h [1.2], ilevel.h [1.2], ilocate.c [1.3],
imain.c [1.2], imain.h [1.2], imainarg.c [1.4], imainarg.h [1.2],
imemory.h [1.2], iminst.h [1.2], iname.c [1.3], iname.h [1.2],
inamedef.h [1.2], inameidx.h [1.2], inames.h [1.2], inamestr.h [1.2],
inobtokn.c [1.2], inouparm.c [1.2], interp.c [1.6], interp.h [1.2],
iosdata.h [1.2], iostack.h [1.2], ipacked.h [1.2], iparam.c [1.5],
iparam.h [1.2], iparray.h [1.2], ipcolor.h [1.2], ireclaim.c [1.2],
iref.h [1.3], isave.c [1.3], isave.h [1.2], iscan.c [1.5], iscan.h [1.4],
iscanbin.c [1.5], iscanbin.h [1.2], iscannum.c [1.2], iscannum.h [1.2],
isdata.h [1.2], isstate.h [1.2], istack.c [1.2], istack.h [1.2],
istkparm.h [1.2], istream.h [1.2], istruct.h [1.2], itoken.h [1.2],
iutil.c [1.2], iutil.h [1.2], iutil2.c [1.2], iutil2.h [1.2],
ivmem2.h [1.2]: 2000/09/19 19:00:44 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (ivmspace.h [1.2], main.h [1.2], oparc.h [1.2],
opcheck.h [1.2], opdef.h [1.2], oper.h [1.2], opextern.h [1.2],
ostack.h [1.2], sbhc.c [1.2], sbhc.h [1.2], sbwbs.c [1.2], sbwbs.h [1.2],
sfilter1.c [1.5]: 2000/09/19 19:00:47 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (shcgen.c [1.2], shcgen.h [1.2], smtf.c [1.2], smtf.h [1.2],
store.h [1.2], zarith.c [1.4], zarray.c [1.2], zbfont.c [1.6],
zbseq.c [1.4], zcfont.c [1.2], zchar.c [1.3], zchar1.c [1.5],
zchar2.c [1.2], zchar32.c [1.2], zchar42.c [1.2], zcharout.c [1.2],
zcharx.c [1.3], zcid.c [1.3], zcie.c [1.4], zcolor.c [1.4]: 2000/09/19
19:00:50 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (zcolor1.c [1.3], zcolor2.c [1.3], zcontext.c [1.6],
zcontrol.c [1.3], zcrd.c [1.2], zcsdevn.c [1.3], zcsindex.c [1.3],
zcspixel.c [1.2], zcssepr.c [1.5], zdevcal.c [1.2], zdevice.c [1.3],
zdevice2.c [1.3], zdict.c [1.3], zdouble.c [1.2], zdpnext.c [1.2],
zdps.c [1.4], zdps1.c [1.2], zfbcp.c [1.3], zfcid.c [1.10], zfcid0.c [1.4],
zfcid1.c [1.2], zfcmap.c [1.8], zfdctd.c [1.3], zfdcte.c [1.3],
zfdecode.c [1.3], zfile.c [1.5], zfileio.c [1.9], zfilter.c [1.4],
zfilter2.c [1.3], zfilterx.c [1.2], zfmd5.c [1.2], zfont.c [1.2],
zfont0.c [1.3], zfont1.c [1.8], zfont2.c [1.3], zfont32.c [1.2],
zfont42.c [1.5], zfproc.c [1.4], zfrsd.c [1.4], zfunc.c [1.6],
zfunc0.c [1.3], zfunc3.c [1.2], zfunc4.c [1.5], zfzlib.c [1.3],
zgeneric.c [1.3], zgstate.c [1.2], zhsb.c [1.2], zht.c [1.2], zht1.c [1.2],
zht2.c [1.2], zimage.c [1.5], zimage2.c [1.3], zimage3.c [1.3],
ziodev.c [1.3], ziodev2.c [1.3], ziodevs.c [1.2], zmath.c [1.3],
zmatrix.c [1.4], zmedia2.c [1.2], zmisc.c [1.2], zmisc1.c [1.3],
zmisc2.c [1.3], zmisc3.c [1.2], zpacked.c [1.2], zpaint.c [1.2],
zpath.c [1.2], zpath1.c [1.2], zpcolor.c [1.3], zrelbit.c [1.2],
zrop.c [1.2], zshade.c [1.4], zstack.c [1.2], zstring.c [1.2],
zsysvm.c [1.2], ztoken.c [1.6], ztrans.c [1.12], ztrap.c [1.2],
ztype.c [1.3], zupath.c [1.2], zusparam.c [1.3], zvmem.c [1.2],
zvmem2.c [1.2]: 2000/09/19 19:00:53 lpd)

Change to avoid multiply defined rect_param when NOPRIVATE is used. This
module uses 4 element X/Y/width/Height, not a gs_rect so xywh_param is a
better name. (zdpnext.c [1.3]: 2000/09/21 15:12:01 rayjj)

Changes the default Windows installation directory from c:\Aladdin to c:\gs.
(dwsetup.cpp [1.4]: 2000/09/22 05:32:17 lpd)

Changes the default Windows Start Menu Folder from "Aladdin" to
"Ghostscript". (dwsetup.cpp [1.5]: 2000/09/22 05:35:02 lpd)

Documentation changes in preparation for 6.30 release. Replaced some contact
information, updated version numbers. (lib/gs_init.ps [1.25]: 2000/10/04
04:33:29 raph)

</pre><h2><a name="6.30 Streams"></a>Streams</h2><pre>

Fixes problems:
	- s_add_filter used min_out_size rather than min_in_size for the
minimum buffer size, which could cause an endless loop when writing to the
filter. (This only affected filters allocated by C code, not by the
PostScript filter operator.) (stream.c [1.7], stream.h [1.6]: 2000/08/16
01:26:22 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (sa85d.c [1.2], sa85d.h [1.2], sa85x.h [1.3], sbcp.c [1.3],
sbcp.h [1.2], sbtx.h [1.2], scanchar.h [1.2], scantab.c [1.2], scf.h [1.2],
scfd.c [1.2], scfe.c [1.2], scfetab.c [1.2], scfparam.c [1.2], scfx.h [1.2],
scommon.h [1.2], sdcparam.c [1.2], sdcparam.h [1.2], sdct.h [1.2],
sdctc.c [1.2], sdctd.c [1.2], sdcte.c [1.2], sddparam.c [1.2],
sdeparam.c [1.2], seexec.c [1.3], sfilter.h [1.6], sfilter2.c [1.3],
sfxboth.c [1.2], sfxfd.c [1.5]: 2000/09/19 19:00:47 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (sfxstdio.c [1.4], shc.c [1.2], shc.h [1.2], siinterp.c [1.2],
siinterp.h [1.2], siscale.c [1.4], siscale.h [1.2], sisparam.h [1.2],
sjpeg.h [1.2], sjpegc.c [1.2], sjpegd.c [1.2], sjpege.c [1.2],
slzwc.c [1.2], slzwce.c [1.2], slzwd.c [1.2], slzwx.h [1.2], smd5.c [1.3],
smd5.h [1.2], spdiff.c [1.3], spdiffx.h [1.2], spngp.c [1.2],
spngpx.h [1.2], spprint.c [1.2], spprint.h [1.2], spsdf.c [1.4],
spsdf.h [1.2], srdline.h [1.2], srld.c [1.2], srle.c [1.2], srlx.h [1.2],
sstring.c [1.2], sstring.h [1.2], stat_.h [1.5], std.h [1.3],
stdio_.h [1.2], stdpre.h [1.2], stream.c [1.8], stream.h [1.7],
strimpl.h [1.2], string_.h [1.2], szlibc.c [1.2], szlibd.c [1.2],
szlibe.c [1.2], szlibx.h [1.2], szlibxx.h [1.2]: 2000/09/19 19:00:50 lpd)

</pre><h2><a name="6.30 Library"></a>Library</h2><pre>

Fixes problems:
	- Parameter lists didn't have proper GC descriptors; garbage
collection could mangle keys and collection values in non-transient
parameter lists (such as distiller parameters). (gscparam.c [1.5]:
2000/08/19 03:01:30 lpd)
	- gdev_vector_dopath could return 1, which value was then propagated
to callers that interpreted it differently. (gdevvec.c [1.5],
gdevvec.h [1.3]: 2000/08/20 00:21:42 lpd)
	- An AIX compiler could get confused if the last elements of a
structure were individual bytes. (gzpath.h [1.2]: 2000/08/24 19:43:48 lpd)
	- If the OutputFile of a high-level device was ever set, any
subsequent execution of setpagedevice would cause a rangecheck in
.installpagedevice. (gdevvec.c [1.6]: 2000/08/31 02:04:50 lpd)
	- Type 2 CharStrings didn't insert an explicit closepath at the end
of each subpath. (This matters for charpath followed by stroke.)
(gstype2.c [1.5]: 2000/08/31 02:16:45 lpd)
	- Type 2 fonts should insert an explicit closepath only if the
font's PaintType != 1. (gstype2.c [1.6]: 2000/08/31 03:21:45 lpd)
	- The BeOS C compiler objected to some int/bool mismatches.
(gp.h [1.4], gxfill.c [1.4], gxtext.h [1.2]: 2000/08/31 03:51:29 lpd)
	- Because "-" as an OutputFile now references the %stdout IODevice,
it no longer worked in configurations without a PostScript interpreter.
Fixing this required factoring out the stdin/out/err IODevices and providing
an implementation that didn't reference the PostScript interpreter.
(gsiodevs.c [1.1], gslib.c [1.2]: 2000/09/07 06:14:45 lpd)
	- Fixes a type error caused by a change in the TransferFunction
member of gs_transparency_mask_params_t. (gstrans.c [1.7]: 2000/09/10
18:20:09 lpd)
	- Several places in the code for ImageType 3x (soft-masked) images
didn't correctly handle the case where only one of the two masks was
supplied (which is always the case for PDF). (gximag3x.c [1.4]: 2000/09/11
02:12:19 lpd)
	- The -Zv tracing messages for gs_begin_transparency_{group,mask}
were incorrect. (gstrans.c [1.10]: 2000/09/12 20:35:05 lpd)
	- Printing the program name and version didn't use fprintf, so it
didn't work properly with the stdout redirection on Windows. (fix from
Artifex) (gsmisc.c [1.7]: 2000/09/18 06:22:35 lpd)
	- Undefined characters in CID-keyed (FMapType 9) composite fonts
caused an infinite loop, because the parsing index was never advanced past
the character. (gsfcmap.c [1.7]: 2000/09/21 02:44:44 lpd)
	- CID-keyed (FMapType 9) composite fonts didn't return the correct
parsed character code, possibly causing widthshow or cshow to produce
incorrect output. (gsfcmap.c [1.8], gsfcmap.h [1.4]: 2000/09/21 03:02:03
lpd)
	- Works around ANSI C's unreasonable new aliasing restrictions.
(gsnogc.c [1.5]: 2000/09/22 04:17:52 lpd)
	- The 'head' table in embedded TrueType fonts had a length of 56; it
should have a length of 54 and be followed by 2 padding bytes.
(gdevpsft.c [1.4]: 2000/09/26 06:42:05 lpd)

Initializes files for the 6.24 fileset. (gscdef.c [1.7]: 2000/08/09 16:54:02
lpd)

Adds the PDF "overprint mode" to the graphics state. THE ACTUAL
FUNCTIONALITY IS NOT IMPLEMENTED YET. (gscsepr.c [1.4], gscsepr.h [1.3],
gsstate.c [1.2], gxclpath.c [1.3], gxclpath.h [1.2], gxclrast.c [1.4],
gxistate.h [1.2]: 2000/08/23 17:54:14 lpd)

Starts to implement the PDF 1.4 transparency features. All API and operator
additions are now implemented (at least as stubs) and documented, as is
bookkeeping for the new scalar graphics state members (but not for the soft
masks or the transparency group stack). (gsistate.c [1.2], gsstate.c [1.3],
gstparam.h [1.1], gstrans.c [1.1], gstrans.h [1.1], gxclpath.c [1.4],
gxclpath.h [1.3], gxclrast.c [1.5], gxistate.h [1.3], gzstate.h [1.2]:
2000/08/23 21:46:31 lpd)

Adds a new equality-testing virtual procedure for color spaces.
(gscdevn.c [1.4], gscolor2.c [1.5], gscpixel.c [1.2], gscscie.c [1.2],
gscsepr.c [1.5], gscspace.c [1.3], gscspace.h [1.3], gspcolor.c [1.3],
gxcspace.h [1.3]: 2000/08/24 05:42:30 lpd)

Changes the band list representation of mask images to allow
BitsPerComponent &gt; 1 (for soft masks). (gximage1.c [1.2]: 2000/08/24
17:58:18 lpd)

Adds Matte and has_Matte members to ImageType 1 images. These are only used
with the new transparency features. (gsiparam.h [1.2], gximage1.c [1.3]:
2000/08/24 19:20:12 lpd)

Partly implements opacity and shape mask bookkeeping. gsave/grestore/etc.
and banding don't do the right thing yet. (gstparam.h [1.2],
gstrans.c [1.2], gstrans.h [1.2], gxcldev.h [1.2], gxclpath.c [1.5],
gxclpath.h [1.4]: 2000/08/25 01:46:48 lpd)

Changes remove_range_from_freelist to only scan relevant freelists, rather
than all of them. On some files, the speedup is dramatic. (gsalloc.c [1.6]:
2000/08/26 01:18:33 lpd)

Completes an edit that accidentally left the repository in an inconsistent
state. (gxclpath.c [1.6], gxclrast.c [1.6]: 2000/08/26 03:19:56 lpd)

Implements some minor improvements to the freelist algorithms that can
produce nearly a factor of 2 speedup in some allocation-intensive
situations. (gsalloc.c [1.7], gxalloc.h [1.4]: 2000/08/26 03:21:34 lpd)

Brings the (still mostly stubbed) transparency code to a more
self-consistent state. (gsipar3x.h [1.1], gsiparam.h [1.3],
gsstruct.h [1.4], gstparam.h [1.3], gstrans.c [1.3], gstrans.h [1.3],
gxclpath.c [1.7], gxclpath.h [1.5], gxclrast.c [1.7], gximag3x.c [1.1],
gximag3x.h [1.1], gximage1.c [1.4], gxistate.h [1.4]: 2000/08/30 01:34:40
lpd)

Finishes the code for parsing ImageType 103 (soft-mask) images.
(gximag3x.c [1.2]: 2000/08/30 04:29:56 lpd)

Completes the parsing of .{begin,end}transparency{group,mask}, except for
the TransferFunction for masks. The specification is still subject to
change. (gstparam.h [1.4], gstrans.c [1.4], gstrans.h [1.4]: 2000/08/30
15:03:36 lpd)

Adds documentation on proposed driver interface additions for managing the
transparency rendering stack. (gstrans.c [1.5]: 2000/08/31 20:22:47 lpd)

Adds color space type names for tracing/debugging. (gscspace.h [1.4]:
2000/09/10 05:21:44 lpd)

Changes the -Zv switch to trace alpha/transparency-related features.
(gdevabuf.c [1.2]: 2000/09/10 05:23:10 lpd)

Implements another chunk of the PDF 1.4 transparency features, fixing some
bugs in the previous code. (gstparam.h [1.5], gstrans.c [1.6],
gximag3x.c [1.3]: 2000/09/10 05:26:27 lpd)

Moves the Matte entry of soft mask images from the main structure to the
mask structures, and changes Matted to has_Matte. (gsipar3x.h [1.2],
gximag3x.c [1.5], gximag3x.h [1.2]: 2000/09/11 04:08:13 lpd)

Adds a default implementation of soft-masked images that simply ignores the
mask. (gximag3x.c [1.6]: 2000/09/11 04:38:01 lpd)

Upgrades the proposed driver interface transparency extension from comments
to macros, changing the name 'discard_transparency_level' to
'discard_transparency_layer'. (gstrans.c [1.8], gstrans.h [1.5]: 2000/09/11
20:13:31 lpd)

Finishes the (dummy) implementation of the transparency layer stack in the
graphics library. (gsistate.c [1.3], gsstate.c [1.4], gstparam.h [1.6],
gstrans.c [1.9], gxistate.h [1.5]: 2000/09/11 22:20:05 lpd)

Makes the default string matching parameters public. (gsutil.c [1.3],
gsutil.h [1.2]: 2000/09/12 02:02:52 lpd)

*** empty log message *** (gsmisc.c [1.6]: 2000/09/15 03:01:51 alexcher)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (close_.h [1.2], ctype_.h [1.2], dirent_.h [1.2],
dos_.h [1.2], errno_.h [1.2], fcntl_.h [1.3], gconf.c [1.2], gconf.h [1.2],
gdebug.h [1.2], gdevabuf.c [1.3], gdevalph.c [1.2], gdevbbox.c [1.3],
gdevbbox.h [1.2]: 2000/09/19 19:00:09 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gdevcmap.c [1.2], gdevcmap.h [1.2], gdevdbit.c [1.2],
gdevddrw.c [1.2], gdevdflt.c [1.3], gdevdgbr.c [1.2], gdevdrop.c [1.3],
gdevemap.c [1.2], gdevhit.c [1.2], gdevht.c [1.3], gdevht.h [1.2],
gdevm1.c [1.2], gdevm16.c [1.2], gdevm2.c [1.2], gdevm24.c [1.2],
gdevm32.c [1.2], gdevm4.c [1.2], gdevm8.c [1.2], gdevmem.c [1.2],
gdevmem.h [1.3], gdevmpla.c [1.2], gdevmpla.h [1.2], gdevmr1.c [1.2],
gdevmr2n.c [1.2], gdevmr8n.c [1.2], gdevmrop.h [1.3], gdevmrun.c [1.2],
gdevmrun.h [1.2], gdevnfwd.c [1.3]: 2000/09/19 19:00:12 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gdevpipe.c [1.3], gdevplnx.c [1.2], gdevplnx.h [1.2],
gdevppla.c [1.2], gdevppla.h [1.2], gdevprn.c [1.5], gdevprn.h [1.6],
gdevprna.c [1.2], gdevprna.h [1.2], gdevpsf.h [1.7], gdevpsf1.c [1.5],
gdevpsf2.c [1.7], gdevpsfm.c [1.3], gdevpsft.c [1.3], gdevpsfu.c [1.4],
gdevpsfx.c [1.5], gdevrops.c [1.3]: 2000/09/19 19:00:20 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gdevtrac.c [1.2], gdevvec.c [1.7], gdevvec.h [1.4],
gp.h [1.5], gp_dosfe.c [1.2], gp_dosfs.c [1.2], gp_getnv.c [1.2],
gp_msdos.c [1.2], gp_nsync.c [1.2], gp_psync.c [1.2], gp_strdl.c [1.2],
gp_unifn.c [1.2], gp_unifs.c [1.3], gpcheck.h [1.2], gpgetenv.h [1.2],
gpmisc.c [1.7], gpmisc.h [1.2], gpsync.h [1.2], gsalloc.c [1.8],
gsalloc.h [1.2], gsalpha.c [1.2], gsalpha.h [1.2], gsalphac.c [1.2],
gsalphac.h [1.2], gsargs.c [1.2], gsargs.h [1.3], gsbitmap.h [1.2],
gsbitops.c [1.2], gsbitops.h [1.2], gsbittab.c [1.2], gsbittab.h [1.2]:
2000/09/19 19:00:23 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gsccode.h [1.4], gsccolor.h [1.2], gscdef.c [1.8],
gscdefs.h [1.2], gscdevn.c [1.5], gscdevn.h [1.3], gschar.c [1.3],
gschar.h [1.3], gschar0.c [1.2], gscie.c [1.3], gscie.h [1.2],
gsciemap.c [1.3], gscindex.h [1.2], gsclipsr.c [1.2], gsclipsr.h [1.2],
gscolor.c [1.4], gscolor.h [1.3], gscolor1.c [1.3], gscolor1.h [1.2],
gscolor2.c [1.6], gscolor2.h [1.3], gscolor3.c [1.4], gscolor3.h [1.2],
gscompt.h [1.2], gscoord.c [1.5], gscoord.h [1.2], gscparam.c [1.6],
gscpixel.c [1.3], gscpixel.h [1.2], gscpm.h [1.2], gscrd.c [1.2],
gscrd.h [1.2], gscrdp.c [1.2], gscrdp.h [1.2], gscrypt1.c [1.2],
gscrypt1.h [1.2], gscscie.c [1.3], gscsel.h [1.2], gscsepnm.h [1.2],
gscsepr.c [1.6], gscsepr.h [1.4], gscspace.c [1.4], gscspace.h [1.5],
gscssub.c [1.2], gscssub.h [1.2], gsdcolor.h [1.3], gsdevice.c [1.7],
gsdevice.h [1.3], gsdevmem.c [1.2], gsdparam.c [1.4], gsdpnext.h [1.2],
gsdps.c [1.2], gsdps.h [1.2], gsdps1.c [1.2], gsdsrc.c [1.2],
gsdsrc.h [1.3], gserror.h [1.2], gserrors.h [1.2], gsexit.h [1.2],
gsfcid.c [1.4], gsfcmap.c [1.6], gsfcmap.h [1.3], gsfemu.c [1.2],
gsflip.c [1.2], gsflip.h [1.2], gsfname.c [1.2], gsfname.h [1.2],
gsfont.c [1.2], gsfont.h [1.2], gsfont0.c [1.2], gsfunc.c [1.4],
gsfunc.h [1.4], gsfunc0.c [1.3], gsfunc0.h [1.2], gsfunc3.c [1.4],
gsfunc3.h [1.2], gsfunc4.c [1.3], gsfunc4.h [1.2], gsfuncv.c [1.2],
gsfuncv.h [1.2]: 2000/09/19 19:00:26 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gsgc.h [1.2], gshsb.c [1.2], gshsb.h [1.2], gsht.c [1.2],
gsht.h [1.2], gsht1.c [1.2], gsht1.h [1.2], gshtscr.c [1.3], gshtx.c [1.2],
gshtx.h [1.2], gsimage.c [1.3], gsimage.h [1.2], gsimpath.c [1.2],
gsinit.c [1.2], gsio.h [1.4], gsiodev.c [1.3], gsiodevs.c [1.2],
gsipar3x.h [1.3], gsiparam.h [1.4], gsiparm2.h [1.2], gsiparm3.h [1.4],
gsiparm4.h [1.2], gsistate.c [1.4], gsjconf.h [1.2], gslib.c [1.3],
gslib.h [1.2], gsline.c [1.2], gsline.h [1.2], gslparam.h [1.2],
gsmalloc.c [1.3], gsmalloc.h [1.2], gsmatrix.c [1.2], gsmatrix.h [1.2],
gsmdebug.h [1.2], gsmemlok.c [1.3], gsmemlok.h [1.2], gsmemory.c [1.2],
gsmemory.h [1.2], gsmemraw.h [1.2], gsmemret.c [1.2], gsmemret.h [1.2],
gsmisc.c [1.8], gsnogc.c [1.4], gsnogc.h [1.2], gsnorop.c [1.2],
gsnotify.c [1.2], gsnotify.h [1.2], gspaint.c [1.2], gspaint.h [1.2],
gsparam.c [1.4], gsparam.h [1.7], gsparam2.c [1.2], gsparams.c [1.2],
gsparams.h [1.2], gsparamx.c [1.3], gsparamx.h [1.3], gspath.c [1.2],
gspath.h [1.2], gspath1.c [1.2], gspath2.h [1.2], gspcolor.c [1.4],
gspcolor.h [1.2], gspenum.h [1.2], gsptype1.c [1.2], gsptype1.h [1.2]:
2000/09/19 19:00:29 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gsptype2.c [1.3], gsptype2.h [1.2], gsrect.h [1.2],
gsrefct.h [1.2], gsrop.c [1.2], gsrop.h [1.2], gsropc.c [1.2],
gsropc.h [1.2], gsropt.h [1.3], gsroptab.c [1.2], gsshade.c [1.3],
gsshade.h [1.3], gsstate.c [1.5], gsstate.h [1.2], gsstruct.h [1.5],
gsstype.h [1.2], gstext.c [1.3], gstext.h [1.3], gstparam.h [1.7],
gstrans.c [1.11], gstrans.h [1.6], gstrap.c [1.3], gstrap.h [1.3],
gstype1.c [1.5], gstype1.h [1.2], gstype2.c [1.7], gstype42.c [1.7],
gstypes.h [1.2], gsuid.h [1.2], gsutil.c [1.4], gsutil.h [1.3],
gsxfont.h [1.2], gx.h [1.2], gxacpath.c [1.3], gxalloc.h [1.5],
gxalpha.h [1.2], gxarith.h [1.2], gxband.h [1.2], gxbcache.c [1.2],
gxbcache.h [1.2], gxbitfmt.h [1.2], gxbitmap.h [1.2], gxbitops.h [1.2],
gxccache.c [1.2], gxccman.c [1.2], gxcdevn.h [1.2], gxchar.c [1.2],
gxchar.h [1.2], gxchrout.c [1.2], gxchrout.h [1.2], gxcht.c [1.2],
gxcid.h [1.3], gxcie.h [1.2], gxcindex.h [1.2], gxclbits.c [1.2],
gxcldev.h [1.3], gxclfile.c [1.2], gxclimag.c [1.2], gxclio.h [1.2],
gxclip.c [1.3], gxclip.h [1.2], gxclip2.c [1.3], gxclip2.h [1.2],
gxclipm.c [1.3], gxclipm.h [1.2], gxclipsr.h [1.2], gxclist.c [1.3],
gxclist.h [1.2], gxcllzw.c [1.2], gxclmem.c [1.2], gxclmem.h [1.2]:
2000/09/19 19:00:32 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gxclpage.c [1.2], gxclpage.h [1.2], gxclpath.c [1.8],
gxclpath.h [1.6], gxclrast.c [1.8], gxclread.c [1.2], gxclrect.c [1.2],
gxclutil.c [1.2], gxclzlib.c [1.2], gxcmap.c [1.3], gxcmap.h [1.2],
gxcolor2.h [1.4], gxcomp.h [1.2], gxcoord.h [1.2], gxcpath.c [1.3],
gxcpath.h [1.2], gxcspace.h [1.4], gxctable.c [1.3], gxctable.h [1.2],
gxcvalue.h [1.2], gxdcconv.c [1.3], gxdcconv.h [1.2], gxdcolor.c [1.3],
gxdcolor.h [1.3], gxdda.h [1.2], gxdevbuf.h [1.2], gxdevcli.h [1.3],
gxdevice.h [1.4], gxdevmem.h [1.2], gxdevrop.h [1.2], gxdht.h [1.4],
gxdhtres.h [1.2], gxdither.c [1.2], gxdither.h [1.2], gxfarith.h [1.3],
gxfcache.h [1.2], gxfcid.h [1.6], gxfcmap.h [1.5], gxfill.c [1.5],
gxfixed.h [1.2], gxfmap.h [1.3], gxfont.h [1.2], gxfont0.h [1.3],
gxfont1.h [1.4], gxfont42.h [1.4], gxfrac.h [1.2], gxftype.h [1.2],
gxfunc.h [1.3], gxgetbit.h [1.2], gxhint1.c [1.2], gxhint2.c [1.2],
gxhint3.c [1.2], gxht.c [1.2], gxht.h [1.2], gxhtbit.c [1.3],
gxhttile.h [1.2], gxhttype.h [1.2], gxi12bit.c [1.2], gxiclass.h [1.2],
gxicolor.c [1.2], gxidata.c [1.4], gxifast.c [1.2], gximag3x.c [1.7]:
2000/09/19 19:00:35 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gximag3x.h [1.3], gximage.c [1.2], gximage.h [1.2],
gximage1.c [1.5], gximage2.c [1.2], gximage3.c [1.6], gximage3.h [1.4],
gximage4.c [1.3], gximono.c [1.2], gxino12b.c [1.2], gxiodev.h [1.2],
gxiparam.h [1.2], gxipixel.c [1.2], gxiscale.c [1.2], gxistate.h [1.6],
gxline.h [1.2], gxlum.h [1.2], gxmatrix.h [1.4], gxmclip.c [1.2],
gxmclip.h [1.2], gxobj.h [1.2], gxop1.h [1.2], gxp1fill.c [1.2],
gxp1impl.h [1.2], gxpageq.c [1.2], gxpageq.h [1.2], gxpaint.c [1.2],
gxpaint.h [1.2], gxpath.c [1.2], gxpath.h [1.2], gxpath2.c [1.2],
gxpcache.h [1.2], gxpcmap.c [1.3], gxpcolor.h [1.2], gxpcopy.c [1.3],
gxpdash.c [1.2], gxpflat.c [1.2], gxropc.h [1.2], gxrplane.h [1.2],
gxsample.c [1.2], gxsample.h [1.2], gxshade.c [1.4], gxshade.h [1.3],
gxshade1.c [1.5], gxshade4.c [1.3], gxshade4.h [1.2], gxshade6.c [1.3],
gxstate.h [1.2], gxstdio.h [1.2], gxstroke.c [1.2], gxsync.c [1.2],
gxsync.h [1.2], gxtext.h [1.3], gxtmap.h [1.2], gxttf.h [1.2],
gxtype1.c [1.6], gxtype1.h [1.4], gxxfont.h [1.2], gzacpath.h [1.2],
gzcpath.h [1.2], gzht.h [1.3], gzline.h [1.2], gzpath.h [1.3]: 2000/09/19
19:00:38 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gzstate.h [1.3]: 2000/09/19 19:00:41 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (jerror_.h [1.2], malloc_.h [1.2], math_.h [1.2],
memory_.h [1.2], pipe_.h [1.2]: 2000/09/19 19:00:47 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (time_.h [1.2], vmsmath.h [1.2], windows_.h [1.2]: 2000/09/19
19:00:51 lpd)

Bring version numbers and dates up to date. Small bug fix in toolbin/pre to
make it able to handle months with leading zeros. (gscdef.c [1.9]:
2000/10/04 05:18:54 raph)

</pre><h2><a name="6.30 ???Other???"></a>???Other???</h2><pre>

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gp_mswin.h [1.2]: 2000/09/19 19:00:24 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gsdll.h [1.2], gsdll32w.lnk [1.2], gsdllos2.h [1.2],
gsdllwin.h [1.2], gsjmorec.h [1.2]: 2000/09/19 19:00:27 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (gspmdrv.h [1.2]: 2000/09/19 19:00:31 lpd)

Updates the license notices to reflect the name change from Aladdin
Ghostscript to AFPL Ghostscript, as well as some internal references to the
program name. (iutilasm.asm [1.2]: 2000/09/19 19:00:46 lpd)

</pre><hr>

<h1><a name="Version6.23"></a>Version 6.23 (2000-08-07)</h1>

<p>
This fileset consists mostly of bug fixes.

<p>
All problems registered on SourceForge numbered 110922 or lower are closed,
except for the following: 101549, 101814, 101905, 101955, 102146, 102735,
104118, 105289, 105558, 106340, 106652, 109350, 110445, 110898, 110922.

<p>
The following projects are in a partially completed state in the PDF writer:

<ul>

<li>CID-keyed fonts (gdevpdf[eftw].c) -- barely started.

</ul>


<h2><a name="6.23_Incompatible_changes"></a>Incompatible changes</h2><pre>

(Drivers)
	- With high-level drivers ([e]pswrite, pdfwrite, pxl*, cgm*),
changing the OutputFile after writing one or more pages now causes an error.
(Interpreter)
	- By default, copydevice will only copy a device prototype.
	- Some internal references to contexts in zcontext.c are changed
from direct pointers to context indices.
	- Renames internal types to add a _t: ctx_list, ctx_status,
gs_context, gs_condition, gs_lock.
(Library)
	- By default, gs_copydevice[2] will only copy a device prototype.


</pre><h2><a name="6.23 Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- Local GC in a multi-context system caused a crash. Also updates
all the internal type names in zcontext.c by adding a _t suffix if
necessary. (doc/News.htm [1.54]: 2000/07/10 23:56:55 lpd)
	- With some high-level drivers, changing the OutputFile after
opening the device could cause a crash. After the fix, doing this works
properly if no pages have actually been written out, but causes a rangecheck
error if any pages have been written. (This is required to maintain internal
consistency.) (doc/News.htm [1.55]: 2000/07/12 14:02:03 lpd)
	- The documented limit on the length of a file name was incorrect.
(doc/Language.htm [1.9]: 2000/08/03 06:45:25 lpd)

Increments the version number, in preparation for the next fileset.
(doc/News.htm [1.52]: 2000/07/06 02:45:06 lpd)

Adds a finish_copydevice device procedure, for cleaning up after copying the
bits of a device prototype or instance. For safety, the default
implementation only allows copying the prototype, not instances. This is a
NON-BACKWARD-COMPATIBLE change; however, using copydevice on a device
instance never worked reliably, so it should not have been used this way
before. (doc/Drivers.htm [1.4], doc/News.htm [1.53]: 2000/07/06 04:13:24
lpd)

Updates the references to the Computer Modern Fontmap on CTAN.
(doc/Fonts.htm [1.5], doc/New-user.htm [1.8]: 2000/07/09 23:29:25 lpd)

Updates a couple of release procedures. (doc/Release.htm [1.15]: 2000/07/10
19:32:59 lpd)

Adds documentation and a script for preparing GNU releases from Aladdin
releases. (doc/Release.htm [1.16]: 2000/07/17 17:10:57 lpd)

Clarifies that device parameters set with -d or -s can be changed
subsequently. (doc/Use.htm [1.8]: 2000/07/17 20:13:03 lpd)

Adds a project for making Ghostscript work as a Netscape browser plug-in.
(doc/Projects.htm [1.13]: 2000/07/19 22:50:18 lpd)

Removes the SVG driver from the list of projects, since there is a group
close to completing one (referenced from the Ghostscript home page on the
Web). (doc/Projects.htm [1.14]: 2000/07/20 14:49:52 lpd)

Directs users to the Ghostscript home page on the Web for information about
third-party drivers. (doc/New-user.htm [1.9]: 2000/07/20 14:50:34 lpd)

Adds a partially implemented driver that just produces a trace of its
drawing calls. This driver also serves as a minimal example of how to
implement the high-level driver operations. (doc/Drivers.htm [1.5]:
2000/07/29 04:00:00 lpd)

Updates dates and version #s for the 6.23 fileset. (doc/Bug-info.htm [1.4],
doc/Changes.htm [1.15], doc/Drivers.htm [1.6], doc/Fonts.htm [1.6],
doc/History5.htm [1.3], doc/Htmstyle.htm [1.4], doc/Install.htm [1.5],
doc/Language.htm [1.10], doc/New-user.htm [1.10], doc/News.htm [1.56],
doc/Projects.htm [1.15], doc/Ps2pdf.htm [1.15], doc/Release.htm [1.17],
doc/Use.htm [1.9], man/ps2ps.1 [1.6]: 2000/08/07 17:48:09 lpd)

</pre><h2><a name="6.23 Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- &#36;(GLGEN)/md5.h wasn't deleted after compilation. (lib.mak [1.26]:
2000/07/09 23:19:59 lpd)
	- TrueType font loading now requires the Adobe glyph list, but this
dependency was missing from the makefile. (int.mak [1.26]: 2000/07/19
08:11:15 lpd)
	- During compilation, GLSRCDIR was searched before GLGENDIR. (We're
very surprised that this didn't cause detectable trouble before.)
(lib.mak [1.27]: 2000/07/19 14:32:00 lpd)
	- The dependency on gsparamx.&#36;(OBJ) was incorrectly attached to
pdfwrite.dev rather than psdf.dev. (devs.mak [1.30]: 2000/08/03 17:42:52
lpd)
	- 'pre' didn't work with dates in August or September (Tcl doesn't
accept 08 and 09 as valid numbers). (toolbin/pre [1.5]: 2000/08/07 17:35:27
lpd)

Increments the version number, in preparation for the next fileset.
(version.mak [1.17]: 2000/07/06 02:45:06 lpd)

Adds some user-contributed comments about using the Canon BJ200 driver with
the BJ300. (contrib.mak [1.18]: 2000/07/11 15:33:19 lpd)

Updates the (user-contributed) all-architecture build script to work around
a detail in the SGI IRIX C library header files. (all-arch.mak [1.4]:
2000/07/15 19:23:45 lpd)

Adds documentation and a script for preparing GNU releases from Aladdin
releases. (toolbin/makegnu.tcl [1.1]: 2000/07/17 17:10:57 lpd)

Adds a partially implemented driver that just produces a trace of its
drawing calls. This driver also serves as a minimal example of how to
implement the high-level driver operations. (lib.mak [1.28]: 2000/07/29
04:00:00 lpd)

Changes 'gsmake' to report line number rather than character position for
errors and warnings. (toolbin/gsmake.tcl [1.3]: 2000/08/07 17:22:27 lpd)

Updates dates and version #s for the 6.23 fileset. (version.mak [1.18]:
2000/08/07 17:48:10 lpd)

Adds some missing dependencies. (int.mak [1.27], lib.mak [1.29]: 2000/08/07
17:52:22 lpd)

</pre><h2><a name="6.23 Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- An invalid file name or pattern passed to filenameforall would
(incorrectly) return an empty string rather than not returning any file
names at all. (gp_vms.c [1.3]: 2000/07/09 21:09:51 lpd)
	- Some DOS/Windows script files didn't use 'call', so they would
terminate execution prematurely if called from another script file.
(lib/ps2pdf.bat [1.5], lib/ps2pdf12.bat [1.4], lib/ps2pdf13.bat [1.4],
lib/ps2pdfxx.bat [1.8]: 2000/07/24 15:12:21 lpd)

</pre><h2><a name="6.23 Drivers"></a>Drivers</h2><pre>

Implements finish_copydevice for X windows, to allow copying instances as
well as the prototype. (gdevx.c [1.4], gdevx.h [1.3], gdevxini.c [1.7]:
2000/07/06 05:29:46 lpd)

Adds some user-contributed comments about using the Canon BJ200 driver with
the BJ300. (gdevbj10.c [1.2]: 2000/07/11 15:33:19 lpd)

</pre><h2><a name="6.23 PDF writer"></a>PDF writer</h2><pre>

Fixes problems:
	- M_2PI was predefined on some systems. (gdevpdfg.c [1.6]:
2000/07/09 23:11:31 lpd)
	- The word and character spacing values were not tracked correctly
when mixing text and graphics, sometimes producing horizontally misplaced
text. (gdevpdf.c [1.18], gdevpdfg.c [1.7], gdevpdfu.c [1.10],
gdevpdfx.h [1.19]: 2000/07/11 14:33:54 lpd)
	- 'show'ing an empty string could cause the next string to be
positioned incorrectly. (gdevpdft.c [1.14]: 2000/07/27 14:18:11 lpd)

Updates font embedding code to handle CIDFontType 2 fonts. NOT TESTED.
(gdevpdfe.c [1.3]: 2000/07/27 04:18:13 lpd)

Adds glyphs_used to FontDescriptors and pfd to std_fonts in the device
structure. WORK IN PROGRESS. (gdevpdf.c [1.19], gdevpdff.c [1.7],
gdevpdff.h [1.3], gdevpdfx.h [1.20]: 2000/07/27 04:19:24 lpd)

</pre><h2><a name="6.23 Interpreter (PDF)"></a>Interpreter (PDF)</h2><pre>

Fixes problems:
	- If a badly-constructed PDF file referenced one of the 12 base
alphabetic fonts explicitly as a TrueType font (e.g., /BaseFont
/TimesNewRoman /Subtype /TrueType) without embedding it, the substituted
Type 1 font had the wrong Encoding. (lib/pdf_font.ps [1.10]: 2000/07/10
13:18:28 lpd)
	- Piped input beginning with a % caused an ioerror. (bug introduced
in 6.22) (lib/pdf_main.ps [1.10]: 2000/07/14 05:30:19 lpd)
	- As a result of some recent changes to fix other problems, setting
certain text state parameters (Tf, Ts, Tz) outside of text mode (BT/ET)
caused an error. (lib/pdf_ops.ps [1.6]: 2000/07/19 15:57:54 lpd)
	- Setting a singular text matrix (e.g., 0 0 0 0 &lt;x&gt; &lt;y&gt; Tm) caused
an error. (lib/pdf_ops.ps [1.7]: 2000/08/04 16:08:05 lpd)

</pre><h2><a name="6.23 Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- Removes the '?' procedure, which was defined solely for the
convenience of users who don't read the documentation and which interfered
with the operation of some code produced by the Adobe PS5 Windows driver.
(lib/gs_init.ps [1.18]: 2000/07/09 22:34:30 lpd)
	- A constant 1 should have been 1L, causing a warning on systems
where sizeof(long) &gt; sizeof(int). (zarith.c [1.3]: 2000/07/09 23:10:58 lpd)
	- The workaround for attempting to set a 4-element PageSize value in
a page device sometimes caused an error. (bug introduced in 6.21)
(lib/gs_setpd.ps [1.4]: 2000/07/10 12:48:54 lpd)
	- Redefining setcolorspace could cause an infinite recursion.
(lib/gs_lev2.ps [1.5]: 2000/07/10 13:35:24 lpd)
	- Local GC in a multi-context system caused a crash. Also updates
all the internal type names in zcontext.c by adding a _t suffix if
necessary. (zcontext.c [1.4]: 2000/07/10 23:56:55 lpd)
	- A garbage collection occurring within a save could cause a memory
access error. (bug introduced in 6.22) (zcontext.c [1.5]: 2000/07/14
05:28:56 lpd)
	- Piped input beginning with a % caused an ioerror. (bug introduced
in 6.22) (zfileio.c [1.8]: 2000/07/14 05:30:19 lpd)
	- A garbage collection occurring while scanning a binary token
sequence could cause a syntaxerror or corrupted data. (iscan.c [1.3]:
2000/07/18 15:39:02 lpd)
	- (correction) An interruption (including a callout for a
procedure-based stream), not a garbage collection, while scanning a binary
token sequence could cause a syntaxerror or corrupted data. (iscan.c [1.4]:
2000/07/18 15:41:55 lpd)
	- When loading a TrueType font, invalid glyph numbers in the 'post'
table (which appear in some Adobe-created PDF files) caused an error instead
of being ignored; a test was backwards, causing some embedded TrueType fonts
in PDF files to produce a rangecheck error. (lib/gs_ttf.ps [1.6]: 2000/07/19
08:12:41 lpd)
	- When NOPROMPT was set, no flush or flushpage occurred at the end
of a page. (fix from an anonymous user on SourceForge)
(lib/gs_init.ps [1.19]: 2000/07/20 01:40:50 lpd)
	- Type 1 or Type 2 fonts with invalid LanguageGroup values &lt; 0
caused an error. (Such fonts are invalid, but some real fonts have garbage
LanguageGroup values, and Adobe software doesn't give an error.)
(zfont1.c [1.6]: 2000/07/24 18:08:38 lpd)
	- Errors while executing gs_init.ps and other PostScript
initialization files were sometimes ignored, leading to mysterious error
messages later. (imainarg.c [1.3]: 2000/08/03 06:43:17 lpd)
	- Showing text with a singular matrix (scaling matrix x CTM) could
leave extraneous values on the operand stack. (zchar1.c [1.4]: 2000/08/04
16:09:30 lpd)

Increments the version number, in preparation for the next fileset.
(lib/gs_init.ps [1.15]: 2000/07/06 02:45:06 lpd)

Redefines [gs_]copydevice in terms of a new gs_copydevice2/.copydevice2,
which adds a Boolean keep_open argument that requests (but does not
guarantee) that a copy of an open device remain open.
(lib/gs_init.ps [1.16], zdevice.c [1.2]: 2000/07/06 03:26:13 lpd)

Adds a finish_copydevice device procedure, for cleaning up after copying the
bits of a device prototype or instance. For safety, the default
implementation only allows copying the prototype, not instances. This is a
NON-BACKWARD-COMPATIBLE change; however, using copydevice on a device
instance never worked reliably, so it should not have been used this way
before. (lib/gs_init.ps [1.17]: 2000/07/06 04:13:24 lpd)

Adds the ability to load CIDFont resources from CFF OpenType font files.
(lib/gs_cff.ps [1.6], lib/gs_cidfn.ps [1.16]: 2000/07/29 05:58:28 lpd)

Ensures that errordict has at least one empty entry, for the sake of some
astonishingly bad PostScript code that tests for this and has a bug in the
case where it isn't true. (lib/gs_init.ps [1.20]: 2000/08/04 04:29:45 lpd)

</pre><h2><a name="6.23 Library"></a>Library</h2><pre>

Fixes problems:
	- Some coordinate computations for Type 1 fonts could lose far too
much precision if _fixed_shift was reduced. (gscoord.c [1.2],
gxmatrix.h [1.2]: 2000/07/11 09:25:46 lpd)
	- If the current color space was DeviceRGB, gs_currentgray returned
the wrong value. (bug introduced in 6.22) (gscolor.c [1.3]: 2000/07/11
14:00:09 lpd)
	- With some high-level drivers, changing the OutputFile after
opening the device could cause a crash. After the fix, doing this works
properly if no pages have actually been written out, but causes a rangecheck
error if any pages have been written. (This is required to maintain internal
consistency.) (gdevvec.c [1.4]: 2000/07/12 14:02:04 lpd)
	- A file had accidentally acquired an incorrect license notice.
(gscoord.c [1.4]: 2000/07/13 02:02:09 lpd)
	- Type 2 fonts that used the 'hflex' operator could produce
distorted characters (e.g., slanted bottoms). (gstype2.c [1.4]: 2000/07/13
02:09:21 lpd)
	- The use of macros within procedure argument lists confused
ansi2knr. (gximage3.c [1.5], gximage3.h [1.3]: 2000/07/19 14:30:45 lpd)
	- Freeing a locking allocator could cause infinite recursion.
(gsmemlok.c [1.2]: 2000/07/19 21:32:12 lpd)
	- "Accurate curves" was a no-op for certain cases of horizontal or
vertical tangents. (gxpcopy.c [1.2]: 2000/08/05 01:04:28 lpd)

Increments the version number, in preparation for the next fileset.
(gscdef.c [1.5]: 2000/07/06 02:45:06 lpd)

Redefines [gs_]copydevice in terms of a new gs_copydevice2/.copydevice2,
which adds a Boolean keep_open argument that requests (but does not
guarantee) that a copy of an open device remain open. (gsdevice.c [1.5],
gsdevice.h [1.2]: 2000/07/06 03:26:13 lpd)

Adds a finish_copydevice device procedure, for cleaning up after copying the
bits of a device prototype or instance. For safety, the default
implementation only allows copying the prototype, not instances. This is a
NON-BACKWARD-COMPATIBLE change; however, using copydevice on a device
instance never worked reliably, so it should not have been used this way
before. (gdevbbox.c [1.2], gdevdflt.c [1.2], gdevht.c [1.2],
gdevmem.h [1.2], gdevnfwd.c [1.2], gdevprn.h [1.5], gdevrops.c [1.2],
gsdevice.c [1.6], gxacpath.c [1.2], gxclip.c [1.2], gxclip2.c [1.2],
gxclipm.c [1.2], gxclist.c [1.2], gxdevcli.h [1.2], gxdevice.h [1.3],
gxpcmap.c [1.2]: 2000/07/06 04:13:24 lpd)

Adds a little more tracing output for images. (gxidata.c [1.3]: 2000/07/09
21:04:25 lpd)

Adds _simple_final structure type definition macros. (gsstruct.h [1.3]:
2000/07/10 15:43:30 lpd)

Removes a structure member no longer needed after a recent fix.
(gscoord.c [1.3], gxmatrix.h [1.3]: 2000/07/12 04:49:43 lpd)

Adds the ability to write subsetted CIDFontType 2 (TrueType-based) fonts.
(gdevpsf.h [1.6], gdevpsft.c [1.2], gdevpsfu.c [1.3], gxfcid.h [1.5]:
2000/07/21 01:09:16 lpd)

Adds a partially implemented driver that just produces a trace of its
drawing calls. This driver also serves as a minimal example of how to
implement the high-level driver operations. (gdevtrac.c [1.1]: 2000/07/29
04:00:00 lpd)

Improves the smoothness of ShadingType 4 - 7 gradient fills.
(gxshade4.c [1.2], gxshade6.c [1.2]: 2000/08/03 20:47:48 lpd)

Updates dates and version #s for the 6.23 fileset. (gscdef.c [1.6]:
2000/08/07 17:48:10 lpd)

</pre><hr>

<h1><a name="Version6.22"></a>Version 6.22 (2000-07-05)</h1>

<p>
This fileset consists mostly of bug fixes.  It also further improves the PDF
writer, which now handles ImageType 3 images and PatternType 2 (shading)
patterns.

<p>
All problems registered on SourceForge numbered 108819 or lower are closed,
except for the following: 101549, 101814, 101905, 101955, 102146, 102735,
104118, 105289, 105558, 106340, 106652, 108639.

<p>
The following projects are in a partially completed state in the PDF writer:

<ul>

<li>CID-keyed fonts (gdevpdf[eftw].c) -- barely started.

</ul>


<h2><a name="6.22_Incompatible_changes"></a>Incompatible changes</h2><pre>

(Procedures)
	- Versions now have odd numbers during development, even numbers
when released.
	- The TMPDIR environment variable, if set, now takes precedence
over TEMP.
	- On MS-DOS, MS Windows, and OS/2 platforms, the batch files that
invoke Ghostscript now use a default name of gswin32 or gswin32c rather than
simply gs.
(Drivers)
	- The PCL drivers now select a given paper size if the requested
height is at least 0.1" greater than the height of the next smaller paper
size, rather than if the requested height is at least as large as that of
the given paper size.
(Interpreter)
	- user_names_p and system_names_p may now be NULL: clients must
check this.
	- scan_comment_proc and scan_dsc_proc are now deprecated, and will
disappear in the near future.
	- The values in psuserparams are now checking procedures rather
than parameter values.
	- Comments beginning with %! are treated as "DSC comments", like
comments beginning with %%.
(Library)
	- The macro for declaring the fill_rectangle procedure of a shading
is now upper-case.  The fill_rectangle procedure is now a member of a procs
structure; there is a new macro for calling it.
	- The parameter list and return value for gs_currentgray have
changed.  This is very unfortunate, but it was unavoidable.


</pre><h2><a name="6.22 Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- The batch files for MS-DOS, MS Windows, and OS/2 referred to the
executable by the name 'gs'. They now use environment variables GS
(graphical) and GSC (console) for the executable names, defaulting to
gswin32 and gswin32c respectively. (doc/News.htm [1.45], doc/Use.htm [1.6]:
2000/05/20 20:53:04 lpd)
	- The -dCompatibilityLevel= switch was incorrectly identified in one
place as -dCompatibility=. (doc/Ps2pdf.htm [1.11]: 2000/05/22 21:29:45 lpd)
	- [gs_]currentgray didn't return the correct value if the current
color space was a DeviceN space using the alternate space.
(doc/News.htm [1.49]: 2000/07/03 15:28:26 lpd)
	- Fixes a couple of typos. (doc/Release.htm [1.12]: 2000/07/04
19:19:38 lpd)
	- The "smoke test" procedure for fileset releases didn't stress the
banding code nearly as hard as intended. (doc/Release.htm [1.13]: 2000/07/05
04:50:13 lpd)

Adds predefined pdfwrite settings similar to the three standard settings in
Adobe Acrobat Distiller 4, plus a "default" setting, with
-dPDFSETTINGS=/settingname. (doc/Ps2pdf.htm [1.10]: 2000/04/29 02:29:20 lpd)

Increments the version number to 6.23. From now on, we use odd numbers
during development, even numbers for released filesets.
(doc/Changes.htm [1.12], doc/History6.htm [1.7], doc/News.htm [1.40],
doc/Release.htm [1.11]: 2000/04/29 16:49:43 lpd)

Implements ImageType 3 images in the PDF writer. (doc/News.htm [1.41]:
2000/04/30 06:21:58 lpd)

Creates a procs structure for shadings, moving the fill_rectangle procedure
into it, in anticipation of adding a get_params procedure.
(doc/News.htm [1.42]: 2000/04/30 19:37:37 lpd)

Implements PatternType 2 patterns and shfill in the PDF writer.
(doc/News.htm [1.43]: 2000/05/02 07:14:58 lpd)

Adds a reference to Karel Kulhavy's pdf2html program.
(doc/New-user.htm [1.6]: 2000/05/04 21:16:44 lpd)

Adds a small project to remove the limit on the length of the OutputFile
parameter for printer drivers. (doc/Projects.htm [1.9]: 2000/05/06 00:32:08
lpd)

Documents the addition of TMPDIR for specifying the directory for temporary
files. (doc/News.htm [1.44], doc/Use.htm [1.5]: 2000/05/19 17:59:28 lpd)

Adds (more) user-contributed uniprint parameter files for the Epson Stylus
Color 640. (doc/Devices.htm [1.8]: 2000/05/23 18:58:56 lpd)

Adds implementation of the %font% IODevice to the list of projects.
(doc/Projects.htm [1.10]: 2000/05/24 23:30:15 lpd)

Documents the change in the paper size selection for PCL drivers.
(doc/News.htm [1.46]: 2000/05/30 03:26:15 lpd)

Adds glyph decaching notification to the list of projects.
(doc/Projects.htm [1.11]: 2000/05/30 05:54:23 lpd)

Documents that user_names_p and system_names_p may now be NULL.
(doc/News.htm [1.47]: 2000/06/05 01:26:05 lpd)

Adds the ability to write multi-strip monochrome TIFF files, controlled by a
new MaxStripSize parameter for the monochrome TIFF drivers.
(doc/Devices.htm [1.9]: 2000/06/05 05:41:55 lpd)

Updates the open ICC color support project to reference Graeme Gill's icclib
package. (doc/Projects.htm [1.12]: 2000/06/08 02:55:37 lpd)

Adds an umbrella document for maintenance procedures, initially describing
the procedure for uploading bug report test data to SourceForge.
(doc/Maintain.htm [1.1], doc/Readme.htm [1.8]: 2000/06/13 20:27:26 lpd)

Updates documentation to reflect the use of the GSC environment variable to
set the name of the executable for ps2pdf. (doc/Ps2pdf.htm [1.12]:
2000/06/21 17:10:41 lpd)

Updates documentation on the ProcessColorModel and ColorConversionStrategy
parameters. (doc/Ps2pdf.htm [1.13]: 2000/06/21 18:06:07 lpd)

Adds user parameters ProcessComment and ProcessDSCComment. If not null,
these procedures are called with the file and the comment line whenever the
scanner detects a comment (or non-DSC comment) or DSC comment. NOTE: the
interpreter is currently patched so that ProcessComment is never called.
(doc/Language.htm [1.4], doc/News.htm [1.48]: 2000/06/27 00:53:38 lpd)

Adds a reference to a user-maintained Czech translation of the Ghostscript
'man' pages. (doc/Readme.htm [1.9]: 2000/06/27 14:03:29 lpd)

Brings the language documentation (more) up to date.
(doc/Language.htm [1.5]: 2000/06/29 16:00:48 lpd)

Improves the documentation of copydevice regarding where it allocates the
copy, and documents finddevice. (doc/Drivers.htm [1.2],
doc/Language.htm [1.6]: 2000/06/30 00:09:15 lpd)

Adds a findprotodevice "operator", to find a device prototype by name.
(doc/Language.htm [1.7]: 2000/07/05 04:49:11 lpd)

Changes the version numbering system back to sequential (not odd/even).
Between numbered filesets, GS_PRODUCT will say "CVS PRE-RELEASE".
(doc/History6.htm [1.8], doc/News.htm [1.50]: 2000/07/05 17:23:54 lpd)

Updates documentation related to version numbering, reflecting the move back
to sequential numbering. (doc/Maintain.htm [1.2], doc/Release.htm [1.14]:
2000/07/05 18:27:50 lpd)

Updates documentation dates for making a fileset. (doc/Changes.htm [1.13],
doc/Devices.htm [1.10], doc/Drivers.htm [1.3], doc/History6.htm [1.9],
doc/Language.htm [1.8], doc/New-user.htm [1.7], doc/News.htm [1.51],
doc/Ps2pdf.htm [1.14], doc/Readme.htm [1.10], doc/Use.htm [1.7]: 2000/07/06
00:01:39 lpd)

</pre><h2><a name="6.22 Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- The rule for the recently-added gdevhl12 driver omitted the space
before the colon. (contrib.mak [1.12]: 2000/05/02 01:42:12 lpd)
	- Once again, corrects an incorrect dependency list.
(lib.mak [1.19]: 2000/05/02 07:14:11 lpd)
	- smd5.c didn't compile properly with "traditional C" compilers.
(lib.mak [1.20]: 2000/05/19 06:08:01 lpd)
	- Temporary files weren't created as private or exclusive.
(lib.mak [1.21], os2.mak [1.6], watc.mak [1.4], watclib.mak [1.4],
winlib.mak [1.3]: 2000/05/19 17:52:51 lpd)
	- The definitions of user names weren't properly associated with
local VM (they were stored in a static variable). (int.mak [1.22]:
2000/05/26 02:27:58 lpd)
	- 'make install' on Unix systems didn't install pdfopt.ps and
pdfwrite.ps. (unixinst.mak [1.11]: 2000/05/30 23:07:34 lpd)
	- The dependency list for the new Epson Stylus Photo driver was
wrong, causing build problems if this driver was included.
(contrib.mak [1.13]: 2000/06/01 20:25:39 lpd)
	- The change to implement stripped TIFF files broke non-TIFF fax
output formats (faxg* drivers). Also factors plain-fax writing from TIFF
writing. (devs.mak [1.26]: 2000/06/06 06:37:37 lpd)
	- Corrects a typo introduced by recent changes. (msvctail.mak [1.3]:
2000/06/07 06:36:54 lpd)
	- Rendering TrueType fonts didn't adjust the flatness to ensure
accurate results. (lib.mak [1.23]: 2000/06/20 15:46:53 lpd)
	- The makefile missed a dependency (CIDFontType 0 fonts require
FontType 2 fonts). (int.mak [1.23]: 2000/06/27 17:23:13 lpd)
	- The makefiles didn't include the requirement that gs_mro_e.ps be
loaded before gs_mgl_e.ps. (devs.mak [1.28], int.mak [1.24]: 2000/06/27
17:36:42 lpd)
	- A dependency was missing. (lib.mak [1.24]: 2000/07/04 19:05:12
lpd)
	- Fixes a typo; reduces the number of false warnings for
documentation date mismatches. (toolbin/pre [1.4]: 2000/07/04 19:19:17 lpd)
	- Fixes a typo. (contrib.mak [1.16]: 2000/07/04 22:30:10 lpd)
	- Adds a missing dependency. (devs.mak [1.29]: 2000/07/04 22:30:33
lpd)
	- Adds a missing dependency. (contrib.mak [1.17]: 2000/07/06
00:00:13 lpd)

Increments the version number to 6.23. From now on, we use odd numbers
during development, even numbers for released filesets. (version.mak [1.15]:
2000/04/29 16:49:43 lpd)

Restructures the code for handling ImageType 3 images, for the benefit of
the PDF writer. (lib.mak [1.18]: 2000/04/30 03:08:15 lpd)

Implements ImageType 3 images in the PDF writer. (devs.mak [1.23]:
2000/04/30 06:21:58 lpd)

Implements PatternType 2 patterns and shfill in the PDF writer.
(devs.mak [1.24]: 2000/05/02 07:14:58 lpd)

Adds the first draft of a driver for the Practical Automation ATX-23, -24,
and -38 label/ticket printers, developed under contract. This has a dual
GPL/AFPL license. (devs.mak [1.25]: 2000/05/03 20:30:06 lpd)

Works around the fact that Microsoft Visual C++ (only) doesn't define the O_
flags for the `open' library call. (lib.mak [1.22]: 2000/05/31 20:34:43 lpd)

Makes it possible to build on MSVC++ systems without specifying the paths
for the tools, headers, or libraries. See msvc{32,lib}.mak for details.
(msvc32.mak [1.4], msvccmd.mak [1.4], msvclib.mak [1.4], msvctail.mak [1.2],
winint.mak [1.4]: 2000/06/05 02:46:07 lpd)

Adds a user-contributed driver for SFF (the file format for CAPI fax
devices). (contrib.mak [1.14]: 2000/06/06 06:38:31 lpd)

Notes that the vgalib driver only suppotrs 16-color modes. (devs.mak [1.27]:
2000/06/06 15:28:01 lpd)

Removes an obsolete file. (toolbin/package.tcl [1.2]: 2000/06/06 18:05:32
lpd)

Documents the fact that the IJG JPEG library header files must be available
when compiling, even if SHARE_JPEG=1. (dvx-gcc.mak [1.3], jpeg.mak [1.2],
unix-gcc.mak [1.6], unixansi.mak [1.4], unixtrad.mak [1.4]: 2000/06/07
13:32:44 lpd)

Finishes implementing the Process[DSC]Comment callout. (int.mak [1.25]:
2000/06/28 20:17:00 lpd)

Removes some third-party drivers with incompatible licenses.
(contrib.mak [1.15]: 2000/07/02 22:11:31 lpd)

Finishes working around the fact that Microsoft C, in defiance of multiple
standards, by default doesn't define the O_ flags for 'open' in fcntl.h (or
anywhere else). (lib.mak [1.25]: 2000/07/05 00:48:21 lpd)

Changes the version numbering system back to sequential (not odd/even).
Between numbered filesets, GS_PRODUCT will say "CVS PRE-RELEASE".
(version.mak [1.16]: 2000/07/05 17:23:54 lpd)

</pre><h2><a name="6.22 Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- Fixes a couple of minor Windows NT compatibility problems in
script files. (lib/ps2pdf.bat [1.3], lib/ps2pdfxx.bat [1.5]: 2000/05/05
03:21:03 lpd)
	- Temporary files weren't created as private or exclusive.
(gp_iwatc.c [1.3], gp_mswin.c [1.2], gp_os2.c [1.3]: 2000/05/19 17:52:51
lpd)
	- gsdll_init didn't propagate an error return from
gs_main_init_with_args, causing clients to think Ghostscript was initialized
properly when it wasn't. (gsdll.c [1.2]: 2000/05/20 14:39:42 lpd)
	- The batch files for MS-DOS, MS Windows, and OS/2 referred to the
executable by the name 'gs'. They now use environment variables GS
(graphical) and GSC (console) for the executable names, defaulting to
gswin32 and gswin32c respectively. (lib/bdftops.bat [1.2],
lib/eps2eps.bat [1.3], lib/font2c.bat [1.2], lib/gsbj.bat [1.2],
lib/gsdj.bat [1.2], lib/gsdj500.bat [1.2], lib/gslj.bat [1.2],
lib/gslp.bat [1.2], lib/gsnd.bat [1.2], lib/gsndt.bat [1.2],
lib/gssetgs.bat [1.1], lib/gst.bat [1.2], lib/gstt.bat [1.2],
lib/lpgs.bat [1.2], lib/lpr2.bat [1.2], lib/pdf2ps.bat [1.3],
lib/pdfopt.bat [1.2], lib/pftogsf.bat [1.2], lib/ps2ascii.bat [1.3],
lib/ps2epsi.bat [1.3], lib/ps2pdfxx.bat [1.7], lib/ps2ps.bat [1.3]:
2000/05/20 20:53:05 lpd)
	- The ps2pdf.bat script didn't set the default PDF level, so it
normally produced PDF 1.3 rather than 1.2, which was contrary to the
documentation and different from the Unix ps2pdf script.
(lib/ps2pdf.bat [1.4]: 2000/06/08 02:33:09 lpd)

Adds a user-contributed program for displaying the differences between two
AFM (font metric) files. This has a dual AFPL/GPL copyright.
(lib/afmdiff.awk [1.1]: 2000/04/29 20:51:41 lpd)

Removes an out-of-date e-mail address. (lib/ps2pdfxx.bat [1.4]: 2000/05/04
16:40:08 lpd)

Adds -dSAFER to all the format conversion scripts in which the input is
executed as PostScript or PDF code. (lib/eps2eps [1.2],
lib/eps2eps.bat [1.2], lib/pdf2dsc [1.2], lib/pdf2ps [1.3],
lib/pdf2ps.bat [1.2], lib/ps2ascii [1.2], lib/ps2ascii.bat [1.2],
lib/ps2epsi [1.3], lib/ps2epsi.bat [1.2], lib/ps2pdfwr [1.5],
lib/ps2pdfxx.bat [1.6], lib/ps2ps [1.2], lib/ps2ps.bat [1.2]: 2000/05/19
06:38:25 lpd)

Adds -dSAFER to one more script. (lib/pdfopt [1.2]: 2000/05/30 05:28:22 lpd)

Refactors some PDF-writing code for use in a PDF decompressor.
(lib/pdfwrite.ps [1.2]: 2000/06/27 17:06:32 lpd)

Adds a number of (user-maintained) command files for OS/2.
(lib/bdftops.cmd [1.1], lib/eps2eps.cmd [1.1], lib/font2c.cmd [1.1],
lib/pdf2ps.cmd [1.1], lib/pf2afm.cmd [1.1], lib/ps2ascii.cmd [1.1],
lib/ps2epsi.cmd [1.1], lib/ps2pdf.cmd [1.1], lib/ps2pdf12.cmd [1.1],
lib/ps2pdf13.cmd [1.1], lib/ps2ps.cmd [1.1]: 2000/07/05 16:21:13 lpd)

</pre><h2><a name="6.22 Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- The "compressed data" command encoding was wrong in one place in
the documentation, and the code used the incorrect encoding.
(gdevatx.c [1.2]: 2000/05/06 00:31:25 lpd)
	- If a file made no marks at all, ps2[e]ps produced bad output.
(gdevps.c [1.8]: 2000/05/07 15:38:27 lpd)
	- Returning an image compression parameter dictionary didn't close
an enumeration, failing to free a bookkeeping structure. (gdevpsdp.c [1.5]:
2000/05/11 16:13:16 lpd)
	- The epswrite driver could produce output that used initclip, which
is not allowed in EPS files. (gdevps.c [1.9]: 2000/05/20 06:36:30 lpd)
	- The change to implement stripped TIFF files broke non-TIFF fax
output formats (faxg* drivers). Also factors plain-fax writing from TIFF
writing. (gdevfax.c [1.1], gdevfax.h [1.1], gdevtfax.c [1.3],
gdevtfax.h [1.3]: 2000/06/06 06:37:37 lpd)
	- In the X driver, resetting MaxBitmap didn't have the proper
effect, and could cause a crash. (This is probably only a partial fix.)
(gdevxini.c [1.4]: 2000/06/12 01:52:16 lpd)
	- Finishes fixing the handling of MaxBitmap in the X driver.
(gdevxini.c [1.5]: 2000/06/12 02:45:25 lpd)
	- In the ATX drivers, the word count for compressed scan lines was
written as 2 bytes rather than 1; the drivers wouldn't accept a page width
greater than 2400 pixels. (gdevatx.c [1.4]: 2000/06/12 04:39:48 lpd)
	- Works around a bug in the MSVC++ 5.0 compiler that treats (int &lt;&lt;
unsigned) as unsigned rather than int. (gdevcd8.c [1.2], gdevcdj.c [1.2],
gdevdj9.c [1.3]: 2000/06/20 14:21:34 lpd)
	- Uncolored Patterns used with a gray color produced incorrect PDF
output. (Bug introduced in 6.2x.) (gdevpsdu.c [1.5]: 2000/06/28 05:13:19
lpd)
	- Moves an assignment to eliminate a bogus warning from some picky
compilers about a variable supposedly clobbered by longjmp.
(gdevpng.c [1.2]: 2000/07/03 21:10:33 lpd)
	- Two values were computed and not used. (gdevpx.c [1.3]: 2000/07/03
21:30:41 lpd)
	- [e]pswrite didn't guarantee a maximum line length of 255
characters, and didn't mark binary data with %%BeginData:/%%EndData.
(gdevps.c [1.10]: 2000/07/04 18:34:38 lpd)
	- Fixes references to undeclared functions. (gdevdfax.c [1.2],
gdevl256.c [1.2]: 2000/07/04 22:25:08 lpd)
	- X Windows platform fonts were broken when using multiple device
instances (windows). (gdevxxf.c [1.4]: 2000/07/05 18:20:41 lpd)

Improves the test for whether compressing an image is worthwhile.
(gdevpsdi.c [1.11]: 2000/04/30 01:26:41 lpd)

When printing color values derived from 8-bit fields, rounds the output to 3
decimal places for compactness with no loss of precision. (gdevpsdu.c [1.4]:
2000/04/30 19:24:28 lpd)

Adds the first draft of a driver for the Practical Automation ATX-23, -24,
and -38 label/ticket printers, developed under contract. This has a dual
GPL/AFPL license. (gdevatx.c [1.1]: 2000/05/03 20:30:06 lpd)

Updates the ATX printer drivers to handle the unprintable margins.
(gdevatx.c [1.3]: 2000/05/19 05:48:30 lpd)

Adds (more) user-contributed uniprint parameter files for the Epson Stylus
Color 640. (lib/st640ih.upp [1.1], lib/st640ihg.upp [1.1],
lib/st640p.upp [1.1], lib/st640pg.upp [1.1], lib/st640pl.upp [1.1],
lib/st640plg.upp [1.1]: 2000/05/23 18:58:56 lpd)

Adds support for 11x17 paper in PCL printers; changes the paper size tests
so that paper size N+1 is selected if the requested height is at least 0.1"
greater than the height of paper size N. (gdevpcl.c [1.2], gdevpcl.h [1.2]:
2000/05/30 03:24:17 lpd)

Adds comments about H-P's inconsistent use of different names and size codes
for the 11x17 paper size. (gdevpcl.c [1.3], gdevpcl.h [1.3]: 2000/05/30
20:45:45 lpd)

Adds the ability to write multi-strip monochrome TIFF files, controlled by a
new MaxStripSize parameter for the monochrome TIFF drivers.
(gdevtfax.c [1.2], gdevtfax.h [1.2], gdevtfnx.c [1.2], gdevtifs.c [1.2],
gdevtifs.h [1.2]: 2000/06/05 05:41:55 lpd)

Adds a user-contributed driver for SFF (the file format for CAPI fax
devices). (gdevcfax.c [1.1]: 2000/06/06 06:38:31 lpd)

Notes that the vgalib driver only suppotrs 16-color modes.
(gdevvglb.c [1.2]: 2000/06/06 15:28:01 lpd)

Adds some code contributed by Leon Bottou &lt;leonb@research.att.com&gt; that
makes the X driver prefer TrueColor visuals. We aren't sure of the
ramifications of this.... (gdevxini.c [1.6]: 2000/06/12 04:41:15 lpd)

Updates the ATX driver(s) to enforce maximum page width and minimum page
length. (gdevatx.c [1.5]: 2000/06/22 14:55:53 lpd)

Removes some third-party drivers with incompatible licenses.
(gdevcd8.c [1.3], gdevdj9.c [1.4], gdevhl12.c [1.2]: 2000/07/02 22:11:31
lpd)

Per user request, changes the license on the basic monochrome
DeskJet/LaserJet drivers from AFPL to dual AFPL/GPL. (gdevdjet.c [1.5],
gdevdljm.c [1.3], gdevdljm.h [1.3]: 2000/07/05 17:36:14 lpd)

</pre><h2><a name="6.22 PDF writer"></a>PDF writer</h2><pre>

Fixes problems:
	- A "0 ||" was omitted, potentially causing some kinds of errors
that never happen in practice to be overlooked. (gdevpdfi.c [1.17]:
2000/05/02 01:55:10 lpd)
	- Fixes minor syntactic incompatibilities with "traditional C"
compilers. (gdevpdfg.c [1.5]: 2000/05/11 16:14:51 lpd)
	- The PDF writer could still produce coordinates for paths that
exceeded Acrobat Reader's user-coordinate limit of +/- 32K.
(gdevpdfd.c [1.9]: 2000/05/23 21:05:00 lpd)
	- In PDF 1.2 output, several synthesized Type 3 fonts could have the
same name, producing errors and/or incorrect output. (bug introduced since
6.01) (gdevpdf.c [1.17], gdevpdft.c [1.11], gdevpdfx.h [1.18]: 2000/05/24
20:39:30 lpd)
	- The FontDescriptor flags for non-embedded alphabetic fonts with
non-Standard encodings incorrectly identified the font as a small-caps font.
(gdevpdff.c [1.6]: 2000/05/30 23:04:23 lpd)
	- Works around the fact that Acrobat Reader won't accept /MMType1
fonts, but will accept MM Type 1 instances if they're tagged as /Type1
rather than /MMType1. (gdevpdft.c [1.12], gdevpdfw.c [1.4]: 2000/06/12
18:13:51 lpd)
	- Embedded Type 1 (but not Type 2 / 1C) fonts were written without
eexec encryption. We can't figure out how this happened, because the PDF
spec requires eexec encryption and the correct code was commented out; we
suppose this was a debugging or testing modification that got left in. (bug
introduced since 6.01) (gdevpdfe.c [1.2]: 2000/06/12 18:15:20 lpd)
	- Text in Type 3 synthesized fonts was often positioned incorrectly,
usually too far to the left. (bug introduced since 6.01) (gdevpdft.c [1.13]:
2000/06/13 16:34:42 lpd)
	- Images that ended prematurely still (again?) weren't written
correctly. (gdevpdfj.c [1.4]: 2000/06/27 06:32:03 lpd)

Implements ImageType 3 images in the PDF writer. (gdevpdfb.c [1.1],
gdevpdfg.h [1.6], gdevpdfi.c [1.16], gdevpdfj.c [1.3], gdevpdfx.h [1.16]:
2000/04/30 06:21:58 lpd)

Implements PatternType 2 patterns and shfill in the PDF writer.
(gdevpdfc.c [1.11], gdevpdfg.h [1.7], gdevpdfo.c [1.3], gdevpdfo.h [1.3],
gdevpdfv.c [1.1], gdevpdfx.h [1.17]: 2000/05/02 07:14:58 lpd)

</pre><h2><a name="6.22 Interpreter (PDF)"></a>Interpreter (PDF)</h2><pre>

Fixes problems:
	- PatternType 2 (shaded) Patterns caused errors.
(lib/pdf_draw.ps [1.14]: 2000/05/02 07:03:09 lpd)
	- -q (-dQUIET) didn't suppress all warnings from the PDF
interpreter. (lib/pdf_base.ps [1.8]: 2000/05/07 15:51:18 lpd)
	- FunctionType 3 functions with indirect /Bounds or /Encode entries
caused a typecheck error. (lib/pdf_draw.ps [1.15]: 2000/06/07 19:08:00 lpd)
	- If the TR element of an ExtGState was an array of Functions (for
setcolortransfer) rather a single Function (for settransfer), an error
occurred. (fix from Artifex) (lib/pdf_draw.ps [1.16]: 2000/06/12 00:40:45
lpd)
	- The code for keeping the Install procedure from getting more and
more deeply nested didn't actually work, and also caused pages with a
non-zero MediaBox offset to be translated incorrectly.
(lib/pdf_main.ps [1.8]: 2000/06/12 19:17:03 lpd)
	- PDF files with embedded TrueType fonts didn't map characters to
glyph indices correctly (i.e., using the same algorithm as Acrobat Reader).
(lib/pdf_font.ps [1.8]: 2000/06/21 02:15:01 lpd)
	- The built-in Identity CMaps had an incorrect entry count for
begincodespacerange and begincidrange; these CMaps, and all Type 0 fonts,
were constructed in a way that was incompatible with some old Adobe font
loading software. (lib/pdf_font.ps [1.9]: 2000/06/28 01:36:30 lpd)
	- If PDF interpretation was included in the build, the very first
line of a non-PDF file wouldn't be processed (if applicable) as a comment.
(lib/pdf_main.ps [1.9]: 2000/06/29 15:55:13 lpd)

</pre><h2><a name="6.22 Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- localfork didn't properly initialize userdict in the new context.
(lib/gs_dps.ps [1.2]: 2000/05/01 07:20:37 lpd)
	- A null Pattern color caused an error. (zcolor2.c [1.2]: 2000/05/01
15:15:06 lpd)
	- Fixes minor syntactic incompatibilities with "traditional C"
compilers. (zbfont.c [1.5], zfcid0.c [1.3]: 2000/05/11 16:14:51 lpd)
	- The 'monitor' operator was broken (probably had never been
tried!). (zcontext.c [1.2]: 2000/05/15 19:14:25 lpd)
	- -dSTRICT caused an error, /undefined in SIZES.
(lib/gs_statd.ps [1.3]: 2000/05/17 19:17:40 lpd)
	- CFF CID fonts in which the FDSelect array occurred before the
CharStrings caused an error. (lib/gs_cff.ps [1.5]: 2000/05/17 20:39:20 lpd)
	- dict_matrix3_param didn't work correctly on platforms where the
compiler aligned structures to a boundary larger than sizeof(float), causing
incorrect output or arithmetic exceptions for CIE color spaces.
(zcie.c [1.2]: 2000/05/18 19:02:25 lpd)
	- Flushing or closing a procedure-based output stream still wasn't
implemented correctly (it could cause an endless loop). (zfproc.c [1.3]:
2000/05/19 19:35:01 lpd)
	- 'monitor' left its operand on the stack. (zcontext.c [1.3]:
2000/05/22 21:15:23 lpd)
	- The definitions of user names weren't properly associated with
local VM (they were stored in a static variable). (btoken.h [1.2],
iref.h [1.2], iscanbin.c [1.3], zbseq.c [1.2], zdps.c [1.2]: 2000/05/26
02:27:58 lpd)
	- Invoking an image operator with an empty string data source caused
an infinite loop. (zimage.c [1.4]: 2000/05/30 03:43:19 lpd)
	- The fix for associating the user name array with local VM didn't
create the user name table properly for new contexts with their own local
VM. The user name array is now created lazily. (btoken.h [1.3],
iscanbin.c [1.4], zbseq.c [1.3], zdps.c [1.3]: 2000/05/30 04:38:26 lpd)
	- As a result of the fix removing the incorrect same-local-VM check
in context_state_load, userparams wasn't updated properly when switching
contexts. (icontext.c [1.3]: 2000/05/30 20:40:17 lpd)
	- MAX_HALF_INTVAL was defined incorrectly, causing the mul operator
to run slower than necessary when multiplying two small integers.
(zarith.c [1.2]: 2000/06/04 17:00:29 lpd)
	- Shadings with an array of Functions caused a rangecheck or
typecheck error. (zshade.c [1.2]: 2000/06/04 18:26:17 lpd)
	- If the new value of a device parameter was an array with some
integers and some reals, and the first element was a real, a typecheck error
would occur. (iparam.c [1.4]: 2000/06/19 22:22:51 lpd)
	- PDF files with embedded TrueType fonts didn't map characters to
glyph indices correctly (i.e., using the same algorithm as Acrobat Reader).
(lib/gs_agl.ps [1.1], lib/gs_ttf.ps [1.5]: 2000/06/21 02:15:01 lpd)
	- The dictionary used to hold Encodings wasn't large enough.
(lib/gs_init.ps [1.10]: 2000/06/27 17:55:05 lpd)
	- The change in parameter type checking required for the new
Process[DSC]Comment user parameters broke type checking for system
parameters. (lib/gs_lev2.ps [1.4]: 2000/06/27 17:56:04 lpd)
	- Calling out to process a comment during scanning left an extra
element on the operand stack if the comment appeared within { }.
(ztoken.c [1.3]: 2000/06/28 00:47:05 lpd)
	- In some cases, two successive DSC comments produced a syntaxerror.
(ztoken.c [1.4]: 2000/06/28 05:14:17 lpd)
	- The code for registering compiled fonts was sensitive to its
position in the order of loading the initialization files (caused an error
if loaded too early). (lib/gs_ccfnt.ps [1.3]: 2000/06/29 23:31:14 lpd)
	- [gs_]currentgray didn't return the correct value if the current
color space was a DeviceN space using the alternate space. (zcolor.c [1.3],
zcolor1.c [1.2]: 2000/07/03 15:28:26 lpd)

Adds predefined pdfwrite settings similar to the three standard settings in
Adobe Acrobat Distiller 4, plus a "default" setting, with
-dPDFSETTINGS=/settingname. (lib/gs_pdfwr.ps [1.4]: 2000/04/29 02:29:21 lpd)

Increments the version number to 6.23. From now on, we use odd numbers
during development, even numbers for released filesets.
(lib/gs_init.ps [1.8]: 2000/04/29 16:49:43 lpd)

Changes .buildfont1 to accept Type 1 fonts with LanguageGroup other than 0
or 1. This is contrary to the spec, but we've seen a few fonts with other
values. (zfont1.c [1.5]: 2000/05/06 08:19:37 lpd)

Cleans up code and comments slightly. (lib/gs_dps.ps [1.3]: 2000/05/30
20:35:56 lpd)

Adds user parameters ProcessComment and ProcessDSCComment. If not null,
these procedures are called with the file and the comment line whenever the
scanner detects a comment (or non-DSC comment) or DSC comment. NOTE: the
interpreter is currently patched so that ProcessComment is never called.
(interp.c [1.4], iscan.c [1.2], iscan.h [1.2], lib/gs_init.ps [1.9],
lib/gs_lev2.ps [1.3], ztoken.c [1.2], ztype.c [1.2]: 2000/06/27 00:53:38
lpd)

Finishes implementing the Process[DSC]Comment callout. (icontext.c [1.4],
icstate.h [1.3], interp.c [1.5], iscan.h [1.3], itoken.h [1.1],
lib/gs_init.ps [1.11], ztoken.c [1.5], zusparam.c [1.2]: 2000/06/28 20:17:00
lpd)

Changes the name of the unread operator to .unread, retaining unread as a
synonym for backward compatibility. (lib/gs_init.ps [1.12], zfileio.c [1.7]:
2000/06/29 15:58:24 lpd)

Adds a findprotodevice "operator", to find a device prototype by name.
(lib/gs_init.ps [1.13]: 2000/07/05 04:49:11 lpd)

Changes the version numbering system back to sequential (not odd/even).
Between numbered filesets, GS_PRODUCT will say "CVS PRE-RELEASE".
(lib/gs_init.ps [1.14]: 2000/07/05 17:23:54 lpd)

</pre><h2><a name="6.22 Streams"></a>Streams</h2><pre>

Fixes problems:
	- file_limit wasn't initialized properly in some cases.
(sfxfd.c [1.4], sfxstdio.c [1.3]: 2000/05/02 02:06:41 lpd)
	- smd5.c didn't compile properly with "traditional C" compilers.
(smd5.c [1.2]: 2000/05/19 06:08:01 lpd)
	- The workaround for Microsoft C's omission of O_APPEND et al caused
warnings or errors with other compilers. (stat_.h [1.3]: 2000/07/03 21:07:05
lpd)

Works around the fact that Microsoft Visual C++ (only) doesn't define the O_
flags for the `open' library call. (stat_.h [1.2]: 2000/05/31 20:34:43 lpd)

Finishes working around the fact that Microsoft C, in defiance of multiple
standards, by default doesn't define the O_ flags for 'open' in fcntl.h (or
anywhere else). (stat_.h [1.4]: 2000/07/05 00:48:21 lpd)

</pre><h2><a name="6.22 Library"></a>Library</h2><pre>

Fixes problems:
	- A null Pattern color caused an error. (gspcolor.c [1.2]:
2000/05/01 15:15:07 lpd)
	- A procedure name exceeded VMS's 31-character limit.
(gsparam.h [1.6]: 2000/05/02 01:47:50 lpd)
	- If the DataSource of a shading was a reusable stream, the stream
wasn't reset before rendering the shading. (gxshade.c [1.2]: 2000/05/02
07:05:10 lpd)
	- shfill didn't go through the device fill_path procedure,
preventing it from being written out as a high-level PostScript or PDF
construct. (gscolor3.c [1.2]: 2000/05/02 07:06:23 lpd)
	- Once again, corrects an incorrect dependency list.
(gscolor3.c [1.3]: 2000/05/02 07:14:11 lpd)
	- The code for adding elements to small-string free lists was wrong,
possibly causing an endless loop. (gsnogc.c [1.3]: 2000/05/04 01:29:53 lpd)
	- Fixes minor syntactic incompatibilities with "traditional C"
compilers. (gsfunc4.c [1.2], gstype42.c [1.5]: 2000/05/11 16:14:51 lpd)
	- CIEBasedDEF[G] color spaces computed incorrect results or caused
invalid memory accesses, especially if DecodeDEF[G] is not the identity
function. (This bug had probably been there since these color spaces were
first implemented, unnoticed because DecodeDEF[G] is almost always the
identity.) (gscie.c [1.2], gsciemap.c [1.2], gxctable.c [1.2]: 2000/05/15
19:58:38 lpd)
	- Temporary files weren't created as private or exclusive.
(close_.h [1.1], gp_unifs.c [1.2], gpmisc.c [1.1], gpmisc.h [1.1]:
2000/05/19 17:52:51 lpd)
	- OutputFile values starting with a %d format string caused an
error. (bug introduced in 5.85) (gsdevice.c [1.4]: 2000/05/20 06:58:11 lpd)
	- In rare cases, an overflow could occur in the filling loop,
producing distorted output. (Fix from Artifex Software.) (gxfill.c [1.3]:
2000/05/23 05:46:52 lpd)
	- When writing PDF or PostScript, stroked rectangles could sometimes
be omitted from the output. (gdevvec.c [1.3]: 2000/05/24 18:48:14 lpd)
	- In PDF output, the conversion of Type 1 to Type 2 CharStrings
didn't adjust the X offset of the accent for 'seac', causing accents to be
displaced to the right. (gdevpsfx.c [1.3]: 2000/05/24 23:20:43 lpd)
	- The definitions of user names weren't properly associated with
local VM (they were stored in a static variable). (gsalloc.c [1.3],
gxalloc.h [1.2]: 2000/05/26 02:27:58 lpd)
	- The change for local user names didn't update the structure
descriptor for gs_ref_memory_t. (gsalloc.c [1.4], gxalloc.h [1.3]:
2000/05/26 02:33:38 lpd)
	- The fix for 'seac' when converting Type 1 to Type 2 CharStrings
wasn't quite complete. (gdevpsfx.c [1.4]: 2000/05/26 20:48:37 lpd)
	- If [eo]clip set a rectangular region, clippath would return the
rounded clipping box, not the correct clipping path. (gxcpath.c [1.2]:
2000/05/31 22:20:04 lpd)
	- ShadingType 2 shadings could cause an invalid memory access.
(gsfunc3.c [1.3]: 2000/06/04 18:25:33 lpd)
	- Printer drivers that didn't implement print_page_copies didn't
print multiple copies of the same page on separate files if the OutputFile
name included %d, and some drivers (such as the TIFF drivers) produced
invalid output. (gdevprn.c [1.4]: 2000/06/05 02:04:26 lpd)
	- 32-bit sample values in shading data didn't work, because some
CPUs execute (1 &lt;&lt; 32) as (1 &lt;&lt; 0). (gxshade.c [1.3]: 2000/06/07 19:07:17
lpd)
	- Type 1 fonts without eexec encryption still included the 4 eexec
padding bytes. (bug probably introduced since 6.0) (gdevpsf1.c [1.4]:
2000/06/12 17:38:48 lpd)
	- Axial shadings with a non-orthogonal CTM could fail to fill the
required region. (fix from Artifex) (gxshade1.c [1.4]: 2000/06/12 21:45:19
lpd)
	- When allocator debugging was enabled (-Z@), 'restore' didn't clear
vacated space in inner chunks. (gsalloc.c [1.5]: 2000/06/13 07:04:18 lpd)
	- the row buffers for images weren't allocated with a stable
allocator, possibly causing data corruption or invalid accesses if a
PostScript program invoked save/restore within the data-reading procedure
for an image. (gsimage.c [1.2]: 2000/06/13 07:05:21 lpd)
	- Rendering TrueType fonts didn't adjust the flatness to ensure
accurate results. (gstype42.c [1.6], gxchrout.c [1.1], gxchrout.h [1.1],
gxtype1.c [1.5]: 2000/06/20 15:46:53 lpd)
	- Calling get_params with a static (read-only) device prototype
could cause a memory access error. (gsdparam.c [1.3]: 2000/06/22 14:05:49
lpd)
	- [gs_]currentgray didn't return the correct value if the current
color space was a DeviceN space using the alternate space. (gscolor.c [1.2],
gscolor.h [1.2], gscolor1.c [1.2]: 2000/07/03 15:28:26 lpd)
	- Some picky compilers complained about "integer constant is
unsigned in ANSI C, signed with -traditional". (md5.c [1.2]: 2000/07/03
21:55:18 lpd)
	- If TMPDIR wasn't defined, TEMP would be ignored. (bug introduced
in 6.23) (gpmisc.c [1.4]: 2000/07/04 19:54:00 lpd)
	- Watcom C requires the non-standard O_BINARY mode flag when opening
(with open) a file that will later be opened in binary mode with fdopen.
(gpmisc.c [1.6]: 2000/07/05 17:08:27 lpd)

Restructures the code for handling ImageType 3 images, for the benefit of
the PDF writer. (gximage3.c [1.3], gximage3.h [1.1]: 2000/04/30 03:08:15
lpd)

Implements ImageType 3 images in the PDF writer. (gximage3.c [1.4],
gximage3.h [1.2]: 2000/04/30 06:21:58 lpd)

Creates a procs structure for shadings, moving the fill_rectangle procedure
into it, in anticipation of adding a get_params procedure. (gsshade.c [1.2],
gsshade.h [1.2], gxshade.h [1.2]: 2000/04/30 19:37:37 lpd)

Implements PatternType 2 patterns and shfill in the PDF writer.
(gsptype2.c [1.2]: 2000/05/02 07:14:58 lpd)

Changes gdev_prn_file_is_new from a macro to a procedure. (gdevprn.c [1.3],
gdevprn.h [1.4]: 2000/05/20 20:25:48 lpd)

Works around the fact that Microsoft Visual C++ defines S_IREAD and S_IWRITE
but not their newer equivalents S_IRUSR and S_IWUSR. (gpmisc.c [1.2]:
2000/05/24 18:49:54 lpd)

Changes some assignments to work around over-zealous compiler warnings.
(gxtype1.c [1.4]: 2000/05/24 23:52:58 lpd)

Works around the fact that Microsoft Visual C++ (only) doesn't define the O_
flags for the `open' library call. (gpmisc.c [1.3]: 2000/05/31 20:34:43 lpd)

Improves some comments in A_fill_stripe. (gxshade1.c [1.3]: 2000/06/04
20:58:23 lpd)

Finishes working around the fact that Microsoft C, in defiance of multiple
standards, by default doesn't define the O_ flags for 'open' in fcntl.h (or
anywhere else). (fcntl_.h [1.1], gpmisc.c [1.5]: 2000/07/05 00:48:21 lpd)

Adds O_BINARY to the Microsoft compatibility fcntl.h patch. (fcntl_.h [1.2]:
2000/07/05 17:21:43 lpd)

Changes the version numbering system back to sequential (not odd/even).
Between numbered filesets, GS_PRODUCT will say "CVS PRE-RELEASE".
(gscdef.c [1.3]: 2000/07/05 17:23:54 lpd)

Updates GS_PRODUCT for making a fileset. (gscdef.c [1.4]: 2000/07/06
00:01:03 lpd)

</pre><hr>

<h1><a name="Version6.21"></a>Version 6.21 (2000-04-28)</h1>

<p>
This fileset includes more PDF writer enhancements: conversion of embedded
Type 1 fonts to Type 1C (smaller), handling of more color spaces for images,
ImageType 4 images, compression of mask images, support for (tiled) Pattern
colors, more graphics state distiller parameters, recording of graphics
state functions in the output.  It also greatly improves the space usage and
loading time for CMaps.

<p>
All problems registered on SourceForge numbered 104890 or lower are closed,
except for the following: 101549, 101814, 101905, 101955, 102146, 102735,
103528, 104118, 104375.

<p>
The following projects are in a partially completed state in the PDF writer:

<ul>

<li>CID-keyed fonts (gdevpdf[eftw].c) -- barely started.

<li>ImageType 3 images (gdevpdf[ij].c) -- started.

</ul>


<h2><a name="6.21_Incompatible_changes"></a>Incompatible changes</h2><pre>

(Drivers)
	- The downsampling filters now require WidthIn and HeightIn,
replacing Columns.
	- The gp_ procedures for managing screen swapping between console
and graphics are removed.
	- Any driver that processes the pdfmark pseudo-parameter must now
also return null for the "value" of the pdfmark parameter when (and only
when) specifically requested.
(PDF writer)
	- The last argument of pdf_alloc_font has changed.
	- pdf_set_color is renamed pdf_set_pure_color.
	- When producing PDF 1.3 output, the base 14 fonts are now
candidates for embedding just like any other fonts.
(Interpreter)
	- The .fontproperties procedure in gs_fonts.ps now takes an
additional argument.
	- The interpreter must no longer reference stdin/out/err directly.
(Library)
	- The internal representation of CMaps is changed completely, and
has several new required members.
	- gs_cmap is renamed gs_cmap_t; gx_code_map is renamed
gx_code_map_t.
	- Clients creating CMaps must call gs_cmap_init to initialize them.
	- The library must no longer reference stdin/out/err directly.


</pre><h2><a name="6.21 Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- The PDF writer could get an ioerror when downsampling images whose
size wasn't an exact multiple of the downsampling factor.
(doc/News.htm [1.31]: 2000/04/13 16:44:59 lpd)
	- When processing a PDF file, the font substitution heuristic based
on the FontName sometimes overrode the Flags information in the
FontDescriptor. (doc/News.htm [1.34]: 2000/04/20 06:36:02 lpd)
	- When pdfwrite was producing PDF 1.3 output, the base 14 fonts were
never embedded, rather than being handled like all other fonts.
(doc/News.htm [1.37]: 2000/04/20 23:49:40 lpd)
	- The URL for the Arphic free Chinese fonts had become incorrect.
(doc/Fonts.htm [1.3]: 2000/04/27 13:44:52 lpd)
	- Fixes a few typos, and adds GS_FONTPATH to the list of environment
variables to be unset for a pristine test run. (doc/Release.htm [1.10]:
2000/04/28 22:08:41 lpd)

Adds projects related to SVG and to pswrite image compression.
(doc/Projects.htm [1.4]: 2000/04/07 18:39:12 lpd)

Makes the ps2pdf scripts replace a .eps extension with .pdf, as they do with
.ps. (doc/Ps2pdf.htm [1.7], man/ps2pdf.1 [1.5], man/ps2pdfwr.1 [1.2]:
2000/04/07 19:28:14 lpd)

Completely redesigns the representation of CMaps, to reduce space
requirements and make comparing them more reasonable, changing gs_cmap to
gs_cmap_t and gx_code_map to gx_code_map_t. (****** NOTE ****** The
PostScript code currently only handles a few well-behaved CMap structures.)
(doc/News.htm [1.27]: 2000/04/08 03:54:38 lpd)

Documents the need to set SYNC=nosync on NextStep / OpenStep systems.
(doc/Make.htm [1.10]: 2000/04/10 04:45:37 lpd)

Overhauls font embedding in the PDF writer: splits off the code into a new
file (gdevpdfe.c), writes embedded Type 1 fonts as Type 1C (CFF Type 2), and
adds a little bit of code for future support of Type 0 and CID-keyed fonts.
(doc/News.htm [1.28]: 2000/04/10 07:48:37 lpd)

Documents the fact that building on NeXTSTEP 3.3 systems requires removing
-Wmissing-declarations from GCFLAGS. (doc/Make.htm [1.11]: 2000/04/11
14:06:54 lpd)

Enhances pdf2ps to allow defaulting the output file name.
(man/pdf2ps.1 [1.2]: 2000/04/11 14:23:24 lpd)

Factors out code for writing functions and for adding filter-related entries
to a stream dictionary; implements the DefaultRenderingIntent distiller
parameter. (doc/Ps2pdf.htm [1.8]: 2000/04/11 16:06:57 lpd)

Implements additional distiller parameters: PreserveHalftoneInfo,
PreserveOverprintSetting, TransferFunctionInfo (except for Apply vs.
Remove), UCRandBGInfo. Splits off graphics state management into separate
files. Implements the remaining graphics state parameters (halftone,
transfer function, black generation, undercolor removal, halftone phase,
smoothness, overprint, stroke adjustment) ****** EXCEPT FOR IMAGES ******.
In anticipation of handling more general colors, renames pdf_set_color as
pdf_set_pure_color, and adds pdf_set_drawing_color. (doc/News.htm [1.29]:
2000/04/11 18:31:32 lpd)

Updates documentation to match recent changes in the pdfwrite driver.
(doc/Ps2pdf.htm [1.9]: 2000/04/11 22:56:17 lpd)

Makes the second argument of the pfbtopfa script optional, so 'pfbtopfa
dir/x.pfb' is equivalent to 'pfbtopfa dir/x.pfb x.pfa'.
(man/pfbtopfa.1 [1.2]: 2000/04/12 17:41:41 lpd)

In pdfwrite, rewrites the image writing code to use Cos objects rather than
direct printing, and splits off the creation of image dictionaries into a
new file; adds support for tiling with uncolored Patterns; implements
converting ImageType 4 images to their PDF 1.3 counterpart; starts to do the
same for ImageType 3. This code is "in progress" and likely to have problems
for a while. (doc/News.htm [1.30]: 2000/04/12 18:44:35 lpd)

Implements pdfwrite compression for mask images, using the same parameters
as for monochrome images. (doc/News.htm [1.32]: 2000/04/13 18:40:23 lpd)

Adds user-contributed uniprint parameter files for the Canon BJC-8200,
including an addition for the Red Hat printer data base.
(doc/Devices.htm [1.4]: 2000/04/14 03:59:57 lpd)

Slightly updates the user-contributed documentation on the new BJC-8200
uniprint parameters. (doc/Devices.htm [1.5]: 2000/04/15 00:20:54 lpd)

Completes code for reading and writing CMaps. (doc/News.htm [1.33]:
2000/04/16 03:05:29 lpd)

Clarifies some details of posting releases on SourceForge.
(doc/Release.htm [1.9]: 2000/04/17 22:59:24 lpd)

Converts the ps2epsi documentation to HTML. (doc/Ps2epsi.htm [1.1],
doc/Readme.htm [1.6], doc/ps2epsi.txt [1.2]: 2000/04/18 17:59:13 lpd)

Adds a couple of graphics library optimization projects.
(doc/Projects.htm [1.5]: 2000/04/19 04:05:11 lpd)

Adds a project for creating an OutputDevice resource instance for each
device. (doc/Projects.htm [1.6]: 2000/04/19 21:37:47 lpd)

Checks in the accumulated change log. (doc/Changes.htm [1.10]: 2000/04/20
07:24:22 lpd)

Removes the gp_ procedures for managing screen swapping between console and
graphics, which haven't been used for a long time and are no longer useful.
(doc/News.htm [1.35]: 2000/04/20 22:47:35 lpd)

Removes all remaining direct references to stdin/out/err from the library,
interpreter, and non-contributed drivers; moves the ersatz definitions of
stdin/out/err to a new header file. (doc/News.htm [1.36]: 2000/04/20
23:30:22 lpd)

Reduces the startup time for displaying PDF files, by skipping the creation
of pdfmarks for annotations and outlines when the output device doesn't
process pdfmarks. (doc/News.htm [1.38]: 2000/04/21 16:58:28 lpd)

Notes that even if SHARE_JPEG=1, the IJG library sources are required.
(doc/Make.htm [1.12]: 2000/04/27 07:39:05 lpd)

Documents the new -dPrinted[=true/false] switch for PDF files.
(doc/Use.htm [1.3]: 2000/04/27 08:17:05 lpd)

Adds a MD5Encode filter, which computes the 16-byte MD5 digest of the input.
No output is produced until the filter is closed. (doc/Language.htm [1.2]:
2000/04/27 14:39:57 lpd)

Updates the description of the project to produce higher-level PCL output.
(doc/Projects.htm [1.7]: 2000/04/28 10:42:02 lpd)

Adds a sample file containing a wide variety of PDF annotations; updates
documentation for this and some other overlooked files.
(doc/Psfiles.htm [1.4]: 2000/04/28 10:51:02 lpd)

Notes that the uniprint dnj750c.upp parameters are also good for the 450C.
(doc/Devices.htm [1.6]: 2000/04/28 14:27:02 lpd)

Updates release dates. (man/pdf2ps.1 [1.3], man/ps2ps.1 [1.5]: 2000/04/28
18:29:32 lpd)

Updates version numbers and dates for the 6.21 fileset.
(doc/Bug-form.htm [1.6], doc/Devices.htm [1.7], doc/Fonts.htm [1.4],
doc/Language.htm [1.3], doc/Make.htm [1.13], doc/Projects.htm [1.8],
doc/Ps2epsi.htm [1.2], doc/Psfiles.htm [1.5], doc/Readme.htm [1.7],
doc/Use.htm [1.4]: 2000/04/28 22:06:25 lpd)

Updates the news for the 6.21 fileset. (doc/News.htm [1.39]: 2000/04/28
22:18:16 lpd)

</pre><h2><a name="6.21 Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- Some makefile macros were used before being defined.
(devs.mak [1.9], lib.mak [1.9]: 2000/04/07 16:02:03 lpd)
	- `make install-data' didn't install lib/gs_frsd.ps or
lib/pdfopt.ps. (unixinst.mak [1.7]: 2000/04/07 19:17:48 lpd)
	- gsmake would get into a loop if the makefile was not a symbolic
link; `gsmake check' didn't accept a makefile name on the command line.
(toolbin/gsmake.tcl [1.2]: 2000/04/07 19:37:21 lpd)
	- `makemaster' referred to an undefined variable. (How could it ever
have worked?) (toolbin/makeset.tcl [1.3]: 2000/04/07 19:39:27 lpd)
	- A dependency wasn't updated when moving the gdevpsf* rules from
devs.mak to lib.mak. (lib.mak [1.10]: 2000/04/07 19:40:25 lpd)
	- The dependencies in the makefile weren't updated for the pdfwrite
font embedding overhaul. (devs.mak [1.11]: 2000/04/10 18:57:33 lpd)
	- Once again, the dependencies hadn't been updated. (int.mak [1.17]:
2000/04/11 15:59:42 lpd)
	- Setting pdfwrite parameters for a DCTEncode filter could cause a
crash (memory fault). (devs.mak [1.16]: 2000/04/13 01:53:07 lpd)
	- `make install' didn't install all the documentation files.
(unixinst.mak [1.9]: 2000/04/14 04:06:13 lpd)
	- The Color LaserJet 5 drivers were incorrectly identified as
"supported" rather than "contributed". (contrib.mak [1.7], devs.mak [1.17]:
2000/04/20 17:12:54 lpd)
	- PDF images with a bitmap Mask caused errors or produced incorrect
output. (int.mak [1.20]: 2000/04/24 00:59:04 lpd)

Completely redesigns the representation of CMaps, to reduce space
requirements and make comparing them more reasonable, changing gs_cmap to
gs_cmap_t and gx_code_map to gx_code_map_t. (****** NOTE ****** The
PostScript code currently only handles a few well-behaved CMap structures.)
(int.mak [1.16]: 2000/04/08 03:54:38 lpd)

Updates version #s to 6.21. (We should have done this earlier.)
(version.mak [1.12]: 2000/04/10 04:46:36 lpd)

Overhauls font embedding in the PDF writer: splits off the code into a new
file (gdevpdfe.c), writes embedded Type 1 fonts as Type 1C (CFF Type 2), and
adds a little bit of code for future support of Type 0 and CID-keyed fonts.
(devs.mak [1.10]: 2000/04/10 07:48:37 lpd)

Adds Function-based tint_transform procedures for Separation and DeviceN
color spaces. (lib.mak [1.11]: 2000/04/10 19:02:19 lpd)

Factors out code for writing functions and for adding filter-related entries
to a stream dictionary; implements the DefaultRenderingIntent distiller
parameter. (devs.mak [1.12]: 2000/04/11 16:06:57 lpd)

Implements additional distiller parameters: PreserveHalftoneInfo,
PreserveOverprintSetting, TransferFunctionInfo (except for Apply vs.
Remove), UCRandBGInfo. Splits off graphics state management into separate
files. Implements the remaining graphics state parameters (halftone,
transfer function, black generation, undercolor removal, halftone phase,
smoothness, overprint, stroke adjustment) ****** EXCEPT FOR IMAGES ******.
In anticipation of handling more general colors, renames pdf_set_color as
pdf_set_pure_color, and adds pdf_set_drawing_color. (devs.mak [1.13]:
2000/04/11 18:31:32 lpd)

Splits off creation and writing of color spaces, and writing color values,
into a separate file. Adds support for (Function-based) Separation and
DeviceN color spaces, general Pattern color spaces, and procedure-based
Indexed color spaces. Adds some code to support Pattern colors, but stubs it
out because it depends on changes in the image writing code that haven't
been integrated yet. In fact, most of the new code isn't called yet, either.
(devs.mak [1.14]: 2000/04/11 19:10:13 lpd)

In pdfwrite, rewrites the image writing code to use Cos objects rather than
direct printing, and splits off the creation of image dictionaries into a
new file; adds support for tiling with uncolored Patterns; implements
converting ImageType 4 images to their PDF 1.3 counterpart; starts to do the
same for ImageType 3. This code is "in progress" and likely to have problems
for a while. (devs.mak [1.15]: 2000/04/12 18:44:35 lpd)

Adds user-contributed uniprint parameter files for the Canon BJC-8200,
including an addition for the Red Hat printer data base.
(unixinst.mak [1.8]: 2000/04/14 03:59:57 lpd)

Adds code to write out CMaps, similar to the code for writing fonts, for
eventual embedding in PDF output. (int.mak [1.18], lib.mak [1.12]:
2000/04/14 07:17:24 lpd)

Completes code for reading and writing CMaps. (int.mak [1.19],
lib.mak [1.13]: 2000/04/16 03:05:29 lpd)

Adds a user-contributed driver for the Epson Stylus (Color) Photo printers.
(contrib.mak [1.6]: 2000/04/18 06:34:26 lpd)

Converts the ps2epsi documentation to HTML. (unixinst.mak [1.10]: 2000/04/18
17:59:13 lpd)

Checks in the accumulated change log. (version.mak [1.13]: 2000/04/20
07:24:22 lpd)

Converts the bmp* and bmpa* devices to -dev2, to make them const.
(devs.mak [1.18]: 2000/04/20 17:19:21 lpd)

Removes the gp_ procedures for managing screen swapping between console and
graphics, which haven't been used for a long time and are no longer useful.
(dvx-tail.mak [1.2], lib.mak [1.14], openvms.mak [1.3], openvms.mmk [1.4],
os2.mak [1.5], unix-aux.mak [1.2], watc.mak [1.3], watclib.mak [1.3],
winlib.mak [1.2]: 2000/04/20 22:47:35 lpd)

Removes all remaining direct references to stdin/out/err from the library,
interpreter, and non-contributed drivers; moves the ersatz definitions of
stdin/out/err to a new header file. (lib.mak [1.15], unix-gcc.mak [1.5]:
2000/04/20 23:30:22 lpd)

Adds compression for pdfwrite Patterns. (devs.mak [1.19]: 2000/04/24
06:13:02 lpd)

Adds a MD5Encode filter, which computes the 16-byte MD5 digest of the input.
No output is produced until the filter is closed. (devs.mak [1.20],
int.mak [1.21], lib.mak [1.16]: 2000/04/27 14:39:57 lpd)

Adds a user-contributed driver for the H-P 970Cxi inkjet printer.
(contrib.mak [1.8]: 2000/04/27 14:55:56 lpd)

Factors the H-P monochrome laser and inkjet drivers into a generic driver
and printer-specific clients. (devs.mak [1.21]: 2000/04/27 20:16:33 lpd)

Adds a user-contributed driver for the Brother HL-1250 laser printer. This
has a dual AFPL/GPL license, and a non-Aladdin copyright.
(contrib.mak [1.9]: 2000/04/27 20:18:39 lpd)

Once again, updates some dependency lists that had become inconsistent with
the code. (contrib.mak [1.10], devs.mak [1.22], lib.mak [1.17]: 2000/04/27
21:36:19 lpd)

Yet again, updates an out-of-date dependency list. (contrib.mak [1.11]:
2000/04/28 18:28:42 lpd)

Changes the check for documentation files having the correct embedded date.
(toolbin/pre [1.3]: 2000/04/28 18:29:14 lpd)

Updates version numbers and dates for the 6.21 fileset. (version.mak [1.14]:
2000/04/28 22:06:26 lpd)

</pre><h2><a name="6.21 Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- The e-mail address for reporting problems was out of date.
(lib/ps2epsi.ps [1.2]: 2000/04/10 02:27:21 lpd)
	- If a font didn't have a FontName (which is the case for bitmap
fonts produced by recent versions of dvips), ps2epsi caused an error.
(lib/ps2epsi.ps [1.3]: 2000/04/11 16:32:51 lpd)
	- Backs out contributed changes of 2000-03-05 because of bugs.
(ansi2knr.c [1.3]: 2000/04/13 03:41:48 lpd)
	- ps2epsi removed all ^M characters in the input, possibly
corrupting binary data. (lib/ps2epsi [1.2]: 2000/04/27 01:44:04 lpd)

Makes the ps2pdf scripts replace a .eps extension with .pdf, as they do with
.ps. (lib/ps2pdfwr [1.2], lib/ps2pdfxx.bat [1.2]: 2000/04/07 19:28:14 lpd)

Enhances pdf2ps to allow defaulting the output file name. (lib/pdf2ps [1.2]:
2000/04/11 14:23:24 lpd)

Makes the second argument of the pfbtopfa script optional, so 'pfbtopfa
dir/x.pfb' is equivalent to 'pfbtopfa dir/x.pfb x.pfa'. (lib/pfbtopfa [1.2]:
2000/04/12 17:41:41 lpd)

Adds user-contributed uniprint parameter files for the Canon BJC-8200,
including an addition for the Red Hat printer data base. (lib/bj8.rpd [1.1]:
2000/04/14 03:59:57 lpd)

Increases the VMThreshold when converting PostScript to PDF, to reduce
garbage collection overhead. (lib/ps2pdfwr [1.3]: 2000/04/17 19:06:58 lpd)

Moves the optimization prologue for ps2pdf from the command line to a
procedure, to avoid shell length limits. (lib/ps2pdfwr [1.4],
lib/ps2pdfxx.bat [1.3]: 2000/04/18 16:40:14 lpd)

Removes the gp_ procedures for managing screen swapping between console and
graphics, which haven't been used for a long time and are no longer useful.
(bench.c [1.2], gp_dosfb.c [1.2], gp_iwatc.c [1.2], gp_nofb.c [1.2]:
2000/04/20 22:47:35 lpd)

Checks in a file overlooked in the elimination of the gp_ console
procedures. (gp_os2.c [1.2]: 2000/04/20 23:27:21 lpd)

</pre><h2><a name="6.21 Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- The pdfwrite driver sometimes compressed images in an Indexed
color space with the DCTEncode filter, producing garbage. (gdevpsdi.c [1.4]:
2000/04/12 19:25:56 lpd)
	- Setting pdfwrite parameters for a DCTEncode filter could cause a
crash (memory fault). (gdevpsdf.h [1.7], gdevpsdi.c [1.5], gdevpsdp.c [1.4],
gdevpsdu.c [1.2]: 2000/04/13 01:53:07 lpd)
	- Compressing with DCTEncode tried to add the compression filter
twice. (gdevpsdi.c [1.6]: 2000/04/13 04:52:38 lpd)
	- The PDF writer could get an ioerror when downsampling images whose
size wasn't an exact multiple of the downsampling factor. (gdevpsdi.c [1.7],
gdevpsds.c [1.2], gdevpsds.h [1.2]: 2000/04/13 16:44:59 lpd)
	- Downsampled mask images could cause a memory access error.
(gdevpsdi.c [1.9]: 2000/04/18 16:37:04 lpd)
	- PDF Patterns weren't written correctly if the ProcessColorModel
wasn't Device RGB. (gdevpsdu.c [1.3]: 2000/04/24 05:40:30 lpd)
	- The [e]pswrite driver produced incorrect output for color images
with multiple data sources. (gdevps.c [1.5]: 2000/04/25 19:35:07 lpd)

Implements pdfwrite compression for mask images, using the same parameters
as for monochrome images. (gdevpsdi.c [1.8]: 2000/04/13 18:40:23 lpd)

Adds user-contributed uniprint parameter files for the Canon BJC-8200,
including an addition for the Red Hat printer data base.
(lib/bj8gc12f.upp [1.1], lib/bj8hg12f.upp [1.1], lib/bj8oh06n.upp [1.1],
lib/bj8pa06n.upp [1.1], lib/bj8pp12f.upp [1.1], lib/bj8ts06n.upp [1.1]:
2000/04/14 03:59:57 lpd)

Adds a user-contributed driver for the Epson Stylus (Color) Photo printers.
(gdevphex.c [1.1]: 2000/04/18 06:34:26 lpd)

Converts the bmp* and bmpa* devices to -dev2, to make them const.
(gdevbmp.c [1.2], gdevbmpa.c [1.2]: 2000/04/20 17:19:21 lpd)

Documents the astounding fact that the Xt implementation actually writes
into the XtResource tables. (gdevxres.c [1.2]: 2000/04/20 19:59:28 lpd)

Removes all remaining direct references to stdin/out/err from the library,
interpreter, and non-contributed drivers; moves the ersatz definitions of
stdin/out/err to a new header file. (gdevxxf.c [1.3]: 2000/04/20 23:30:22
lpd)

When writing PDF output, reduces the size of compressed images in Indexed
color spaces by not using a Predictor for them. (gdevpsdi.c [1.10]:
2000/04/21 06:46:08 lpd)

Adds an internal filter for converting images to Indexed form if possible.
(gdevpsds.c [1.3], gdevpsds.h [1.3]: 2000/04/21 19:26:37 lpd)

Cleans up code by replacing macros with procedures or variables.
(gdevps.c [1.6]: 2000/04/25 20:35:46 lpd)

Makes the [e]pswrite and pdfwrite drivers merge adjacent horizontal or
vertical line segments going in the same direction. This makes a big
difference for PostScript files produced by certain applications.
(gdevps.c [1.7]: 2000/04/25 22:39:54 lpd)

Adds a user-contributed driver for the H-P 970Cxi inkjet printer.
(gdevdj9.c [1.1]: 2000/04/27 14:55:56 lpd)

Factors the H-P monochrome laser and inkjet drivers into a generic driver
and printer-specific clients. (gdevdjet.c [1.3], gdevdljm.c [1.1],
gdevdljm.h [1.1]: 2000/04/27 20:16:33 lpd)

Adds a user-contributed driver for the Brother HL-1250 laser printer. This
has a dual AFPL/GPL license, and a non-Aladdin copyright. (gdevhl12.c [1.1]:
2000/04/27 20:18:39 lpd)

Once again, updates some dependency lists that had become inconsistent with
the code. (gdevdj9.c [1.2]: 2000/04/27 21:36:19 lpd)

Makes the printers in gdevdjet.c that support setting the number of copies
use this feature when multiple copies are requested. (gdevdjet.c [1.4],
gdevdljm.c [1.2], gdevdljm.h [1.2]: 2000/04/28 13:37:47 lpd)

</pre><h2><a name="6.21 PDF writer"></a>PDF writer</h2><pre>

Fixes problems:
	- The Cos objects of resources not shared between pages weren't
freed at the end of each page. (gdevpdf.c [1.9]: 2000/04/10 04:17:56 lpd)
	- gdevpdfe.c was omitted from the check-in for the overhaul of
pdfwrite font embedding. (gdevpdfe.c [1.1]: 2000/04/10 16:01:29 lpd)
	- pdfwrite output could contain commands to set the line width to a
negative value, which PostScript allows but PDF doesn't. (gdevpdfd.c [1.6]:
2000/04/12 19:51:14 lpd)
	- The changes for the new color handling code caused stroked
graphics not to output the line width. (new bug since 6.20)
(gdevpdfd.c [1.7]: 2000/04/13 03:47:21 lpd)
	- Pattern resources were written with incorrectly scaled XStep and
YStep, and without a Type entry. (gdevpdfc.c [1.3], gdevpdfi.c [1.10]:
2000/04/13 04:12:33 lpd)
	- The PDF writer could get an ioerror when downsampling images whose
size wasn't an exact multiple of the downsampling factor.
(gdevpdfi.c [1.11]: 2000/04/13 16:44:59 lpd)
	- Bitmapped characters weren't written properly on the output file
(new bug since 6.20). (gdevpdfg.h [1.4], gdevpdfi.c [1.12],
gdevpdfj.c [1.2]: 2000/04/13 17:24:54 lpd)
	- gxdcolor.h was required for gxpcolor.h, but wasn't included.
(gdevpdfc.c [1.4]: 2000/04/18 17:42:55 lpd)
	- A table of constant strings wasn't declared as const.
(gdevpdfp.c [1.7]: 2000/04/20 17:37:31 lpd)
	- When pdfwrite was producing PDF 1.3 output, the base 14 fonts were
never embedded, rather than being handled like all other fonts.
(gdevpdff.c [1.4]: 2000/04/20 23:49:40 lpd)
	- Indexed color spaces used in in-line images were being written
incorrectly. Also optimizes Indexed images by converting RGB palettes to
Gray if all the entries are actually gray. (gdevpdfc.c [1.5]: 2000/04/21
15:29:20 lpd)
	- The recent optimization for using the ' command in PDF output lost
track of the leading value between blocks of text, causing lines in later
blocks to overprint each other. (gdevpdfu.c [1.9]: 2000/04/21 22:29:05 lpd)
	- Backs out the change that allowed embedding of the base 14 fonts,
because it produces invalid output. (gdevpdff.c [1.5]: 2000/04/22 00:13:11
lpd)
	- Colored Patterns requiring masking weren't written properly.
(gdevpdfc.c [1.6]: 2000/04/24 00:09:37 lpd)
	- Patterns were written upside-down. (gdevpdfc.c [1.7]: 2000/04/24
01:11:36 lpd)
	- PDF Patterns weren't written correctly if the ProcessColorModel
wasn't Device RGB. (gdevpdf.c [1.15], gdevpdfc.c [1.8], gdevpdfg.h [1.5],
gdevpdfi.c [1.13], gdevpdfx.h [1.15]: 2000/04/24 05:40:30 lpd)
	- The color space for images wasn't always written in the correct
form (an object reference for image XObjects, a resource name for in-line
images). (gdevpdfi.c [1.14]: 2000/04/28 12:07:37 lpd)
	- Patterns were sometimes written with a duplicate Type element.
(gdevpdfc.c [1.10]: 2000/04/28 12:23:54 lpd)
	- Patterns were sometimes written twice, with an empty definition
the second time. (gdevpdfi.c [1.15]: 2000/04/28 12:24:42 lpd)

Overhauls font embedding in the PDF writer: splits off the code into a new
file (gdevpdfe.c), writes embedded Type 1 fonts as Type 1C (CFF Type 2), and
adds a little bit of code for future support of Type 0 and CID-keyed fonts.
(gdevpdff.c [1.3], gdevpdff.h [1.2], gdevpdft.c [1.6], gdevpdfw.c [1.3]:
2000/04/10 07:48:37 lpd)

Factors out code for writing functions and for adding filter-related entries
to a stream dictionary; implements the DefaultRenderingIntent distiller
parameter. (gdevpdf.c [1.10], gdevpdfu.c [1.6], gdevpdfx.h [1.8]: 2000/04/11
16:06:57 lpd)

Adds ExtGState resources. These should be written and freed at the end of
each page, but they aren't yet. (gdevpdfx.h [1.9]: 2000/04/11 16:38:14 lpd)

Implements additional distiller parameters: PreserveHalftoneInfo,
PreserveOverprintSetting, TransferFunctionInfo (except for Apply vs.
Remove), UCRandBGInfo. Splits off graphics state management into separate
files. Implements the remaining graphics state parameters (halftone,
transfer function, black generation, undercolor removal, halftone phase,
smoothness, overprint, stroke adjustment) ****** EXCEPT FOR IMAGES ******.
In anticipation of handling more general colors, renames pdf_set_color as
pdf_set_pure_color, and adds pdf_set_drawing_color. (gdevpdf.c [1.11],
gdevpdfd.c [1.4], gdevpdfg.c [1.1], gdevpdfg.h [1.1], gdevpdfi.c [1.8],
gdevpdft.c [1.7], gdevpdfu.c [1.7], gdevpdfx.h [1.10]: 2000/04/11 18:31:32
lpd)

Splits off creation and writing of color spaces, and writing color values,
into a separate file. Adds support for (Function-based) Separation and
DeviceN color spaces, general Pattern color spaces, and procedure-based
Indexed color spaces. Adds some code to support Pattern colors, but stubs it
out because it depends on changes in the image writing code that haven't
been integrated yet. In fact, most of the new code isn't called yet, either.
(gdevpdf.c [1.12], gdevpdfc.c [1.1], gdevpdfd.c [1.5], gdevpdfg.c [1.2],
gdevpdfg.h [1.2], gdevpdft.c [1.8], gdevpdfx.h [1.11]: 2000/04/11 19:10:13
lpd)

Integrates a couple of minor overlooked changes in the text-writing code.
(gdevpdf.c [1.13], gdevpdft.c [1.9], gdevpdfx.h [1.12]: 2000/04/11 19:20:56
lpd)

In pdfwrite, rewrites the image writing code to use Cos objects rather than
direct printing, and splits off the creation of image dictionaries into a
new file; adds support for tiling with uncolored Patterns; implements
converting ImageType 4 images to their PDF 1.3 counterpart; starts to do the
same for ImageType 3. This code is "in progress" and likely to have problems
for a while. (gdevpdf.c [1.14], gdevpdfc.c [1.2], gdevpdfg.c [1.3],
gdevpdfg.h [1.3], gdevpdfi.c [1.9], gdevpdfj.c [1.1], gdevpdfx.h [1.13]:
2000/04/12 18:44:35 lpd)

Tweaks the PDF writer to use the ' command for positioning text when
possible (small optimization only). (gdevpdfg.c [1.4], gdevpdft.c [1.10],
gdevpdfu.c [1.8], gdevpdfx.h [1.14]: 2000/04/18 16:08:16 lpd)

Reduces the startup time for displaying PDF files, by skipping the creation
of pdfmarks for annotations and outlines when the output device doesn't
process pdfmarks. (gdevpdfp.c [1.8]: 2000/04/21 16:58:28 lpd)

Adds compression for pdfwrite Patterns. (gdevpdfc.c [1.9]: 2000/04/24
06:13:02 lpd)

Makes the [e]pswrite and pdfwrite drivers merge adjacent horizontal or
vertical line segments going in the same direction. This makes a big
difference for PostScript files produced by certain applications.
(gdevpdf.c [1.16], gdevpdfd.c [1.8]: 2000/04/25 22:39:54 lpd)

Updates the list of remaining pdfwrite tasks. (gdevpdfp.c [1.9]: 2000/04/27
21:36:52 lpd)

</pre><h2><a name="6.21 Interpreter (PDF)"></a>Interpreter (PDF)</h2><pre>

Fixes problems:
	- Embedded subset CFF fonts in PDF files were defined using the name
in the font data rather than the font name in the PDF resource object. (bug
#102901) (lib/pdf_ops.ps [1.5]: 2000/04/11 05:33:13 lpd)
	- When processing a PDF file, the font substitution heuristic based
on the FontName sometimes overrode the Flags information in the
FontDescriptor. (lib/pdf_font.ps [1.6]: 2000/04/20 06:36:02 lpd)
	- PDF images with a bitmap Mask caused errors or produced incorrect
output. (lib/pdf_draw.ps [1.10]: 2000/04/24 00:59:04 lpd)
	- Masked images weren't drawn properly, because the two data sources
could reference the same file. (lib/pdf_draw.ps [1.11]: 2000/04/24 05:39:45
lpd)
	- *Really* fixes the problem of data source aliasing for masked
images. (lib/pdf_draw.ps [1.12]: 2000/04/24 05:53:43 lpd)
	- If a font specified Subtype = /TrueType but the actual font used
was not a TrueType font, any Encoding in the Font object should be ignored.
(This is a hack required by the PDF specification.) (lib/pdf_font.ps [1.7]:
2000/04/24 06:37:18 lpd)
	- Colored annotation borders caused an error; 0-width borders were
drawn even though they shouldn't be; Link and Stamp annotations weren't
drawn at all. Also adds a new -dPrinted[=true/false] switch to choose
whether to produce "screen" or "printer" output. (code from Artifex)
(lib/pdf_draw.ps [1.13], lib/pdf_main.ps [1.7]: 2000/04/27 08:16:40 lpd)

Makes undefined XObject resources for the Do operator produce a warning
rather than an error, to parallel Acrobat Reader. (lib/pdf_draw.ps [1.9]:
2000/04/16 07:48:23 lpd)

Tweaks up the performance of the PDF interpreter loop slightly.
(lib/pdf_base.ps [1.7]: 2000/04/18 05:45:49 lpd)

Reduces the startup time for displaying PDF files, by skipping the creation
of pdfmarks for annotations and outlines when the output device doesn't
process pdfmarks. (lib/pdf_main.ps [1.6]: 2000/04/21 16:58:28 lpd)

</pre><h2><a name="6.21 Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- Fixes some signed/unsigned char * mismatches. (zfrsd.c [1.3]:
2000/04/07 15:27:14 lpd)
	- Automatic loading of fonts from resource files didn't work
(usually caused an unmatchedmark or typecheck error).
(lib/gs_fonts.ps [1.5], lib/gs_res.ps [1.9]: 2000/04/08 03:45:41 lpd)
	- A -&gt; should have been a . (only shows up on 64-bit systems).
(zfunc4.c [1.3]: 2000/04/09 20:04:00 lpd)
	- the most recent 'fixes' for loading font resources caused all
built-in fonts to be returned as null. (lib/gs_res.ps [1.10]: 2000/04/09
22:51:01 lpd)
	- /Category defineresource didn't make the category definition
dictionary read-only. (lib/gs_res.ps [1.11]: 2000/04/10 18:29:04 lpd)
	- Attempting to build an invalid FunctionType 4 function could cause
a memory access error. (zfunc4.c [1.4]: 2000/04/10 19:38:53 lpd)
	- Embedded subset CFF fonts in PDF files were defined using the name
in the font data rather than the font name in the PDF resource object. (bug
#102901) (lib/gs_cff.ps [1.4]: 2000/04/11 05:33:13 lpd)
	- CMaps with more than one code space range weren't converted to the
internal form correctly; begincidchar and beginnotdefchar caused errors.
(lib/gs_cmap.ps [1.3], zfcmap.c [1.6]: 2000/04/14 07:53:10 lpd)
	- flushfile and closefile didn't properly flush streams whose final
target was a procedure, and closefile didn't actually close them. (This is a
very old bug.) (zfproc.c [1.2]: 2000/04/18 05:50:15 lpd)
	- CIDFontType 0 CIDFonts in which some FDArray element had no Subrs
caused an error. (lib/gs_cidfn.ps [1.14]: 2000/04/18 05:58:08 lpd)
	- Attempting to set a PageSize with 4 elements actually set the
PageSize (to the first 2 elements), rather than ignoring the attempt. (This
is just a patch to prevent some PageMaker files from being thrown off by the
4-element PageSizes in Input Attributes.) (lib/gs_setpd.ps [1.2]: 2000/04/19
06:01:19 lpd)
	- When choosing a substituted font, 'Serif' had priority over
'Sans', so unknown fonts with 'SansSerif' in their name would have a serif
font substituted. (lib/gs_fonts.ps [1.6]: 2000/04/19 13:48:48 lpd)
	- The fix to make setpagedevice ignore 4-element PageSizes in
InputAttributes was broken. (It's impossible that it could ever have worked,
despite the fact that we tested it.) (lib/gs_setpd.ps [1.3]: 2000/04/20
06:24:39 lpd)
	- When processing a PDF file, the font substitution heuristic based
on the FontName sometimes overrode the Flags information in the
FontDescriptor. (lib/gs_fonts.ps [1.7]: 2000/04/20 06:36:02 lpd)
	- Showing a string in a Type 1 font with a singular combined matrix
(e.g., after 0 scalefont setfont) caused an error instead of doing nothing.
(zchar1.c [1.3]: 2000/04/22 00:34:46 lpd)
	- Images with multiple file DataSources where two or more of the
files were the same caused a crash. (zimage.c [1.3]: 2000/04/24 00:07:41
lpd)
	- .reusablestreamdecode wasn't defined for use in LanguageLevel 2.
(The ReusableStreamDecode filter itself was properly defined.)
(lib/gs_frsd.ps [1.3]: 2000/04/24 00:45:38 lpd)
	- Loading an unknown font gave a spurious "non-string font name"
message; unknown fonts with names containing style strings like Bold or
Italic caused an error. (bug introduced since 6.20) (lib/gs_fonts.ps [1.8]:
2000/04/28 22:03:58 lpd)

Adds a workaround for misnamed glyphs in some Microsoft TrueType font 'post'
tables. (lib/gs_mgl_e.ps [1.2], lib/gs_ttf.ps [1.4]: 2000/04/08 01:53:16
lpd)

Completely redesigns the representation of CMaps, to reduce space
requirements and make comparing them more reasonable, changing gs_cmap to
gs_cmap_t and gx_code_map to gx_code_map_t. (****** NOTE ****** The
PostScript code currently only handles a few well-behaved CMap structures.)
(lib/gs_cmap.ps [1.2], zfcmap.c [1.4], zfont0.c [1.2]: 2000/04/08 03:54:38
lpd)

Updates version #s to 6.21. (We should have done this earlier.)
(lib/gs_init.ps [1.7]: 2000/04/10 04:46:36 lpd)

Makes Separation and DeviceN color spaces detect that their tint transform
procedure is a Function, and call it rather than using its cached values.
(zcsdevn.c [1.2], zcssepr.c [1.3]: 2000/04/10 19:39:44 lpd)

Adds code to write out CMaps, similar to the code for writing fonts, for
eventual embedding in PDF output. (zfcmap.c [1.5]: 2000/04/14 07:17:24 lpd)

Completes code for reading and writing CMaps. (lib/gs_cmap.ps [1.4],
zfcmap.c [1.7]: 2000/04/16 03:05:29 lpd)

Works around a bug in the AdobePS5 Windows driver, which emits CMaps lacking
the required CMapName entry. (lib/gs_cidfn.ps [1.15], lib/gs_cmap.ps [1.5]:
2000/04/18 07:18:42 lpd)

Moves the optimization prologue for ps2pdf from the command line to a
procedure, to avoid shell length limits. (lib/gs_pdfwr.ps [1.3]: 2000/04/18
16:40:14 lpd)

Removes all remaining direct references to stdin/out/err from the library,
interpreter, and non-contributed drivers; moves the ersatz definitions of
stdin/out/err to a new header file. (imainarg.c [1.2]: 2000/04/20 23:30:22
lpd)

Speeds up Type 1 font loading slightly by removing a conversion from binary
to hex and back again. (zmisc1.c [1.2]: 2000/04/22 16:03:18 lpd)

Adds a MD5Encode filter, which computes the 16-byte MD5 digest of the input.
No output is produced until the filter is closed. (zfmd5.c [1.1]: 2000/04/27
14:39:57 lpd)

Adds a sample file containing a wide variety of PDF annotations; updates
documentation for this and some other overlooked files.
(examples/annots.pdf [1.1]: 2000/04/28 10:51:02 lpd)

</pre><h2><a name="6.21 Streams"></a>Streams</h2><pre>

Fixes problems:
	- FILE_IMPLEMENTATION=both was broken (by the introduction of
sread_subfile). (sfxfd.c [1.3]: 2000/04/10 02:41:48 lpd)
	- flushfile and closefile didn't properly flush streams whose final
target was a procedure, and closefile didn't actually close them. (This is a
very old bug.) (stream.c [1.6]: 2000/04/18 05:50:15 lpd)
	- The PixelDifference filters (Predictor = 2) weren't implemented
for Colors &gt; 4 and BitsPerComponent != 8, and they dropped trailing bytes if
the length of the data wasn't an exact multiple of the pixel size.
(spdiff.c [1.2]: 2000/04/22 03:55:22 lpd)

Enhances the ASCII85Encode filter to avoid %! at the beginning of a line of
output, in addition to avoiding %% which it did already. (sa85x.h [1.2],
sfilter2.c [1.2]: 2000/04/08 01:30:36 lpd)

Removes all remaining direct references to stdin/out/err from the library,
interpreter, and non-contributed drivers; moves the ersatz definitions of
stdin/out/err to a new header file. (std.h [1.2]: 2000/04/20 23:30:22 lpd)

Speeds up Type 1 font loading slightly by removing a conversion from binary
to hex and back again. (seexec.c [1.2], sfilter.h [1.5]: 2000/04/22 16:03:18
lpd)

Adds a MD5Encode filter, which computes the 16-byte MD5 digest of the input.
No output is produced until the filter is closed. (smd5.c [1.1],
smd5.h [1.1]: 2000/04/27 14:39:57 lpd)

</pre><h2><a name="6.21 Library"></a>Library</h2><pre>

Fixes problems:
	- Fixes some signed/unsigned char * mismatches. (gdevpsf2.c [1.5]:
2000/04/07 15:27:14 lpd)
	- Writing a Type 2 CFF with multiply-encoded glyphs produced an
incorrect Encoding. Also, when producing output for PDF 1.2 files, no longer
emits certain opcodes that cause an (unjustified) error in Acrobat Reader 3
for Linux. (gdevpsf.h [1.3], gdevpsf2.c [1.6]: 2000/04/10 07:42:31 lpd)
	- gsmisc.c didn't compile in DEBUG mode on systems with a
non-standard prototype for the sqrt function. (gsmisc.c [1.3]: 2000/04/10
16:00:31 lpd)
	- One picky compiler complained about (1L &lt;&lt; 31). (gsmisc.c [1.4]:
2000/04/10 17:21:41 lpd)
	- putdeviceparams allowed a PageSize or .MediaSize value with the
wrong number of elements to take effect. (gsdparam.c [1.2]: 2000/04/19
05:59:05 lpd)
	- The elimination of stdin/out/err also eliminated some #defines
that are needed for error printout. (gsio.h [1.3]: 2000/04/21 06:39:17 lpd)
	- The structure descriptor for ImageType 3 images was public rather
than private. (gsiparm3.h [1.3], gximage3.c [1.2]: 2000/04/22 07:02:18 lpd)
	- The "point matching" feature of TrueType composite glyphs wasn't
implemented, causing some composite (accented) characters to have their
accents misplaced. (gstype42.c [1.4]: 2000/04/25 07:22:50 lpd)

Completely redesigns the representation of CMaps, to reduce space
requirements and make comparing them more reasonable, changing gs_cmap to
gs_cmap_t and gx_code_map to gx_code_map_t. (****** NOTE ****** The
PostScript code currently only handles a few well-behaved CMap structures.)
(gsfcmap.c [1.4], gsfcmap.h [1.2], gxfcmap.h [1.3], gxfont0.h [1.2]:
2000/04/08 03:54:38 lpd)

Adds Function-based tint_transform procedures for Separation and DeviceN
color spaces. (gscdevn.c [1.3], gscdevn.h [1.2], gscsepr.c [1.3],
gscsepr.h [1.2]: 2000/04/10 19:02:19 lpd)

Adds code to write out CMaps, similar to the code for writing fonts, for
eventual embedding in PDF output. (gdevpsf.h [1.4], gdevpsfm.c [1.1]:
2000/04/14 07:17:24 lpd)

Completes code for reading and writing CMaps. (gdevpsf.h [1.5],
gdevpsfm.c [1.2], gsccode.h [1.3], gsfcid.c [1.3], gsfcmap.c [1.5],
gxcid.h [1.2], gxfcmap.h [1.4]: 2000/04/16 03:05:29 lpd)

Removes the gp_ procedures for managing screen swapping between console and
graphics, which haven't been used for a long time and are no longer useful.
(gp.h [1.3]: 2000/04/20 22:47:35 lpd)

Removes all remaining direct references to stdin/out/err from the library,
interpreter, and non-contributed drivers; moves the ersatz definitions of
stdin/out/err to a new header file. (gsdevice.c [1.3], gsio.h [1.2],
gsmisc.c [1.5], gxdevice.h [1.2]: 2000/04/20 23:30:22 lpd)

Adds an essential new file overlooked in the removal of references to
stdin/out/err. (gxstdio.h [1.1]: 2000/04/20 23:50:20 lpd)

Makes the [e]pswrite and pdfwrite drivers merge adjacent horizontal or
vertical line segments going in the same direction. This makes a big
difference for PostScript files produced by certain applications.
(gdevvec.c [1.2], gdevvec.h [1.2]: 2000/04/25 22:39:54 lpd)

Adds template macros for printer devices that implement print_page_copies
rather than print_page. (gdevprn.c [1.2], gdevprn.h [1.3]: 2000/04/28
13:36:16 lpd)

</pre><hr>

<h1><a name="Version6.20"></a>Version 6.20 (2000-04-06)</h1>

<p>
This fileset includes the first steps towards bringing the pdfwrite driver
closer to matching Acrobat Distiller 4.  Highlights:

<ul>

<li> Reimplementation of CIDFontType 0 support in C rather than PostScript;

<li> Parsing (but not functional implementation) of nearly all the Acrobat
Distiller 4 parameters;

<li> Implementation of AutoRotatePages and DCTEncode filtering in the PDF
writer;

<li> A PDF linearizer ("optimizer").

</ul>

<p>
All problems registered on SourceForge numbered 103963 or lower are closed,
except for the following: 101549, 101814, 101829, 101905, 101955, 102046,
102047, 102132, 102146, 102735, 102901, 103016, 103528, 103963.


<h2><a name="6.20_Incompatible_changes"></a>Incompatible changes</h2><pre>

(Procedures)
	- The default value of FPU_TYPE in all Windows and OS/2 makefiles
is now 387 rather than 0.
	- The process for reporting problems has changed significantly.
(PDF writer)
	- The Cos procedures no longer take the device as an argument,
except for object-creating procedures, which now take the device rather
than an allocator.
	- The is_object member of Cos values is replaced by value_type.
Clients must use COS_VALUE_IS_OBJECT() to test whether a value is an object
reference.
	- The Cos procedures that take C strings no longer copy the string.
	- The argument of cos_write_object is no longer const.
(Drivers)
	- The default BufferSpace for printer drivers is now 4 Mb.
	- Device halftone order implementations must now provide a new
bit_index procedure.
	- The image argument for psdf_setup_image_filters is changed from
gs_image_t to gs_pixel_image_t.
	- The font-related psdf_ procedures are renamed psf_.
(Streams)
	- The interface to the [T]BCP filters is now in a separate file,
sbcp.h.
(PDF interpreter)
	- The internal beginpage procedure is renamed dictbeginpage, and
now takes a dictionary argument.
(Interpreter)
	- The argument list for the internal build_gs_TrueType_font
procedure has changed.
	- The zcharstring_glyph_outline procedure is renamed
zchar1_glyph_outline.
	- The Instances dictionary of resources is renamed .Instances.
(Library)
	- ImageType 4 images now give an error if a MaskColor value is out
of the range of possible sample values.
	- The definition of gs_param_key_t, the key type returned by
parameter list enumeration, is changed.
	- Implementors of parameter lists must now call gs_param_list_init
to initialize the common members.
	- st_indexed_map is now private.  Clients allocating instances of
this structure must now call alloc_indexed_map.
	- Setting a transfer map as the identity mapping now requires
calling gx_set_identity_transfer.
	- gs_cid_system_info is renamed gs_cid_system_info_t.
	- The get_outline procedure of a Type 42 or Type 11 (CIDFontType 0)
font now returns 1 if the string was newly allocated and can be freed by the
client.
	- The procs member of gs_type1_data is now an in-line structure
rather than a pointer to a const structure.


</pre><h2><a name="6.20 Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- If log2_transfer_map_size &gt; 8, identity transfer functions
returned garbage. The fix requires that if a client wants to set a transfer
function to the identity mapping, it must call gx_set_identity_transfer
rather than simply setting the procedure to gs_identity_transfer.
(doc/News.htm [1.13]: 2000/03/19 17:14:47 lpd)
	- In PDF files, the page CropBox was not being used to clip the
output. (doc/News.htm [1.18]: 2000/03/21 23:08:32 lpd)
	- Fixes several problems in resourceforall and resource loading: the
operands of resourceforall were restored even in the case of an error in the
client's procedure; the name Instances had special meaning for some Adobe
code; resourceforall caused an invalidaccess error if an operand was in
local VM but the current VM was global; loading a resource from a file could
cause a typecheck error if the file left values on the operand stack.
(doc/News.htm [1.25]: 2000/04/04 22:26:02 lpd)
	- The location of the lists of supported and unsupported drivers was
incorrect. (doc/Bug-info.htm [1.2]: 2000/04/07 03:01:52 lpd)

Undoes an accidental RCS ID substitution in what was supposed to be literal
text. (doc/Htmstyle.htm [1.2]: 2000/03/18 22:29:03 lpd)

Increments the version number to 6.20, in anticipation of the next release.
(We do this at the beginning of the development for a release, not the end.)
(doc/History6.htm [1.4], doc/News.htm [1.6]: 2000/03/19 00:27:22 lpd)

Splits out the [T]BCP filter interface into a separate file.
(doc/News.htm [1.7]: 2000/03/19 02:40:18 lpd)

Documents the fact that ImageType 4 images now cause an error for
out-of-range MaskColor values. (doc/News.htm [1.8]: 2000/03/19 04:32:09 lpd)

Updates the change log with recent changes. (doc/Changes.htm [1.4]:
2000/03/19 05:39:58 lpd)

Adds a new document listing projects with which we are seeking help. Also
makes the description of Changes.htm and News.htm more accurate.
(doc/New-user.htm [1.2], doc/Projects.htm [1.1], doc/Readme.htm [1.3]:
2000/03/19 06:07:15 lpd)

Changes the default value of BufferSpace to 4 Mb. In desktop applications,
this is a reasonable value that can substantially improve performance
(especially for color printers); embedded applications will want to set
BufferSpace themselves in any case. (doc/News.htm [1.9]: 2000/03/19 06:51:13
lpd)

Changes the key type returned by parameter list enumeration to include a
persistence flag, makes C parameter lists support non-persistent keys, and
upgrades GC descriptors so that parameter lists can be used non-transiently;
updates implementors of parameter lists to call gs_param_list_init to
initialize the common members, which is now required. (doc/News.htm [1.10]:
2000/03/19 15:16:11 lpd)

Documents the fact that drivers that device halftone order implementations
must now provide the new bit_index procedure. (This should have been
documented when bit_index was introduced!) (doc/News.htm [1.11]: 2000/03/19
15:47:47 lpd)

Makes st_indexed_map private. Clients must now use the constructor procedure
alloc_indexed_map rather than allocating instances directly.
(doc/News.htm [1.12]: 2000/03/19 16:37:28 lpd)

Update the date and change log for the latest batches of checked-in changes.
(doc/Changes.htm [1.5]: 2000/03/19 17:29:57 lpd)

Adds a PDF linearizer ("optimizer"). This is a separate utility (not
integrated with the pdfwrite driver), written in PostScript.
(doc/Psfiles.htm [1.2]: 2000/03/20 04:31:22 lpd)

Adds parsing for the remaining Acrobat Distiller 4 parameters. Implements
the LockDistillerParams, xxxDownsampleThreshold, xxxImageDict, and
xxxACSImageDict distiller parameters. Implements DCTEncode as an
xxxImageFilter option (it used to cause a crash). Makes the
AutoFilterxxxImages distiller parameters select JPEG encoding (with ACSDict)
if the image has 8 bits per component and is not Indexed, and LZW/Flate
otherwise: this still isn't right, but it's closer. Implementation changes:
Changes the implementation of distiller parameter dictionaries from stream
states to parameter lists; changes the test for masks in
psdf_setup_image_filters, and changes the image argument from gs_image_t to
gs_pixel_image_t. (doc/News.htm [1.14]: 2000/03/20 05:40:04 lpd)

Moves font-writing support into a new module (gdevpsf*), changing the source
file names. Adds the ability to write CFF fonts, with either Type 1 or Type
2 CharStrings; unfortunately, Acrobat Reader appears not to accept CFF fonts
with Type 1 CharStrings. Adds the ability to convert Type 1 CharStrings to
Type 2, including optimizing sequences of Type 1 operators into a single
Type 2 operator. Implements writing CIDFontType 0 CFF fonts (CIDFonts) [NOT
TESTED]. Starts (just barely) to remove more unneeded information from
embedded TrueType fonts. (doc/News.htm [1.15]: 2000/03/20 07:02:12 lpd)

Updates the consolidated change log with today's changes.
(doc/Changes.htm [1.6]: 2000/03/20 07:18:38 lpd)

Starts to move support for CIDFontType 0 and 2 into C code, needed by the
PDF writer for handling CID-keyed fonts. Implements GlyphDirectory for
CIDFonts. Makes GDBytes and CIDMapOffset optional for CIDFontType 0 fonts
that have a GlyphDirectory (not documented in the PLRM, but clearly
correct). Implements Adobe 3011 features: integer and dictionary CIDMaps,
and the MetricsCount entry, in CIDFontType 2 fonts (but only in the C code,
which isn't hooked in yet, not in the PostScript code in gs_cidfn.ps.)
(doc/News.htm [1.16]: 2000/03/20 19:53:06 lpd)

Notes that the argument list for the internal build_gs_TrueType_font
procedure has changed, as part of the CIDFont migration to C code.
(doc/News.htm [1.17]: 2000/03/20 20:04:20 lpd)

Adds invocation scripts and documentation for the PDF "optimizer".
(man/pdfopt.1 [1.1]: 2000/03/21 17:01:33 lpd)

Updates information about reporting problems when using Ghostview or GSview.
(doc/Bug-form.htm [1.3], doc/New-user.htm [1.3]: 2000/03/22 22:13:49 lpd)

Checks in the latest consolidated change log. (doc/Changes.htm [1.7]:
2000/03/24 05:04:55 lpd)

Substantially enhances the Cos object machinery. Interface: Adds a few more
procedures, including a procedure to create a stream that writes directly
into a Cos stream object, procedures for putting more kinds of values into
arrays and dictionaries, and a param_list interface. Changes Cos objects to
store a reference to the PDF device, and removes the device argument from
all Cos procedures other than object creation. Replaces the Boolean
is_object member of Cos values by a value_type enum: clients must now use
COS_VALUE_IS_OBJECT() to test whether a value is an object reference. To
reduce allocator overhead, makes the Cos procedures that take C strings no
longer copy the string. Records whether each Cos object has been written
into the output, so that in the future (but not in this batch of changes)
resource definitions can be copied at the end of each page. Implementation:
Moves more of the implementation of Cos objects to the .c file.
(doc/News.htm [1.19]: 2000/03/24 06:12:52 lpd)

Adds parsing for the remaining Acrobat Distiller 4 parameters, although most
of them don't have any effect yet; brings documentation up to date.
(doc/Ps2pdf.htm [1.3]: 2000/03/28 07:36:58 lpd)

Implements LockDistillerParams; completes the StartPage/EndPage fix checked
in just before. (doc/Ps2pdf.htm [1.4]: 2000/03/28 07:52:06 lpd)

Changes the default value of FPU_TYPE in all Windows and OS/2 makefiles from
0 to 387, since all current desktop CPUs include floating point hardware.
(doc/News.htm [1.20]: 2000/03/28 17:03:48 lpd)

Changes the get_outline / glyph_data procedure for getting encoded font
outline data to return an indication of whether the outline data were just
allocated and can be freed by the client. (This is a possibly
non-backward-compatible change.) (doc/News.htm [1.21]: 2000/03/28 18:47:02
lpd)

Adds a note about bogus "ANSI aliasing" warnings from the DEC C compiler.
(doc/Make.htm [1.8]: 2000/03/29 19:29:08 lpd)

Changes the procs structure of gs_type1_data to an in-line structure rather
than a pointer to a const structure. (Needed for moving CIDFontType 0
support into C.) (doc/News.htm [1.22]: 2000/03/29 22:10:31 lpd)

Updates the change log with recent changes. (doc/Changes.htm [1.8]:
2000/03/30 07:59:39 lpd)

Creates a real list of projects on which help would be appreciated.
(doc/Projects.htm [1.2]: 2000/04/01 00:43:11 lpd)

Finishes implementing the ability to write CIDFontType 0 CFFs. This involved
a surprising number of changes in other font-related files.
(doc/News.htm [1.23]: 2000/04/02 07:38:46 lpd)

Updates the documentation on preparing releases to reflect the addition of
the toolbin directory. (doc/Release.htm [1.7]: 2000/04/02 18:56:58 lpd)

Implements the AutoRotatePages distiller parameter. (doc/Ps2pdf.htm [1.5]:
2000/04/03 02:54:41 lpd)

Updates the problem reporting procedure to use SourceForge; separates the
description of the procedure from the reporting form.
(doc/Bug-form.htm [1.4], doc/Bug-info.htm [1.1], doc/New-user.htm [1.4],
doc/News.htm [1.24], doc/Readme.htm [1.4]: 2000/04/04 04:14:02 lpd)

Updates release dates and version numbers. (doc/Bug-form.htm [1.5],
doc/Bug-info.htm [1.3], doc/Htmstyle.htm [1.3], doc/Make.htm [1.9],
doc/New-user.htm [1.5], doc/Projects.htm [1.3], doc/Ps2pdf.htm [1.6],
doc/Psfiles.htm [1.3], doc/Readme.htm [1.5], man/ps2pdf.1 [1.4],
man/ps2ps.1 [1.4]: 2000/04/07 05:21:45 lpd)

Removes redundant material, and the www.aladdin.com distribution point, from
the release procedure documentation. (doc/Release.htm [1.8]: 2000/04/07
05:24:29 lpd)

</pre><h2><a name="6.20 Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- pdfread.dev incorrectly depended on dpsnext_. (int.mak [1.4]:
2000/03/19 02:00:09 lpd)
	- The referenced libpng version hadn't been updated to 1.0.5.
(openvms.mmk [1.3]: 2000/03/20 16:38:46 lpd)
	- The MSVC++ 6 compiler no longer recognizes the /FPi87 switch.
(msvccmd.mak [1.2]: 2000/03/31 05:06:53 lpd)
	- MSVC versions before 5, not before 6, recognize /FPi87.
(msvccmd.mak [1.3]: 2000/03/31 05:50:33 lpd)
	- Removes some occurrences of &#36;Id: that shouldn't be substituted.
(toolbin/pre [1.2]: 2000/04/07 05:20:35 lpd)

Increments the version number to 6.20, in anticipation of the next release.
(We do this at the beginning of the development for a release, not the end.)
(version.mak [1.6]: 2000/03/19 00:27:22 lpd)

Adds a pseudo-encoding for the CFF StandardStrings that represent
characters. (devs.mak [1.3], int.mak [1.3], unixinst.mak [1.5]: 2000/03/19
00:38:50 lpd)

Updates makefiles with dependencies for recent changes. (int.mak [1.5],
lib.mak [1.3]: 2000/03/19 05:37:38 lpd)

Adds dependencies for the new implementation of FunctionType 4 functions.
(int.mak [1.6]: 2000/03/19 07:03:53 lpd)

Splits off "vanilla" Functions into separate files, in anticipation of
removing them (they were only used to implement PostScript Calculator
Functions). (lib.mak [1.4]: 2000/03/19 07:33:08 lpd)

Update the date and change log for the latest batches of checked-in changes.
(version.mak [1.7]: 2000/03/19 17:29:57 lpd)

Moves font-writing support into a new module (gdevpsf*), changing the source
file names. Adds the ability to write CFF fonts, with either Type 1 or Type
2 CharStrings; unfortunately, Acrobat Reader appears not to accept CFF fonts
with Type 1 CharStrings. Adds the ability to convert Type 1 CharStrings to
Type 2, including optimizing sequences of Type 1 operators into a single
Type 2 operator. Implements writing CIDFontType 0 CFF fonts (CIDFonts) [NOT
TESTED]. Starts (just barely) to remove more unneeded information from
embedded TrueType fonts. (devs.mak [1.4], lib.mak [1.5]: 2000/03/20 07:02:12
lpd)

Updates dependencies to reflect today's batches of checked-in changes.
(devs.mak [1.5], int.mak [1.7], lib.mak [1.6]: 2000/03/20 07:16:35 lpd)

Updates the makefile for the renaming of gdevpsdf.c =&gt; gdevpsdu.c.
(devs.mak [1.6]: 2000/03/20 19:30:35 lpd)

Starts to move support for CIDFontType 0 and 2 into C code, needed by the
PDF writer for handling CID-keyed fonts. Implements GlyphDirectory for
CIDFonts. Makes GDBytes and CIDMapOffset optional for CIDFontType 0 fonts
that have a GlyphDirectory (not documented in the PLRM, but clearly
correct). Implements Adobe 3011 features: integer and dictionary CIDMaps,
and the MetricsCount entry, in CIDFontType 2 fonts (but only in the C code,
which isn't hooked in yet, not in the PostScript code in gs_cidfn.ps.)
(int.mak [1.8], lib.mak [1.7]: 2000/03/20 19:53:06 lpd)

Extends the C support for CIDFontType 0 fonts to include those with FontType
2 subfonts in the FDArray (an Adobe 3011 addition, specifically for CFF
fonts). (int.mak [1.9]: 2000/03/21 07:43:42 lpd)

Adds invocation scripts and documentation for the PDF "optimizer".
(unixinst.mak [1.6]: 2000/03/21 17:01:33 lpd)

Splits off the ReusableStreamDecode filter as a separate module, since
CIDFontType 0 fonts will use it even in LanguageLevels below 3.
(int.mak [1.10]: 2000/03/21 21:34:57 lpd)

Makes file streams remember the file name, needed for efficiently
implementing reusable streams. (int.mak [1.11]: 2000/03/23 02:13:40 lpd)

Checks in the latest consolidated change log. (version.mak [1.8]: 2000/03/24
05:04:55 lpd)

Changes the implementation of incrementally loaded CIDFontType 0 fonts to
use a ReusableStreamDecode filter, in anticipation of moving the BuildGlyph
procedure for these fonts from PostScript to C. (int.mak [1.12],
version.mak [1.9]: 2000/03/27 16:36:24 lpd)

Changes the default value of FPU_TYPE in all Windows and OS/2 makefiles from
0 to 387, since all current desktop CPUs include floating point hardware.
(msvc32.mak [1.3], msvclib.mak [1.3], os2.mak [1.4], watcw32.mak [1.3]:
2000/03/28 17:03:48 lpd)

Updates the change log with recent changes. (version.mak [1.10]: 2000/03/30
07:59:39 lpd)

Cleans up some dependencies missed at the last checkin. (devs.mak [1.7],
int.mak [1.13]: 2000/03/31 05:03:30 lpd)

Finishes implementing the ability to write CIDFontType 0 CFFs. This involved
a surprising number of changes in other font-related files. (int.mak [1.14]:
2000/04/02 07:38:46 lpd)

Adds a variety of tools used to build and distribute Ghostscript releases.
The only documentation is comments in the files themselves, and there isn't
much of it. All aspects of these tools are subject to change without notice.
(toolbin/3way.tcl [1.1], toolbin/cvs2hist.py [1.1],
toolbin/errlist.tcl [1.1], toolbin/gsmake.tcl [1.1],
toolbin/headers.tcl [1.1], toolbin/leaks.tcl [1.1],
toolbin/makeset.tcl [1.1], toolbin/package.tcl [1.1], toolbin/pre [1.1],
toolbin/pre.chk [1.1], toolbin/precheck.tcl [1.1], toolbin/smoke.ps [1.1],
toolbin/suite.tcl [1.1], toolbin/tmake.tcl [1.1]: 2000/04/02 18:44:27 lpd)

Moves gsindent from src to toolbin. (toolbin/gsindent [1.1]: 2000/04/02
18:56:25 lpd)

Adds an #include required by the Watcom compiler. (devs.mak [1.8]:
2000/04/05 19:51:54 lpd)

Adds a missing dependency. (lib.mak [1.8]: 2000/04/07 03:00:56 lpd)

Updates a few dependencies for the release. (int.mak [1.15]: 2000/04/07
05:23:12 lpd)

Updates the build date for the release. (version.mak [1.11]: 2000/04/07
05:25:18 lpd)

Adds .cvsignore files, to prevent bogus warnings on cvs update.
(.cvsignore [1.1], src/.cvsignore [1.1]: 2000/04/05 19:46:04 lpd)

</pre><h2><a name="6.20 Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- A couple of places in the Windows code didn't correctly handle
Ghostscript version 6.64, 7 April 2001
21:45:03 lpd)
	- Replaces a final exit() with a return, to avoid a compiler
warning. (genconf.c [1.2]: 2000/04/05 19:53:27 lpd)

Makes geninit remove whitespace adjacent to hex and base-85 string literals.
(geninit.c [1.2]: 2000/03/18 22:51:24 lpd)

Adds a PDF linearizer ("optimizer"). This is a separate utility (not
integrated with the pdfwrite driver), written in PostScript.
(lib/pdfopt.ps [1.1], lib/pdfwrite.ps [1.1]: 2000/03/20 04:31:22 lpd)

Replaces the O(N^2) sorting algorithm for printing unencoded characters with
a O(N log N) algorithm, which makes printing Unicode and Chinese/Japanese
fonts practical. (lib/prfont.ps [1.2]: 2000/03/21 06:39:49 lpd)

Adds invocation scripts and documentation for the PDF "optimizer".
(lib/pdfopt [1.1], lib/pdfopt.bat [1.1], lib/pdfopt.ps [1.2]: 2000/03/21
17:01:33 lpd)

Splits off the ReusableStreamDecode filter as a separate module, since
CIDFontType 0 fonts will use it even in LanguageLevels below 3.
(zfreuse.c [1.2]: 2000/03/21 21:34:57 lpd)

Adds a variety of tools used to build and distribute Ghostscript releases.
The only documentation is comments in the files themselves, and there isn't
much of it. All aspects of these tools are subject to change without notice.
(gsindent [1.2]: 2000/04/02 18:44:27 lpd)

</pre><h2><a name="6.20 Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- The color_info member of the Windows and OS/2 printer devices (and
other devices using PC-style palettes) wasn't initialized properly, causing
improper behavior. (gdevos2p.c [1.2], gdevpccm.h [1.2], gdevwpr2.c [1.3]:
2000/03/20 21:05:11 lpd)
	- Fixes a bug in the mswinpr2 driver in the handling of
BitsPerPixel. (gdevwpr2.c [1.4]: 2000/03/22 17:08:33 lpd)
	- In PCL XL output (pxl* drivers), if a PostScript image didn't
provide enough source data, the remainder of the output image was
erroneously filled with pixel value 0 (typically black or the foreground
color). (gdevpx.c [1.2]: 2000/03/22 20:55:21 lpd)
	- In the output of the pswrite driver (pdf2ps, ps2ps), the showpage
for each page occurred before, not after, the restore that ended the page
contents. This contradicted Adobe's documentation, and made utilities like
N-up printing not work properly. (gdevps.c [1.4]: 2000/03/28 00:52:46 lpd)
	- The PCL XL 2.0 value for sRGB color space was wrong, and the
attribute for writing mode was missing. (gdevpxat.h [1.2], gdevpxen.h [1.2]:
2000/03/29 18:19:44 lpd)
	- When printing on monochrome LaserJet/DeskJet printers, the driver
didn't set the number of copies to 1; on the LJ 4si, this sometimes caused
double printing. (gdevdjet.c [1.2]: 2000/04/03 14:36:12 lpd)
	- Updates clients for the change in the last argument of
cff_string_index from uint * to int *. (gdevpsf2.c [1.4]: 2000/04/05
19:55:29 lpd)

Adds parsing for the remaining Acrobat Distiller 4 parameters. Implements
the LockDistillerParams, xxxDownsampleThreshold, xxxImageDict, and
xxxACSImageDict distiller parameters. Implements DCTEncode as an
xxxImageFilter option (it used to cause a crash). Makes the
AutoFilterxxxImages distiller parameters select JPEG encoding (with ACSDict)
if the image has 8 bits per component and is not Indexed, and LZW/Flate
otherwise: this still isn't right, but it's closer. Implementation changes:
Changes the implementation of distiller parameter dictionaries from stream
states to parameter lists; changes the test for masks in
psdf_setup_image_filters, and changes the image argument from gs_image_t to
gs_pixel_image_t. (gdevpsdf.h [1.4], gdevpsdi.c [1.3], gdevpsdp.c [1.3]:
2000/03/20 05:40:04 lpd)

Moves font-writing support into a new module (gdevpsf*), changing the source
file names. Adds the ability to write CFF fonts, with either Type 1 or Type
2 CharStrings; unfortunately, Acrobat Reader appears not to accept CFF fonts
with Type 1 CharStrings. Adds the ability to convert Type 1 CharStrings to
Type 2, including optimizing sequences of Type 1 operators into a single
Type 2 operator. Implements writing CIDFontType 0 CFF fonts (CIDFonts) [NOT
TESTED]. Starts (just barely) to remove more unneeded information from
embedded TrueType fonts. (gdevpsd1.c [1.2], gdevpsdf.c [1.3],
gdevpsdf.h [1.5], gdevpsdt.c [1.2], gdevpsf.h [1.1], gdevpsf1.c [1.1],
gdevpsf2.c [1.1], gdevpsft.c [1.1], gdevpsfu.c [1.1], gdevpsfx.c [1.1]:
2000/03/20 07:02:12 lpd)

Renames an inappropriately named file. (gdevpsdf.c [1.4], gdevpsdf.h [1.6],
gdevpsdu.c [1.1]: 2000/03/20 19:03:43 lpd)

Extends the C support for CIDFontType 0 fonts to include those with FontType
2 subfonts in the FDArray (an Adobe 3011 addition, specifically for CFF
fonts). (gdevpsf.h [1.2]: 2000/03/21 07:43:42 lpd)

Changes the procs structure of gs_type1_data to an in-line structure rather
than a pointer to a const structure. (Needed for moving CIDFontType 0
support into C.) (gdevpsf1.c [1.2], gdevpsf2.c [1.2], gdevpsfx.c [1.2]:
2000/03/29 22:10:31 lpd)

Finishes implementing the ability to write CIDFontType 0 CFFs. This involved
a surprising number of changes in other font-related files.
(gdevpsf2.c [1.3], gdevpsfu.c [1.2]: 2000/04/02 07:38:45 lpd)

Slightly simplifies the output of the psmono and psgray drivers.
(gdevpsim.c [1.2]: 2000/04/02 19:57:37 lpd)

Adds an #include required by the Watcom compiler. (gdevpsf1.c [1.3]:
2000/04/05 19:51:54 lpd)

</pre><h2><a name="6.20 PDF writer"></a>PDF writer</h2><pre>

Fixes problems:
	- The pointer enumeration procedure for pdf_image_enum was wrong,
possibly producing a mangled pointer and a memory access error if a garbage
collection occured while writing an image in a PDF file. (gdevpdfi.c [1.5]:
2000/03/20 05:54:13 lpd)
	- The computation for testing whether a tiled pattern could be
represented in line, and whether it exceeded Acrobat Reader's size limit,
was wrong, causing some patterns not to be represented as Patterns.
(gdevpdfi.c [1.6]: 2000/03/20 05:58:15 lpd)
	- When ProcessColorModel=/DeviceCMYK, if the first object on a page
or after changing the clipping path was white, the PDF writer would write it
as black. (gdevpdfu.c [1.3]: 2000/03/21 18:36:36 lpd)
	- If a page ended with an incomplete outline tree, an invalid memory
access occurred. (gdevpdf.c [1.3], gdevpdfm.c [1.2]: 2000/03/24 05:09:56
lpd)
	- The SP pdfmark didn't check that its argument was a graphics
stream. (gdevpdfm.c [1.4]: 2000/03/24 06:18:39 lpd)
	- The name of the EndPage Distiller parameter collided with the
EndPage page device parameter. (gdevpdfp.c [1.4]: 2000/03/28 07:45:25 lpd)
	- If two embedded fonts had the same base font, the PDF file could
wind up with an invalid entry in the xref table. (gdevpdft.c [1.4]:
2000/04/01 01:18:32 lpd)

Adds parsing for the remaining Acrobat Distiller 4 parameters. Implements
the LockDistillerParams, xxxDownsampleThreshold, xxxImageDict, and
xxxACSImageDict distiller parameters. Implements DCTEncode as an
xxxImageFilter option (it used to cause a crash). Makes the
AutoFilterxxxImages distiller parameters select JPEG encoding (with ACSDict)
if the image has 8 bits per component and is not Indexed, and LZW/Flate
otherwise: this still isn't right, but it's closer. Implementation changes:
Changes the implementation of distiller parameter dictionaries from stream
states to parameter lists; changes the test for masks in
psdf_setup_image_filters, and changes the image argument from gs_image_t to
gs_pixel_image_t. (gdevpdfi.c [1.4]: 2000/03/20 05:40:04 lpd)

Moves font-writing support into a new module (gdevpsf*), changing the source
file names. Adds the ability to write CFF fonts, with either Type 1 or Type
2 CharStrings; unfortunately, Acrobat Reader appears not to accept CFF fonts
with Type 1 CharStrings. Adds the ability to convert Type 1 CharStrings to
Type 2, including optimizing sequences of Type 1 operators into a single
Type 2 operator. Implements writing CIDFontType 0 CFF fonts (CIDFonts) [NOT
TESTED]. Starts (just barely) to remove more unneeded information from
embedded TrueType fonts. (gdevpdff.c [1.2], gdevpdfw.c [1.2]: 2000/03/20
07:02:12 lpd)

Substantially enhances the Cos object machinery. Interface: Adds a few more
procedures, including a procedure to create a stream that writes directly
into a Cos stream object, procedures for putting more kinds of values into
arrays and dictionaries, and a param_list interface. Changes Cos objects to
store a reference to the PDF device, and removes the device argument from
all Cos procedures other than object creation. Replaces the Boolean
is_object member of Cos values by a value_type enum: clients must now use
COS_VALUE_IS_OBJECT() to test whether a value is an object reference. To
reduce allocator overhead, makes the Cos procedures that take C strings no
longer copy the string. Records whether each Cos object has been written
into the output, so that in the future (but not in this batch of changes)
resource definitions can be copied at the end of each page. Implementation:
Moves more of the implementation of Cos objects to the .c file.
(gdevpdf.c [1.4], gdevpdfi.c [1.7], gdevpdfm.c [1.3], gdevpdfo.c [1.2],
gdevpdfo.h [1.2], gdevpdfr.c [1.2], gdevpdfu.c [1.4], gdevpdfx.h [1.3]:
2000/03/24 06:12:52 lpd)

Changes a few initializations to suppress warnings from one picky compiler
that doesn't like ptr = buf - 1 where buf is an array. (gdevpdfr.c [1.3]:
2000/03/28 02:01:34 lpd)

Adds parsing for the remaining Acrobat Distiller 4 parameters, although most
of them don't have any effect yet; brings documentation up to date.
(gdevpdf.c [1.5], gdevpdfp.c [1.3], gdevpdfx.h [1.4]: 2000/03/28 07:36:58
lpd)

Implements LockDistillerParams; completes the StartPage/EndPage fix checked
in just before. (gdevpdf.c [1.6], gdevpdfp.c [1.5], gdevpdfx.h [1.5]:
2000/03/28 07:52:06 lpd)

Changes the initial values of the "job control" parameters to match Acrobat
Distiller 4. (gdevpdf.c [1.7], gdevpdfp.c [1.6], gdevpdfx.h [1.6]:
2000/03/28 07:57:14 lpd)

Implements the AutoRotatePages distiller parameter. (gdevpdf.c [1.8],
gdevpdft.c [1.5], gdevpdfu.c [1.5], gdevpdfx.h [1.7]: 2000/04/03 02:54:41
lpd)

</pre><h2><a name="6.20 Interpreter (PDF)"></a>Interpreter (PDF)</h2><pre>

Fixes problems:
	- Reading embedded compressed CIDFonts wasn't implemented.
(lib/pdf_font.ps [1.3]: 2000/03/19 01:28:59 lpd)
	- PDF images with DeviceN color spaces caused an error.
(lib/pdf_draw.ps [1.2]: 2000/03/19 01:44:53 lpd)
	- PDF images with a Mask ignored the mask. (lib/pdf_draw.ps [1.3]:
2000/03/19 01:46:27 lpd)
	- the PDF interpreter hadn't been updated for the move to
library-based FunctionType 4 Functions, and still tried to bind the names
true and false to the no longer existing operators .true and .false.
(lib/pdf_draw.ps [1.5]: 2000/03/19 07:37:03 lpd)
	- FunctionType 2 and 3 functions didn't work.
(lib/pdf_draw.ps [1.6]: 2000/03/19 15:23:10 lpd)
	- In PDF files, the page CropBox was not being used to clip the
output. (lib/pdf_main.ps [1.4], lib/pdf_ops.ps [1.3]: 2000/03/21 23:08:32
lpd)
	- The "fix" for FunctionTypes 2 and 3 in PDF files had made things
worse, because the code didn't distinguish between resolving to a PostScript
function (for shadings) and resolving to a PostScript procedure (for
halftones, BG/UCR, alternate color space mapping, etc.)
(lib/pdf_draw.ps [1.7]: 2000/03/23 18:31:46 lpd)
	- Text with a Pattern color scaled the pattern according to the text
matrix, not the default matrix of the marking context.
(lib/pdf_base.ps [1.6], lib/pdf_main.ps [1.5], lib/pdf_ops.ps [1.4]:
2000/03/30 18:01:58 lpd)
	- Resolving a Shading didn't create a reusable stream for the
shading data; since the data was then read at unpredictable times, the
shading or other constructs in the PDF file could read incorrect data.
(lib/pdf_draw.ps [1.8]: 2000/04/03 06:01:25 lpd)

Adds a lforall procedure for the PDF linearizer. (lib/pdf_base.ps [1.3]:
2000/03/19 01:50:05 lpd)

Changes the PDF interpreter so that following an object reference doesn't
store the result back into the referring slot, and so that # # R always
creates an indirect object. This is necessary for the PDF linearizer. It
shouldn't have any visible effect (other than a possible small performance
cost). (lib/pdf_base.ps [1.4], lib/pdf_draw.ps [1.4]: 2000/03/19 01:53:58
lpd)

Refactors some code to make it usable by the PDF linearizer.
(lib/pdf_main.ps [1.3]: 2000/03/19 17:26:42 lpd)

Speeds up loading embedded Type 1 fonts a little. (lib/pdf_base.ps [1.5],
lib/pdf_font.ps [1.4]: 2000/03/24 07:42:16 lpd)

Speeds up reading embedded Type 1 fonts a little more.
(lib/pdf_font.ps [1.5]: 2000/03/24 16:28:26 lpd)

</pre><h2><a name="6.20 Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- Font substitution was broken. (lib/gs_fonts.ps [1.3]: 2000/03/19
00:22:05 lpd)
	- The CFF reader gave an error if a font included any Subrs (it's
very surprising that this hasn't surfaced before, but apparently Acrobat
Distiller always produces CFF fonts with no Subrs); the CFF reader didn't
default lenIV to -1 for Type 1 CharStrings; the CFF reader wasn't able to
read CIDFonts. (lib/gs_cff.ps [1.3], lib/gs_cidfn.ps [1.4]: 2000/03/19
00:45:40 lpd)
	- EXTEND_NAMES had stopped working, because not all places that
needed the index of a name ref used name_index rather than r_size
(ilocate.c), and because the high_index value in the name sub-table was set
incorrectly (iname.c). (ilocate.c [1.2], iname.c [1.2]: 2000/03/19 01:33:23
lpd)
	- The attribute check for Functions being executed was incorrect
(always succeeded). (zfunc.c [1.2]: 2000/03/19 02:12:37 lpd)
	- s_add_filter didn't ensure enough buffering. This entailed moving
the NullEncode/Decode filters to stream.[hc]. (sfilter1.c [1.2]: 2000/03/19
03:15:02 lpd)
	- The parameters of SubFileDecode filters weren't initialized fully
(required by a change in this version). (zfilter.c [1.3]: 2000/03/19
04:03:45 lpd)
	- The AutoPositionEPSFiles Distiller parameter was misspelled
AutoPositionEPSFile. (lib/gs_pdfwr.ps [1.2]: 2000/03/19 05:03:31 lpd)
	- Enumerating the elements of a dictionary-based parameter list
returned garbage for the keys. (iparam.c [1.2]: 2000/03/19 15:13:13 lpd)
	- .buildfont0 should not check CIDSystemInfo compatibility. The
PLRM3 says PostScript interpreters do not make this check, even though the
PLRM2 says compatibility is required (!). (zfcmap.c [1.2]: 2000/03/19
16:53:50 lpd)
	- If log2_transfer_map_size &gt; 8, identity transfer functions
returned garbage. The fix requires that if a client wants to set a transfer
function to the identity mapping, it must call gx_set_identity_transfer
rather than simply setting the procedure to gs_identity_transfer.
(zcolor.c [1.2]: 2000/03/19 17:14:47 lpd)
	- Separation color spaces didn't store the separation name.
(zcssepr.c [1.2]: 2000/03/19 17:21:36 lpd)
	- The addition of the dummy cid_Setup procedure in gs 6.01 was
accidentally commented out. (lib/gs_cidfn.ps [1.5]: 2000/03/21 00:11:55 lpd)
	- The test for whether an CIDFontType 2 outline string was large
enough to include prefixed metrics was backwards, which would have caused
problems with any font that used MetricsCount. (zfcid.c [1.3]: 2000/03/21
00:43:17 lpd)
	- A couple of places in the Windows code didn't correctly handle
Ghostscript version numbers of the form #.0#. (dwsetup.cpp [1.2]: 2000/03/22
21:45:03 lpd)
	- In some cases, re-registering an existing font or CIDFont with
definefont would cause an invalidfont error. (zbfont.c [1.4],
zfont42.c [1.3]: 2000/03/28 18:20:39 lpd)
	- Re-registering a CIDFont with definefont, or defining a CIDFont
with definefont instead of /CIDFont defineresource, caused an invalidfont
error or a crash. (lib/gs_cidfn.ps [1.9], lib/gs_fonts.ps [1.4]: 2000/03/28
18:21:50 lpd)
	- The new C BuildGlyph code for CIDFontType 0 fonts didn't handle
GlyphDirectory or Type 2 CharStrings correctly. (lib/gs_cidfn.ps [1.12],
zfcid.c [1.8]: 2000/03/31 23:21:57 lpd)
	- The internaldict "operator" was allocated in local VM, preventing
it from being bound into procedures allocated in global VM.
(lib/gs_init.ps [1.6]: 2000/04/04 22:16:02 lpd)
	- If there was a CIDInit ProcSet defined in the filesystem, the code
for initializing the built-in CIDInit ProcSet became confused.
(lib/gs_cidfn.ps [1.13]: 2000/04/04 22:17:33 lpd)
	- Fixes several problems in resourceforall and resource loading: the
operands of resourceforall were restored even in the case of an error in the
client's procedure; the name Instances had special meaning for some Adobe
code; resourceforall caused an invalidaccess error if an operand was in
local VM but the current VM was global; loading a resource from a file could
cause a typecheck error if the file left values on the operand stack.
(interp.c [1.3], lib/gs_ccfnt.ps [1.2], lib/gs_res.ps [1.3]: 2000/04/04
22:26:02 lpd)
	- resourceforall didn't enumerate external (loadable) instances, and
would enumerate an instance twice if it had both a local and a global
definition. (lib/gs_res.ps [1.4]: 2000/04/05 21:07:02 lpd)
	- The implementation of resourcestatus wasn't compatible with some
badly written code in an Adobe font downloader that assumes that the
implementation of resourcestatus in Generic and Font is the same.
(lib/gs_res.ps [1.5]: 2000/04/05 21:20:07 lpd)
	- The just-checked-in fixed for resourceforall didn't work properly
for the IdiomSet category. (They probably failed for other categories that
had no instances, but we didn't check this.) (lib/gs_res.ps [1.6]:
2000/04/05 21:51:43 lpd)
	- Some Adobe font downloading code assumed that loading a resource
file would never leave extra values on the stack; our implementation didn't
ensure this (by popping them if needed). (lib/gs_res.ps [1.8]: 2000/04/06
04:50:28 lpd)
	- If an alphabetic font defined and used a .notdef character,
pdfwrite always converted it to a bitmap. (lib/gs_lgo_e.ps [1.2]: 2000/04/07
02:48:23 lpd)

Provides a gs_atan2_degrees procedure to parallel sin and cos.
(zmath.c [1.2]: 2000/03/18 23:10:39 lpd)

Speeds up string garbage collection by scanning unmodified string regions
faster. (igcstr.c [1.2]: 2000/03/18 23:29:32 lpd)

Adds the ImagemaskTrapping parameter to the trapping state.
(lib/gs_trap.ps [1.2]: 2000/03/18 23:35:53 lpd)

Increments the version number to 6.20, in anticipation of the next release.
(We do this at the beginning of the development for a release, not the end.)
(lib/gs_init.ps [1.4]: 2000/03/19 00:27:22 lpd)

Adds a pseudo-encoding for the CFF StandardStrings that represent
characters. (lib/gs_cff.ps [1.2], lib/gs_css_e.ps [1.1]: 2000/03/19 00:38:50
lpd)

Refactors the code for getting Type 1/2/4 font parameters so it can be used
for FDArray entries of CIDFontType 0 fonts. (ifont1.h [1.2], zfont1.c [1.2]:
2000/03/19 02:07:45 lpd)

Speeds up Function evaluation slightly, by preallocating space for a
reasonable number of operands and results on the C stack rather than always
allocating it on the heap. (zfunc.c [1.3]: 2000/03/19 02:16:58 lpd)

Adds a public procedure for determining whether a PostScript object is a
Function, and if so, returning the pointer to the gs_function_t structure.
(ifunc.h [1.2], zfunc.c [1.4]: 2000/03/19 02:22:01 lpd)

Splits out the [T]BCP filter interface into a separate file. (zfbcp.c [1.2]:
2000/03/19 02:40:18 lpd)

Adds a skip_count parameter to the SubFileDecode filter, giving the number
of initial bytes or records to skip over. (Needed for printing FunctionType
4 functions, possibly useful for other things.) (sfilter1.c [1.3]:
2000/03/19 03:20:18 lpd)

Replaces the implementation of FunctionType 4 functions at the PostScript
language level with one that uses the new library-based facilities.
(zdevice2.c [1.2], zfunc4.c [1.2]: 2000/03/19 06:56:23 lpd)

Changes the key type returned by parameter list enumeration to include a
persistence flag, makes C parameter lists support non-persistent keys, and
upgrades GC descriptors so that parameter lists can be used non-transiently;
updates implementors of parameter lists to call gs_param_list_init to
initialize the common members, which is now required. (iparam.c [1.3]:
2000/03/19 15:16:11 lpd)

Makes Separation and DeviceN color spaces convert their tint transform
function to a FunctionType 4 Function if possible, for better accuracy and
to allow writing in PDF files. (lib/gs_lev2.ps [1.2], lib/gs_ll3.ps [1.2]:
2000/03/19 15:28:34 lpd)

Makes st_indexed_map private. Clients must now use the constructor procedure
alloc_indexed_map rather than allocating instances directly.
(zcsindex.c [1.2]: 2000/03/19 16:37:28 lpd)

Refactors the code for building fonts so it can be used for FDArray entries
of CIDFontType 0 fonts. (bfont.h [1.2], zbfont.c [1.2]: 2000/03/19 16:45:47
lpd)

Adds a .fileposition operator that will read the position even of
non-positionable streams, needed for the PDF linearizer. (zfileio.c [1.3]:
2000/03/20 04:30:49 lpd)

Starts to move support for CIDFontType 0 and 2 into C code, needed by the
PDF writer for handling CID-keyed fonts. Implements GlyphDirectory for
CIDFonts. Makes GDBytes and CIDMapOffset optional for CIDFontType 0 fonts
that have a GlyphDirectory (not documented in the PLRM, but clearly
correct). Implements Adobe 3011 features: integer and dictionary CIDMaps,
and the MetricsCount entry, in CIDFontType 2 fonts (but only in the C code,
which isn't hooked in yet, not in the PostScript code in gs_cidfn.ps.)
(icid.h [1.1], ifont.h [1.2], ifont42.h [1.1], zcid.c [1.2], zfcid.c [1.1],
zfcmap.c [1.3], zfont42.c [1.2]: 2000/03/20 19:53:06 lpd)

Hooks the new CIDMap code into the BuildGlyph procedure for CIDFontType 2
fonts. (Contrary to a previous log comment, MetricsCount is already hooked
in.) Support for CIDFontType 2 fonts is now implemented entirely in C, as
for Type 42 fonts. (lib/gs_cidfn.ps [1.6], zfcid.c [1.2]: 2000/03/21
00:32:15 lpd)

Extends the C support for CIDFontType 0 fonts to include those with FontType
2 subfonts in the FDArray (an Adobe 3011 addition, specifically for CFF
fonts). (ifont2.h [1.1], zfcid.c [1.4], zfont2.c [1.2]: 2000/03/21 07:43:42
lpd)

Changes Subr loading for CIDFontType 0 fonts from lazy to immediate, so that
C code can be guaranteed access to the Subrs. (In every CIDFontType 0 font
that we have seen, SubrCount is 5, so this has no significant time or space
cost.) Also adds support for FDBytes &gt; 1 in GlyphDirectory definitions.
(lib/gs_cidfn.ps [1.7]: 2000/03/21 20:06:44 lpd)

Splits off the ReusableStreamDecode filter as a separate module, since
CIDFontType 0 fonts will use it even in LanguageLevels below 3.
(lib/gs_frsd.ps [1.1], lib/gs_ll3.ps [1.3], zfrsd.c [1.1]: 2000/03/21
21:34:57 lpd)

Makes file streams remember the file name, needed for efficiently
implementing reusable streams. (zfile.c [1.3], zfileio.c [1.4]: 2000/03/23
02:13:40 lpd)

Changes the new .filename operator to return true/false rather than causing
an error; redefines findlibfile in terms of a simpler .libfile operator +
.filename. (lib/gs_init.ps [1.5], zfile.c [1.4], zfileio.c [1.5]: 2000/03/23
18:47:17 lpd)

Finishes implementing the file case of ReusableStreamDecode. This required
adding the ability to restrict file-reading streams to a subfile.
(lib/gs_frsd.ps [1.2], sfilter1.c [1.4], zfileio.c [1.6], zfrsd.c [1.2]:
2000/03/24 03:59:42 lpd)

Changes the implementation of incrementally loaded CIDFontType 0 fonts to
use a ReusableStreamDecode filter, in anticipation of moving the BuildGlyph
procedure for these fonts from PostScript to C. (lib/gs_cidfn.ps [1.8],
zbfont.c [1.3], zfcid.c [1.5]: 2000/03/27 16:36:24 lpd)

Changes the get_outline / glyph_data procedure for getting encoded font
outline data to return an indication of whether the outline data were just
allocated and can be freed by the client. (This is a possibly
non-backward-compatible change.) (zfcid.c [1.6]: 2000/03/28 18:47:02 lpd)

Changes the procs structure of gs_type1_data to an in-line structure rather
than a pointer to a const structure. (Needed for moving CIDFontType 0
support into C.) (zfont1.c [1.3]: 2000/03/29 22:10:31 lpd)

Finishes moving support for CIDFontType 0 fonts from PostScript to C.
(ifont.h [1.3], ifont42.h [1.2], lib/gs_cidfn.ps [1.10], zfcid.c [1.7],
zfont42.c [1.4]: 2000/03/31 04:55:18 lpd)

Allows dictionaries as the value of CIDMap resources. (Also removes an
unrelated obsolete comment.) (lib/gs_cidfn.ps [1.11]: 2000/03/31 05:11:30
lpd)

Finishes implementing the ability to write CIDFontType 0 CFFs. This involved
a surprising number of changes in other font-related files. (ichar1.h [1.2],
ifcid.h [1.1], zchar1.c [1.2], zfcid.c [1.9], zfcid0.c [1.1],
zfcid1.c [1.1], zfont1.c [1.4]: 2000/04/02 07:38:46 lpd)

Makes the .writefont9 operator (used only for testing) available in both
DEBUG and PROFILE configurations. (zfcid0.c [1.2]: 2000/04/03 02:37:55 lpd)

Extends .forceput to handle arrays as well as dictionaries, required to fix
a bug with internaldict. (zdict.c [1.2], zgeneric.c [1.2]: 2000/04/04
22:13:23 lpd)

Works around an Adobe code assumption that the default FindResource
procedure does *not* call the ResourceStatus procedure if the requested
instance is already defined in VM. (lib/gs_res.ps [1.7]: 2000/04/05 23:31:54
lpd)

Implements the framework for superexec (but none of the actual access check
bypasses). (icontext.c [1.2], icstate.h [1.2], zcontrol.c [1.2]: 2000/04/06
04:40:06 lpd)

Extends the undocumented CCRun procedure to take an additional argument, a
Private dictionary, required by some Adobe font downloading code.
(lib/gs_type1.ps [1.3]: 2000/04/06 05:25:10 lpd)

</pre><h2><a name="6.20 Streams"></a>Streams</h2><pre>

Fixes problems:
	- s_add_filter didn't ensure enough buffering. This entailed moving
the NullEncode/Decode filters to stream.[hc]. (sfilter.h [1.3],
stream.c [1.3], stream.h [1.3]: 2000/03/19 03:15:02 lpd)
	- When FPU_TYPE &lt;= 0, the image interpolation code lost too much
accuracy, producing color streaks in the output. (Fix by DanCoby.)
(siscale.c [1.2]: 2000/03/29 20:34:45 lpd)
	- Fixes a couple of typos in the recently checked-in image
interpolation fix. (siscale.c [1.3]: 2000/03/30 06:55:26 lpd)

Splits out the [T]BCP filter interface into a separate file. (sbcp.c [1.2],
sbcp.h [1.1], sfilter.h [1.2]: 2000/03/19 02:40:18 lpd)

Adds a skip_count parameter to the SubFileDecode filter, giving the number
of initial bytes or records to skip over. (Needed for printing FunctionType
4 functions, possibly useful for other things.) (sfilter.h [1.4]: 2000/03/19
03:20:18 lpd)

Changes the key type returned by parameter list enumeration to include a
persistence flag, makes C parameter lists support non-persistent keys, and
upgrades GC descriptors so that parameter lists can be used non-transiently;
updates implementors of parameter lists to call gs_param_list_init to
initialize the common members, which is now required. (spsdf.c [1.2]:
2000/03/19 15:16:11 lpd)

Makes file streams remember the file name, needed for efficiently
implementing reusable streams. (stream.c [1.4], stream.h [1.4]: 2000/03/23
02:13:40 lpd)

Finishes implementing the file case of ReusableStreamDecode. This required
adding the ability to restrict file-reading streams to a subfile.
(sfxfd.c [1.2], sfxstdio.c [1.2], stream.c [1.5], stream.h [1.5]: 2000/03/24
03:59:42 lpd)

Changes a few initializations to suppress warnings from one picky compiler
that doesn't like ptr = buf - 1 where buf is an array. (spsdf.c [1.3]:
2000/03/28 02:01:34 lpd)

</pre><h2><a name="6.20 Library"></a>Library</h2><pre>

Fixes problems:
	- Two comments in the file were incorrect. (gsiparm3.h [1.2]:
2000/03/19 02:46:11 lpd)
	- param_coerce_typed, which works with any parameter list
implementation, was incorrectly described as associated with the default
implementation. (gsparam.h [1.2]: 2000/03/19 03:37:08 lpd)
	- TrueType fonts didn't use vhea/vmtx if WMode = 1. Also makes
gs_font_type42 subclassable, for implementing CIDFontType 2 fonts, and makes
its procedure for getting a glyph's side bearing and width virtual, required
to support MetricsCount in CIDFontType 2 fonts. (gstype42.c [1.3],
gxfont42.h [1.2]: 2000/03/19 03:58:51 lpd)
	- ImageType 4 images didn't give an error for out-of-range MaskColor
values. The file also had an unnecessary #include. (gximage4.c [1.2]:
2000/03/19 04:10:09 lpd)
	- If log2_transfer_map_size &gt; 8, identity transfer functions
returned garbage. The fix requires that if a client wants to set a transfer
function to the identity mapping, it must call gx_set_identity_transfer
rather than simply setting the procedure to gs_identity_transfer.
(gxclrast.c [1.3], gxcmap.c [1.2], gxfmap.h [1.2]: 2000/03/19 17:14:47 lpd)
	- Fixes a warning about aliasing produced by one extremely picky
compiler. (gsnogc.c [1.2]: 2000/03/22 21:39:32 lpd)
	- Filling or clipping with ridiculously large (out-of-bounds)
coordinates could cause an internal overflow that produced incorrect
results. (This is probably not the last such bug.) (gxfill.c [1.2]:
2000/03/30 07:03:59 lpd)

Provides a gs_atan2_degrees procedure to parallel sin and cos.
(gsmisc.c [1.2], gxfarith.h [1.2]: 2000/03/18 23:10:39 lpd)

Improves the 8x8 bitmap "flipping" procedure to take advantage of 32-bit
ints. (gsutil.c [1.2]: 2000/03/18 23:16:16 lpd)

Adds a public procedure for restricting a color to its legal range.
(gscspace.c [1.2], gscspace.h [1.2], gxcspace.h [1.2]: 2000/03/18 23:19:17
lpd)

Adds the new ImagemaskTrapping parameter to the trapping state.
(gstrap.c [1.2], gstrap.h [1.2]: 2000/03/18 23:26:17 lpd)

Increments the version number to 6.20, in anticipation of the next release.
(We do this at the beginning of the development for a release, not the end.)
(gscdef.c [1.2]: 2000/03/19 00:27:22 lpd)

Adds a pseudo-encoding for the CFF StandardStrings that represent
characters. (gsccode.h [1.2]: 2000/03/19 00:38:50 lpd)

Adds a bit_index procedure to the implementation of device halftones,
required for writing halftones in PDF files. (The only implementors are
internal ones.) (gxdht.h [1.2], gxhtbit.c [1.2]: 2000/03/19 05:10:55 lpd)

Adds a public procedure for getting a palette entry of an Indexed color
space, used when writing Indexed color spaces in PDF files.
(gscindex.h [1.1], gscolor2.c [1.2], gscolor2.h [1.2]: 2000/03/19 05:20:28
lpd)

Reimplements "PostScript calculator" (FunctionType 4) functions entirely in
C, to allow them to be written out in PDF files. (gsfunc4.c [1.1],
gsfunc4.h [1.1], gsstruct.h [1.2]: 2000/03/19 05:25:53 lpd)

Moves gx_device_color_equal to the public API, for detecting redundant color
setting when writing PDF files. (gsdcolor.h [1.2], gxdcolor.c [1.2],
gxdcolor.h [1.2]: 2000/03/19 06:46:08 lpd)

Changes the default value of BufferSpace to 4 Mb. In desktop applications,
this is a reasonable value that can substantially improve performance
(especially for color printers); embedded applications will want to set
BufferSpace themselves in any case. (gdevprn.h [1.2]: 2000/03/19 06:51:13
lpd)

Adds virtual procedures for Functions to write their parameters to a
parameter list, and to access their data source and subfunctions. This is
needed for writing Functions in PDF files. This change is also a
prerequisite for the C implemention of FunctionType 4 functions, even though
it appears later in the change log. (gsdsrc.h [1.2], gsfunc.c [1.2],
gsfunc.h [1.2], gsfunc0.c [1.2], gsfunc3.c [1.2], gsparam.c [1.2],
gsparam.h [1.3], gxfunc.h [1.2]: 2000/03/19 07:24:53 lpd)

Splits off "vanilla" Functions into separate files, in anticipation of
removing them (they were only used to implement PostScript Calculator
Functions). (gsfunc.c [1.3], gsfunc.h [1.3], gsfuncv.c [1.1],
gsfuncv.h [1.1]: 2000/03/19 07:33:08 lpd)

Adds a procedure for allocating a C parameter list. (gscparam.c [1.2],
gsparam.h [1.4]: 2000/03/19 15:00:05 lpd)

Undoes a premature change that depends on an update not yet checked in.
(gscparam.c [1.3]: 2000/03/19 15:07:59 lpd)

Changes the key type returned by parameter list enumeration to include a
persistence flag, makes C parameter lists support non-persistent keys, and
upgrades GC descriptors so that parameter lists can be used non-transiently;
updates implementors of parameter lists to call gs_param_list_init to
initialize the common members, which is now required. (gscparam.c [1.4],
gsparam.c [1.3], gsparam.h [1.5]: 2000/03/19 15:16:11 lpd)

Adds a procedure for copying one parameter list to another.
(gsparamx.c [1.2], gsparamx.h [1.2]: 2000/03/19 15:35:31 lpd)

Records the CTM used for sampling HalftoneType 1 spot functions. This is
needed for recognizing the standard spot functions when producing PDF
output. Also factors the code for initializing spot functions for the
benefit of the PDF writer. (gshtscr.c [1.2], gxdht.h [1.3], gzht.h [1.2]:
2000/03/19 15:43:36 lpd)

Adds a proc_data member to the map for Separation and Indexed color spaces.
(gscolor2.c [1.3], gxcolor2.h [1.2]: 2000/03/19 16:23:46 lpd)

Makes st_indexed_map private. Clients must now use the constructor procedure
alloc_indexed_map rather than allocating instances directly.
(gscolor2.c [1.4], gscsepr.c [1.2], gxclrast.c [1.2], gxcolor2.h [1.3]:
2000/03/19 16:37:28 lpd)

Adds procedures for building and accessing DeviceN color spaces.
(gscdevn.c [1.2], gscdevn.h [1.1]: 2000/03/19 17:02:37 lpd)

Exports the 'blend' operators of the Type 1 interpreter, for use by the Type
1 / Type 2 font writer. (gstype1.c [1.3], gxtype1.c [1.2], gxtype1.h [1.3]:
2000/03/19 18:46:44 lpd)

Starts to move support for CIDFontType 0 and 2 fonts into C code. (These
header files are the ones needed to compile the new gdevpsf* files; they
don't interact with any existing code.) (gxcid.h [1.1], gxfcid.h [1.1]:
2000/03/20 06:40:22 lpd)

Moves font-writing support into a new module (gdevpsf*), changing the source
file names. Adds the ability to write CFF fonts, with either Type 1 or Type
2 CharStrings; unfortunately, Acrobat Reader appears not to accept CFF fonts
with Type 1 CharStrings. Adds the ability to convert Type 1 CharStrings to
Type 2, including optimizing sequences of Type 1 operators into a single
Type 2 operator. Implements writing CIDFontType 0 CFF fonts (CIDFonts) [NOT
TESTED]. Starts (just barely) to remove more unneeded information from
embedded TrueType fonts. (gxttf.h [1.1]: 2000/03/20 07:02:12 lpd)

Starts to move support for CIDFontType 0 and 2 into C code, needed by the
PDF writer for handling CID-keyed fonts. Implements GlyphDirectory for
CIDFonts. Makes GDBytes and CIDMapOffset optional for CIDFontType 0 fonts
that have a GlyphDirectory (not documented in the PLRM, but clearly
correct). Implements Adobe 3011 features: integer and dictionary CIDMaps,
and the MetricsCount entry, in CIDFontType 2 fonts (but only in the C code,
which isn't hooked in yet, not in the PostScript code in gs_cidfn.ps.)
(gsfcid.c [1.1], gsfcmap.c [1.3], gxfcmap.h [1.2], gxfont1.h [1.2]:
2000/03/20 19:53:06 lpd)

Changes a few initializations to suppress warnings from one picky compiler
that doesn't like ptr = buf - 1 where buf is an array. (gxclpath.c [1.2]:
2000/03/28 02:01:34 lpd)

Changes the get_outline / glyph_data procedure for getting encoded font
outline data to return an indication of whether the outline data were just
allocated and can be freed by the client. (This is a possibly
non-backward-compatible change.) (gxfcid.h [1.2], gxfont42.h [1.3]:
2000/03/28 18:47:02 lpd)

Changes the procs structure of gs_type1_data to an in-line structure rather
than a pointer to a const structure. (Needed for moving CIDFontType 0
support into C.) (gstype1.c [1.4], gstype2.c [1.3], gxfont1.h [1.3],
gxtype1.c [1.3]: 2000/03/29 22:10:31 lpd)

Finishes moving support for CIDFontType 0 fonts from PostScript to C.
(gxfcid.h [1.3]: 2000/03/31 04:55:18 lpd)

Finishes implementing the ability to write CIDFontType 0 CFFs. This involved
a surprising number of changes in other font-related files. (gsfcid.c [1.2],
gxfcid.h [1.4]: 2000/04/02 07:38:46 lpd)

</pre><hr>

<h1><a name="Version6.01"></a>Version 6.01 (2000-03-17)</h1>

This is a bug-fix release for 6.0.

This release fixes the following reported bugs: #101555, #101813, #101816,
#101818, #101827, #101830, #101871, #101853, #101906, #101949, #101950,
#102003, #102004, #102038, #102081, #102936.

<h2><a name="6.01_Incompatible_changes"></a>Incompatible changes</h2><pre>

(Platforms)
	- OpenVMS using VAX C is no longer supported.  (OpenVMS with DEC C
and gcc are still supported.)
(Drivers)
	- The third argument of psdf_set_color is changed from const char *
to const psdf_set_color_commands_t *.
(Interpreter)
	- The non-standard feature of writing dictionaries in binary object
output is now disabled by default, but can now be enabled dynamically.
(Library)
	- The definition of TRANSPARENCY_PER_H_P is moved from gdevmrop.h to
gsropt.h.
	- The handling of the source opaque, texture transparent case of
RasterOp when TRANSPARENCY_PER_H_P is defined is changed slightly.


</pre><h2><a name="6.01 Documentation"></a>Documentation</h2><pre>

Fixes problems:
	- Fixes a typo. (man/ps2pdf.1 [1.2]: 2000/03/10 03:11:06 lpd)
	- When converting PostScript to PDF, selecting /Bicubic as an image
DownsampleType caused an error instead of defaulting to /Average.
(doc/Ps2pdf.htm [1.2]: 2000/03/10 04:16:09 lpd)
	- The gs###src.zip and gs###lib.zip files weren't mentioned as being
included in distributions; News.htm and Changes.htm weren't mentioned at
all. (doc/Release.htm [1.5]: 2000/03/15 07:23:52 lpd)
	- Fixes a problem producing too much black in the output; also adds
support for 5 new printers (H-P Color DeskJet 690, H-P DesignJet 750, and
Epson Stylus Color 200). Note that this is user-contributed code.
(doc/Devices.htm [1.2]: 2000/03/16 02:01:36 lpd)

In ansi2knr, adds user-contributed support for concatenated string literals
and character constants, and fixes for a couple of minor bugs.
(man/ansi2knr.1 [1.2]: 2000/03/10 03:16:17 lpd)

Removes an inappropriate copying notice. (doc/Hershey.htm [1.2]: 2000/03/10
07:03:57 lpd)

Clarifies when xdpyinfo and xwininfo are needed. Adds privacy options for
problem reports. (doc/Bug-form.htm [1.2]: 2000/03/10 07:06:08 lpd)

Adds a new eps2eps utility analogous to ps2ps. (man/eps2eps.1 [1.1],
man/ps2ps.1 [1.2]: 2000/03/10 07:51:55 lpd)

Updates the documentation on making RPMs, which is no longer supported.
(doc/Install.htm [1.2], doc/Make.htm [1.2]: 2000/03/10 07:58:00 lpd)

Adds a recommendation to use gcc on SGI platforms. (doc/Make.htm [1.3]:
2000/03/10 07:59:53 lpd)

Updates documentation regarding Unix systems that do/don't use libpthread.
(doc/Make.htm [1.4]: 2000/03/10 08:01:35 lpd)

Removes support for VAX C, which DEC stopped supporting 9 (!) years ago.
(doc/Make.htm [1.5], doc/Use.htm [1.2]: 2000/03/10 08:02:59 lpd)

Updates the documentation for building Aladdin releases to reflect revised
procedures for the Windows executable, and a few other minor changes.
(doc/Release.htm [1.2]: 2000/03/10 15:55:39 lpd)

Adds the ability to compile on OS/2 with XFree86. (doc/Install.htm [1.3],
doc/Make.htm [1.6]: 2000/03/10 19:50:49 lpd)

Moves all history for versions 5.n into History5.htm; creates History6.htm
for versions 6.n; redefines News.htm as containing only news for the current
release; adds (a link to) Changes.htm for the mechanically generated change
log. (doc/History5.htm [1.2], doc/History6.htm [1.1], doc/News.htm [1.2],
doc/README [1.2], doc/Readme.htm [1.2]: 2000/03/14 06:14:43 lpd)

Partially updates the release procedure documentation to reflect the use of
SourceForge and CVS. (doc/Release.htm [1.3]: 2000/03/14 06:39:23 lpd)

Adds a change log generated mechanically from the CVS logs. Future releases
may omit this file (doc/Changes.htm) from their change log.
(doc/Changes.htm [1.1], doc/News.htm [1.3]: 2000/03/14 06:48:44 lpd)

Revises the release procedures to reflect use of SourceForge, and to
separate out the procedures for building Windows executables.
(doc/Release.htm [1.4]: 2000/03/15 02:24:58 lpd)

Adds information on uninstalling Ghostscript on Windows.
(doc/Install.htm [1.4]: 2000/03/15 07:29:53 lpd)

Adds the ability to set the ProcessColorModel of the pdfwrite device to
/DeviceGray, /DeviceRGB, or /DeviceCMYK. This affects the color space used
for fill, stroke, text, and imagemask, and for images that (for whatever
reason) can't be written in their specified color space. Note that this is a
short-term fix: pdfwrite should output colors in the color space in which
they were specified. However, a proper fix will require more significant
architectural changes. (doc/News.htm [1.4]: 2000/03/16 01:21:23 lpd)

Adds a reference to a third-party Fontmap for the Computer Modern fonts.
(doc/Fonts.htm [1.2]: 2000/03/16 04:05:07 lpd)

Adds documentation and a makefile entry for Matthew Gelhaus' cdj880 driver.
The code will eventually be included in gdevcd8.c, but it is not yet mature
enough. (doc/Devices.htm [1.3]: 2000/03/16 08:09:42 lpd)

Updates the version number reference in the troff header.
(man/ps2pdf.1 [1.3], man/ps2ps.1 [1.3]: 2000/03/17 00:47:08 lpd)

Removes the attempted documentation on building Windows executable
distributions: it was never correct, and Aladdin will no longer be creating
such distributions. Also reorganizes the document slightly and brings the
rest of it fully into line with reality. (doc/Release.htm [1.6]: 2000/03/17
04:40:47 lpd)

Adds information on building with the Intel C/C++ optimizing compiler
(requires the Microsoft Visual C++ environment), and fixes a typo in the
link to ftp.cdrom.com. (doc/Make.htm [1.7]: 2000/03/17 17:42:59 lpd)

Checks in the first wrap-up for the 6.01 release. (doc/Changes.htm [1.2],
doc/History6.htm [1.2], doc/News.htm [1.5]: 2000/03/18 04:13:40 lpd)

</pre><h2><a name="6.01 Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- The terminating &#36; on the &#36;Id: line in gsmalloc.c was missing, and
dwuninst.rc lacked a &#36;Id: line. (dwuninst.rc [1.2]: 2000/03/10 03:44:33 lpd)
	- The %ram% IODevice was defined, but should not be (it represents a
RAM-based file system, which Ghostscript does not provide). Fix: The type of
the %null% IODevice was /FileSystem rather than /Special. (int.mak [1.2]:
2000/03/10 07:02:07 lpd)
	- The dependency list for coslwxl omitted a &#36;(DD).
(contrib.mak [1.2]: 2000/03/10 07:30:54 lpd)
	- The makefile still referred to a long-gone driver for the DEC
LA70. (contrib.mak [1.3]: 2000/03/10 07:32:43 lpd)
	- The Unix install process tried to make links without deleting them
first. (unixinst.mak [1.2]: 2000/03/10 07:49:21 lpd)
	- The Watcom compiler switches didn't force enums to occupy a full
int, leading to execution errors because the code casts (enum *) pointers to
(int *). (wccommon.mak [1.2]: 2000/03/10 08:15:31 lpd)
	- The Windows zip archive didn't include font metrics files. (This
change only fixes the build procedure: it doesn't actually update the
currently released zip archive.) (winint.mak [1.2]: 2000/03/10 08:17:06 lpd)
	- the "all architectures" build and test script hadn't been updated
to use different STDLIBS values depending on where the platform provides the
pthreads library. (all-arch.mak [1.2]: 2000/03/10 15:40:43 lpd)
	- The documentation for building with pthreads on FreeBSD hadn't
been updated. (unix-gcc.mak [1.2], unixansi.mak [1.2], unixtrad.mak [1.2]:
2000/03/10 15:44:01 lpd)
	- gsmalloc.c didn't include the prototype for gs_exit(), which it
calls. (lib.mak [1.2]: 2000/03/10 15:53:08 lpd)

Because of rampant confusion, disagreement, and lack of standardization,
removes the RPM-related spec and patch files. (gs-fonts.rps [1.2],
gs.rps [1.2], rpm-conf.dif [1.2]: 2000/03/10 03:22:04 lpd)

Increases the stack size for the PC platforms, since a user had reported
that the OS/2 stack size was too small. (dw32c.def [1.2],
dwmain32.def [1.2], gsos2.def [1.2]: 2000/03/10 03:33:21 lpd)

Updates the Brother HL7xx drivers with a new user-contributed version, plus
a couple of minor fixes. (contrib.mak [1.4]: 2000/03/10 07:33:44 lpd)

Adds a new eps2eps utility analogous to ps2ps. (unixinst.mak [1.3]:
2000/03/10 07:51:55 lpd)

Removes support for VAX C, which DEC stopped supporting 9 (!) years ago.
(openvms.mak [1.2], openvms.mmk [1.2]: 2000/03/10 08:02:59 lpd)

Updates all makefiles to the current libpng version, 1.0.5.
(bcwin32.mak [1.2], dvx-gcc.mak [1.2], msvc32.mak [1.2], msvclib.mak [1.2],
os2.mak [1.2], ugcclib.mak [1.2], unix-gcc.mak [1.3], unixansi.mak [1.3],
unixtrad.mak [1.3], watc.mak [1.2], watclib.mak [1.2], watcw32.mak [1.2]:
2000/03/10 15:48:58 lpd)

Updates the version # to 6.01, and the version date. (version.mak [1.2]:
2000/03/10 17:18:29 lpd)

Adds the ability to compile on OS/2 with XFree86. (os2.mak [1.3]: 2000/03/10
19:50:49 lpd)

Moves all history for versions 5.n into History5.htm; creates History6.htm
for versions 6.n; redefines News.htm as containing only news for the current
release; adds (a link to) Changes.htm for the mechanically generated change
log. (unixinst.mak [1.4], version.mak [1.3]: 2000/03/14 06:14:44 lpd)

Adds entries for ibm-rs6000-aix-4.3, sgi-mips-irix6.5-64bit, and
sun-sparc-solaris-64bit. (all-arch.mak [1.3]: 2000/03/15 18:38:29 lpd)

Adds the ability to set the ProcessColorModel of the pdfwrite device to
/DeviceGray, /DeviceRGB, or /DeviceCMYK. This affects the color space used
for fill, stroke, text, and imagemask, and for images that (for whatever
reason) can't be written in their specified color space. Note that this is a
short-term fix: pdfwrite should output colors in the color space in which
they were specified. However, a proper fix will require more significant
architectural changes. (version.mak [1.4]: 2000/03/16 01:21:24 lpd)

Adds documentation and a makefile entry for Matthew Gelhaus' cdj880 driver.
The code will eventually be included in gdevcd8.c, but it is not yet mature
enough. (contrib.mak [1.5]: 2000/03/16 08:09:42 lpd)

Adds a missing dependency of gdevpdft.o on gxfont42.h. (devs.mak [1.2]:
2000/03/17 02:59:26 lpd)

Adds a disclaimer of responsibility for the makefile section for creating
distribution archives, which Aladdin is no longer maintaining.
(winint.mak [1.3]: 2000/03/17 03:01:58 lpd)

Checks in the first wrap-up for the 6.01 release. (unix-gcc.mak [1.4],
version.mak [1.5]: 2000/03/18 04:13:40 lpd)

</pre><h2><a name="6.01 Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- The loader for the stochastic halftone incorrectly assumed that
the resource file left the resource on the stack, causing a stackunderflow
error. (lib/stocht.ps [1.2]: 2000/03/10 03:34:44 lpd)
	- The ps2pdf*.bat scripts didn't set PS2PDFSW to the empty string if
there were no arguments, causing the same file to be processed again.
(lib/ps2pdf12.bat [1.2], lib/ps2pdf13.bat [1.2]: 2000/03/10 07:40:00 lpd)
	- Fixes a typo in the fix for putting stdout in binary mode.
(gp_ntfs.c [1.3]: 2000/03/18 01:15:16 lpd)
	- For printer devices, a non-null definition for OutputFile was
required even on platforms that had a default printer (as implemented by
gp_open_printer for that platform). (gp_os9.c [1.2], gp_unix.c [1.2],
gp_vms.c [1.2]: 2000/03/18 01:45:16 lpd)

In ansi2knr, adds user-contributed support for concatenated string literals
and character constants, and fixes for a couple of minor bugs.
(ansi2knr.c [1.2]: 2000/03/10 03:16:17 lpd)

Updates the pf2afm.ps utility with a revised version from its authors.
(lib/pf2afm.ps [1.2]: 2000/03/10 03:35:37 lpd)

Adds a new eps2eps utility analogous to ps2ps. (lib/eps2eps [1.1],
lib/eps2eps.bat [1.1]: 2000/03/10 07:51:55 lpd)

Removes a temporary file that was included in the fileset by mistake.
(lib/history [1.2]: 2000/03/10 08:18:36 lpd)

Changes the ps2pdf MS Windows / MS-DOS scripts to use temporary files to
avoid the absurdly low limits on the length of a command line and the total
size of environment variable definitions. (lib/ps2pdf.bat [1.2],
lib/ps2pdf12.bat [1.3], lib/ps2pdf13.bat [1.3], lib/ps2pdfwr.bat [1.2],
lib/ps2pdfxx.bat [1.1]: 2000/03/14 20:20:20 lpd)

On Windows, puts stdout into binary mode as well as stdin, to allow piping
printer output through stdout (not a good idea, but it should be supported
as well as on other platforms). (gp_ntfs.c [1.2]: 2000/03/17 06:22:59 lpd)

</pre><h2><a name="6.01 Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- When converting PostScript to PDF, selecting /Bicubic as an image
DownsampleType caused an error instead of defaulting to /Average.
(gdevpsdf.h [1.2], gdevpsdi.c [1.2], gdevpsdp.c [1.2]: 2000/03/10 04:16:09
lpd)
	- The mswinpr2 driver didn't handle setting BitsPerPixel to the same
value when the device was already open, possibly causing an error on restore
or grestore. (gdevwpr2.c [1.2]: 2000/03/10 04:26:07 lpd)
	- When operating in buffered mode (MaxBitmap &gt; 0), the X driver
sometimes failed to copy all of the updated area to the screen.
(gdevx.c [1.2], gdevx.h [1.2], gdevxini.c [1.2], gdevxxf.c [1.2]: 2000/03/10
06:56:27 lpd)
	- The [e]pswrite driver produced invalid output if the input file
didn't end with a showpage. Also cleans up some formatting and removes a
redundant test. (gdevps.c [1.2]: 2000/03/10 07:44:27 lpd)
	- Fixes a problem producing too much black in the output; also adds
support for 5 new printers (H-P Color DeskJet 690, H-P DesignJet 750, and
Epson Stylus Color 200). Note that this is user-contributed code.
(gdevupd.c [1.2], lib/bjc610a0.upp [1.2], lib/bjc610a1.upp [1.2],
lib/bjc610a2.upp [1.2], lib/bjc610a3.upp [1.2], lib/bjc610a4.upp [1.2],
lib/bjc610a5.upp [1.2], lib/bjc610a6.upp [1.2], lib/bjc610a7.upp [1.2],
lib/bjc610a8.upp [1.2], lib/bjc610b1.upp [1.2], lib/bjc610b2.upp [1.2],
lib/bjc610b3.upp [1.2], lib/bjc610b4.upp [1.2], lib/bjc610b6.upp [1.2],
lib/bjc610b7.upp [1.2], lib/bjc610b8.upp [1.2], lib/cdj550.upp [1.2],
lib/cdj690.upp [1.1], lib/cdj690ec.upp [1.1], lib/dnj750c.upp [1.1],
lib/dnj750m.upp [1.1], lib/ras32.upp [1.2], lib/stc.upp [1.2],
lib/stc1520h.upp [1.2], lib/stc2.upp [1.2], lib/stc200_h.upp [1.1],
lib/stc2_h.upp [1.2], lib/stc2s_h.upp [1.2], lib/stc500p.upp [1.2],
lib/stc500ph.upp [1.2], lib/stc600ih.upp [1.2], lib/stc600p.upp [1.2],
lib/stc600pl.upp [1.2], lib/stc800ih.upp [1.2], lib/stc800p.upp [1.2],
lib/stc800pl.upp [1.2], lib/stc_h.upp [1.2], lib/stc_l.upp [1.2],
lib/stcany.upp [1.2]: 2000/03/16 02:01:36 lpd)
	- The X driver's algorithm for deciding when to update the screen
was changed several times between 5.50 and 6.0, and one of the more recent
changes caused it to copy many more pixels to the screen than necessary if
the file was making marks on the page in widely separated places.
(gdevx.c [1.3]: 2000/03/17 07:35:43 lpd)
	- In the X driver, the full-page buffer controlled by -dMaxBitmap=
wasn't allocated with a stable allocator, possibly leading to memory access
errors if save/restore were used. (gdevxini.c [1.3]: 2000/03/18 04:11:59
lpd)

Updates the Brother HL7xx drivers with a new user-contributed version, plus
a couple of minor fixes. (gdevhl7x.c [1.2]: 2000/03/10 07:33:44 lpd)

Enhances the [e]pswrite driver to handle Indexed color spaces over Device
color spaces, only with the standard Decode. (gdevps.c [1.3]: 2000/03/10
07:45:50 lpd)

Adds the ability to set the ProcessColorModel of the pdfwrite device to
/DeviceGray, /DeviceRGB, or /DeviceCMYK. This affects the color space used
for fill, stroke, text, and imagemask, and for images that (for whatever
reason) can't be written in their specified color space. Note that this is a
short-term fix: pdfwrite should output colors in the color space in which
they were specified. However, a proper fix will require more significant
architectural changes. (gdevpsdf.c [1.2], gdevpsdf.h [1.3]: 2000/03/16
01:21:24 lpd)

Adds two more user-contributed 'uniprint' printer parameter sets: Epson
Stylus Color 640, and a generic Epson Stylus Color in high resolution mode
(720x720 dpi). (lib/stc640p.upp [1.1], lib/stcany_h.upp [1.1]: 2000/03/16
02:03:40 lpd)

</pre><h2><a name="6.01 PDF writer"></a>PDF writer</h2><pre>

Fixes problems:
	- In-line images emitted an extra 'q' (gsave), causing the CTM to
become incorrect, entries to pile up on the dictionary stack, and an
invalidrestore error to occur at the end of the page. (gdevpdfi.c [1.2]:
2000/03/10 03:47:37 lpd)
	- The change in 5.99 to work around Acrobat Reader's 32K limit on
user space coordinates caused all 0-width rectangles to disappear, which had
major effects on some files. (gdevpdfd.c [1.2]: 2000/03/10 03:48:10 lpd)
	- Incrementally downloaded TrueType fonts produced truncated Widths
tables in the output. We have patched this with a ******HACK****** that
causes such fonts to be converted to bitmaps: the correct fix (to delay
determining the range of valid characters until the font is written) is too
large a change to make in a bug fix release. (gdevpdft.c [1.2]: 2000/03/10
03:48:48 lpd)

Adds the ability to set the ProcessColorModel of the pdfwrite device to
/DeviceGray, /DeviceRGB, or /DeviceCMYK. This affects the color space used
for fill, stroke, text, and imagemask, and for images that (for whatever
reason) can't be written in their specified color space. Note that this is a
short-term fix: pdfwrite should output colors in the color space in which
they were specified. However, a proper fix will require more significant
architectural changes. (gdevpdf.c [1.2], gdevpdfd.c [1.3], gdevpdfi.c [1.3],
gdevpdfp.c [1.2], gdevpdft.c [1.3], gdevpdfu.c [1.2], gdevpdfx.h [1.2]:
2000/03/16 01:21:24 lpd)

</pre><h2><a name="6.01 Interpreter (PDF)"></a>Interpreter (PDF)</h2><pre>

Fixes problems:
	- When interpreting a PDF file, the Install page device procedure
got more and more deeply nested after every page, eventually causing an
execstackoverflow. (lib/pdf_main.ps [1.2]: 2000/03/10 03:56:11 lpd)
	- When interpreting a PDF file, text drawing operators didn't reset
the text position, so strings could get displayed on top of each other. (bug
introduced by a fix in 5.98) (lib/pdf_ops.ps [1.2]: 2000/03/10 03:57:03 lpd)
	- When interpreting a PDF file, substituted small-cap fonts were
created with incorrect scaling. (lib/pdf_font.ps [1.2]: 2000/03/10 03:57:50
lpd)

Cleans up some formatting. (lib/pdf_base.ps [1.2]: 2000/03/10 03:58:14 lpd)

</pre><h2><a name="6.01 Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- There were extraneous 'def' commands that caused definitions to be
made in the wrong dictionary. (lib/gs_ttf.ps [1.2]: 2000/03/10 03:31:39 lpd)
	- If an error occurred while loading a font, it wouldn't produce an
error message. (This is a 'fix' of a 'fix' of a 'fix': it might well break
something else.) (lib/gs_type1.ps [1.2]: 2000/03/10 03:37:14 lpd)
	- When reading the strings of a binary object sequence, having to
get more data from a procedure-based stream sometimes caused a syntaxerror.
Fix: If the reserved (0) field in binary objects or binary object sequences
was not 0, no syntaxerror occurred. (iscanbin.c [1.2]: 2000/03/10 03:38:50
lpd)
	- The code for handling execstackoverflow errors didn't cut back the
stack correctly, possibly causing invalid memory accesses if an incorrect
attempt was made to run a cleanup procedure. (interp.c [1.2]: 2000/03/10
04:04:38 lpd)
	- Writing of dictionaries in binary object output, a non-standard
extension, was enabled by default, and also had to be enabled at startup
time if it was ever going to be used. Fix: Binary error messages caused an
error if the command wasn't of a type that printobject could handle. We now
do what the Adobe implementations appear to do in this case, namely, convert
the object with cvs. (lib/gs_btokn.ps [1.2]: 2000/03/10 04:27:31 lpd)
	- CloseSource and CloseTarget were effectively ignored for Flate and
LZW filters with a Predictor, and for the DCT filters. (ifilter.h [1.2],
zfdctd.c [1.2], zfdcte.c [1.2], zfdecode.c [1.2], zfilter.c [1.2],
zfilter2.c [1.2]: 2000/03/10 04:32:51 lpd)
	- findlibfile didn't handle %iodevice% prefixes correctly.
(zfile.c [1.2]: 2000/03/10 04:35:08 lpd)
	- fileposition didn't give an error for filters or non-seekable
streams. (zfileio.c [1.2]: 2000/03/10 04:35:53 lpd)
	- Images with input from a file or filter demanded 1 byte of data
too many, sometimes causing the last line of the image to be dropped. (bug
probably introduced in 6.0) (zimage.c [1.2]: 2000/03/10 04:37:02 lpd)
	- The check for a show within a cshow procedure for a CID font was
wrong. Fix: Character widths in CIDFontType 0 fonts were ignored (!). Adds a
.glyphwidth operator to support correct handling of character widths for CID
fonts. Adds a glyphwidth procedure to the library, like glyphshow and
glyphpath, in order to support correct handling of widths for CID fonts.
(ichar.h [1.2], lib/gs_cidfn.ps [1.2], zchar.c [1.2], zcharx.c [1.2]:
2000/03/10 04:41:47 lpd)
	- resourcestatus for fonts was broken. (lib/gs_res.ps [1.2]:
2000/03/10 04:54:15 lpd)
	- Fixes incorrect documentation of several procedures.
(lib/gs_fonts.ps [1.2]: 2000/03/10 07:00:28 lpd)
	- The %ram% IODevice was defined, but should not be (it represents a
RAM-based file system, which Ghostscript does not provide). Fix: The type of
the %null% IODevice was /FileSystem rather than /Special. (ziodev2.c [1.2]:
2000/03/10 07:02:07 lpd)
	- Directly-loaded TrueType fonts (including embedded TrueType fonts
in PDF files) could get confused with each other in the cache, because their
XUIDs were based on the font checksum field, which some fonts don't have set
correctly. (lib/gs_ttf.ps [1.3]: 2000/03/16 07:38:07 lpd)

Adds a new example file, a 3-D synthetic image. (examples/doretree.ps [1.1]:
2000/03/10 04:00:45 lpd)

Adds implementations of the devforall, devstatus, and diskonline
compatibility operators. (lib/gs_statd.ps [1.2]: 2000/03/10 04:01:55 lpd)

Some Adobe CIDFonts include a line /Setup /cid_Setup load def that
apparently is intended only to prevent the fonts from being loaded by a
standard PostScript interpreter (as opposed to ATM or a special font
loader), since cid_Setup is not defined anywhere and Setup is never
referenced; this change adds a dummy definition of cid_Setup to work around
this. (lib/gs_cidfn.ps [1.3]: 2000/03/10 04:53:25 lpd)

Updates the version # to 6.01, and the version date. (lib/gs_init.ps [1.2]:
2000/03/10 17:18:29 lpd)

Changes the default undercolor removal and black generation functions back
from f(k) = k to f(k) = 0. This fixes some, but not all, of the reported
problems with color inkjet output in 6.0. (lib/gs_init.ps [1.3]: 2000/03/10
18:47:31 lpd)

On Windows, puts stdout into binary mode as well as stdin, to allow piping
printer output through stdout (not a good idea, but it should be supported
as well as on other platforms). (dwmainc.cpp [1.2]: 2000/03/17 06:22:59 lpd)

</pre><h2><a name="6.01 Streams"></a>Streams</h2><pre>

Changes the sbuf_min_left macro to a procedure for readability and in
preparation for later revision. (stream.c [1.2], stream.h [1.2]: 2000/03/10
03:40:13 lpd)

</pre><h2><a name="6.01 Library"></a>Library</h2><pre>

Fixes problems:
	- (%os%) currentdevparams didn't return (fixed) values for
InitializeAction, Mounted, Removable, Searchable, SearchOrder, and
Writeable, or (meaningful) values for BlockSize, Free, and LogicalSize.
Currently, the latter values are dummies. (gsiodev.c [1.2]: 2000/03/10
03:43:06 lpd)
	- The terminating &#36; on the &#36;Id: line in gsmalloc.c was missing, and
dwuninst.rc lacked a &#36;Id: line. (gsmalloc.c [1.2]: 2000/03/10 03:44:33 lpd)
	- RasterOps with source transparency = 0, texture transparency = 1
didn't match the (very peculiar) H-P specification even if
TRANSPARENCY_PER_H_P was defined. (gdevdrop.c [1.2], gdevmrop.h [1.2],
gsropt.h [1.2]: 2000/03/10 04:06:15 lpd)
	- The prototype for gs_exit() was not included even though gs_exit()
was called. Fix: A cast discarded const unnecessarily. (gsalloc.c [1.2]:
2000/03/10 04:08:23 lpd)
	- The type of the %pipe% IODevice was /FileSystem, whereas it should
be /Special. (gdevpipe.c [1.2]: 2000/03/10 04:13:57 lpd)
	- An incorrectly formatted procedure couldn't be converted correctly
by ansi2knr. (gxidata.c [1.2]: 2000/03/10 04:30:58 lpd)
	- The check for a show within a cshow procedure for a CID font was
wrong. Fix: Character widths in CIDFontType 0 fonts were ignored (!). Adds a
.glyphwidth operator to support correct handling of character widths for CID
fonts. Adds a glyphwidth procedure to the library, like glyphshow and
glyphpath, in order to support correct handling of widths for CID fonts.
(gschar.c [1.2], gschar.h [1.2], gstext.c [1.2], gstext.h [1.2]: 2000/03/10
04:41:47 lpd)
	- The description of the value returned by code_map_decode_next in
*pchr was incorrect. (documentation bug only) (gsfcmap.c [1.2]: 2000/03/10
07:03:09 lpd)
	- Fixes a problem producing too much black in the output; also adds
support for 5 new printers (H-P Color DeskJet 690, H-P DesignJet 750, and
Epson Stylus Color 200). Note that this is user-contributed code.
(gsargs.h [1.2]: 2000/03/16 02:01:36 lpd)
	- The code for Axial shadings incorrectly assumed that if the
shading axis was horizontal or vertical in user space, it was also
horizontal or vertical in device space: this caused incorrect results when
the CTM wasn't orthogonal. (gxshade1.c [1.2]: 2000/03/17 08:17:55 lpd)
	- For printer devices, a non-null definition for OutputFile was
required even on platforms that had a default printer (as implemented by
gp_open_printer for that platform). (gp.h [1.2], gsdevice.c [1.2]:
2000/03/18 01:45:16 lpd)

Clears the glyf and loca offsets in TrueType fonts that lack these tables,
so that clients who care can tell whether the font is being downloaded
incrementally. (gstype42.c [1.2]: 2000/03/10 03:45:29 lpd)

Changes a few macro definitions to work around over-zealous compiler
warnings. (gstype1.c [1.2], gstype2.c [1.2], gxtype1.h [1.2]: 2000/03/10
04:29:37 lpd)

Changes the default undercolor removal and black generation functions back
from f(k) = k to f(k) = 0. This fixes some, but not all, of the reported
problems with color inkjet output in 6.0. (gxdcconv.c [1.2]: 2000/03/10
18:47:31 lpd)

</pre><hr>

<h1><a name="Version6.0"></a>Version 6.0 (2000-02-03)</h1>

This is the first public release since 5.50.  See <a href="Current.htm">the
release summary</a> for information about new capabilities and known
problems.

<h2><a name="6.0_Documentation"></a>Documentation</h2><pre>

Documents the fact that the plane_depths of a gx_image_enum structure may
vary, and that planes_wanted procedure of a gx_image_enum must return false
if the depths *or* widths can change.  (gxiparam.h)

Documents the fact that a wanted plane's wanted status, width, or depth can
only be changed by a call of plane_data that provides data for that plane.
(gxiparam.h)

Documents the change in the handling of the pthreads library.
(doc/Make.htm)

Documents the fact that setting parameters for the DCTEncode filter in
ps2pdf causes a crash.  (doc/Ps2pdf.htm)

Documents another bug in the MIPSpro 7.x / IRIX 6.5.x compilers, with
isave.c.  (doc/Make.htm)

Corrects Russell Lang's e-mail address.  (doc/New-user.htm)

Documents the new image operator test file and the pdfeof file.
(doc/Psfiles.htm)

Documents the 'w' argument for image_render procedures.  (gxiclass.h)

Adds a little more checking to the release process.  (doc/Release.htm)

Documents the return values from the font build_char procedure.  (gxfont.h)

Documents the fact that the free 'zip' program is needed to build the
self-extracting Windows executable, as well as WinZipSE.  (doc/Make.htm,
msvc32.mak, winint.mak)

Adds references to several new free fonts.  (doc/Fonts.htm)

Documents an important invariant for streams.  (stream.h)

Adds a reference for user-supported Watcom / GNU make makefiles.
(doc/Make.htm, doc/New-user.htm)

Documents the dependence of gs_ttf.ps on some of the gs_*_e.ps files.
(lib/gs_ttf.ps)

Documents how to make self-extracting Windows executables.
(doc/Release.htm)

Adds a number of new user-contributed man pages.  (unixinst.mak, man/gslp.1,
man/wftopfa.1, man/printafm.1, man/pfbtopfa.1, man/font2c.1, man/dvipdf.1,
man/ps2pdfwr.1, man/gsnd.1, man/pf2afm.1, man/ps2pdf.1)

</pre><h2><a name="6.0_Procedures"></a>Procedures</h2><pre>

Fixes problems:
	- Building on BSDI didn't work.  The simplest way to fix this was to
change the linking of the pthreads library on Unix platforms to be included
in STDLIBS rather than the "sync" implementation. (fix contributed by a
user) (lib.mak, unix-gcc.mak, unixansi.mak, unixtrad.mak)
	- Once again, some runtime files weren't installed.  (unixinst.mak)
	- Building the self-extracting executable didn't work.  (winint.mak)

Updates the user-contributed all-architectures makefile.  (all-arch.mak)

</pre><h2><a name="6.0_Utilities"></a>Utilities</h2><pre>

Fixes problems:
	- A needed #include was missing.  (geninit.c)
	- There were signed/unsigned char mismatches.  (genht.c, geninit.c)
	- The MacOS compiler imposes a 32K limit on the size of a stack
frame: we changed the code to use malloc/free.  (geninit.c)

Removes an unnecessary variable.  (echogs.c)

Adds a file that attempts to test the image operators exhaustively.
(lib/image-qa.ps, unixinst.mak)

Enhances the prfont.ps utility to print CIDFonts.  (lib/prfont.ps)

Adds a utility file that patches the PDF interpreter to allow garbage after
the %%EOF (or the %%EOF to be missing completely).  (lib/pdfeof.ps)

</pre><h2><a name="6.0_Drivers"></a>Drivers</h2><pre>

Fixes problems:
	- The X driver compared too many bits of color value, leading to
unnecessary halftoning.  (bug introduced by a fix in 5.99) (gdevxcmp.c)
	- Output from the pswrite driver got a dictfull error on Level 1
printers.  (gdevps.c)
	- Anti-aliasing had stopped working on MS Windows and OS/2. (bug
probably introduced in 5.65) (gdevmswn.c, gdevpm.c)

</pre><h2><a name="6.0_Platforms"></a>Platforms</h2><pre>

Adds a conditional definition of PTHREAD_CREATE_DETACHED for old versions of
the pthreads library.  (gp_psync.c)

Updates the Microsoft Visual C++ library makefile for VC++ 6.  (msvclib.mak)

Updates some copyright dates.  (winint.mak, dwsetup.rc)

</pre><h2><a name="6.0_Fonts"></a>Fonts</h2><pre>

Updates the URW fonts to include the expanded Adobe character set, including
many Eastern European accented characters.  (doc/New-user.htm)

Removes a 'readonly' that inconvenienced the authors of ttf2pf.
(lib/gs_ttf.ps)

</pre><h2><a name="6.0_PDF_writer"></a>PDF writer</h2><pre>

Fixes problems:
	- The Dest key was deleted from GoTo and GoToR link annotation
pdfmarks.  (gdevpdfm.c)
	- {name} references were substituted even in stream data for the
/PUT pdfmark.  (gdevpdfm.c)
	- The revision number was sometimes printed incorrectly if its
fraction part was zero.  (gdevpdf.c)
	- Embedded Multiple Master font instances weren't identified as
MMType1 rather than Type1.  (gdevpdff.h, gdevpdff.c, gdevpdft.c, gdevpdfw.c)
	- The test against MaxSubsetPct was incorrect when the percentages
were equal.  (gdevpdfw.c)
	- Font registrations weren't removed when the device was closed.
(gdevpdff.h, gdevpdfx.h, gdevpdff.c, gdevpdfw.c)
	- Multiple /OBJ pdfmarks with the same name caused an error.  For
Distiller compatibility, we now allow this if the type is the same, even
though the pdfmark specification doesn't say anything about this being
legal.  (gdevpdfm.c)

Removes an unnecessary variable.  (gdevpdff.c, gdevpdfr.c)

Disables embedding Multiple Master font instances, since Acrobat Reader
doesn't accept what appear to be correct output and we don't have time
before the release to track down the problem.  (gdevpdft.c)

</pre><h2><a name="6.0_Interpreter_PDF"></a>Interpreter (PDF)</h2><pre>

Factors some code to allow patching the PDF reader to allow garbage after
the %%EOF (or the %%EOF to be missing completely).  (lib/pdf_main.ps)

</pre><h2><a name="6.0_Interpreter"></a>Interpreter</h2><pre>

Fixes problems:
	- Type 1 fonts with non-standard OtherSubrs had stopped working.
(bug introduced since 5.60) (zchar1.c)
	- usecmap didn't work.  (lib/gs_cmap.ps)
	- The glyph_info procedure for Type 1 fonts didn't take Metrics[2]
or CDevProc into account.  (zchar1.c, zfont1.c)
	- The multiple-data-source case of images was broken. (bug
introduced in 5.99) (zimage.c)
	- If a page device Install procedure caused an error, things could
be left in an inconsistent state.  (lib/gs_setpd.ps)
	- Using a DeviceN color space could access uninitialized data in a
color value.  (zcsdevn.c)
	- DeviceN images with procedure data sources were broken.
(zimage.c)
	- Images with a procedure data source could terminate prematurely if
their processing was interrupted.  (zimage.c)
	- The garbage collector only marked half the name table sub-tables,
and attempted to mark an equal number of invalid pointers, leading to
invalid accesses or memory corruption.  (iname.c)

Removes an unused variable.  (zmisc.c)

</pre><h2><a name="6.0_Streams"></a>Streams</h2><pre>

Fixes problems:
	- sgets didn't reset the cursor pointers, so sgets into a client
buffer followed by sseek (for some kinds of streams, including files) could
get confused.  (stream.c)

</pre><h2><a name="6.0_Library"></a>Library</h2><pre>

Fixes problems:
	- A 'const' qualifier was omitted, leading to a type mismatch.
(gxclrast.c)
	- The revision number was sometimes printed incorrectly if its
fraction part was zero.  (gsmisc.c)
	- gs_image_next returned the wrong value in *pused if it incremented
the plane number.  (bug introduced in 5.99) (gsimage.c)
	- Only the last of the data_x and raster values in the local
'planes' array in gs_image_next_planes were initialized.  (bug introduced in
5.99) (gsimage.c)
	- The multiple-data-source case of images was broken. (bug
introduced in 5.99) (gsimage.h, gsimage.c)
	- ImageType 3 images with unequal scaling for the mask and data
didn't work.  (We thought they once did, but it appears they never have.)
(gximage3.c)
	- Images with 12-bit samples treated a Decode entry of [1 0] the
same as [0 1].  (Other, general Decode entries worked correctly.)
(gxipixel.c)
	- ImageType 3 images didn't work if processing was ever interrupted
for remapping a color.  (gximage3.c)
	- Images in DeviceN color spaces with 12-bit samples didn't work.
(gxi12bit.c, gxidata.c)
	- Images in DeviceN color spaces could fail to render properly
because the interruption of rendering left a half-built entry in an internal
cache.  (gxi12bit.c, gxicolor.c)
	- Images with non-idempotent RasterOps in 1-component DeviceN color
spaces didn't render properly, because the same pixel was rendered multiple
times after a color remapping interruption.  (gximono.c)
	- The fast case of masked images caused a crash if invoked without
an imager state.  (gximono.c)
	- Flushing buffered image data could cause coordinate bookkeeping
to get out of sync.  (gxidata.c)
	- ImageType 3, InterleaveType 2 images sometimes failed to render
the last row.  (gximage3.c)
	- The fix in 5.88 for resizing large objects had a bug itself.
(gsalloc.c)
	- Whan banding, if a client supplied more data than necessary for an
image, the client was told (incorrectly) that all of the data was used.
(fix from Artifex) (gxclimag.c)
	- Null patterns caused a crash. (bug probably introduced by changes
to support PatternType 2) (gspcolor.c)
	- On hand-initialized memory devices where line_ptrs[0] != base,
monobit RasterOps could cause invalid or stray memory accesses.  (gdevmr1.c)

Removes an unnecessary variable.  (gdevppla.c, gsfont.c)

Adds the ability to call a specified procedure when unregistering
notification, needed for removing PDF font registrations.  (gsnotify.h,
gsnotify.c)

Updates the copyright year.  (gscdef.c)

</pre>

<!-- [2.0 end contents] ==================================================== -->

<!-- [3.0 begin visible trailer] =========================================== -->
<hr>

<p>
<small>Copyright &copy; 2000-2006 Artifex Software, Inc.  All rights reserved.</small>

<p>
This software is provided AS-IS with no warranty, either express or
implied.

This software is distributed under license and may not be copied, modified
or distributed except as expressly authorized under the terms of that
license.  Refer to licensing information at http://www.artifex.com/
or contact Artifex Software, Inc.,  7 Mt. Lassen Drive - Suite A-134,
San Rafael, CA  94903, U.S.A., +1(415)492-9861, for further information.

<p>
<small>Ghostscript version 9.20, 26 September 2016

<!-- [3.0 end visible trailer] ============================================= -->

</body>
</html>
